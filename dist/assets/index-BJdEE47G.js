(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Um={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function WA(){if(rw)return Zl;rw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var sw;function ZA(){return sw||(sw=1,Um.exports=WA()),Um.exports}var B=ZA(),Bm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function JA(){if(aw)return Se;aw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ee={};function J(D,Z,se){this.props=D,this.context=Z,this.refs=ee,this.updater=se||H}J.prototype.isReactComponent={},J.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ye(){}ye.prototype=J.prototype;function ue(D,Z,se){this.props=D,this.context=Z,this.refs=ee,this.updater=se||H}var he=ue.prototype=new ye;he.constructor=ue,W(he,J.prototype),he.isPureReactComponent=!0;var je=Array.isArray,Ae={H:null,A:null,T:null,S:null,V:null},qe=Object.prototype.hasOwnProperty;function k(D,Z,se,te,de,Ie){return se=Ie.ref,{$$typeof:i,type:D,key:Z,ref:se!==void 0?se:null,props:Ie}}function T(D,Z){return k(D.type,Z,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function x(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return Z[se]})}var N=/\/+/g;function V(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):Z.toString(36)}function C(){}function Gt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,Z,se,te,de){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(Ie){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case i:case e:Ee=!0;break;case b:return Ee=D._init,ht(Ee(D._payload),Z,se,te,de)}}if(Ee)return de=de(D),Ee=te===""?"."+V(D,0):te,je(de)?(se="",Ee!=null&&(se=Ee.replace(N,"$&/")+"/"),ht(de,Z,se,"",function(oi){return oi})):de!=null&&(I(de)&&(de=T(de,se+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(N,"$&/")+"/")+Ee)),Z.push(de)),1;Ee=0;var Pt=te===""?".":te+":";if(je(D))for(var it=0;it<D.length;it++)te=D[it],Ie=Pt+V(te,it),Ee+=ht(te,Z,se,Ie,de);else if(it=R(D),typeof it=="function")for(D=it.call(D),it=0;!(te=D.next()).done;)te=te.value,Ie=Pt+V(te,it++),Ee+=ht(te,Z,se,Ie,de);else if(Ie==="object"){if(typeof D.then=="function")return ht(Gt(D),Z,se,te,de);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function G(D,Z,se){if(D==null)return D;var te=[],de=0;return ht(D,te,"","",function(Ie){return Z.call(se,Ie,de++)}),te}function re(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function He(){}return Se.Children={map:G,forEach:function(D,Z,se){G(D,function(){Z.apply(this,arguments)},se)},count:function(D){var Z=0;return G(D,function(){Z++}),Z},toArray:function(D){return G(D,function(Z){return Z})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Se.Component=J,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=ue,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Ae.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cloneElement=function(D,Z,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=W({},D.props),de=D.key,Ie=void 0;if(Z!=null)for(Ee in Z.ref!==void 0&&(Ie=void 0),Z.key!==void 0&&(de=""+Z.key),Z)!qe.call(Z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Z.ref===void 0||(te[Ee]=Z[Ee]);var Ee=arguments.length-2;if(Ee===1)te.children=se;else if(1<Ee){for(var Pt=Array(Ee),it=0;it<Ee;it++)Pt[it]=arguments[it+2];te.children=Pt}return k(D.type,de,void 0,void 0,Ie,te)},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Se.createElement=function(D,Z,se){var te,de={},Ie=null;if(Z!=null)for(te in Z.key!==void 0&&(Ie=""+Z.key),Z)qe.call(Z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=Z[te]);var Ee=arguments.length-2;if(Ee===1)de.children=se;else if(1<Ee){for(var Pt=Array(Ee),it=0;it<Ee;it++)Pt[it]=arguments[it+2];de.children=Pt}if(D&&D.defaultProps)for(te in Ee=D.defaultProps,Ee)de[te]===void 0&&(de[te]=Ee[te]);return k(D,Ie,void 0,void 0,null,de)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:m,render:D}},Se.isValidElement=I,Se.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:re}},Se.memo=function(D,Z){return{$$typeof:y,type:D,compare:Z===void 0?null:Z}},Se.startTransition=function(D){var Z=Ae.T,se={};Ae.T=se;try{var te=D(),de=Ae.S;de!==null&&de(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(He,fe)}catch(Ie){fe(Ie)}finally{Ae.T=Z}},Se.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()},Se.use=function(D){return Ae.H.use(D)},Se.useActionState=function(D,Z,se){return Ae.H.useActionState(D,Z,se)},Se.useCallback=function(D,Z){return Ae.H.useCallback(D,Z)},Se.useContext=function(D){return Ae.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,Z){return Ae.H.useDeferredValue(D,Z)},Se.useEffect=function(D,Z,se){var te=Ae.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,Z)},Se.useId=function(){return Ae.H.useId()},Se.useImperativeHandle=function(D,Z,se){return Ae.H.useImperativeHandle(D,Z,se)},Se.useInsertionEffect=function(D,Z){return Ae.H.useInsertionEffect(D,Z)},Se.useLayoutEffect=function(D,Z){return Ae.H.useLayoutEffect(D,Z)},Se.useMemo=function(D,Z){return Ae.H.useMemo(D,Z)},Se.useOptimistic=function(D,Z){return Ae.H.useOptimistic(D,Z)},Se.useReducer=function(D,Z,se){return Ae.H.useReducer(D,Z,se)},Se.useRef=function(D){return Ae.H.useRef(D)},Se.useState=function(D){return Ae.H.useState(D)},Se.useSyncExternalStore=function(D,Z,se){return Ae.H.useSyncExternalStore(D,Z,se)},Se.useTransition=function(){return Ae.H.useTransition()},Se.version="19.1.1",Se}var ow;function kp(){return ow||(ow=1,Bm.exports=JA()),Bm.exports}var Xe=kp(),zm={exports:{}},Jl={},jm={exports:{}},qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function e1(){return lw||(lw=1,(function(i){function e(G,re){var fe=G.length;G.push(re);e:for(;0<fe;){var He=fe-1>>>1,D=G[He];if(0<o(D,re))G[He]=re,G[fe]=D,fe=He;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var re=G[0],fe=G.pop();if(fe!==re){G[0]=fe;e:for(var He=0,D=G.length,Z=D>>>1;He<Z;){var se=2*(He+1)-1,te=G[se],de=se+1,Ie=G[de];if(0>o(te,fe))de<D&&0>o(Ie,te)?(G[He]=Ie,G[de]=fe,He=de):(G[He]=te,G[se]=fe,He=se);else if(de<D&&0>o(Ie,fe))G[He]=Ie,G[de]=fe,He=de;else break e}}return re}function o(G,re){var fe=G.sortIndex-re.sortIndex;return fe!==0?fe:G.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,A=null,R=3,H=!1,W=!1,ee=!1,J=!1,ye=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function je(G){for(var re=t(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=G)s(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=t(y)}}function Ae(G){if(ee=!1,je(G),!W)if(t(g)!==null)W=!0,qe||(qe=!0,V());else{var re=t(y);re!==null&&ht(Ae,re.startTime-G)}}var qe=!1,k=-1,T=5,I=-1;function x(){return J?!0:!(i.unstable_now()-I<T)}function N(){if(J=!1,qe){var G=i.unstable_now();I=G;var re=!0;try{e:{W=!1,ee&&(ee=!1,ue(k),k=-1),H=!0;var fe=R;try{t:{for(je(G),A=t(g);A!==null&&!(A.expirationTime>G&&x());){var He=A.callback;if(typeof He=="function"){A.callback=null,R=A.priorityLevel;var D=He(A.expirationTime<=G);if(G=i.unstable_now(),typeof D=="function"){A.callback=D,je(G),re=!0;break t}A===t(g)&&s(g),je(G)}else s(g);A=t(g)}if(A!==null)re=!0;else{var Z=t(y);Z!==null&&ht(Ae,Z.startTime-G),re=!1}}break e}finally{A=null,R=fe,H=!1}re=void 0}}finally{re?V():qe=!1}}}var V;if(typeof he=="function")V=function(){he(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Gt=C.port2;C.port1.onmessage=N,V=function(){Gt.postMessage(null)}}else V=function(){ye(N,0)};function ht(G,re){k=ye(function(){G(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(G){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var fe=R;R=re;try{return G()}finally{R=fe}},i.unstable_requestPaint=function(){J=!0},i.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=R;R=G;try{return re()}finally{R=fe}},i.unstable_scheduleCallback=function(G,re,fe){var He=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?He+fe:He):fe=He,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,G={id:b++,callback:re,priorityLevel:G,startTime:fe,expirationTime:D,sortIndex:-1},fe>He?(G.sortIndex=fe,e(y,G),t(g)===null&&G===t(y)&&(ee?(ue(k),k=-1):ee=!0,ht(Ae,fe-He))):(G.sortIndex=D,e(g,G),W||H||(W=!0,qe||(qe=!0,V()))),G},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(G){var re=R;return function(){var fe=R;R=re;try{return G.apply(this,arguments)}finally{R=fe}}}})(qm)),qm}var uw;function t1(){return uw||(uw=1,jm.exports=e1()),jm.exports}var Hm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function n1(){if(cw)return nn;cw=1;var i=kp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},nn.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:H}):b==="script"&&s.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var hw;function i1(){if(hw)return Hm.exports;hw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=n1(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function r1(){if(fw)return Jl;fw=1;var i=t1(),e=kp(),t=i1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=d;break}if(w===l){v=!0,l=h,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=h;break}if(w===l){v=!0,l=d,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),he=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function Gt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case J:return"Profiler";case ee:return"StrictMode";case Ae:return"Suspense";case qe:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case H:return"Portal";case he:return(n.displayName||"Context")+".Provider";case ue:return(n._context.displayName||"Context")+".Consumer";case je:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:Gt(n.type)||"Memo";case T:r=n._payload,n=n._init;try{return Gt(n(r))}catch{}}return null}var ht=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},He=[],D=-1;function Z(n){return{current:n}}function se(n){0>D||(n.current=He[D],He[D]=null,D--)}function te(n,r){D++,He[D]=n.current,n.current=r}var de=Z(null),Ie=Z(null),Ee=Z(null),Pt=Z(null);function it(n,r){switch(te(Ee,r),te(Ie,n),te(de,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Nv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Nv(r),n=kv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(de),te(de,n)}function oi(){se(de),se(Ie),se(Ee)}function _r(n){n.memoizedState!==null&&te(Pt,n);var r=de.current,a=kv(r,n.type);r!==a&&(te(Ie,n),te(de,a))}function Vi(n){Ie.current===n&&(se(de),se(Ie)),Pt.current===n&&(se(Pt),Kl._currentValue=fe)}var ys=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,vs=i.unstable_cancelCallback,Fo=i.unstable_shouldYield,Fu=i.unstable_requestPaint,Pn=i.unstable_now,Uf=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,pa=i.unstable_UserBlockingPriority,ws=i.unstable_NormalPriority,Bf=i.unstable_LowPriority,ga=i.unstable_IdlePriority,Yo=i.log,Gu=i.unstable_setDisableYieldValue,ft=null,Ke=null;function bn(n){if(typeof Yo=="function"&&Gu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ft,n)}catch{}}var en=Math.clz32?Math.clz32:bs,Yu=Math.log,zf=Math.LN2;function bs(n){return n>>>=0,n===0?32:31-(Yu(n)/zf|0)|0}var Es=256,Ts=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ya(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Wn(l):(v&=w,v!==0?h=Wn(v):a||(a=w&~n,a!==0&&(h=Wn(a))))):(w=l&~d,w!==0?h=Wn(w):v!==0?h=Wn(v):a||(a=l&~n,a!==0&&(h=Wn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function As(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ko(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var n=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),n}function $o(){var n=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),n}function Pi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Li(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Xo(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,S=n.expirationTimes,U=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-en(a),$=1<<Y;w[Y]=0,S[Y]=-1;var z=U[Y];if(z!==null)for(U[Y]=null,Y=0;Y<z.length;Y++){var j=z[Y];j!==null&&(j.lane&=-536870913)}a&=~$}l!==0&&li(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function li(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Wo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function vr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _a(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function wr(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:Zv(n.type))}function Ku(n,r){var a=re.p;try{return re.p=n,r()}finally{re.p=a}}var ot=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ot,Et="__reactProps$"+ot,Ln="__reactContainer$"+ot,Zo="__reactEvents$"+ot,jf="__reactListeners$"+ot,br="__reactHandles$"+ot,Qu="__reactResources$"+ot,Ss="__reactMarker$"+ot;function Er(n){delete n[Dt],delete n[Et],delete n[Zo],delete n[jf],delete n[br]}function Ui(n){var r=n[Dt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ln]||a[Dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Lv(n);n!==null;){if(a=n[Dt])return a;n=Lv(n)}return r}n=a,a=n.parentNode}return null}function ui(n){if(n=n[Dt]||n[Ln]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ci(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ln(n){var r=n[Qu];return r||(r=n[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[Ss]=!0}var Jo=new Set,va={};function Zn(n,r){Bi(n,r),Bi(n+"Capture",r)}function Bi(n,r){for(va[n]=r,n=0;n<r.length;n++)Jo.add(r[n])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},Rs={};function Wu(n){return ys.call(Rs,n)?!0:ys.call(Xu,n)?!1:$u.test(n)?Rs[n]=!0:(Xu[n]=!0,!1)}function Tr(n,r,a){if(Wu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function hi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Yt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Is,Zu;function zi(n){if(Is===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Is=r&&r[1]||"",Zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+n+Zu}var wa=!1;function ba(n,r){if(!n||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var z=j}Reflect.construct(n,[],$)}else{try{$.call()}catch(j){z=j}n.call($.prototype)}}else{try{throw Error()}catch(j){z=j}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var S=v.split(`
`),U=w.split(`
`);for(h=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===S.length||h===U.length)for(l=S.length-1,h=U.length-1;1<=l&&0<=h&&S[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(S[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||S[l]!==U[h]){var Y=`
`+S[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=h);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?zi(a):""}function el(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return ba(n.type,!1);case 11:return ba(n.type.render,!1);case 1:return ba(n.type,!0);case 31:return zi("Activity");default:return""}}function Ea(n){try{var r="";do r+=el(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qf(n){var r=tl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ta(n){n._valueTracker||(n._valueTracker=qf(n))}function nl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=tl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Cs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hf=/[\n"\\]/g;function Tt(n){return n.replace(Hf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function En(n,r,a,l,h,d,v,w){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+un(r)):n.value!==""+un(r)&&(n.value=""+un(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Ar(n,v,un(r)):a!=null?Ar(n,v,un(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+un(w):n.removeAttribute("name")}function xs(n,r,a,l,h,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+un(a):"",r=r!=null?""+un(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Ar(n,r,a){r==="number"&&Cs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ji(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+un(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+un(a):""}function Ds(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=un(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Un(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Os.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function il(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ju(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ju(n,d,r[d])}function rl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(n){return Gf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var qi=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hi=null,Fi=null;function sl(n){var r=ui(n);if(r&&(n=r.stateNode)){var a=n[Et]||null;e:switch(n=r.stateNode,r.type){case"input":if(En(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Et]||null;if(!h)throw Error(s(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&nl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ji(n,!!a.multiple,r,!1)}}}var fi=!1;function ec(n,r,a){if(fi)return n(r,a);fi=!0;try{var l=n(r);return l}finally{if(fi=!1,(Hi!==null||Fi!==null)&&(Kc(),Hi&&(r=Hi,n=Fi,Fi=Hi=null,sl(r),n)))for(r=0;r<n.length;r++)sl(n[r])}}function Ns(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(Jn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){zn=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{zn=!1}var di=null,Sr=null,Gi=null;function al(){if(Gi)return Gi;var n,r=Sr,a=r.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Gi=h.slice(n,1<l?1-l:void 0)}function mi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function ol(){return!1}function Lt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:ol,this.isPropagationStopped=ol,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Lt(Ye),Ms=b({},Ye,{view:0,detail:0}),tc=Lt(Ms),Ra,Ia,gi,Vs=b({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Ra=n.screenX-gi.screenX,Ia=n.screenY-gi.screenY):Ia=Ra=0,gi=n),Ra)},movementY:function(n){return"movementY"in n?n.movementY:Ia}}),jn=Lt(Vs),nc=b({},Vs,{dataTransfer:0}),Yf=Lt(nc),Ps=b({},Ms,{relatedTarget:0}),Ca=Lt(Ps),ll=b({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Lt(ll),ic=b({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Da=Lt(ic),Kf=b({},Ye,{data:0}),ul=Lt(Kf),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=sc[n])?!!r[n]:!1}function Us(){return cl}var ac=b({},Ms,{key:function(n){if(n.key){var r=Ls[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oa=Lt(ac),oc=b({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Lt(oc),Yi=b({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),lc=Lt(Yi),uc=b({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Lt(uc),hc=b({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Lt(hc),cn=b({},Ye,{newState:0,oldState:0}),fc=Lt(cn),dc=[9,13,27,32],yi=Jn&&"CompositionEvent"in window,c=null;Jn&&"documentMode"in document&&(c=document.documentMode);var p=Jn&&"TextEvent"in window&&!c,_=Jn&&(!yi||c&&8<c&&11>=c),E=" ",P=!1;function q(n,r){switch(n){case"keyup":return dc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function Ot(n,r){switch(n){case"compositionend":return ne(r);case"keypress":return r.which!==32?null:(P=!0,E);case"textInput":return n=r.data,n===E&&P?null:n;default:return null}}function Ve(n,r){if(Me)return n==="compositionend"||!yi&&q(n,r)?(n=al(),Gi=Sr=di=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function Ki(n,r,a,l){Hi?Fi?Fi.push(l):Fi=[l]:Hi=l,r=Jc(r,"onChange"),0<r.length&&(a=new Sa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Kt=null,_i=null;function fl(n){Iv(n,0)}function mc(n){var r=ci(n);if(nl(r))return n}function Qg(n,r){if(n==="change")return r}var $g=!1;if(Jn){var Qf;if(Jn){var $f="oninput"in document;if(!$f){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),$f=typeof Xg.oninput=="function"}Qf=$f}else Qf=!1;$g=Qf&&(!document.documentMode||9<document.documentMode)}function Wg(){Kt&&(Kt.detachEvent("onpropertychange",Zg),_i=Kt=null)}function Zg(n){if(n.propertyName==="value"&&mc(_i)){var r=[];Ki(r,_i,n,Bn(n)),ec(fl,r)}}function I2(n,r,a){n==="focusin"?(Wg(),Kt=r,_i=a,Kt.attachEvent("onpropertychange",Zg)):n==="focusout"&&Wg()}function C2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(_i)}function x2(n,r){if(n==="click")return mc(r)}function D2(n,r){if(n==="input"||n==="change")return mc(r)}function O2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:O2;function dl(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ys.call(r,h)||!Tn(n[h],r[h]))return!1}return!0}function Jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ey(n,r){var a=Jg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function ty(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ty(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function ny(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Cs(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Cs(n.document)}return r}function Xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var N2=Jn&&"documentMode"in document&&11>=document.documentMode,ka=null,Wf=null,ml=null,Zf=!1;function iy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||ka==null||ka!==Cs(l)||(l=ka,"selectionStart"in l&&Xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Jc(Wf,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=ka)))}function Bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ma={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Jf={},ry={};Jn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function zs(n){if(Jf[n])return Jf[n];if(!Ma[n])return n;var r=Ma[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in ry)return Jf[n]=r[a];return n}var sy=zs("animationend"),ay=zs("animationiteration"),oy=zs("animationstart"),k2=zs("transitionrun"),M2=zs("transitionstart"),V2=zs("transitioncancel"),ly=zs("transitionend"),uy=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function ei(n,r){uy.set(n,r),Zn(r,[n])}var cy=new WeakMap;function qn(n,r){if(typeof n=="object"&&n!==null){var a=cy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ea(r)},cy.set(n,r),r)}return{value:n,source:r,stack:Ea(r)}}var Hn=[],Va=0,td=0;function pc(){for(var n=Va,r=td=Va=0;r<n;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var h=Hn[r];Hn[r++]=null;var d=Hn[r];if(Hn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&hy(a,h,d)}}function gc(n,r,a,l){Hn[Va++]=n,Hn[Va++]=r,Hn[Va++]=a,Hn[Va++]=l,td|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nd(n,r,a,l){return gc(n,r,a,l),yc(n)}function Pa(n,r){return gc(n,null,null,r),yc(n)}function hy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-en(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function yc(n){if(50<Bl)throw Bl=0,lm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var La={};function P2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,r,a,l){return new P2(n,r,a,l)}function id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qi(n,r){var a=n.alternate;return a===null?(a=An(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function fy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function _c(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")id(n)&&(v=1);else if(typeof n=="string")v=UA(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=An(31,a,r,h),n.elementType=I,n.lanes=d,n;case W:return js(a.children,h,d,r);case ee:v=8,h|=24;break;case J:return n=An(12,a,r,h|2),n.elementType=J,n.lanes=d,n;case Ae:return n=An(13,a,r,h),n.elementType=Ae,n.lanes=d,n;case qe:return n=An(19,a,r,h),n.elementType=qe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ye:case he:v=10;break e;case ue:v=9;break e;case je:v=11;break e;case k:v=14;break e;case T:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=An(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function js(n,r,a,l){return n=An(7,n,l,r),n.lanes=a,n}function rd(n,r,a){return n=An(6,n,null,r),n.lanes=a,n}function sd(n,r,a){return r=An(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ua=[],Ba=0,vc=null,wc=0,Fn=[],Gn=0,qs=null,$i=1,Xi="";function Hs(n,r){Ua[Ba++]=wc,Ua[Ba++]=vc,vc=n,wc=r}function dy(n,r,a){Fn[Gn++]=$i,Fn[Gn++]=Xi,Fn[Gn++]=qs,qs=n;var l=$i;n=Xi;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,$i=1<<32-en(r)+h|a<<h|l,Xi=d+n}else $i=1<<d|a<<h|l,Xi=n}function ad(n){n.return!==null&&(Hs(n,1),dy(n,1,0))}function od(n){for(;n===vc;)vc=Ua[--Ba],Ua[Ba]=null,wc=Ua[--Ba],Ua[Ba]=null;for(;n===qs;)qs=Fn[--Gn],Fn[Gn]=null,Xi=Fn[--Gn],Fn[Gn]=null,$i=Fn[--Gn],Fn[Gn]=null}var hn=null,dt=null,Fe=!1,Fs=null,vi=!1,ld=Error(s(519));function Gs(n){var r=Error(s(418,""));throw yl(qn(r,n)),ld}function my(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Dt]=n,r[Et]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)De(jl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),xs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Ds(r,l.value,l.defaultValue,l.children),Ta(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Ov(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=eh),r=!0):r=!1,r||Gs(n)}function py(n){for(hn=n.return;hn;)switch(hn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:hn=hn.return}}function pl(n){if(n!==hn)return!1;if(!Fe)return py(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Am(n.type,n.memoizedProps)),a=!a),a&&dt&&Gs(n),py(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){dt=ni(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,jr(n.type)?(n=Cm,Cm=null,dt=n):dt=r):dt=hn?ni(n.stateNode.nextSibling):null;return!0}function gl(){dt=hn=null,Fe=!1}function gy(){var n=Fs;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Fs=null),n}function yl(n){Fs===null?Fs=[n]:Fs.push(n)}var ud=Z(null),Ys=null,Wi=null;function Rr(n,r,a){te(ud,r._currentValue),r._currentValue=a}function Zi(n){n._currentValue=ud.current,se(ud)}function cd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function hd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var S=0;S<r.length;S++)if(w.context===r[S]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),cd(d.return,a,n),l||(v=null);break e}d=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),cd(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function _l(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;Tn(h.pendingProps.value,v.value)||(n!==null?n.push(w):n=[w])}}else if(h===Pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Kl):n=[Kl])}h=h.return}n!==null&&hd(r,n,a,l),r.flags|=262144}function bc(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ks(n){Ys=n,Wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return yy(Ys,n)}function Ec(n,r){return Ys===null&&Ks(n),yy(n,r)}function yy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(n===null)throw Error(s(308));Wi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Wi=Wi.next=r;return a}var L2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},U2=i.unstable_scheduleCallback,B2=i.unstable_NormalPriority,kt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new L2,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&U2(B2,function(){n.controller.abort()})}var wl=null,dd=0,za=0,ja=null;function z2(n,r){if(wl===null){var a=wl=[];dd=0,za=pm(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,r.then(_y,_y),r}function _y(){if(--dd===0&&wl!==null){ja!==null&&(ja.status="fulfilled");var n=wl;wl=null,za=0,ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function j2(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vy=G.S;G.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&z2(n,r),vy!==null&&vy(n,r)};var Qs=Z(null);function md(){var n=Qs.current;return n!==null?n:rt.pooledCache}function Tc(n,r){r===null?te(Qs,Qs.current):te(Qs,r.pool)}function wy(){var n=md();return n===null?null:{parent:kt._currentValue,pool:n}}var bl=Error(s(460)),by=Error(s(474)),Ac=Error(s(542)),pd={then:function(){}};function Ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Sc(){}function Ty(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Sc,Sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Sy(n),n;default:if(typeof r.status=="string")r.then(Sc,Sc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Sy(n),n}throw El=r,bl}}var El=null;function Ay(){if(El===null)throw Error(s(459));var n=El;return El=null,n}function Sy(n){if(n===bl||n===Ac)throw Error(s(483))}var Ir=!1;function gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Cr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=yc(n),hy(n,null,a),r}return gc(n,l,r,a),yc(n)}function Tl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Wo(n,a)}}function _d(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var vd=!1;function Al(){if(vd){var n=ja;if(n!==null)throw n}}function Sl(n,r,a,l){vd=!1;var h=n.updateQueue;Ir=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var S=w,U=S.next;S.next=null,v===null?d=U:v.next=U,v=S;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==v&&(w===null?Y.firstBaseUpdate=U:w.next=U,Y.lastBaseUpdate=S))}if(d!==null){var $=h.baseState;v=0,Y=U=S=null,w=d;do{var z=w.lane&-536870913,j=z!==w.lane;if(j?(Pe&z)===z:(l&z)===z){z!==0&&z===za&&(vd=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var be=n,ge=w;z=r;var et=a;switch(ge.tag){case 1:if(be=ge.payload,typeof be=="function"){$=be.call(et,$,z);break e}$=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ge.payload,z=typeof be=="function"?be.call(et,$,z):be,z==null)break e;$=b({},$,z);break e;case 2:Ir=!0}}z=w.callback,z!==null&&(n.flags|=64,j&&(n.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(U=Y=j,S=$):Y=Y.next=j,v|=z;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;j=w,w=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(S=$),h.baseState=S,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Lr|=v,n.lanes=v,n.memoizedState=$}}function Ry(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Iy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ry(a[n],r)}var qa=Z(null),Rc=Z(0);function Cy(n,r){n=sr,te(Rc,n),te(qa,r),sr=n|r.baseLanes}function wd(){te(Rc,sr),te(qa,qa.current)}function bd(){sr=Rc.current,se(qa),se(Rc)}var Dr=0,Re=null,Ze=null,At=null,Ic=!1,Ha=!1,$s=!1,Cc=0,Rl=0,Fa=null,q2=0;function gt(){throw Error(s(321))}function Ed(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Tn(n[a],r[a]))return!1;return!0}function Td(n,r,a,l,h,d){return Dr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?h_:f_,$s=!1,d=a(l,h),$s=!1,Ha&&(d=Dy(r,a,l,h)),xy(n),d}function xy(n){G.H=Mc;var r=Ze!==null&&Ze.next!==null;if(Dr=0,At=Ze=Re=null,Ic=!1,Rl=0,Fa=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&bc(n)&&(Bt=!0))}function Dy(n,r,a,l){Re=n;var h=0;do{if(Ha&&(Fa=null),Rl=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,At=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=$2,d=r(a,l)}while(Ha);return d}function H2(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?Il(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Re.flags|=1024),r}function Ad(){var n=Cc!==0;return Cc=0,n}function Sd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Rd(n){if(Ic){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ic=!1}Dr=0,At=Ze=Re=null,Ha=!1,Rl=Cc=0,Fa=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=n:At=At.next=n,At}function St(){if(Ze===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=At===null?Re.memoizedState:At.next;if(r!==null)At=r,Ze=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Re.memoizedState=At=n:At=At.next=n}return At}function Id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(n){var r=Rl;return Rl+=1,Fa===null&&(Fa=[]),n=Ty(Fa,n,r),r=Re,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?h_:f_),n}function xc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===he)return tn(n)}throw Error(s(438,String(n)))}function Cd(n){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Id(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=x;return r.index++,a}function Ji(n,r){return typeof r=="function"?r(n):r}function Dc(n){var r=St();return xd(r,Ze,n)}function xd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var w=v=null,S=null,U=r,Y=!1;do{var $=U.lane&-536870913;if($!==U.lane?(Pe&$)===$:(Dr&$)===$){var z=U.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),$===za&&(Y=!0);else if((Dr&z)===z){U=U.next,z===za&&(Y=!0);continue}else $={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(w=S=$,v=d):S=S.next=$,Re.lanes|=z,Lr|=z;$=U.action,$s&&a(d,$),d=U.hasEagerState?U.eagerState:a(d,$)}else z={lane:$,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},S===null?(w=S=z,v=d):S=S.next=z,Re.lanes|=$,Lr|=$;U=U.next}while(U!==null&&U!==r);if(S===null?v=d:S.next=w,!Tn(d,n.memoizedState)&&(Bt=!0,Y&&(a=ja,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=S,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Dd(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);Tn(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Oy(n,r,a){var l=Re,h=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Tn((Ze||h).memoizedState,a);v&&(h.memoizedState=a,Bt=!0),h=h.queue;var w=My.bind(null,l,h,n);if(Cl(2048,8,w,[n]),h.getSnapshot!==r||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Oc(),ky.bind(null,l,h,a,r),null),rt===null)throw Error(s(349));d||(Dr&124)!==0||Ny(l,r,a)}return a}function Ny(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Id(),Re.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ky(n,r,a,l){r.value=a,r.getSnapshot=l,Vy(r)&&Py(n)}function My(n,r,a){return a(function(){Vy(r)&&Py(n)})}function Vy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Tn(n,a)}catch{return!0}}function Py(n){var r=Pa(n,2);r!==null&&xn(r,n,2)}function Od(n){var r=gn();if(typeof n=="function"){var a=n;if(n=a(),$s){bn(!0);try{a()}finally{bn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},r}function Ly(n,r,a,l){return n.baseState=a,xd(n,Ze,typeof l=="function"?l:Ji)}function F2(n,r,a,l,h){if(kc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Uy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Uy(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=G.T,v={};G.T=v;try{var w=a(h,l),S=G.S;S!==null&&S(v,w),By(n,r,w)}catch(U){Nd(n,r,U)}finally{G.T=d}}else try{d=a(h,l),By(n,r,d)}catch(U){Nd(n,r,U)}}function By(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zy(n,r,l)},function(l){return Nd(n,r,l)}):zy(n,r,a)}function zy(n,r,a){r.status="fulfilled",r.value=a,jy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Uy(n,a)))}function Nd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,jy(r),r=r.next;while(r!==l)}n.action=null}function jy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function qy(n,r){return r}function Hy(n,r){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Re;if(Fe){if(dt){t:{for(var h=dt,d=vi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=ni(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:r},a.queue=l,a=l_.bind(null,Re,l),l.dispatch=a,l=Od(!1),d=Ld.bind(null,Re,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=F2.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function Fy(n){var r=St();return Gy(r,Ze,n)}function Gy(n,r,a){if(r=xd(n,r,qy)[0],n=Dc(Ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(v){throw v===bl?Ac:v}else l=r;r=St();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Ga(9,Oc(),G2.bind(null,h,a),null)),[l,d,n]}function G2(n,r){n.action=r}function Yy(n){var r=St(),a=Ze;if(a!==null)return Gy(r,a,n);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ga(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Id(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Oc(){return{destroy:void 0,resource:void 0}}function Ky(){return St().memoizedState}function Nc(n,r,a,l){var h=gn();l=l===void 0?null:l,Re.flags|=n,h.memoizedState=Ga(1|r,Oc(),a,l)}function Cl(n,r,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Ed(l,Ze.memoizedState.deps)?h.memoizedState=Ga(r,d,a,l):(Re.flags|=n,h.memoizedState=Ga(1|r,d,a,l))}function Qy(n,r){Nc(8390656,8,n,r)}function $y(n,r){Cl(2048,8,n,r)}function Xy(n,r){return Cl(4,2,n,r)}function Wy(n,r){return Cl(4,4,n,r)}function Zy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Jy(n,r,a){a=a!=null?a.concat([n]):null,Cl(4,4,Zy.bind(null,r,n),a)}function kd(){}function e_(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function t_(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=n(),$s){bn(!0);try{n()}finally{bn(!1)}}return a.memoizedState=[l,r],l}function Md(n,r,a){return a===void 0||(Dr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=rv(),Re.lanes|=n,Lr|=n,a)}function n_(n,r,a,l){return Tn(a,r)?a:qa.current!==null?(n=Md(n,a,l),Tn(n,r)||(Bt=!0),n):(Dr&42)===0?(Bt=!0,n.memoizedState=a):(n=rv(),Re.lanes|=n,Lr|=n,r)}function i_(n,r,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=G.T,w={};G.T=w,Ld(n,!1,r,a);try{var S=h(),U=G.S;if(U!==null&&U(w,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Y=j2(S,l);xl(n,r,Y,Cn(n))}else xl(n,r,l,Cn(n))}catch($){xl(n,r,{then:function(){},status:"rejected",reason:$},Cn())}finally{re.p=d,G.T=v}}function Y2(){}function Vd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=r_(n).queue;i_(n,h,r,fe,a===null?Y2:function(){return s_(n),a(l)})}function r_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function s_(n){var r=r_(n).next.queue;xl(n,r,{},Cn())}function Pd(){return tn(Kl)}function a_(){return St().memoizedState}function o_(){return St().memoizedState}function K2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();n=Cr(a);var l=xr(r,n,a);l!==null&&(xn(l,r,a),Tl(l,r,a)),r={cache:fd()},n.payload=r;return}r=r.return}}function Q2(n,r,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},kc(n)?u_(r,a):(a=nd(n,r,a,l),a!==null&&(xn(a,n,l),c_(a,r,l)))}function l_(n,r,a){var l=Cn();xl(n,r,a,l)}function xl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(kc(n))u_(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(h.hasEagerState=!0,h.eagerState=w,Tn(w,v))return gc(n,r,h,0),rt===null&&pc(),!1}catch{}finally{}if(a=nd(n,r,h,l),a!==null)return xn(a,n,l),c_(a,r,l),!0}return!1}function Ld(n,r,a,l){if(l={lane:2,revertLane:pm(),action:l,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(r)throw Error(s(479))}else r=nd(n,a,l,2),r!==null&&xn(r,n,2)}function kc(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function u_(n,r){Ha=Ic=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function c_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Wo(n,a)}}var Mc={readContext:tn,use:xc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},h_={readContext:tn,use:xc,useCallback:function(n,r){return gn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:Qy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Nc(4194308,4,Zy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Nc(4194308,4,n,r)},useInsertionEffect:function(n,r){Nc(4,2,n,r)},useMemo:function(n,r){var a=gn();r=r===void 0?null:r;var l=n();if($s){bn(!0);try{n()}finally{bn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=gn();if(a!==void 0){var h=a(r);if($s){bn(!0);try{a(r)}finally{bn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Q2.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var r=gn();return n={current:n},r.memoizedState=n},useState:function(n){n=Od(n);var r=n.queue,a=l_.bind(null,Re,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:kd,useDeferredValue:function(n,r){var a=gn();return Md(a,n,r)},useTransition:function(){var n=Od(!1);return n=i_.bind(null,Re,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Re,h=gn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Pe&124)!==0||Ny(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Qy(My.bind(null,l,d,n),[n]),l.flags|=2048,Ga(9,Oc(),ky.bind(null,l,d,a,r),null),a},useId:function(){var n=gn(),r=rt.identifierPrefix;if(Fe){var a=Xi,l=$i;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Cc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=q2++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Pd,useFormState:Hy,useActionState:Hy,useOptimistic:function(n){var r=gn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ld.bind(null,Re,!0,a),a.dispatch=r,[n,r]},useMemoCache:Cd,useCacheRefresh:function(){return gn().memoizedState=K2.bind(null,Re)}},f_={readContext:tn,use:xc,useCallback:e_,useContext:tn,useEffect:$y,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:t_,useReducer:Dc,useRef:Ky,useState:function(){return Dc(Ji)},useDebugValue:kd,useDeferredValue:function(n,r){var a=St();return n_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Dc(Ji)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Il(n),r]},useSyncExternalStore:Oy,useId:a_,useHostTransitionStatus:Pd,useFormState:Fy,useActionState:Fy,useOptimistic:function(n,r){var a=St();return Ly(a,Ze,n,r)},useMemoCache:Cd,useCacheRefresh:o_},$2={readContext:tn,use:xc,useCallback:e_,useContext:tn,useEffect:$y,useImperativeHandle:Jy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:t_,useReducer:Dd,useRef:Ky,useState:function(){return Dd(Ji)},useDebugValue:kd,useDeferredValue:function(n,r){var a=St();return Ze===null?Md(a,n,r):n_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Dd(Ji)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Il(n),r]},useSyncExternalStore:Oy,useId:a_,useHostTransitionStatus:Pd,useFormState:Yy,useActionState:Yy,useOptimistic:function(n,r){var a=St();return Ze!==null?Ly(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Cd,useCacheRefresh:o_},Ya=null,Dl=0;function Vc(n){var r=Dl;return Dl+=1,Ya===null&&(Ya=[]),Ty(Ya,n,r)}function Ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Pc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function d_(n){var r=n._init;return r(n._payload)}function m_(n){function r(M,O){if(n){var L=M.deletions;L===null?(M.deletions=[O],M.flags|=16):L.push(O)}}function a(M,O){if(!n)return null;for(;O!==null;)r(M,O),O=O.sibling;return null}function l(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function h(M,O){return M=Qi(M,O),M.index=0,M.sibling=null,M}function d(M,O,L){return M.index=L,n?(L=M.alternate,L!==null?(L=L.index,L<O?(M.flags|=67108866,O):L):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function v(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function w(M,O,L,Q){return O===null||O.tag!==6?(O=rd(L,M.mode,Q),O.return=M,O):(O=h(O,L),O.return=M,O)}function S(M,O,L,Q){var oe=L.type;return oe===W?Y(M,O,L.props.children,Q,L.key):O!==null&&(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===T&&d_(oe)===O.type)?(O=h(O,L.props),Ol(O,L),O.return=M,O):(O=_c(L.type,L.key,L.props,null,M.mode,Q),Ol(O,L),O.return=M,O)}function U(M,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=sd(L,M.mode,Q),O.return=M,O):(O=h(O,L.children||[]),O.return=M,O)}function Y(M,O,L,Q,oe){return O===null||O.tag!==7?(O=js(L,M.mode,Q,oe),O.return=M,O):(O=h(O,L),O.return=M,O)}function $(M,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=rd(""+O,M.mode,L),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return L=_c(O.type,O.key,O.props,null,M.mode,L),Ol(L,O),L.return=M,L;case H:return O=sd(O,M.mode,L),O.return=M,O;case T:var Q=O._init;return O=Q(O._payload),$(M,O,L)}if(ht(O)||V(O))return O=js(O,M.mode,L,null),O.return=M,O;if(typeof O.then=="function")return $(M,Vc(O),L);if(O.$$typeof===he)return $(M,Ec(M,O),L);Pc(M,O)}return null}function z(M,O,L,Q){var oe=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return oe!==null?null:w(M,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return L.key===oe?S(M,O,L,Q):null;case H:return L.key===oe?U(M,O,L,Q):null;case T:return oe=L._init,L=oe(L._payload),z(M,O,L,Q)}if(ht(L)||V(L))return oe!==null?null:Y(M,O,L,Q,null);if(typeof L.then=="function")return z(M,O,Vc(L),Q);if(L.$$typeof===he)return z(M,O,Ec(M,L),Q);Pc(M,L)}return null}function j(M,O,L,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,w(O,M,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return M=M.get(Q.key===null?L:Q.key)||null,S(O,M,Q,oe);case H:return M=M.get(Q.key===null?L:Q.key)||null,U(O,M,Q,oe);case T:var Ce=Q._init;return Q=Ce(Q._payload),j(M,O,L,Q,oe)}if(ht(Q)||V(Q))return M=M.get(L)||null,Y(O,M,Q,oe,null);if(typeof Q.then=="function")return j(M,O,L,Vc(Q),oe);if(Q.$$typeof===he)return j(M,O,L,Ec(O,Q),oe);Pc(O,Q)}return null}function be(M,O,L,Q){for(var oe=null,Ce=null,le=O,_e=O=0,jt=null;le!==null&&_e<L.length;_e++){le.index>_e?(jt=le,le=null):jt=le.sibling;var Be=z(M,le,L[_e],Q);if(Be===null){le===null&&(le=jt);break}n&&le&&Be.alternate===null&&r(M,le),O=d(Be,O,_e),Ce===null?oe=Be:Ce.sibling=Be,Ce=Be,le=jt}if(_e===L.length)return a(M,le),Fe&&Hs(M,_e),oe;if(le===null){for(;_e<L.length;_e++)le=$(M,L[_e],Q),le!==null&&(O=d(le,O,_e),Ce===null?oe=le:Ce.sibling=le,Ce=le);return Fe&&Hs(M,_e),oe}for(le=l(le);_e<L.length;_e++)jt=j(le,M,_e,L[_e],Q),jt!==null&&(n&&jt.alternate!==null&&le.delete(jt.key===null?_e:jt.key),O=d(jt,O,_e),Ce===null?oe=jt:Ce.sibling=jt,Ce=jt);return n&&le.forEach(function(Yr){return r(M,Yr)}),Fe&&Hs(M,_e),oe}function ge(M,O,L,Q){if(L==null)throw Error(s(151));for(var oe=null,Ce=null,le=O,_e=O=0,jt=null,Be=L.next();le!==null&&!Be.done;_e++,Be=L.next()){le.index>_e?(jt=le,le=null):jt=le.sibling;var Yr=z(M,le,Be.value,Q);if(Yr===null){le===null&&(le=jt);break}n&&le&&Yr.alternate===null&&r(M,le),O=d(Yr,O,_e),Ce===null?oe=Yr:Ce.sibling=Yr,Ce=Yr,le=jt}if(Be.done)return a(M,le),Fe&&Hs(M,_e),oe;if(le===null){for(;!Be.done;_e++,Be=L.next())Be=$(M,Be.value,Q),Be!==null&&(O=d(Be,O,_e),Ce===null?oe=Be:Ce.sibling=Be,Ce=Be);return Fe&&Hs(M,_e),oe}for(le=l(le);!Be.done;_e++,Be=L.next())Be=j(le,M,_e,Be.value,Q),Be!==null&&(n&&Be.alternate!==null&&le.delete(Be.key===null?_e:Be.key),O=d(Be,O,_e),Ce===null?oe=Be:Ce.sibling=Be,Ce=Be);return n&&le.forEach(function(XA){return r(M,XA)}),Fe&&Hs(M,_e),oe}function et(M,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case R:e:{for(var oe=L.key;O!==null;){if(O.key===oe){if(oe=L.type,oe===W){if(O.tag===7){a(M,O.sibling),Q=h(O,L.props.children),Q.return=M,M=Q;break e}}else if(O.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===T&&d_(oe)===O.type){a(M,O.sibling),Q=h(O,L.props),Ol(Q,L),Q.return=M,M=Q;break e}a(M,O);break}else r(M,O);O=O.sibling}L.type===W?(Q=js(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=_c(L.type,L.key,L.props,null,M.mode,Q),Ol(Q,L),Q.return=M,M=Q)}return v(M);case H:e:{for(oe=L.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(M,O.sibling),Q=h(O,L.children||[]),Q.return=M,M=Q;break e}else{a(M,O);break}else r(M,O);O=O.sibling}Q=sd(L,M.mode,Q),Q.return=M,M=Q}return v(M);case T:return oe=L._init,L=oe(L._payload),et(M,O,L,Q)}if(ht(L))return be(M,O,L,Q);if(V(L)){if(oe=V(L),typeof oe!="function")throw Error(s(150));return L=oe.call(L),ge(M,O,L,Q)}if(typeof L.then=="function")return et(M,O,Vc(L),Q);if(L.$$typeof===he)return et(M,O,Ec(M,L),Q);Pc(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(M,O.sibling),Q=h(O,L),Q.return=M,M=Q):(a(M,O),Q=rd(L,M.mode,Q),Q.return=M,M=Q),v(M)):a(M,O)}return function(M,O,L,Q){try{Dl=0;var oe=et(M,O,L,Q);return Ya=null,oe}catch(le){if(le===bl||le===Ac)throw le;var Ce=An(29,le,null,M.mode);return Ce.lanes=Q,Ce.return=M,Ce}finally{}}}var Ka=m_(!0),p_=m_(!1),Yn=Z(null),wi=null;function Or(n){var r=n.alternate;te(Mt,Mt.current&1),te(Yn,n),wi===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(wi=n)}function g_(n){if(n.tag===22){if(te(Mt,Mt.current),te(Yn,n),wi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(wi=n)}}else Nr()}function Nr(){te(Mt,Mt.current),te(Yn,Yn.current)}function er(n){se(Yn),wi===n&&(wi=null),se(Mt)}var Mt=Z(0);function Lc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Im(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ud(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Bd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Cn(),h=Cr(l);h.payload=r,a!=null&&(h.callback=a),r=xr(n,h,l),r!==null&&(xn(r,n,l),Tl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Cn(),h=Cr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=xr(n,h,l),r!==null&&(xn(r,n,l),Tl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Cn(),l=Cr(a);l.tag=2,r!=null&&(l.callback=r),r=xr(n,l,a),r!==null&&(xn(r,n,a),Tl(r,n,a))}};function y_(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!dl(a,l)||!dl(h,d):!0}function __(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Bd.enqueueReplaceState(r,r.state,null)}function Xs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=b({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function v_(n){Uc(n)}function w_(n){console.error(n)}function b_(n){Uc(n)}function Bc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function E_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zd(n,r,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Bc(n,r)},a}function T_(n){return n=Cr(n),n.tag=3,n}function A_(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){E_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){E_(r,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function X2(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&_l(r,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return wi===null?cm():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),fm(n,l,h)),!1;case 22:return a.flags|=65536,l===pd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),fm(n,l,h)),!1}throw Error(s(435,a.tag))}return fm(n,l,h),cm(),!1}if(Fe)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==ld&&(n=Error(s(422),{cause:l}),yl(qn(n,a)))):(l!==ld&&(r=Error(s(423),{cause:l}),yl(qn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=qn(l,a),h=zd(n.stateNode,l,h),_d(n,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Ul===null?Ul=[d]:Ul.push(d),mt!==4&&(mt=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=zd(a.stateNode,l,n),_d(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=T_(h),A_(h,n,a,l),_d(a,h),!1}a=a.return}while(a!==null);return!1}var S_=Error(s(461)),Bt=!1;function Qt(n,r,a,l){r.child=n===null?p_(r,null,a,l):Ka(r,n.child,a,l)}function R_(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Ks(r),l=Td(n,r,a,v,d,h),w=Ad(),n!==null&&!Bt?(Sd(n,r,h),tr(n,r,h)):(Fe&&w&&ad(r),r.flags|=1,Qt(n,r,l,h),r.child)}function I_(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!id(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,C_(n,r,d,l,h)):(n=_c(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Qd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,l)&&n.ref===r.ref)return tr(n,r,h)}return r.flags|=1,n=Qi(d,l),n.ref=r.ref,n.return=r,r.child=n}function C_(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(dl(d,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=d,Qd(n,h))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,tr(n,r,h)}return jd(n,r,a,l,h)}function x_(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return D_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tc(r,d!==null?d.cachePool:null),d!==null?Cy(r,d):wd(),g_(r);else return r.lanes=r.childLanes=536870912,D_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Tc(r,d.cachePool),Cy(r,d),Nr(),r.memoizedState=null):(n!==null&&Tc(r,null),wd(),Nr());return Qt(n,r,h,a),r.child}function D_(n,r,a,l){var h=md();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&Tc(r,null),wd(),g_(r),n!==null&&_l(n,r,l,!0),null}function zc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function jd(n,r,a,l,h){return Ks(r),a=Td(n,r,a,l,void 0,h),l=Ad(),n!==null&&!Bt?(Sd(n,r,h),tr(n,r,h)):(Fe&&l&&ad(r),r.flags|=1,Qt(n,r,a,h),r.child)}function O_(n,r,a,l,h,d){return Ks(r),r.updateQueue=null,a=Dy(r,l,a,h),xy(n),l=Ad(),n!==null&&!Bt?(Sd(n,r,d),tr(n,r,d)):(Fe&&l&&ad(r),r.flags|=1,Qt(n,r,a,d),r.child)}function N_(n,r,a,l,h){if(Ks(r),r.stateNode===null){var d=La,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},gd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):La,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ud(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Sl(r,l,d,h),Al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var w=r.memoizedProps,S=Xs(a,w);d.props=S;var U=d.context,Y=a.contextType;v=La,typeof Y=="object"&&Y!==null&&(v=tn(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||U!==v)&&__(r,d,l,v),Ir=!1;var z=r.memoizedState;d.state=z,Sl(r,l,d,h),Al(),U=r.memoizedState,w||z!==U||Ir?(typeof $=="function"&&(Ud(r,a,$,l),U=r.memoizedState),(S=Ir||y_(r,a,S,l,z,U,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),d.props=l,d.state=U,d.context=v,l=S):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,yd(n,r),v=r.memoizedProps,Y=Xs(a,v),d.props=Y,$=r.pendingProps,z=d.context,U=a.contextType,S=La,typeof U=="object"&&U!==null&&(S=tn(U)),w=a.getDerivedStateFromProps,(U=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||z!==S)&&__(r,d,l,S),Ir=!1,z=r.memoizedState,d.state=z,Sl(r,l,d,h),Al();var j=r.memoizedState;v!==$||z!==j||Ir||n!==null&&n.dependencies!==null&&bc(n.dependencies)?(typeof w=="function"&&(Ud(r,a,w,l),j=r.memoizedState),(Y=Ir||y_(r,a,Y,l,z,j,S)||n!==null&&n.dependencies!==null&&bc(n.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,S)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=S,l=Y):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,zc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ka(r,n.child,null,h),r.child=Ka(r,null,a,h)):Qt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=tr(n,r,h),n}function k_(n,r,a,l){return gl(),r.flags|=256,Qt(n,r,a,l),r.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(n){return{baseLanes:n,cachePool:wy()}}function Fd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Kn),n}function M_(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(h?Or(r):Nr(),Fe){var w=dt,S;if(S=w){e:{for(S=w,w=vi;S.nodeType!==8;){if(!w){w=null;break e}if(S=ni(S.nextSibling),S===null){w=null;break e}}w=S}w!==null?(r.memoizedState={dehydrated:w,treeContext:qs!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},S=An(18,null,null,0),S.stateNode=w,S.return=r,r.child=S,hn=r,dt=null,S=!0):S=!1}S||Gs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Im(w)?r.lanes=32:r.lanes=536870912,null;er(r)}return w=l.children,l=l.fallback,h?(Nr(),h=r.mode,w=jc({mode:"hidden",children:w},h),l=js(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=Hd(a),h.childLanes=Fd(n,v,a),r.memoizedState=qd,l):(Or(r),Gd(r,w))}if(S=n.memoizedState,S!==null&&(w=S.dehydrated,w!==null)){if(d)r.flags&256?(Or(r),r.flags&=-257,r=Yd(n,r,a)):r.memoizedState!==null?(Nr(),r.child=n.child,r.flags|=128,r=null):(Nr(),h=l.fallback,w=r.mode,l=jc({mode:"visible",children:l.children},w),h=js(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ka(r,n.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(n,v,a),r.memoizedState=qd,r=h);else if(Or(r),Im(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,yl({value:l,source:null,stack:null}),r=Yd(n,r,a)}else if(Bt||_l(n,r,a,!1),v=(a&n.childLanes)!==0,Bt||v){if(v=rt,v!==null&&(l=a&-a,l=(l&42)!==0?1:vr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Pa(n,l),xn(v,n,l),S_;w.data==="$?"||cm(),r=Yd(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=S.treeContext,dt=ni(w.nextSibling),hn=r,Fe=!0,Fs=null,vi=!1,n!==null&&(Fn[Gn++]=$i,Fn[Gn++]=Xi,Fn[Gn++]=qs,$i=n.id,Xi=n.overflow,qs=r),r=Gd(r,l.children),r.flags|=4096);return r}return h?(Nr(),h=l.fallback,w=r.mode,S=n.child,U=S.sibling,l=Qi(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,U!==null?h=Qi(U,h):(h=js(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=n.child.memoizedState,w===null?w=Hd(a):(S=w.cachePool,S!==null?(U=kt._currentValue,S=S.parent!==U?{parent:U,pool:U}:S):S=wy(),w={baseLanes:w.baseLanes|a,cachePool:S}),h.memoizedState=w,h.childLanes=Fd(n,v,a),r.memoizedState=qd,l):(Or(r),a=n.child,n=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Gd(n,r){return r=jc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function jc(n,r){return n=An(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yd(n,r,a){return Ka(r,n.child,null,a),n=Gd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function V_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),cd(n.return,r,a)}function Kd(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function P_(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Qt(n,r,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&V_(n,a,r);else if(n.tag===19)V_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Mt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&Lc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Kd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Lc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Kd(r,!0,a,null,d);break;case"together":Kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function tr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Lr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(_l(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Qi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Qi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Qd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&bc(n)))}function W2(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Rr(r,kt,n.memoizedState.cache),gl();break;case 27:case 5:_r(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Rr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(r),r.flags|=128,null):(a&r.child.childLanes)!==0?M_(n,r,a):(Or(r),n=tr(n,r,a),n!==null?n.sibling:null);Or(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(_l(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return P_(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,x_(n,r,a);case 24:Rr(r,kt,n.memoizedState.cache)}return tr(n,r,a)}function L_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Qd(n,a)&&(r.flags&128)===0)return Bt=!1,W2(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,Fe&&(r.flags&1048576)!==0&&dy(r,wc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")id(l)?(n=Xs(l,n),r.tag=1,r=N_(null,r,l,n,a)):(r.tag=0,r=jd(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===je){r.tag=11,r=R_(null,r,l,n,a);break e}else if(h===k){r.tag=14,r=I_(null,r,l,n,a);break e}}throw r=Gt(l)||l,Error(s(306,r,""))}}return r;case 0:return jd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Xs(l,r.pendingProps),N_(n,r,l,h,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,yd(n,r),Sl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Rr(r,kt,l),l!==d.cache&&hd(r,[kt],a,!0),Al(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=k_(n,r,l,a);break e}else if(l!==h){h=qn(Error(s(424)),r),yl(h),r=k_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=ni(n.firstChild),hn=r,Fe=!0,Fs=null,vi=!0,a=p_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),l===h){r=tr(n,r,a);break e}Qt(n,r,l,a)}r=r.child}return r;case 26:return zc(n,r),n===null?(a=jv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=th(Ee.current).createElement(a),l[Dt]=r,l[Et]=n,Xt(l,a,n),pt(l),r.stateNode=l):r.memoizedState=jv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return _r(r),n===null&&Fe&&(l=r.stateNode=Uv(r.type,r.pendingProps,Ee.current),hn=r,vi=!0,h=dt,jr(r.type)?(Cm=h,dt=ni(l.firstChild)):dt=h),Qt(n,r,r.pendingProps.children,a),zc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((h=l=dt)&&(l=SA(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,hn=r,dt=ni(l.firstChild),vi=!1,h=!0):h=!1),h||Gs(r)),_r(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Am(h,d)?l=null:v!==null&&Am(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Td(n,r,H2,null,null,a),Kl._currentValue=h),zc(n,r),Qt(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=dt)&&(a=RA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,hn=r,dt=null,n=!0):n=!1),n||Gs(r)),null;case 13:return M_(n,r,a);case 4:return it(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ka(r,null,l,a):Qt(n,r,l,a),r.child;case 11:return R_(n,r,r.type,r.pendingProps,a);case 7:return Qt(n,r,r.pendingProps,a),r.child;case 8:return Qt(n,r,r.pendingProps.children,a),r.child;case 12:return Qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Rr(r,r.type,l.value),Qt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ks(r),h=tn(h),l=l(h),r.flags|=1,Qt(n,r,l,a),r.child;case 14:return I_(n,r,r.type,r.pendingProps,a);case 15:return C_(n,r,r.type,r.pendingProps,a);case 19:return P_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=jc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Qi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return x_(n,r,a);case 24:return Ks(r),l=tn(kt),n===null?(h=md(),h===null&&(h=rt,d=fd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},gd(r),Rr(r,kt,h)):((n.lanes&a)!==0&&(yd(n,r),Sl(r,null,null,a),Al()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Rr(r,kt,l)):(l=d.cache,Rr(r,kt,l),l!==h.cache&&hd(r,[kt],a,!0))),Qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(n){n.flags|=4}function U_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Yv(r)){if(r=Yn.current,r!==null&&((Pe&4194048)===Pe?wi!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==wi))throw El=pd,by;n.flags|=8192}}function qc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?$o():536870912,n.lanes|=r,Wa|=r)}function Nl(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Z2(n,r,a){var l=r.pendingProps;switch(od(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zi(kt),oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(pl(r)?nr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gy())),ut(r),null;case 26:return a=r.memoizedState,n===null?(nr(r),a!==null?(ut(r),U_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(nr(r),ut(r),U_(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==l&&nr(r),ut(r),r.flags&=-16777217),null;case 27:Vi(r),a=Ee.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=de.current,pl(r)?my(r):(n=Uv(h,l,a),r.stateNode=n,nr(r))}return ut(r),null;case 5:if(Vi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=de.current,pl(r))my(r);else{switch(h=th(Ee.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Dt]=r,n[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&nr(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,pl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Dt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ov(n.nodeValue,a)),n||Gs(r)}else n=th(n).createTextNode(l),n[Dt]=r,r.stateNode=n}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=pl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=r}else gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=gy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(er(r),r):(er(r),null)}if(er(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),qc(r,r.updateQueue),ut(r),null;case 4:return oi(),n===null&&vm(r.stateNode.containerInfo),ut(r),null;case 10:return Zi(r.type),ut(r),null;case 19:if(se(Mt),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Nl(h,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Lc(n),d!==null){for(r.flags|=128,Nl(h,!1),n=d.updateQueue,r.updateQueue=n,qc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)fy(a,n),a=a.sibling;return te(Mt,Mt.current&1|2),r.child}n=n.sibling}h.tail!==null&&Pn()>Gc&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304)}else{if(!l)if(n=Lc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,qc(r,n),Nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(r),null}else 2*Pn()-h.renderingStartTime>Gc&&a!==536870912&&(r.flags|=128,l=!0,Nl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Pn(),r.sibling=null,n=Mt.current,te(Mt,l?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return er(r),bd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&qc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&se(Qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zi(kt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function J2(n,r){switch(od(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Zi(kt),oi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(er(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));gl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return se(Mt),null;case 4:return oi(),null;case 10:return Zi(r.type),null;case 22:case 23:return er(r),bd(),n!==null&&se(Qs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Zi(kt),null;case 25:return null;default:return null}}function B_(n,r){switch(od(r),r.tag){case 3:Zi(kt),oi();break;case 26:case 27:case 5:Vi(r);break;case 4:oi();break;case 13:er(r);break;case 19:se(Mt);break;case 10:Zi(r.type);break;case 22:case 23:er(r),bd(),n!==null&&se(Qs);break;case 24:Zi(kt)}}function kl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){nt(r,r.return,w)}}function kr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=r;var S=a,U=w;try{U()}catch(Y){nt(h,S,Y)}}}l=l.next}while(l!==d)}}catch(Y){nt(r,r.return,Y)}}function z_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Iy(r,a)}catch(l){nt(n,n.return,l)}}}function j_(n,r,a){a.props=Xs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function Ml(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){nt(n,r,h)}}function bi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(n,r,h)}else a.current=null}function q_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(n,n.return,h)}}function $d(n,r,a){try{var l=n.stateNode;wA(l,n.type,a,r),l[Et]=r}catch(h){nt(n,n.return,h)}}function H_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&jr(n.type)||n.tag===4}function Xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||H_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=eh));else if(l!==4&&(l===27&&jr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Wd(n,r,a),n=n.sibling;n!==null;)Wd(n,r,a),n=n.sibling}function Hc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&jr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Hc(n,r,a),n=n.sibling;n!==null;)Hc(n,r,a),n=n.sibling}function F_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Xt(r,l,a),r[Dt]=n,r[Et]=a}catch(d){nt(n,n.return,d)}}var ir=!1,yt=!1,Zd=!1,G_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function eA(n,r){if(n=n.containerInfo,Em=oh,n=ny(n),Xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,S=-1,U=0,Y=0,$=n,z=null;t:for(;;){for(var j;$!==a||h!==0&&$.nodeType!==3||(w=v+h),$!==d||l!==0&&$.nodeType!==3||(S=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(j=$.firstChild)!==null;)z=$,$=j;for(;;){if($===n)break t;if(z===a&&++U===h&&(w=v),z===d&&++Y===l&&(S=v),(j=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=j}a=w===-1||S===-1?null:{start:w,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:n,selectionRange:a},oh=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Xs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ge){nt(a,a.return,ge)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Rm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function Y_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mr(n,a),l&4&&kl(5,a);break;case 1:if(Mr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){nt(a,a.return,v)}else{var h=Xs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&z_(a),l&512&&Ml(a,a.return);break;case 3:if(Mr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Iy(n,r)}catch(v){nt(a,a.return,v)}}break;case 27:r===null&&l&4&&F_(a);case 26:case 5:Mr(n,a),r===null&&l&4&&q_(a),l&512&&Ml(a,a.return);break;case 12:Mr(n,a);break;case 13:Mr(n,a),l&4&&$_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=uA.bind(null,a),IA(n,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){r=r!==null&&r.memoizedState!==null||yt,h=ir;var d=yt;ir=l,(yt=r)&&!d?Vr(n,a,(a.subtreeFlags&8772)!==0):Mr(n,a),ir=h,yt=d}break;case 30:break;default:Mr(n,a)}}function K_(n){var r=n.alternate;r!==null&&(n.alternate=null,K_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Er(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,yn=!1;function rr(n,r,a){for(a=a.child;a!==null;)Q_(n,r,a),a=a.sibling}function Q_(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||bi(a,r),rr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||bi(a,r);var l=lt,h=yn;jr(a.type)&&(lt=a.stateNode,yn=!1),rr(n,r,a),Hl(a.stateNode),lt=l,yn=h;break;case 5:yt||bi(a,r);case 6:if(l=lt,h=yn,lt=null,rr(n,r,a),lt=l,yn=h,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:lt!==null&&(yn?(n=lt,Pv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Wl(n)):Pv(lt,a.stateNode));break;case 4:l=lt,h=yn,lt=a.stateNode.containerInfo,yn=!0,rr(n,r,a),lt=l,yn=h;break;case 0:case 11:case 14:case 15:yt||kr(2,a,r),yt||kr(4,a,r),rr(n,r,a);break;case 1:yt||(bi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,r,l)),rr(n,r,a);break;case 21:rr(n,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,rr(n,r,a),yt=l;break;default:rr(n,r,a)}}function $_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wl(n)}catch(a){nt(r,r.return,a)}}function tA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new G_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new G_),r;default:throw Error(s(435,n.tag))}}function Jd(n,r){var a=tA(n);r.forEach(function(l){var h=cA.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(jr(w.type)){lt=w.stateNode,yn=!1;break e}break;case 5:lt=w.stateNode,yn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,yn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));Q_(d,v,h),lt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)X_(r,n),r=r.sibling}var ti=null;function X_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(r,n),Rn(n),l&4&&(kr(3,n,n.return),kl(3,n),kr(5,n,n.return));break;case 1:Sn(r,n),Rn(n),l&512&&(yt||a===null||bi(a,a.return)),l&64&&ir&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(Sn(r,n),Rn(n),l&512&&(yt||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ss]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Dt]=n,pt(d),l=d;break e;case"link":var v=Fv("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Fv("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Dt]=n,pt(d),l=d}n.stateNode=l}else Gv(h,n.type,n.stateNode);else n.stateNode=Hv(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(h,n.type,n.stateNode):Hv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$d(n,n.memoizedProps,a.memoizedProps)}break;case 27:Sn(r,n),Rn(n),l&512&&(yt||a===null||bi(a,a.return)),a!==null&&l&4&&$d(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Sn(r,n),Rn(n),l&512&&(yt||a===null||bi(a,a.return)),n.flags&32){h=n.stateNode;try{Un(h,"")}catch(j){nt(n,n.return,j)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,$d(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Zd=!0);break;case 6:if(Sn(r,n),Rn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(j){nt(n,n.return,j)}}break;case 3:if(rh=null,h=ti,ti=nh(r.containerInfo),Sn(r,n),ti=h,Rn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(r.containerInfo)}catch(j){nt(n,n.return,j)}Zd&&(Zd=!1,W_(n));break;case 4:l=ti,ti=nh(n.stateNode.containerInfo),Sn(r,n),Rn(n),ti=l;break;case 12:Sn(r,n),Rn(n);break;case 13:Sn(r,n),Rn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sm=Pn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Jd(n,l)));break;case 22:h=n.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,U=ir,Y=yt;if(ir=U||h,yt=Y||S,Sn(r,n),yt=Y,ir=U,Rn(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||S||ir||yt||Ws(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){S=a=r;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=S.stateNode;var $=S.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){nt(S,S.return,j)}}}else if(r.tag===6){if(a===null){S=r;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(j){nt(S,S.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jd(n,a))));break;case 19:Sn(r,n),Rn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Jd(n,l)));break;case 30:break;case 21:break;default:Sn(r,n),Rn(n)}}function Rn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(H_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Xd(n);Hc(n,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Un(v,""),a.flags&=-33);var w=Xd(n);Hc(n,w,v);break;case 3:case 4:var S=a.stateNode.containerInfo,U=Xd(n);Wd(n,U,S);break;default:throw Error(s(161))}}catch(Y){nt(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function W_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;W_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Mr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Y_(n,r.alternate,r),r=r.sibling}function Ws(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:kr(4,r,r.return),Ws(r);break;case 1:bi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&j_(r,r.return,a),Ws(r);break;case 27:Hl(r.stateNode);case 26:case 5:bi(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}n=n.sibling}}function Vr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,a),kl(4,d);break;case 1:if(Vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){nt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)Ry(S[h],w)}catch(U){nt(l,l.return,U)}}a&&v&64&&z_(d),Ml(d,d.return);break;case 27:F_(d);case 26:case 5:Vr(h,d,a),a&&l===null&&v&4&&q_(d),Ml(d,d.return);break;case 12:Vr(h,d,a);break;case 13:Vr(h,d,a),a&&v&4&&$_(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,a),Ml(d,d.return);break;case 30:break;default:Vr(h,d,a)}r=r.sibling}}function em(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&vl(a))}function tm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vl(n))}function Ei(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z_(n,r,a,l),r=r.sibling}function Z_(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(n,r,a,l),h&2048&&kl(9,r);break;case 1:Ei(n,r,a,l);break;case 3:Ei(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vl(n)));break;case 12:if(h&2048){Ei(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(S){nt(r,r.return,S)}}else Ei(n,r,a,l);break;case 13:Ei(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ei(n,r,a,l):Vl(n,r):d._visibility&2?Ei(n,r,a,l):(d._visibility|=2,Qa(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&em(v,r);break;case 24:Ei(n,r,a,l),h&2048&&tm(r.alternate,r);break;default:Ei(n,r,a,l)}}function Qa(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,w=a,S=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,w,S,h),kl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Qa(d,v,w,S,h):Vl(d,v):(Y._visibility|=2,Qa(d,v,w,S,h)),h&&U&2048&&em(v.alternate,v);break;case 24:Qa(d,v,w,S,h),h&&U&2048&&tm(v.alternate,v);break;default:Qa(d,v,w,S,h)}r=r.sibling}}function Vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Vl(a,l),h&2048&&em(l.alternate,l);break;case 24:Vl(a,l),h&2048&&tm(l.alternate,l);break;default:Vl(a,l)}r=r.sibling}}var Pl=8192;function $a(n){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)J_(n),n=n.sibling}function J_(n){switch(n.tag){case 26:$a(n),n.flags&Pl&&n.memoizedState!==null&&zA(ti,n.memoizedState,n.memoizedProps);break;case 5:$a(n);break;case 3:case 4:var r=ti;ti=nh(n.stateNode.containerInfo),$a(n),ti=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Pl,Pl=16777216,$a(n),Pl=r):$a(n));break;default:$a(n)}}function ev(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ll(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,nv(l,n)}ev(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tv(n),n=n.sibling}function tv(n){switch(n.tag){case 0:case 11:case 15:Ll(n),n.flags&2048&&kr(9,n,n.return);break;case 3:Ll(n);break;case 12:Ll(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Fc(n)):Ll(n);break;default:Ll(n)}}function Fc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,nv(l,n)}ev(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:kr(8,r,r.return),Fc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(r));break;default:Fc(r)}n=n.sibling}}function nv(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:kr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(K_(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var nA={getCacheForType:function(n){var r=tn(kt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},iA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,xe=null,Pe=0,$e=0,In=null,Pr=!1,Xa=!1,nm=!1,sr=0,mt=0,Lr=0,Zs=0,im=0,Kn=0,Wa=0,Ul=null,_n=null,rm=!1,sm=0,Gc=1/0,Yc=null,Ur=null,$t=0,Br=null,Za=null,Ja=0,am=0,om=null,iv=null,Bl=0,lm=null;function Cn(){if((Qe&2)!==0&&Pe!==0)return Pe&-Pe;if(G.T!==null){var n=za;return n!==0?n:pm()}return wr()}function rv(){Kn===0&&(Kn=(Pe&536870912)===0||Fe?Qo():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),Kn}function xn(n,r,a){(n===rt&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(eo(n,0),zr(n,Pe,Kn,!1)),Li(n,a),((Qe&2)===0||n!==rt)&&(n===rt&&((Qe&2)===0&&(Zs|=a),mt===4&&zr(n,Pe,Kn,!1)),Ti(n))}function sv(n,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||As(n,r),h=l?aA(n,r):hm(n,r,!0),d=l;do{if(h===0){Xa&&!l&&zr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!rA(a)){h=hm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=n;h=Ul;var S=w.current.memoizedState.isDehydrated;if(S&&(eo(w,v).flags|=256),v=hm(w,v,!1),v!==2){if(nm&&!S){w.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){eo(n,0),zr(n,r,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:zr(l,r,Kn,!Pr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=sm+300-Pn(),10<h)){if(zr(l,r,Kn,!Pr),ya(l,0,!0)!==0)break e;l.timeoutHandle=Mv(av.bind(null,l,a,_n,Yc,rm,r,Kn,Zs,Wa,Pr,d,2,-0,0),h);break e}av(l,a,_n,Yc,rm,r,Kn,Zs,Wa,Pr,d,0,-0,0)}}break}while(!0);Ti(n)}function av(n,r,a,l,h,d,v,w,S,U,Y,$,z,j){if(n.timeoutHandle=-1,$=r.subtreeFlags,($&8192||($&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:BA},J_(r),$=jA(),$!==null)){n.cancelPendingCommit=$(dv.bind(null,n,r,d,a,l,h,v,w,S,Y,1,z,j)),zr(n,d,v,!U);return}dv(n,r,d,a,l,h,v,w,S)}function rA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(n,r,a,l){r&=~im,r&=~Zs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&li(n,a,r)}function Kc(){return(Qe&6)===0?(zl(0),!1):!0}function um(){if(xe!==null){if($e===0)var n=xe.return;else n=xe,Wi=Ys=null,Rd(n),Ya=null,Dl=0,n=xe;for(;n!==null;)B_(n.alternate,n),n=n.return;xe=null}}function eo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,EA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),um(),rt=n,xe=a=Qi(n.current,null),Pe=r,$e=0,In=null,Pr=!1,Xa=As(n,r),nm=!1,Wa=Kn=im=Zs=Lr=mt=0,_n=Ul=null,rm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=n[h],l&=~d}return sr=r,pc(),a}function ov(n,r){Re=null,G.H=Mc,r===bl||r===Ac?(r=Ay(),$e=3):r===by?(r=Ay(),$e=4):$e=r===S_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,xe===null&&(mt=1,Bc(n,qn(r,n.current)))}function lv(){var n=G.H;return G.H=Mc,n===null?Mc:n}function uv(){var n=G.A;return G.A=nA,n}function cm(){mt=4,Pr||(Pe&4194048)!==Pe&&Yn.current!==null||(Xa=!0),(Lr&134217727)===0&&(Zs&134217727)===0||rt===null||zr(rt,Pe,Kn,!1)}function hm(n,r,a){var l=Qe;Qe|=2;var h=lv(),d=uv();(rt!==n||Pe!==r)&&(Yc=null,eo(n,r)),r=!1;var v=mt;e:do try{if($e!==0&&xe!==null){var w=xe,S=In;switch($e){case 8:um(),v=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var U=$e;if($e=0,In=null,to(n,w,S,U),a&&Xa){v=0;break e}break;default:U=$e,$e=0,In=null,to(n,w,S,U)}}sA(),v=mt;break}catch(Y){ov(n,Y)}while(!0);return r&&n.shellSuspendCounter++,Wi=Ys=null,Qe=l,G.H=h,G.A=d,xe===null&&(rt=null,Pe=0,pc()),v}function sA(){for(;xe!==null;)cv(xe)}function aA(n,r){var a=Qe;Qe|=2;var l=lv(),h=uv();rt!==n||Pe!==r?(Yc=null,Gc=Pn()+500,eo(n,r)):Xa=As(n,r);e:do try{if($e!==0&&xe!==null){r=xe;var d=In;t:switch($e){case 1:$e=0,In=null,to(n,r,d,1);break;case 2:case 9:if(Ey(d)){$e=0,In=null,hv(r);break}r=function(){$e!==2&&$e!==9||rt!==n||($e=7),Ti(n)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Ey(d)?($e=0,In=null,hv(r)):($e=0,In=null,to(n,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var w=xe;if(!v||Yv(v)){$e=0,In=null;var S=w.sibling;if(S!==null)xe=S;else{var U=w.return;U!==null?(xe=U,Qc(U)):xe=null}break t}}$e=0,In=null,to(n,r,d,5);break;case 6:$e=0,In=null,to(n,r,d,6);break;case 8:um(),mt=6;break e;default:throw Error(s(462))}}oA();break}catch(Y){ov(n,Y)}while(!0);return Wi=Ys=null,G.H=l,G.A=h,Qe=a,xe!==null?0:(rt=null,Pe=0,pc(),mt)}function oA(){for(;xe!==null&&!Fo();)cv(xe)}function cv(n){var r=L_(n.alternate,n,sr);n.memoizedProps=n.pendingProps,r===null?Qc(n):xe=r}function hv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=O_(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=O_(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:Rd(r);default:B_(a,r),r=xe=fy(r,sr),r=L_(a,r,sr)}n.memoizedProps=n.pendingProps,r===null?Qc(n):xe=r}function to(n,r,a,l){Wi=Ys=null,Rd(r),Ya=null,Dl=0;var h=r.return;try{if(X2(n,h,r,a,Pe)){mt=1,Bc(n,qn(a,n.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;mt=1,Bc(n,qn(a,n.current)),xe=null;return}r.flags&32768?(Fe||l===1?n=!0:Xa||(Pe&536870912)!==0?n=!1:(Pr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fv(r,n)):Qc(r)}function Qc(n){var r=n;do{if((r.flags&32768)!==0){fv(r,Pr);return}n=r.return;var a=Z2(r.alternate,r,sr);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);mt===0&&(mt=5)}function fv(n,r){do{var a=J2(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);mt=6,xe=null}function dv(n,r,a,l,h,d,v,w,S){n.cancelPendingCommit=null;do $c();while($t!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=td,Xo(n,a,d,v,w,S),n===rt&&(xe=rt=null,Pe=0),Za=r,Br=n,Ja=a,am=d,om=h,iv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hA(ws,function(){return _v(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=re.p,re.p=2,v=Qe,Qe|=4;try{eA(n,r,a)}finally{Qe=v,re.p=h,G.T=l}}$t=1,mv(),pv(),gv()}}function mv(){if($t===1){$t=0;var n=Br,r=Za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=Qe;Qe|=4;try{X_(r,n);var d=Tm,v=ny(n.containerInfo),w=d.focusedElem,S=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&ty(w.ownerDocument.documentElement,w)){if(S!==null&&Xf(w)){var U=S.start,Y=S.end;if(Y===void 0&&(Y=U),"selectionStart"in w)w.selectionStart=U,w.selectionEnd=Math.min(Y,w.value.length);else{var $=w.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var j=z.getSelection(),be=w.textContent.length,ge=Math.min(S.start,be),et=S.end===void 0?ge:Math.min(S.end,be);!j.extend&&ge>et&&(v=et,et=ge,ge=v);var M=ey(w,ge),O=ey(w,et);if(M&&O&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var L=$.createRange();L.setStart(M.node,M.offset),j.removeAllRanges(),ge>et?(j.addRange(L),j.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),j.addRange(L))}}}}for($=[],j=w;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var Q=$[w];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}oh=!!Em,Tm=Em=null}finally{Qe=h,re.p=l,G.T=a}}n.current=r,$t=2}}function pv(){if($t===2){$t=0;var n=Br,r=Za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=Qe;Qe|=4;try{Y_(n,r.alternate,r)}finally{Qe=h,re.p=l,G.T=a}}$t=3}}function gv(){if($t===4||$t===3){$t=0,Fu();var n=Br,r=Za,a=Ja,l=iv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Za=Br=null,yv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Ur=null),_a(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,h=re.p,re.p=2,G.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{G.T=r,re.p=h}}(Ja&3)!==0&&$c(),Ti(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===lm?Bl++:(Bl=0,lm=n):Bl=0,zl(0)}}function yv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,vl(r)))}function $c(n){return mv(),pv(),gv(),_v()}function _v(){if($t!==5)return!1;var n=Br,r=am;am=0;var a=_a(Ja),l=G.T,h=re.p;try{re.p=32>a?32:a,G.T=null,a=om,om=null;var d=Br,v=Ja;if($t=0,Za=Br=null,Ja=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,tv(d.current),Z_(d,d.current,v,a),Qe=w,zl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{re.p=h,G.T=l,yv(n,r)}}function vv(n,r,a){r=qn(a,r),r=zd(n.stateNode,r,2),n=xr(n,r,2),n!==null&&(Li(n,2),Ti(n))}function nt(n,r,a){if(n.tag===3)vv(n,n,a);else for(;r!==null;){if(r.tag===3){vv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){n=qn(a,n),a=T_(2),l=xr(r,a,2),l!==null&&(A_(a,l,r,n),Li(l,2),Ti(l));break}}r=r.return}}function fm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new iA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(nm=!0,h.add(a),n=lA.bind(null,n,r,a),r.then(n,n))}function lA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Pe&a)===a&&(mt===4||mt===3&&(Pe&62914560)===Pe&&300>Pn()-sm?(Qe&2)===0&&eo(n,0):im|=a,Wa===Pe&&(Wa=0)),Ti(n)}function wv(n,r){r===0&&(r=$o()),n=Pa(n,r),n!==null&&(Li(n,r),Ti(n))}function uA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),wv(n,a)}function cA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),wv(n,a)}function hA(n,r){return _s(n,r)}var Xc=null,no=null,dm=!1,Wc=!1,mm=!1,Js=0;function Ti(n){n!==no&&n.next===null&&(no===null?Xc=no=n:no=no.next=n),Wc=!0,dm||(dm=!0,dA())}function zl(n,r){if(!mm&&Wc){mm=!0;do for(var a=!1,l=Xc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=h&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Av(l,d))}else d=Pe,d=ya(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||As(l,d)||(a=!0,Av(l,d));l=l.next}while(a);mm=!1}}function fA(){bv()}function bv(){Wc=dm=!1;var n=0;Js!==0&&(bA()&&(n=Js),Js=0);for(var r=Pn(),a=null,l=Xc;l!==null;){var h=l.next,d=Ev(l,r);d===0?(l.next=null,a===null?Xc=h:a.next=h,h===null&&(no=a)):(a=l,(n!==0||(d&3)!==0)&&(Wc=!0)),l=h}zl(n)}function Ev(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-en(d),w=1<<v,S=h[v];S===-1?((w&a)===0||(w&l)!==0)&&(h[v]=Ko(w,r)):S<=r&&(n.expiredLanes|=w),d&=~w}if(r=rt,a=Pe,a=ya(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&($e===2||$e===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||As(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&vs(l),_a(a)){case 2:case 8:a=pa;break;case 32:a=ws;break;case 268435456:a=ga;break;default:a=ws}return l=Tv.bind(null,n),a=_s(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&vs(l),n.callbackPriority=2,n.callbackNode=null,2}function Tv(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if($c()&&n.callbackNode!==a)return null;var l=Pe;return l=ya(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(sv(n,l,r),Ev(n,Pn()),n.callbackNode!=null&&n.callbackNode===a?Tv.bind(null,n):null)}function Av(n,r){if($c())return null;sv(n,r,!0)}function dA(){TA(function(){(Qe&6)!==0?_s(Go,fA):bv()})}function pm(){return Js===0&&(Js=Qo()),Js}function Sv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Aa(""+n)}function Rv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function mA(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Sv((h[Et]||null).action),v=l.submitter;v&&(r=(r=v[Et]||null)?Sv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new Sa("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var S=v?Rv(h,v):new FormData(h);Vd(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(w.preventDefault(),S=v?Rv(h,v):new FormData(h),Vd(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var gm=0;gm<ed.length;gm++){var ym=ed[gm],pA=ym.toLowerCase(),gA=ym[0].toUpperCase()+ym.slice(1);ei(pA,"on"+gA)}ei(sy,"onAnimationEnd"),ei(ay,"onAnimationIteration"),ei(oy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(k2,"onTransitionRun"),ei(M2,"onTransitionStart"),ei(V2,"onTransitionCancel"),ei(ly,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Iv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],S=w.instance,U=w.currentTarget;if(w=w.listener,S!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=U;try{d(h)}catch(Y){Uc(Y)}h.currentTarget=null,d=S}else for(v=0;v<l.length;v++){if(w=l[v],S=w.instance,U=w.currentTarget,w=w.listener,S!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=U;try{d(h)}catch(Y){Uc(Y)}h.currentTarget=null,d=S}}}}function De(n,r){var a=r[Zo];a===void 0&&(a=r[Zo]=new Set);var l=n+"__bubble";a.has(l)||(Cv(r,n,2,!1),a.add(l))}function _m(n,r,a){var l=0;r&&(l|=4),Cv(a,n,l,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function vm(n){if(!n[Zc]){n[Zc]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||_m(a,!1,n),_m(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,_m("selectionchange",!1,r))}}function Cv(n,r,a,l){switch(Zv(r)){case 2:var h=FA;break;case 8:h=GA;break;default:h=km}a=h.bind(null,r,a,n),h=void 0,!zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function wm(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=Ui(w),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=d=v;continue e}w=w.parentNode}}l=l.return}ec(function(){var U=d,Y=Bn(a),$=[];e:{var z=uy.get(n);if(z!==void 0){var j=Sa,be=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":j=Oa;break;case"focusin":be="focus",j=Ca;break;case"focusout":be="blur",j=Ca;break;case"beforeblur":case"afterblur":j=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=lc;break;case sy:case ay:case oy:j=xa;break;case ly:j=cc;break;case"scroll":case"scrollend":j=tc;break;case"wheel":j=Na;break;case"copy":case"cut":case"paste":j=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=hl;break;case"toggle":case"beforetoggle":j=fc}var ge=(r&4)!==0,et=!ge&&(n==="scroll"||n==="scrollend"),M=ge?z!==null?z+"Capture":null:z;ge=[];for(var O=U,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Ns(O,M),Q!=null&&ge.push(ql(O,Q,L))),et)break;O=O.return}0<ge.length&&(z=new j(z,be,null,a,Y),$.push({event:z,listeners:ge}))}}if((r&7)===0){e:{if(z=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",z&&a!==qi&&(be=a.relatedTarget||a.fromElement)&&(Ui(be)||be[Ln]))break e;if((j||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,j?(be=a.relatedTarget||a.toElement,j=U,be=be?Ui(be):null,be!==null&&(et=u(be),ge=be.tag,be!==et||ge!==5&&ge!==27&&ge!==6)&&(be=null)):(j=null,be=U),j!==be)){if(ge=jn,Q="onMouseLeave",M="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(ge=hl,Q="onPointerLeave",M="onPointerEnter",O="pointer"),et=j==null?z:ci(j),L=be==null?z:ci(be),z=new ge(Q,O+"leave",j,a,Y),z.target=et,z.relatedTarget=L,Q=null,Ui(Y)===U&&(ge=new ge(M,O+"enter",be,a,Y),ge.target=L,ge.relatedTarget=et,Q=ge),et=Q,j&&be)t:{for(ge=j,M=be,O=0,L=ge;L;L=io(L))O++;for(L=0,Q=M;Q;Q=io(Q))L++;for(;0<O-L;)ge=io(ge),O--;for(;0<L-O;)M=io(M),L--;for(;O--;){if(ge===M||M!==null&&ge===M.alternate)break t;ge=io(ge),M=io(M)}ge=null}else ge=null;j!==null&&xv($,z,j,ge,!1),be!==null&&et!==null&&xv($,et,be,ge,!0)}}e:{if(z=U?ci(U):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var oe=Qg;else if(Nt(z))if($g)oe=D2;else{oe=C2;var Ce=I2}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&rl(U.elementType)&&(oe=Qg):oe=x2;if(oe&&(oe=oe(n,U))){Ki($,oe,a,Y);break e}Ce&&Ce(n,z,U),n==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Ar(z,"number",z.value)}switch(Ce=U?ci(U):window,n){case"focusin":(Nt(Ce)||Ce.contentEditable==="true")&&(ka=Ce,Wf=U,ml=null);break;case"focusout":ml=Wf=ka=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,iy($,a,Y);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":iy($,a,Y)}var le;if(yi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(le=al()):(di=Y,Sr="value"in di?di.value:di.textContent,Me=!0)),Ce=Jc(U,_e),0<Ce.length&&(_e=new ul(_e,n,null,a,Y),$.push({event:_e,listeners:Ce}),le?_e.data=le:(le=ne(a),le!==null&&(_e.data=le)))),(le=p?Ot(n,a):Ve(n,a))&&(_e=Jc(U,"onBeforeInput"),0<_e.length&&(Ce=new ul("onBeforeInput","beforeinput",null,a,Y),$.push({event:Ce,listeners:_e}),Ce.data=le)),mA($,n,U,a,Y)}Iv($,r)})}function ql(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Jc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ns(n,a),h!=null&&l.unshift(ql(n,h,d)),h=Ns(n,r),h!=null&&l.push(ql(n,h,d))),n.tag===3)return l;n=n.return}return[]}function io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xv(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,S=w.alternate,U=w.stateNode;if(w=w.tag,S!==null&&S===l)break;w!==5&&w!==26&&w!==27||U===null||(S=U,h?(U=Ns(a,d),U!=null&&v.unshift(ql(a,U,S))):h||(U=Ns(a,d),U!=null&&v.push(ql(a,U,S)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function Dv(n){return(typeof n=="string"?n:""+n).replace(_A,`
`).replace(vA,"")}function Ov(n,r){return r=Dv(r),Dv(n)===r}function eh(){}function Je(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Un(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Un(n,""+l);break;case"className":hi(n,"class",l);break;case"tabIndex":hi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(n,a,l);break;case"style":il(n,l,d);break;case"data":if(r!=="object"){hi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",h.name,h,null),Je(n,r,"formEncType",h.formEncType,h,null),Je(n,r,"formMethod",h.formMethod,h,null),Je(n,r,"formTarget",h.formTarget,h,null)):(Je(n,r,"encType",h.encType,h,null),Je(n,r,"method",h.method,h,null),Je(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Aa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=eh);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Aa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),Tr(n,"popover",l);break;case"xlinkActuate":Yt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ff.get(a)||a,Tr(n,a,l))}}function bm(n,r,a,l,h,d){switch(a){case"style":il(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Un(n,l):(typeof l=="number"||typeof l=="bigint")&&Un(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Tr(n,a,l)}}}function Xt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,d,v,a,null)}}h&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":De("invalid",n);var w=d=v=h=null,S=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":S=Y;break;case"defaultChecked":U=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Je(n,r,l,Y,a,null)}}xs(n,d,w,S,U,v,h,!1),Ta(n);return;case"select":De("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Je(n,r,h,w,a,null)}r=d,a=v,n.multiple=!!l,r!=null?ji(n,!!l,r,!1):a!=null&&ji(n,!!l,a,!0);return;case"textarea":De("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(n,r,v,w,a,null)}Ds(n,l,h,d),Ta(n);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,S,l,a,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<jl.length;l++)De(jl[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,U,l,a,null)}return;default:if(rl(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&bm(n,r,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(n,r,w,l,a,null))}function wA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,w=null,S=null,U=null,Y=null;for(j in a){var $=a[j];if(a.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=$;default:l.hasOwnProperty(j)||Je(n,r,j,null,l,$)}}for(var z in l){var j=l[z];if($=a[z],l.hasOwnProperty(z)&&(j!=null||$!=null))switch(z){case"type":d=j;break;case"name":h=j;break;case"checked":U=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":w=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==$&&Je(n,r,z,j,l,$)}}En(n,v,w,S,U,Y,d,h);return;case"select":j=v=w=z=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":j=S;default:l.hasOwnProperty(d)||Je(n,r,d,null,l,S)}for(h in l)if(d=l[h],S=a[h],l.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":z=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==S&&Je(n,r,h,d,l,S)}r=w,a=v,l=j,z!=null?ji(n,!!a,z,!1):!!l!=!!a&&(r!=null?ji(n,!!a,r,!0):ji(n,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(n,r,w,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(n,r,v,h,l,d)}We(n,z,j);return;case"option":for(var be in a)if(z=a[be],a.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Je(n,r,be,null,l,z)}for(S in l)if(z=l[S],j=a[S],l.hasOwnProperty(S)&&z!==j&&(z!=null||j!=null))switch(S){case"selected":n.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(n,r,S,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)z=a[ge],a.hasOwnProperty(ge)&&z!=null&&!l.hasOwnProperty(ge)&&Je(n,r,ge,null,l,z);for(U in l)if(z=l[U],j=a[U],l.hasOwnProperty(U)&&z!==j&&(z!=null||j!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,r));break;default:Je(n,r,U,z,l,j)}return;default:if(rl(r)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&bm(n,r,et,void 0,l,z);for(Y in l)z=l[Y],j=a[Y],!l.hasOwnProperty(Y)||z===j||z===void 0&&j===void 0||bm(n,r,Y,z,l,j);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Je(n,r,M,null,l,z);for($ in l)z=l[$],j=a[$],!l.hasOwnProperty($)||z===j||z==null&&j==null||Je(n,r,$,z,l,j)}var Em=null,Tm=null;function th(n){return n.nodeType===9?n:n.ownerDocument}function Nv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Am(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sm=null;function bA(){var n=window.event;return n&&n.type==="popstate"?n===Sm?!1:(Sm=n,!0):(Sm=null,!1)}var Mv=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(n){return Vv.resolve(null).then(n).catch(AA)}:Mv;function AA(n){setTimeout(function(){throw n})}function jr(n){return n==="head"}function Pv(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Hl(v.documentElement),a&2&&Hl(v.body),a&4)for(a=v.head,Hl(a),v=a.firstChild;v;){var w=v.nextSibling,S=v.nodeName;v[Ss]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(h===0){n.removeChild(d),Wl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Wl(r)}function Rm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rm(a),Er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function SA(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ss])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ni(n.nextSibling),n===null)break}return null}function RA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ni(n.nextSibling),n===null))return null;return n}function Im(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function IA(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ni(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Cm=null;function Lv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Uv(n,r,a){switch(r=th(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Hl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Er(n)}var Qn=new Map,Bv=new Set;function nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ar=re.d;re.d={f:CA,r:xA,D:DA,C:OA,L:NA,m:kA,X:VA,S:MA,M:PA};function CA(){var n=ar.f(),r=Kc();return n||r}function xA(n){var r=ui(n);r!==null&&r.tag===5&&r.type==="form"?s_(r):ar.r(n)}var ro=typeof document>"u"?null:document;function zv(n,r,a){var l=ro;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Bv.has(h)||(Bv.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Xt(r,"link",n),pt(r),l.head.appendChild(r)))}}function DA(n){ar.D(n),zv("dns-prefetch",n,null)}function OA(n,r){ar.C(n,r),zv("preconnect",n,r)}function NA(n,r,a){ar.L(n,r,a);var l=ro;if(l&&n&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(n)+'"]';var d=h;switch(r){case"style":d=so(n);break;case"script":d=ao(n)}Qn.has(d)||(n=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Qn.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Fl(d))||r==="script"&&l.querySelector(Gl(d))||(r=l.createElement("link"),Xt(r,"link",n),pt(r),l.head.appendChild(r)))}}function kA(n,r){ar.m(n,r);var a=ro;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ao(n)}if(!Qn.has(d)&&(n=b({rel:"modulepreload",href:n},r),Qn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),Xt(l,"link",n),pt(l),a.head.appendChild(l)}}}function MA(n,r,a){ar.S(n,r,a);var l=ro;if(l&&n){var h=ln(l).hoistableStyles,d=so(n);r=r||"default";var v=h.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Fl(d)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Qn.get(d))&&xm(n,a);var S=v=l.createElement("link");pt(S),Xt(S,"link",n),S._p=new Promise(function(U,Y){S.onload=U,S.onerror=Y}),S.addEventListener("load",function(){w.loading|=1}),S.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ih(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(d,v)}}}function VA(n,r){ar.X(n,r);var a=ro;if(a&&n){var l=ln(a).hoistableScripts,h=ao(n),d=l.get(h);d||(d=a.querySelector(Gl(h)),d||(n=b({src:n,async:!0},r),(r=Qn.get(h))&&Dm(n,r),d=a.createElement("script"),pt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PA(n,r){ar.M(n,r);var a=ro;if(a&&n){var l=ln(a).hoistableScripts,h=ao(n),d=l.get(h);d||(d=a.querySelector(Gl(h)),d||(n=b({src:n,async:!0,type:"module"},r),(r=Qn.get(h))&&Dm(n,r),d=a.createElement("script"),pt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jv(n,r,a,l){var h=(h=Ee.current)?nh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=so(a.href),a=ln(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=so(a.href);var d=ln(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Fl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),d||LA(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(a),a=ln(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function so(n){return'href="'+Tt(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function qv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function LA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),pt(r),n.head.appendChild(r))}function ao(n){return'[src="'+Tt(n)+'"]'}function Gl(n){return"script[async]"+n}function Hv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),pt(l),Xt(l,"style",h),ih(l,a.precedence,n),r.instance=l;case"stylesheet":h=so(a.href);var d=n.querySelector(Fl(h));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=qv(a),(h=Qn.get(h))&&xm(l,h),d=(n.ownerDocument||n).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(w,S){v.onload=w,v.onerror=S}),Xt(d,"link",l),r.state.loading|=4,ih(d,a.precedence,n),r.instance=d;case"script":return d=ao(a.src),(h=n.querySelector(Gl(d)))?(r.instance=h,pt(h),h):(l=a,(h=Qn.get(d))&&(l=b({},a),Dm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),pt(h),Xt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ih(l,a.precedence,n));return r.instance}function ih(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function xm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var rh=null;function Fv(n,r,a){if(rh===null){var l=new Map,h=rh=new Map;h.set(a,l)}else h=rh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Ss]||d[Dt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function Gv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function UA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Yv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Yl=null;function BA(){}function zA(n,r,a){if(Yl===null)throw Error(s(475));var l=Yl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=so(a.href),d=n.querySelector(Fl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=sh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=qv(a),(h=Qn.get(h))&&xm(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(w,S){v.onload=w,v.onerror=S}),Xt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=sh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function jA(){if(Yl===null)throw Error(s(475));var n=Yl;return n.stylesheets&&n.count===0&&Om(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Om(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ah=null;function Om(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ah=new Map,r.forEach(qA,n),ah=null,sh.call(n))}function qA(n,r){if(!(r.state.loading&4)){var a=ah.get(n);if(a)var l=a.get(null);else{a=new Map,ah.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=sh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Kl={$$typeof:he,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function HA(n,r,a,l,h,d,v,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Kv(n,r,a,l,h,d,v,w,S,U,Y,$){return n=new HA(n,r,a,v,w,S,U,$),r=1,d===!0&&(r|=24),d=An(3,null,null,r),n.current=d,d.stateNode=n,r=fd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},gd(d),n}function Qv(n){return n?(n=La,n):La}function $v(n,r,a,l,h,d){h=Qv(h),l.context===null?l.context=h:l.pendingContext=h,l=Cr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(n,l,r),a!==null&&(xn(a,n,r),Tl(a,n,r))}function Xv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Nm(n,r){Xv(n,r),(n=n.alternate)&&Xv(n,r)}function Wv(n){if(n.tag===13){var r=Pa(n,67108864);r!==null&&xn(r,n,67108864),Nm(n,67108864)}}var oh=!0;function FA(n,r,a,l){var h=G.T;G.T=null;var d=re.p;try{re.p=2,km(n,r,a,l)}finally{re.p=d,G.T=h}}function GA(n,r,a,l){var h=G.T;G.T=null;var d=re.p;try{re.p=8,km(n,r,a,l)}finally{re.p=d,G.T=h}}function km(n,r,a,l){if(oh){var h=Mm(l);if(h===null)wm(n,r,l,lh,a),Jv(n,l);else if(KA(h,n,r,a,l))l.stopPropagation();else if(Jv(n,l),r&4&&-1<YA.indexOf(n)){for(;h!==null;){var d=ui(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Wn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var S=1<<31-en(v);w.entanglements[1]|=S,v&=~S}Ti(d),(Qe&6)===0&&(Gc=Pn()+500,zl(0))}}break;case 13:w=Pa(d,2),w!==null&&xn(w,d,2),Kc(),Nm(d,2)}if(d=Mm(l),d===null&&wm(n,r,l,lh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wm(n,r,l,null,a)}}function Mm(n){return n=Bn(n),Vm(n)}var lh=null;function Vm(n){if(lh=null,n=Ui(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return lh=n,null}function Zv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uf()){case Go:return 2;case pa:return 8;case ws:case Bf:return 32;case ga:return 268435456;default:return 32}default:return 32}}var Pm=!1,qr=null,Hr=null,Fr=null,Ql=new Map,$l=new Map,Gr=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(n,r){switch(n){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Xl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ui(r),r!==null&&Wv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function KA(n,r,a,l,h){switch(r){case"focusin":return qr=Xl(qr,n,r,a,l,h),!0;case"dragenter":return Hr=Xl(Hr,n,r,a,l,h),!0;case"mouseover":return Fr=Xl(Fr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ql.set(d,Xl(Ql.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Xl($l.get(d)||null,n,r,a,l,h)),!0}return!1}function ew(n){var r=Ui(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,Ku(n.priority,function(){if(a.tag===13){var l=Cn();l=vr(l);var h=Pa(a,l);h!==null&&xn(h,a,l),Nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return r=ui(a),r!==null&&Wv(r),n.blockedOn=a,!1;r.shift()}return!0}function tw(n,r,a){uh(n)&&a.delete(r)}function QA(){Pm=!1,qr!==null&&uh(qr)&&(qr=null),Hr!==null&&uh(Hr)&&(Hr=null),Fr!==null&&uh(Fr)&&(Fr=null),Ql.forEach(tw),$l.forEach(tw)}function ch(n,r){n.blockedOn===r&&(n.blockedOn=null,Pm||(Pm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,QA)))}var hh=null;function nw(n){hh!==n&&(hh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===n&&(hh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var d=ui(a);d!==null&&(n.splice(r,3),r-=3,Vd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wl(n){function r(S){return ch(S,n)}qr!==null&&ch(qr,n),Hr!==null&&ch(Hr,n),Fr!==null&&ch(Fr,n),Ql.forEach(r),$l.forEach(r);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)ew(a),a.blockedOn===null&&Gr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Et]||null;if(typeof d=="function")v||nw(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)w=v.formAction;else if(Vm(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),nw(a)}}}function Lm(n){this._internalRoot=n}fh.prototype.render=Lm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();$v(a,l,n,r,null,null)},fh.prototype.unmount=Lm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;$v(n.current,2,null,n,null,null),Kc(),r[Ln]=null}};function fh(n){this._internalRoot=n}fh.prototype.unstable_scheduleHydration=function(n){if(n){var r=wr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Gr.length&&r!==0&&r<Gr[a].priority;a++);Gr.splice(a,0,n),a===0&&ew(n)}};var iw=e.version;if(iw!=="19.1.1")throw Error(s(527,iw,"19.1.1"));re.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var $A={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{ft=dh.inject($A),Ke=dh}catch{}}return Jl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=v_,d=w_,v=b_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Kv(n,1,!1,null,null,a,l,h,d,v,w,null),n[Ln]=r.current,vm(n),new Lm(r)},Jl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=v_,v=w_,w=b_,S=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=Kv(n,1,!0,r,a??null,l,h,d,v,w,S,U),r.context=Qv(null),a=r.current,l=Cn(),l=vr(l),h=Cr(l),h.callback=null,xr(a,h,l),a=l,r.current.lanes=a,Li(r,a),Ti(r),n[Ln]=r.current,vm(n),new fh(r)},Jl.version="19.1.1",Jl}var dw;function s1(){if(dw)return zm.exports;dw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=r1(),zm.exports}var a1=s1();const mh={"auth/invalid-email":"El correo electrnico no es vlido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contrasea es incorrecta.","auth/email-already-in-use":"El correo ya est registrado.","auth/weak-password":"La contrasea es demasiado dbil.","auth/missing-password":"Debes ingresar una contrasea.","auth/too-many-requests":"Demasiados intentos. Intenta ms tarde.","auth/network-request-failed":"Error de red. Verifica tu conexin.","auth/invalid-credential":"Las credenciales ingresadas no son vlidas."};function Fm(i){return i?typeof i=="string"&&mh[i]?mh[i]:i.code&&mh[i.code]?mh[i.code]:i.message||"Error desconocido.":"Error desconocido."}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function sb(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function o1(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mw(i,e){return i.get(sb(i,e))}function l1(i,e,t){o1(i,e),e.set(i,t)}function u1(i,e,t){return i.set(sb(i,e),t),t}const c1=100,pe={},h1=()=>{pe.previousActiveElement instanceof HTMLElement?(pe.previousActiveElement.focus(),pe.previousActiveElement=null):document.body&&document.body.focus()},f1=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;pe.restoreFocusTimeout=setTimeout(()=>{h1(),e()},c1),window.scrollTo(t,s)}),ab="swal2-",d1=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],F=d1.reduce((i,e)=>(i[e]=ab+e,i),{}),m1=["success","warning","info","question","error"],kh=m1.reduce((i,e)=>(i[e]=ab+e,i),{}),ob="SweetAlert2:",Mp=i=>i.charAt(0).toUpperCase()+i.slice(1),mn=i=>{console.warn(`${ob} ${typeof i=="object"?i.join(" "):i}`)},ha=i=>{console.error(`${ob} ${i}`)},pw=[],p1=i=>{pw.includes(i)||(pw.push(i),mn(i))},lb=(i,e=null)=>{p1(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},hf=i=>typeof i=="function"?i():i,Vp=i=>i&&typeof i.toPromise=="function",Su=i=>Vp(i)?i.toPromise():Promise.resolve(i),Pp=i=>i&&Promise.resolve(i)===i,pn=()=>document.body.querySelector(`.${F.container}`),Ru=i=>{const e=pn();return e?e.querySelector(i):null},Mn=i=>Ru(`.${i}`),ze=()=>Mn(F.popup),Oo=()=>Mn(F.icon),g1=()=>Mn(F["icon-content"]),ub=()=>Mn(F.title),Lp=()=>Mn(F["html-container"]),cb=()=>Mn(F.image),Up=()=>Mn(F["progress-steps"]),ff=()=>Mn(F["validation-message"]),Ni=()=>Ru(`.${F.actions} .${F.confirm}`),No=()=>Ru(`.${F.actions} .${F.cancel}`),fa=()=>Ru(`.${F.actions} .${F.deny}`),y1=()=>Mn(F["input-label"]),ko=()=>Ru(`.${F.loader}`),Iu=()=>Mn(F.actions),hb=()=>Mn(F.footer),df=()=>Mn(F["timer-progress-bar"]),Bp=()=>Mn(F.close),_1=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,zp=()=>{const i=ze();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,f)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(f.getAttribute("tabindex")||"0");return m>g?1:m<g?-1:0}),s=i.querySelectorAll(_1),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>wn(u))},jp=()=>ur(document.body,F.shown)&&!ur(document.body,F["toast-shown"])&&!ur(document.body,F["no-backdrop"]),mf=()=>{const i=ze();return i?ur(i,F.toast):!1},v1=()=>{const i=ze();return i?i.hasAttribute("data-loading"):!1},Vn=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{i.appendChild(f)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?i.appendChild(f.cloneNode(!0)):i.appendChild(f)})}},ur=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},w1=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(F).includes(t)&&!Object.values(kh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},kn=(i,e,t)=>{if(w1(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){mn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ge(i,s)}},pf=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${F.popup} > .${F[e]}`);case"checkbox":return i.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return i.querySelector(`.${F.popup} > .${F.radio} input:checked`)||i.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return i.querySelector(`.${F.popup} > .${F.range} input`);default:return i.querySelector(`.${F.popup} > .${F.input}`)}},fb=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},db=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},Ge=(i,e)=>{db(i,e,!0)},Xn=(i,e)=>{db(i,e,!1)},Zr=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&ur(o,e))return o}},ia=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},Ft=(i,e="flex")=>{i&&(i.style.display=e)},an=i=>{i&&(i.style.display="none")},qp=(i,e="block")=>{i&&new MutationObserver(()=>{Cu(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},gw=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},Cu=(i,e,t="flex")=>{e?Ft(i,t):an(i)},wn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),b1=()=>!wn(Ni())&&!wn(fa())&&!wn(No()),ap=i=>i.scrollHeight>i.clientHeight,E1=(i,e)=>{let t=i;for(;t&&t!==e;){if(ap(t))return!0;t=t.parentElement}return!1},mb=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},Hp=(i,e=!1)=>{const t=df();t&&wn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},T1=()=>{const i=df();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},A1=()=>typeof window>"u"||typeof document>"u",S1=`
 <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">
   <button type="button" class="${F.close}"></button>
   <ul class="${F["progress-steps"]}"></ul>
   <div class="${F.icon}"></div>
   <img class="${F.image}" />
   <h2 class="${F.title}" id="${F.title}"></h2>
   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>
   <input class="${F.input}" id="${F.input}" />
   <input type="file" class="${F.file}" />
   <div class="${F.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${F.select}" id="${F.select}"></select>
   <div class="${F.radio}"></div>
   <label class="${F.checkbox}">
     <input type="checkbox" id="${F.checkbox}" />
     <span class="${F.label}"></span>
   </label>
   <textarea class="${F.textarea}" id="${F.textarea}"></textarea>
   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>
   <div class="${F.actions}">
     <div class="${F.loader}"></div>
     <button type="button" class="${F.confirm}"></button>
     <button type="button" class="${F.deny}"></button>
     <button type="button" class="${F.cancel}"></button>
   </div>
   <div class="${F.footer}"></div>
   <div class="${F["timer-progress-bar-container"]}">
     <div class="${F["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),R1=()=>{const i=pn();return i?(i.remove(),Xn([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0):!1},ea=()=>{pe.currentInstance.resetValidationMessage()},I1=()=>{const i=ze(),e=Zr(i,F.input),t=Zr(i,F.file),s=i.querySelector(`.${F.range} input`),o=i.querySelector(`.${F.range} output`),u=Zr(i,F.select),f=i.querySelector(`.${F.checkbox} input`),m=Zr(i,F.textarea);e.oninput=ea,t.onchange=ea,u.onchange=ea,f.onchange=ea,m.oninput=ea,s.oninput=()=>{ea(),o.value=s.value},s.onchange=()=>{ea(),o.value=s.value}},C1=i=>typeof i=="string"?document.querySelector(i):i,x1=i=>{const e=ze();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},D1=i=>{window.getComputedStyle(i).direction==="rtl"&&Ge(pn(),F.rtl)},O1=i=>{const e=R1();if(A1()){ha("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=F.container,e&&Ge(t,F["no-transition"]),Vn(t,S1),t.dataset.swal2Theme=i.theme;const s=C1(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),x1(i),D1(s),I1()},Fp=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?N1(i,e):i&&Vn(e,i)},N1=(i,e)=>{i.jquery?k1(e,i):Vn(e,i.toString())},k1=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},M1=(i,e)=>{const t=Iu(),s=ko();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?an(t):Ft(t),kn(t,e,"actions"),V1(t,s,e),Vn(s,e.loaderHtml||""),kn(s,e,"loader"))};function V1(i,e,t){const s=Ni(),o=fa(),u=No();!s||!o||!u||(Ym(s,"confirm",t),Ym(o,"deny",t),Ym(u,"cancel",t),P1(s,o,u,t),t.reverseButtons&&(t.toast?(i.insertBefore(u,s),i.insertBefore(o,s)):(i.insertBefore(u,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function P1(i,e,t,s){if(!s.buttonsStyling){Xn([i,e,t],F.styled);return}Ge([i,e,t],F.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),Gm(i),Gm(e),Gm(t)}function Gm(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Ym(i,e,t){const s=Mp(e);Cu(i,t[`show${s}Button`],"inline-block"),Vn(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=F[e],kn(i,t,`${e}Button`)}const L1=(i,e)=>{const t=Bp();t&&(Vn(t,e.closeButtonHtml||""),kn(t,e,"closeButton"),Cu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},U1=(i,e)=>{const t=pn();t&&(B1(t,e.backdrop),z1(t,e.position),j1(t,e.grow),kn(t,e,"container"))};function B1(i,e){typeof e=="string"?i.style.background=e:e||Ge([document.documentElement,document.body],F["no-backdrop"])}function z1(i,e){e&&(e in F?Ge(i,F[e]):(mn('The "position" parameter is not valid, defaulting to "center"'),Ge(i,F.center)))}function j1(i,e){e&&Ge(i,F[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const q1=["input","file","range","select","radio","checkbox","textarea"],H1=(i,e)=>{const t=ze();if(!t)return;const s=st.innerParams.get(i),o=!s||e.input!==s.input;q1.forEach(u=>{const f=Zr(t,F[u]);f&&(Y1(u,e.inputAttributes),f.className=F[u],o&&an(f))}),e.input&&(o&&F1(e),K1(e))},F1=i=>{if(!i.input)return;if(!_t[i.input]){ha(`Unexpected type of input! Expected ${Object.keys(_t).join(" | ")}, got "${i.input}"`);return}const e=pb(i.input);if(!e)return;const t=_t[i.input](e,i);Ft(e),i.inputAutoFocus&&setTimeout(()=>{fb(t)})},G1=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},Y1=(i,e)=>{const t=ze();if(!t)return;const s=pf(t,i);if(s){G1(s);for(const o in e)s.setAttribute(o,e[o])}},K1=i=>{if(!i.input)return;const e=pb(i.input);e&&kn(e,i,"input")},Gp=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},xu=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=F["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&Ge(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},pb=i=>{const e=ze();if(e)return Zr(e,F[i]||F.input)},Mh=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Pp(e)||mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},_t={};_t.text=_t.email=_t.password=_t.number=_t.tel=_t.url=_t.search=_t.date=_t["datetime-local"]=_t.time=_t.week=_t.month=(i,e)=>(Mh(i,e.inputValue),xu(i,i,e),Gp(i,e),i.type=e.input,i);_t.file=(i,e)=>(xu(i,i,e),Gp(i,e),i);_t.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return Mh(t,e.inputValue),t.type=e.input,Mh(s,e.inputValue),xu(t,i,e),i};_t.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Vn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return xu(i,i,e),i};_t.radio=i=>(i.textContent="",i);_t.checkbox=(i,e)=>{const t=pf(ze(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Vn(s,e.inputPlaceholder||e.inputLabel),t};_t.textarea=(i,e)=>{Mh(i,e.inputValue),Gp(i,e),xu(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(ze()).width),o=()=>{if(!document.body.contains(i))return;const u=i.offsetWidth+t(i);u>s?ze().style.width=`${u}px`:ia(ze(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const Q1=(i,e)=>{const t=Lp();t&&(qp(t),kn(t,e,"htmlContainer"),e.html?(Fp(e.html,t),Ft(t,"block")):e.text?(t.textContent=e.text,Ft(t,"block")):an(t),H1(i,e))},$1=(i,e)=>{const t=hb();t&&(qp(t),Cu(t,e.footer,"block"),e.footer&&Fp(e.footer,t),kn(t,e,"footer"))},X1=(i,e)=>{const t=st.innerParams.get(i),s=Oo();if(!s)return;if(t&&e.icon===t.icon){_w(s,e),yw(s,e);return}if(!e.icon&&!e.iconHtml){an(s);return}if(e.icon&&Object.keys(kh).indexOf(e.icon)===-1){ha(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),an(s);return}Ft(s),_w(s,e),yw(s,e),Ge(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",gb)},yw=(i,e)=>{for(const[t,s]of Object.entries(kh))e.icon!==t&&Xn(i,s);Ge(i,e.icon&&kh[e.icon]),J1(i,e),gb(),kn(i,e,"icon")},gb=()=>{const i=ze();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},W1=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Z1=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,_w=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=vw(e.iconHtml):e.icon==="success"?(s=W1(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=Z1:e.icon&&(s=vw({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Vn(i,s)},J1=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])gw(i,t,"background-color",e.iconColor);gw(i,".swal2-success-ring","border-color",e.iconColor)}},vw=i=>`<div class="${F["icon-content"]}">${i}</div>`,eS=(i,e)=>{const t=cb();if(t){if(!e.imageUrl){an(t);return}Ft(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ia(t,"width",e.imageWidth),ia(t,"height",e.imageHeight),t.className=F.image,kn(t,e,"image")}};let Yp=!1,yb=0,_b=0,vb=0,wb=0;const tS=i=>{i.addEventListener("mousedown",Vh),document.body.addEventListener("mousemove",Ph),i.addEventListener("mouseup",Lh),i.addEventListener("touchstart",Vh),document.body.addEventListener("touchmove",Ph),i.addEventListener("touchend",Lh)},nS=i=>{i.removeEventListener("mousedown",Vh),document.body.removeEventListener("mousemove",Ph),i.removeEventListener("mouseup",Lh),i.removeEventListener("touchstart",Vh),document.body.removeEventListener("touchmove",Ph),i.removeEventListener("touchend",Lh)},Vh=i=>{const e=ze();if(i.target===e||Oo().contains(i.target)){Yp=!0;const t=bb(i);yb=t.clientX,_b=t.clientY,vb=parseInt(e.style.insetInlineStart)||0,wb=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},Ph=i=>{const e=ze();if(Yp){let{clientX:t,clientY:s}=bb(i);e.style.insetInlineStart=`${vb+(t-yb)}px`,e.style.insetBlockStart=`${wb+(s-_b)}px`}},Lh=()=>{const i=ze();Yp=!1,Xn(i,"swal2-dragging")},bb=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},iS=(i,e)=>{const t=pn(),s=ze();if(!(!t||!s)){if(e.toast){ia(t,"width",e.width),s.style.width="100%";const o=ko();o&&s.insertBefore(o,Oo())}else ia(s,"width",e.width);ia(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),an(ff()),rS(s,e),e.draggable&&!e.toast?(Ge(s,F.draggable),tS(s)):(Xn(s,F.draggable),nS(s))}},rS=(i,e)=>{const t=e.showClass||{};i.className=`${F.popup} ${wn(i)?t.popup:""}`,e.toast?(Ge([document.documentElement,document.body],F["toast-shown"]),Ge(i,F.toast)):Ge(i,F.modal),kn(i,e,"popup"),typeof e.customClass=="string"&&Ge(i,e.customClass),e.icon&&Ge(i,F[`icon-${e.icon}`])},sS=(i,e)=>{const t=Up();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){an(t);return}Ft(t),t.textContent="",o>=s.length&&mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,f)=>{const m=aS(u);if(t.appendChild(m),f===o&&Ge(m,F["active-progress-step"]),f!==s.length-1){const g=oS(e);t.appendChild(g)}})},aS=i=>{const e=document.createElement("li");return Ge(e,F["progress-step"]),Vn(e,i),e},oS=i=>{const e=document.createElement("li");return Ge(e,F["progress-step-line"]),i.progressStepsDistance&&ia(e,"width",i.progressStepsDistance),e},lS=(i,e)=>{const t=ub();t&&(qp(t),Cu(t,e.title||e.titleText,"block"),e.title&&Fp(e.title,t),e.titleText&&(t.innerText=e.titleText),kn(t,e,"title"))},Eb=(i,e)=>{iS(i,e),U1(i,e),sS(i,e),X1(i,e),eS(i,e),lS(i,e),L1(i,e),Q1(i,e),M1(i,e),$1(i,e);const t=ze();typeof e.didRender=="function"&&t&&e.didRender(t),pe.eventEmitter.emit("didRender",t)},uS=()=>wn(ze()),Tb=()=>{var i;return(i=Ni())===null||i===void 0?void 0:i.click()},cS=()=>{var i;return(i=fa())===null||i===void 0?void 0:i.click()},hS=()=>{var i;return(i=No())===null||i===void 0?void 0:i.click()},Mo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ab=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},fS=(i,e,t)=>{Ab(i),e.toast||(i.keydownHandler=s=>mS(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:ze(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},op=(i,e)=>{var t;const s=zp();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=ze())===null||t===void 0||t.focus()},Sb=["ArrowRight","ArrowDown"],dS=["ArrowLeft","ArrowUp"],mS=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?pS(e,i):e.key==="Tab"?gS(e):[...Sb,...dS].includes(e.key)?yS(e.key):e.key==="Escape"&&_S(e,i,t)))},pS=(i,e)=>{if(!hf(e.allowEnterKey))return;const t=pf(ze(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;Tb(),i.preventDefault()}},gS=i=>{const e=i.target,t=zp();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?op(s,-1):op(s,1),i.stopPropagation(),i.preventDefault()},yS=i=>{const e=Iu(),t=Ni(),s=fa(),o=No();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=Sb.includes(i)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let g=0;g<e.children.length;g++){if(m=m[f],!m)return;if(m instanceof HTMLButtonElement&&wn(m))break}m instanceof HTMLButtonElement&&m.focus()}},_S=(i,e,t)=>{i.preventDefault(),hf(e.allowEscapeKey)&&t(Mo.esc)};var bo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const vS=()=>{const i=pn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Rb=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Ib=typeof window<"u"&&!!window.GestureEvent,wS=()=>{if(Ib&&!ur(document.body,F.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Ge(document.body,F.iosfix),bS()}},bS=()=>{const i=pn();if(!i)return;let e;i.ontouchstart=t=>{e=ES(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},ES=i=>{const e=i.target,t=pn(),s=Lp();return!t||!s||TS(i)||AS(i)?!1:e===t||!ap(t)&&e instanceof HTMLElement&&!E1(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(ap(s)&&s.contains(e))},TS=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",AS=i=>i.touches&&i.touches.length>1,SS=()=>{if(ur(document.body,F.iosfix)){const i=parseInt(document.body.style.top,10);Xn(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},RS=()=>{const i=document.createElement("div");i.className=F["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let mo=null;const IS=i=>{mo===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(mo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${mo+RS()}px`)},CS=()=>{mo!==null&&(document.body.style.paddingRight=`${mo}px`,mo=null)};function Cb(i,e,t,s){mf()?ww(i,s):(f1(t).then(()=>ww(i,s)),Ab(pe)),Ib?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),jp()&&(CS(),SS(),Rb()),xS()}function xS(){Xn([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}function Jr(i){i=OS(i);const e=bo.swalPromiseResolve.get(this),t=DS(this);this.isAwaitingPromise?i.isDismissed||(Du(this),e(i)):t&&e(i)}const DS=i=>{const e=ze();if(!e)return!1;const t=st.innerParams.get(i);if(!t||ur(e,t.hideClass.popup))return!1;Xn(e,t.showClass.popup),Ge(e,t.hideClass.popup);const s=pn();return Xn(s,t.showClass.backdrop),Ge(s,t.hideClass.backdrop),NS(i,e,t),!0};function xb(i){const e=bo.swalPromiseReject.get(this);Du(this),e&&e(i)}const Du=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,st.innerParams.get(i)||i._destroy())},OS=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),NS=(i,e,t)=>{var s;const o=pn(),u=mb(e);typeof t.willClose=="function"&&t.willClose(e),(s=pe.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?kS(i,e,o,t.returnFocus,t.didClose):Cb(i,o,t.returnFocus,t.didClose)},kS=(i,e,t,s,o)=>{pe.swalCloseEventFinishedCallback=Cb.bind(null,i,t,s,o);const u=function(f){if(f.target===e){var m;(m=pe.swalCloseEventFinishedCallback)===null||m===void 0||m.call(pe),delete pe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},ww=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=pe.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Eo=i=>{let e=ze();if(e||new du,e=ze(),!e)return;const t=ko();mf()?an(Oo()):MS(e,i),Ft(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},MS=(i,e)=>{const t=Iu(),s=ko();!t||!s||(!e&&wn(Ni())&&(e=Ni()),Ft(t),e&&(an(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ge([i,t],F.loading))},VS=(i,e)=>{e.input==="select"||e.input==="radio"?zS(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Vp(e.inputValue)||Pp(e.inputValue))&&(Eo(Ni()),jS(i,e))},PS=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return LS(t);case"radio":return US(t);case"file":return BS(t);default:return e.inputAutoTrim?t.value.trim():t.value}},LS=i=>i.checked?1:0,US=i=>i.checked?i.value:null,BS=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,zS=(i,e)=>{const t=ze();if(!t)return;const s=o=>{e.input==="select"?qS(t,Uh(o),e):e.input==="radio"&&HS(t,Uh(o),e)};Vp(e.inputOptions)||Pp(e.inputOptions)?(Eo(Ni()),Su(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):ha(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},jS=(i,e)=>{const t=i.getInput();t&&(an(t),Su(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Ft(t),t.focus(),i.hideLoading()}).catch(s=>{ha(`Error in inputValue promise: ${s}`),t.value="",Ft(t),t.focus(),i.hideLoading()}))};function qS(i,e,t){const s=Zr(i,F.select);if(!s)return;const o=(u,f,m)=>{const g=document.createElement("option");g.value=m,Vn(g,f),g.selected=Db(m,t.inputValue),u.appendChild(g)};e.forEach(u=>{const f=u[0],m=u[1];if(Array.isArray(m)){const g=document.createElement("optgroup");g.label=f,g.disabled=!1,s.appendChild(g),m.forEach(y=>o(g,y[1],y[0]))}else o(s,m,f)}),s.focus()}function HS(i,e,t){const s=Zr(i,F.radio);if(!s)return;e.forEach(u=>{const f=u[0],m=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=F.radio,g.value=f,Db(f,t.inputValue)&&(g.checked=!0);const b=document.createElement("span");Vn(b,m),b.className=F.label,y.appendChild(g),y.appendChild(b),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const Uh=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=Uh(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=Uh(s)),e.push([t,s])}),e},Db=(i,e)=>!!e&&e.toString()===i.toString(),FS=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.input?Ob(i,"confirm"):Qp(i,!0)},GS=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?Ob(i,"deny"):Kp(i,!1)},YS=(i,e)=>{i.disableButtons(),e(Mo.cancel)},Ob=(i,e)=>{const t=st.innerParams.get(i);if(!t.input){ha(`The "input" parameter is needed to be set when using returnInputValueOn${Mp(e)}`);return}const s=i.getInput(),o=PS(i,t);t.inputValidator?KS(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?Kp(i,o):Qp(i,o)},KS=(i,e,t)=>{const s=st.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Su(s.inputValidator(e,s.validationMessage))).then(u=>{i.enableButtons(),i.enableInput(),u?i.showValidationMessage(u):t==="deny"?Kp(i,e):Qp(i,e)})},Kp=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnDeny&&Eo(fa()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Su(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),Du(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Nb(i||void 0,o))):i.close({isDenied:!0,value:e})},bw=(i,e)=>{i.close({isConfirmed:!0,value:e})},Nb=(i,e)=>{i.rejectPromise(e)},Qp=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Eo(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Su(t.preConfirm(e,t.validationMessage))).then(o=>{wn(ff())||o===!1?(i.hideLoading(),Du(i)):bw(i,typeof o>"u"?e:o)}).catch(o=>Nb(i||void 0,o))):bw(i,e)};function Bh(){const i=st.innerParams.get(this);if(!i)return;const e=st.domCache.get(this);an(e.loader),mf()?i.icon&&Ft(Oo()):QS(e),Xn([e.popup,e.actions],F.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const QS=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?Ft(e[0],"inline-block"):b1()&&an(i.actions)};function kb(){const i=st.innerParams.get(this),e=st.domCache.get(this);return e?pf(e.popup,i.input):null}function Mb(i,e,t){const s=st.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function Vb(i,e){const t=ze();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${F.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function Pb(){Mb(this,["confirmButton","denyButton","cancelButton"],!1)}function Lb(){Mb(this,["confirmButton","denyButton","cancelButton"],!0)}function Ub(){Vb(this.getInput(),!1)}function Bb(){Vb(this.getInput(),!0)}function zb(i){const e=st.domCache.get(this),t=st.innerParams.get(this);Vn(e.validationMessage,i),e.validationMessage.className=F["validation-message"],t.customClass&&t.customClass.validationMessage&&Ge(e.validationMessage,t.customClass.validationMessage),Ft(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",F["validation-message"]),fb(s),Ge(s,F.inputerror))}function jb(){const i=st.domCache.get(this);i.validationMessage&&an(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Xn(e,F.inputerror))}const po={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},$S=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],XS={allowEnterKey:void 0},WS=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qb=i=>Object.prototype.hasOwnProperty.call(po,i),Hb=i=>$S.indexOf(i)!==-1,Fb=i=>XS[i],ZS=i=>{qb(i)||mn(`Unknown parameter "${i}"`)},JS=i=>{WS.includes(i)&&mn(`The parameter "${i}" is incompatible with toasts`)},eR=i=>{const e=Fb(i);e&&lb(i,e)},Gb=i=>{i.backdrop===!1&&i.allowOutsideClick&&mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&mn(`Invalid theme "${i.theme}"`);for(const e in i)ZS(e),i.toast&&JS(e),eR(e)};function Yb(i){const e=pn(),t=ze(),s=st.innerParams.get(this);if(!t||ur(t,s.hideClass.popup)){mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=tR(i),u=Object.assign({},s,o);Gb(u),e.dataset.swal2Theme=u.theme,Eb(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const tR=i=>{const e={};return Object.keys(i).forEach(t=>{Hb(t)?e[t]=i[t]:mn(`Invalid parameter to update: ${t}`)}),e};function Kb(){const i=st.domCache.get(this),e=st.innerParams.get(this);if(!e){Qb(this);return}i.popup&&pe.swalCloseEventFinishedCallback&&(pe.swalCloseEventFinishedCallback(),delete pe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),pe.eventEmitter.emit("didDestroy"),nR(this)}const nR=i=>{Qb(i),delete i.params,delete pe.keydownHandler,delete pe.keydownTarget,delete pe.currentInstance},Qb=i=>{i.isAwaitingPromise?(Km(st,i),i.isAwaitingPromise=!0):(Km(bo,i),Km(st,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},Km=(i,e)=>{for(const t in i)i[t].delete(e)};var iR=Object.freeze({__proto__:null,_destroy:Kb,close:Jr,closeModal:Jr,closePopup:Jr,closeToast:Jr,disableButtons:Lb,disableInput:Bb,disableLoading:Bh,enableButtons:Pb,enableInput:Ub,getInput:kb,handleAwaitingPromise:Du,hideLoading:Bh,rejectPromise:xb,resetValidationMessage:jb,showValidationMessage:zb,update:Yb});const rR=(i,e,t)=>{i.toast?sR(i,e,t):(oR(e),lR(e),uR(i,e,t))},sR=(i,e,t)=>{e.popup.onclick=()=>{i&&(aR(i)||i.timer||i.input)||t(Mo.close)}},aR=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let zh=!1;const oR=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(zh=!0)}}},lR=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(zh=!0)}}},uR=(i,e,t)=>{e.container.onclick=s=>{if(zh){zh=!1;return}s.target===e.container&&hf(i.allowOutsideClick)&&t(Mo.backdrop)}},cR=i=>typeof i=="object"&&i.jquery,Ew=i=>i instanceof Element||cR(i),hR=i=>{const e={};return typeof i[0]=="object"&&!Ew(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||Ew(o)?e[t]=o:o!==void 0&&ha(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function fR(...i){return new this(...i)}function dR(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const mR=()=>pe.timeout&&pe.timeout.getTimerLeft(),$b=()=>{if(pe.timeout)return T1(),pe.timeout.stop()},Xb=()=>{if(pe.timeout){const i=pe.timeout.start();return Hp(i),i}},pR=()=>{const i=pe.timeout;return i&&(i.running?$b():Xb())},gR=i=>{if(pe.timeout){const e=pe.timeout.increase(i);return Hp(e,!0),e}},yR=()=>!!(pe.timeout&&pe.timeout.isRunning());let Tw=!1;const lp={};function _R(i="data-swal-template"){lp[i]=this,Tw||(document.body.addEventListener("click",vR),Tw=!0)}const vR=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in lp){const s=e.getAttribute(t);if(s){lp[t].fire({template:s});return}}};class wR{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}pe.eventEmitter=new wR;const bR=(i,e)=>{pe.eventEmitter.on(i,e)},ER=(i,e)=>{pe.eventEmitter.once(i,e)},TR=(i,e)=>{if(!i){pe.eventEmitter.reset();return}e?pe.eventEmitter.removeListener(i,e):pe.eventEmitter.removeAllListeners(i)};var AR=Object.freeze({__proto__:null,argsToParams:hR,bindClickHandler:_R,clickCancel:hS,clickConfirm:Tb,clickDeny:cS,enableLoading:Eo,fire:fR,getActions:Iu,getCancelButton:No,getCloseButton:Bp,getConfirmButton:Ni,getContainer:pn,getDenyButton:fa,getFocusableElements:zp,getFooter:hb,getHtmlContainer:Lp,getIcon:Oo,getIconContent:g1,getImage:cb,getInputLabel:y1,getLoader:ko,getPopup:ze,getProgressSteps:Up,getTimerLeft:mR,getTimerProgressBar:df,getTitle:ub,getValidationMessage:ff,increaseTimer:gR,isDeprecatedParameter:Fb,isLoading:v1,isTimerRunning:yR,isUpdatableParameter:Hb,isValidParameter:qb,isVisible:uS,mixin:dR,off:TR,on:bR,once:ER,resumeTimer:Xb,showLoading:Eo,stopTimer:$b,toggleTimer:pR});class SR{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Wb=["swal-title","swal-html","swal-footer"],RR=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return MR(t),Object.assign(IR(t),CR(t),xR(t),DR(t),OR(t),NR(t),kR(t,Wb))},IR=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{ra(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof po[o]=="boolean"?e[o]=u!=="false":typeof po[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},CR=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},xR=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{ra(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${Mp(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},DR=i=>{const e={},t=i.querySelector("swal-image");return t&&(ra(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},OR=i=>{const e={},t=i.querySelector("swal-icon");return t&&(ra(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},NR=i=>{const e={},t=i.querySelector("swal-input");t&&(ra(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{ra(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},kR=(i,e)=>{const t={};for(const s in e){const o=e[s],u=i.querySelector(o);u&&(ra(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},MR=i=>{const e=Wb.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||mn(`Unrecognized element <${s}>`)})},ra=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&mn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Zb=10,VR=i=>{const e=pn(),t=ze();typeof i.willOpen=="function"&&i.willOpen(t),pe.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;UR(e,t,i),setTimeout(()=>{PR(e,t)},Zb),jp()&&(LR(e,i.scrollbarPadding,o),vS()),!mf()&&!pe.previousActiveElement&&(pe.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),pe.eventEmitter.emit("didOpen",t),Xn(e,F["no-transition"])},jh=i=>{const e=ze();if(i.target!==e)return;const t=pn();e.removeEventListener("animationend",jh),e.removeEventListener("transitionend",jh),t.style.overflowY="auto"},PR=(i,e)=>{mb(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",jh),e.addEventListener("transitionend",jh)):i.style.overflowY="auto"},LR=(i,e,t)=>{wS(),e&&t!=="hidden"&&IS(t),setTimeout(()=>{i.scrollTop=0})},UR=(i,e,t)=>{Ge(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Ft(e,"grid"),setTimeout(()=>{Ge(e,t.showClass.popup),e.style.removeProperty("opacity")},Zb)):Ft(e,"grid"),Ge([document.documentElement,document.body],F.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ge([document.documentElement,document.body],F["height-auto"])};var Aw={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function BR(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=Aw.email),i.input==="url"&&(i.inputValidator=Aw.url))}function zR(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(mn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function jR(i){BR(i),i.showLoaderOnConfirm&&!i.preConfirm&&mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),zR(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),O1(i)}let Ai;var ph=new WeakMap;class bt{constructor(...e){if(l1(this,ph,void 0),typeof window>"u")return;Ai=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,u1(ph,this,this._main(Ai.params))}_main(e,t={}){if(Gb(Object.assign({},t,e)),pe.currentInstance){const u=bo.swalPromiseResolve.get(pe.currentInstance),{isAwaitingPromise:f}=pe.currentInstance;pe.currentInstance._destroy(),f||u({isDismissed:!0}),jp()&&Rb()}pe.currentInstance=Ai;const s=HR(e,t);jR(s),Object.freeze(s),pe.timeout&&(pe.timeout.stop(),delete pe.timeout),clearTimeout(pe.restoreFocusTimeout);const o=FR(Ai);return Eb(Ai,s),st.innerParams.set(Ai,s),qR(Ai,o,s)}then(e){return mw(ph,this).then(e)}finally(e){return mw(ph,this).finally(e)}}const qR=(i,e,t)=>new Promise((s,o)=>{const u=f=>{i.close({isDismissed:!0,dismiss:f})};bo.swalPromiseResolve.set(i,s),bo.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{FS(i)},e.denyButton.onclick=()=>{GS(i)},e.cancelButton.onclick=()=>{YS(i,u)},e.closeButton.onclick=()=>{u(Mo.close)},rR(t,e,u),fS(pe,t,u),VS(i,t),VR(t),GR(pe,t,u),YR(e,t),setTimeout(()=>{e.container.scrollTop=0})}),HR=(i,e)=>{const t=RR(i),s=Object.assign({},po,e,t,i);return s.showClass=Object.assign({},po.showClass,s.showClass),s.hideClass=Object.assign({},po.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},FR=i=>{const e={popup:ze(),container:pn(),actions:Iu(),confirmButton:Ni(),denyButton:fa(),cancelButton:No(),loader:ko(),closeButton:Bp(),validationMessage:ff(),progressSteps:Up()};return st.domCache.set(i,e),e},GR=(i,e,t)=>{const s=df();an(s),e.timer&&(i.timeout=new SR(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(Ft(s),kn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&Hp(e.timer)})))},YR=(i,e)=>{if(!e.toast){if(!hf(e.allowEnterKey)){lb("allowEnterKey"),$R();return}KR(i)||QR(i,e)||op(-1,1)}},KR=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&wn(t))return t.focus(),!0;return!1},QR=(i,e)=>e.focusDeny&&wn(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&wn(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&wn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,$R=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};bt.prototype.disableButtons=Lb;bt.prototype.enableButtons=Pb;bt.prototype.getInput=kb;bt.prototype.disableInput=Bb;bt.prototype.enableInput=Ub;bt.prototype.hideLoading=Bh;bt.prototype.disableLoading=Bh;bt.prototype.showValidationMessage=zb;bt.prototype.resetValidationMessage=jb;bt.prototype.close=Jr;bt.prototype.closePopup=Jr;bt.prototype.closeModal=Jr;bt.prototype.closeToast=Jr;bt.prototype.rejectPromise=xb;bt.prototype.update=Yb;bt.prototype._destroy=Kb;Object.assign(bt,AR);Object.keys(iR).forEach(i=>{bt[i]=function(...e){return Ai&&Ai[i]?Ai[i](...e):null}});bt.DismissReason=Mo;bt.version="11.22.4";const du=bt;du.default=du;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Qm(i){du.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const XR=()=>{};var Sw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,H=y&63;g||(H=64,f||(R=64)),s.push(t[b],t[A],t[R],t[H])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Jb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):WR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new ZR;const R=u<<2|m>>4;if(s.push(R),y!==64){const H=m<<4&240|y>>2;if(s.push(H),A!==64){const W=y<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(i){const e=Jb(i);return eE.encodeByteArray(e,!0)},qh=function(i){return JR(i).replace(/\./g,"")},tE=function(i){try{return eE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=()=>eI().__FIREBASE_DEFAULTS__,nI=()=>{if(typeof process>"u"||typeof Sw>"u")return;const i=Sw.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},iI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&tE(i[1]);return e&&JSON.parse(e)},gf=()=>{try{return XR()||tI()||nI()||iI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},nE=i=>gf()?.emulatorHosts?.[i],rI=i=>{const e=nE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},iE=()=>gf()?.config,rE=i=>gf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[qh(JSON.stringify(t)),qh(JSON.stringify(f)),""].join(".")}const au={};function oI(){const i={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?i.emulator.push(e):i.prod.push(e);return i}function lI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Rw=!1;function aE(i,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||au[i]===e||au[i]||Rw)return;au[i]=e;function t(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=oI().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,H){R.setAttribute("width","24"),R.setAttribute("id",H),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Rw=!0,f()},R}function b(R,H){R.setAttribute("id",H),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=lI(s),H=t("text"),W=document.getElementById(H)||document.createElement("span"),ee=t("learnmore"),J=document.getElementById(ee)||document.createElement("a"),ye=t("preprendIcon"),ue=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const he=R.element;m(he),b(J,ee);const je=y();g(ue,ye),he.append(ue,W,J,je),document.body.appendChild(he)}u?(W.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function cI(){const i=gf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mI(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pI(){return!cI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gI(){try{return typeof indexedDB=="object"}catch{return!1}}function yI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="FirebaseError";class gr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=_I,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new gr(o,m,s)}}function vI(i,e){return i.replace(wI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wI=/\{\$([^}]+)}/g;function bI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function sa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Iw(u)&&Iw(f)){if(!sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Iw(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function tu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function EI(i,e){const t=new TI(i,e);return t.subscribe.bind(t)}class TI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=$m),o.error===void 0&&(o.error=$m),o.complete===void 0&&(o.complete=$m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function $m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new sI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(II(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(i){return i===ta?void 0:i}function II(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const xI={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},DI=Oe.INFO,OI={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},NI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=OI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=DI,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const kI=(i,e)=>e.some(t=>i instanceof t);let Cw,xw;function MI(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,up=new WeakMap,lE=new WeakMap,Xm=new WeakMap,Xp=new WeakMap;function PI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(ts(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&oE.set(t,i)}).catch(()=>{}),Xp.set(e,i),e}function LI(i){if(up.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});up.set(i,e)}let cp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return up.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function UI(i){cp=i(cp)}function BI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Wm(this),e,...t);return lE.set(s,e.sort?e.sort():[e]),ts(s)}:VI().includes(i)?function(...e){return i.apply(Wm(this),e),ts(oE.get(this))}:function(...e){return ts(i.apply(Wm(this),e))}}function zI(i){return typeof i=="function"?BI(i):(i instanceof IDBTransaction&&LI(i),kI(i,MI())?new Proxy(i,cp):i)}function ts(i){if(i instanceof IDBRequest)return PI(i);if(Xm.has(i))return Xm.get(i);const e=zI(i);return e!==i&&(Xm.set(i,e),Xp.set(e,i)),e}const Wm=i=>Xp.get(i);function jI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ts(f.result),g.oldVersion,g.newVersion,ts(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const qI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Zm=new Map;function Dw(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=HI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qI.includes(t)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return Zm.set(e,u),u}UI(i=>({...i,get:(e,t,s)=>Dw(e,t)||i.get(e,t,s),has:(e,t)=>!!Dw(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function GI(i){return i.getComponent()?.type==="VERSION"}const hp="@firebase/app",Ow="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new $p("@firebase/app"),YI="@firebase/app-compat",KI="@firebase/analytics-compat",QI="@firebase/analytics",$I="@firebase/app-check-compat",XI="@firebase/app-check",WI="@firebase/auth",ZI="@firebase/auth-compat",JI="@firebase/database",eC="@firebase/data-connect",tC="@firebase/database-compat",nC="@firebase/functions",iC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",aC="@firebase/messaging",oC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",cC="@firebase/remote-config",hC="@firebase/remote-config-compat",fC="@firebase/storage",dC="@firebase/storage-compat",mC="@firebase/firestore",pC="@firebase/ai",gC="@firebase/firestore-compat",yC="firebase",_C="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",vC={[hp]:"fire-core",[YI]:"fire-core-compat",[QI]:"fire-analytics",[KI]:"fire-analytics-compat",[XI]:"fire-app-check",[$I]:"fire-app-check-compat",[WI]:"fire-auth",[ZI]:"fire-auth-compat",[JI]:"fire-rtdb",[eC]:"fire-data-connect",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[iC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[aC]:"fire-fcm",[oC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[cC]:"fire-rc",[hC]:"fire-rc-compat",[fC]:"fire-gcs",[dC]:"fire-gcs-compat",[mC]:"fire-fst",[gC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,wC=new Map,dp=new Map;function Nw(i,e){try{i.container.addComponent(e)}catch(t){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function To(i){const e=i.name;if(dp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,i);for(const t of mu.values())Nw(t,i);for(const t of wC.values())Nw(t,i);return!0}function Wp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Ou("app","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=_C;function uE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:fp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=iE()),!t)throw ns.create("no-options");const u=mu.get(o);if(u){if(sa(t,u.options)&&sa(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new CI(o);for(const g of dp.values())f.addComponent(g);const m=new EC(t,s,f);return mu.set(o,m),m}function cE(i=fp){const e=mu.get(i);if(!e&&i===fp&&iE())return uE();if(!e)throw ns.create("no-app",{appName:i});return e}function kw(){return Array.from(mu.values())}function is(i,e,t){let s=vC[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}To(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebase-heartbeat-database",AC=1,pu="firebase-heartbeat-store";let Jm=null;function hE(){return Jm||(Jm=jI(TC,AC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(i=>{throw ns.create("idb-open",{originalErrorMessage:i.message})})),Jm}async function SC(i){try{const t=(await hE()).transaction(pu),s=await t.objectStore(pu).get(fE(i));return await t.done,s}catch(e){if(e instanceof gr)hr.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e?.message});hr.warn(t.message)}}}async function Mw(i,e){try{const s=(await hE()).transaction(pu,"readwrite");await s.objectStore(pu).put(e,fE(i)),await s.done}catch(t){if(t instanceof gr)hr.warn(t.message);else{const s=ns.create("idb-set",{originalErrorMessage:t?.message});hr.warn(s.message)}}}function fE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1024,IC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>IC){const o=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vw(),{heartbeatsToSend:t,unsentEntries:s}=xC(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function Vw(){return new Date().toISOString().substring(0,10)}function xC(i,e=RC){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Pw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Pw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gI()?yI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pw(i){return qh(JSON.stringify({version:2,heartbeats:i})).length}function OC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(i){To(new aa("platform-logger",e=>new FI(e),"PRIVATE")),To(new aa("heartbeat",e=>new CC(e),"PRIVATE")),is(hp,Ow,i),is(hp,Ow,"esm2020"),is("fire-js","")}NC("");var kC="firebase",MC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(kC,MC,"app");function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VC=dE,mE=new Ou("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new $p("@firebase/auth");function PC(i,...e){Hh.logLevel<=Oe.WARN&&Hh.warn(`Auth (${Po}): ${i}`,...e)}function Th(i,...e){Hh.logLevel<=Oe.ERROR&&Hh.error(`Auth (${Po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(i,...e){throw Zp(i,...e)}function Ri(i,...e){return Zp(i,...e)}function pE(i,e,t){const s={...VC(),[e]:t};return new Ou("auth","Firebase",s).create(e,{appName:i.name})}function cr(i){return pE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return mE.create(i,...e)}function we(i,e,...t){if(!i)throw Zp(e,...t)}function or(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Th(e),new Error(e)}function fr(i,e){i||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){return typeof self<"u"&&self.location?.href||""}function LC(){return Lw()==="http:"||Lw()==="https:"}function Lw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||fI()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile=uI()||dI()}get(){return UC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e){fr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qC=new ku(3e4,6e4);function yr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Mi(i,e,t,s,o={}){return yE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Nu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return hI()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(await _E(i,i.config.apiHost,t,m),y)})}async function yE(i,e,t){i._canInitEmulator=!1;const s={...zC,...e};try{const o=new FC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw gh(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw gh(i,"user-disabled",f);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pE(i,b,y);si(i,b)}}catch(o){if(o instanceof gr)throw o;si(i,"network-request-failed",{message:String(o)})}}async function Mu(i,e,t,s,o={}){const u=await Mi(i,e,t,s,o);return"mfaPendingCredential"in u&&si(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function _E(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?Jp(i.config,o):`${i.config.apiScheme}://${o}`;return jC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),qC.get())})}}function gh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ri(i,e,s);return o.customData._tokenResponse=t,o}function Uw(i){return i!==void 0&&i.enterprise!==void 0}class GC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YC(i,e){return Mi(i,"GET","/v2/recaptchaConfig",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(i,e){return Mi(i,"POST","/v1/accounts:delete",e)}async function Fh(i,e){return Mi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QC(i,e=!1){const t=xt(i),s=await t.getIdToken(e),o=eg(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ou(ep(o.auth_time)),issuedAtTime:ou(ep(o.iat)),expirationTime:ou(ep(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ep(i){return Number(i)*1e3}function eg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=tE(t);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bw(i){const e=eg(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof gr&&$C(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function $C({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(i){const e=i.auth,t=await i.getIdToken(),s=await Ao(i,Fh(e,{idToken:t}));we(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?vE(o.providerUserInfo):[],f=ZC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function WC(i){const e=xt(i);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vE(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(i,e){const t=await yE(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await _E(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(g.credentials="include"),gE.fetch()(f,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ex(i,e){return Mi(i,"POST","/v2/accounts:revokeToken",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Bw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await JC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new go;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new XC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QC(this,e)}reload(){return WC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await Ao(this,KC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:H,providerData:W,stsTokenManager:ee}=t;we(A&&ee,e,"internal-error");const J=go.fromJSON(this.name,ee);we(typeof A=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof H=="boolean",e,"internal-error"),Kr(u,e.name),Kr(f,e.name),Kr(m,e.name),Kr(g,e.name),Kr(y,e.name),Kr(b,e.name);const ye=new ri({uid:A,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:H,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:J,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(ye.providerData=W.map(ue=>({...ue}))),g&&(ye._redirectEventId=g),ye}static async _fromIdTokenResponse(e,t,s=!1){const o=new go;o.updateFromServerResponse(t);const u=new ri({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const g=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function lr(i){fr(i instanceof Function,"Expected a class definition");let e=zw.get(i);return e?(fr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,zw.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wE.type="NONE";const jw=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,e,t){return`firebase:${i}:${e}:${t}`}class yo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new yo(lr(jw),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||lr(jw);const f=Ah(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const R=await Fh(e,{idToken:b}).catch(()=>{});if(!R)break;A=await ri._fromGetAccountInfoResponse(e,R,b)}else A=ri._fromJSON(e,b);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new yo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RE(e))return"Blackberry";if(IE(e))return"Webos";if(EE(e))return"Safari";if((e.includes("chrome/")||TE(e))&&!e.includes("edge/"))return"Chrome";if(SE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function bE(i=on()){return/firefox\//i.test(i)}function EE(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TE(i=on()){return/crios\//i.test(i)}function AE(i=on()){return/iemobile/i.test(i)}function SE(i=on()){return/android/i.test(i)}function RE(i=on()){return/blackberry/i.test(i)}function IE(i=on()){return/webos/i.test(i)}function tg(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function tx(i=on()){return tg(i)&&!!window.navigator?.standalone}function nx(){return mI()&&document.documentMode===10}function CE(i=on()){return tg(i)||SE(i)||IE(i)||RE(i)||/windows phone/i.test(i)||AE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i,e=[]){let t;switch(i){case"Browser":t=qw(on());break;case"Worker":t=`${qw(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(i,e={}){return Mi(i,"GET","/v2/passwordPolicy",yr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=6;class ax{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(cr(this));const t=e?xt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rx(this),t=new ax(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ex(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ds(i){return xt(i)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=EI(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lx(i){yf=i}function DE(i){return yf.loadJS(i)}function ux(){return yf.recaptchaEnterpriseScript}function cx(){return yf.gapiScript}function hx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class fx{constructor(){this.enterprise=new dx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mx="recaptcha-enterprise",OE="NO_RECAPTCHA";class px{constructor(e){this.type=mx,this.auth=ds(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{YC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new GC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Uw(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(OE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&Uw(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=ux();g.length!==0&&(g+=m),DE(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Fw(i,e,t,s=!1,o=!1){const u=new px(i);let f;if(o)f=OE;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Yh(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fw(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Fw(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(i,e){const t=Wp(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(sa(u,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function yx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(lr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function _x(i,e,t){const s=ds(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=NE(e),{host:f,port:m}=vx(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(sa(y,s.config.emulator)&&sa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Vo(f)?(sE(`${u}//${f}${g}`),aE("Auth",!0)):wx()}function NE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function vx(i){const e=NE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Gw(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Gw(f)}}}function Gw(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,t){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function bx(i,e){return Mi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(i,e){return Mu(i,"POST","/v1/accounts:signInWithPassword",yr(i,e))}async function Tx(i,e){return Mi(i,"POST","/v1/accounts:sendOobCode",yr(i,e))}async function Ax(i,e){return Tx(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(i,e){return Mu(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}async function Rx(i,e){return Mu(i,"POST","/v1/accounts:signInWithEmailLink",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends ng{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new gu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yh(e,t,"signInWithPassword",Ex);case"emailLink":return Sx(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yh(e,s,"signUpPassword",bx);case"emailLink":return Rx(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return Mu(i,"POST","/v1/accounts:signInWithIdp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="http://localhost";class oa extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,_o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xx(i){const e=eu(tu(i)).link,t=e?eu(tu(e)).deep_link_id:null,s=eu(tu(i)).deep_link_id;return(s?eu(tu(s)).link:null)||s||t||e||i}class ig{constructor(e){const t=eu(tu(e)),s=t.apiKey??null,o=t.oobCode??null,u=Cx(t.mode??null);we(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=xx(e);try{return new ig(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ig.parseLink(t);return we(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends kE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Vu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oa._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $r.credential(t,s)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Vu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Vu{constructor(){super("twitter.com")}static credential(e,t){return oa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(i,e){return Mu(i,"POST","/v1/accounts:signUp",yr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),f=Yw(s);return new la({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Yw(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Yw(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends gr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Kh(e,t,s,o)}}function ME(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(i,u,e,s):u})}async function Ox(i,e,t=!1){const s=await Ao(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return la._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(i,e,t=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(cr(s));const o="reauthenticate";try{const u=await Ao(i,ME(s,o,e,i),t);we(u.idToken,s,"internal-error");const f=eg(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(i.uid===m,s,"user-mismatch"),la._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE(i,e,t=!1){if($n(i.app))return Promise.reject(cr(i));const s="signIn",o=await ME(i,s,e),u=await la._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function kx(i,e){return VE(ds(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(i){const e=ds(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Mx(i,e,t){const s=ds(i);await Yh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ax)}async function Vx(i,e,t){if($n(i.app))return Promise.reject(cr(i));const s=ds(i),f=await Yh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&PE(i),g}),m=await la._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Px(i,e,t){return $n(i.app)?Promise.reject(cr(i)):kx(xt(i),Lo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&PE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(i,e){return Mi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=xt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Ao(s,Lx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Bx(i,e,t,s){return xt(i).onIdTokenChanged(e,t,s)}function zx(i,e,t){return xt(i).beforeAuthStateChanged(e,t)}function jx(i,e,t,s){return xt(i).onAuthStateChanged(e,t,s)}function qx(i){return xt(i).signOut()}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=1e3,Fx=10;class UE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Fx):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Hx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UE.type="LOCAL";const Gx=UE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BE.type="SESSION";const zE=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new _f(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),g=await Yx(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=rg("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function Qx(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function $x(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xx(){return navigator?.serviceWorker?.controller||null}function Wx(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebaseLocalStorageDb",Zx=1,$h="firebaseLocalStorage",HE="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vf(i,e){return i.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function Jx(){const i=indexedDB.deleteDatabase(qE);return new Pu(i).toPromise()}function gp(){const i=indexedDB.open(qE,Zx);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore($h,{keyPath:HE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await Jx(),e(await gp()))})})}async function Kw(i,e,t){const s=vf(i,!0).put({[HE]:e,value:t});return new Pu(s).toPromise()}async function eD(i,e){const t=vf(i,!1).get(e),s=await new Pu(t).toPromise();return s===void 0?null:s.value}function Qw(i,e){const t=vf(i,!0).delete(e);return new Pu(t).toPromise()}const tD=800,nD=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>nD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(Wx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $x(),!this.activeServiceWorker)return;this.sender=new Kx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await Kw(e,Qh,"1"),await Qw(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>eD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const iD=FE;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i,e){return e?lr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sD(i){return VE(i.auth,new sg(i),i.bypassAuthState)}function aD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),Nx(t,new sg(i),i.bypassAuthState)}async function oD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),Ox(t,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sD;case"linkViaPopup":case"linkViaRedirect":return oD;case"reauthViaPopup":case"reauthViaRedirect":return aD;default:si(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new ku(2e3,1e4);class ho extends GE{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lD.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="pendingRedirect",Sh=new Map;class cD extends GE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await hD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hD(i,e){const t=mD(e),s=dD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function fD(i,e){Sh.set(i._key(),e)}function dD(i){return lr(i._redirectPersistence)}function mD(i){return Ah(uD,i.config.apiKey,i.name)}async function pD(i,e,t=!1){if($n(i.app))return Promise.reject(cr(i));const s=ds(i),o=rD(s,e),f=await new cD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=600*1e3;class yD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!YE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ri(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gD&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(e))}saveEventToCache(e){this.cachedEventUids.add($w(e)),this.lastProcessedEventTime=Date.now()}}function $w(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function YE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function _D(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(i,e={}){return Mi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bD=/^https?/;async function ED(i){if(i.config.emulator)return;const{authorizedDomains:e}=await vD(i);for(const t of e)try{if(TD(t))return}catch{}si(i,"unauthorized-domain")}function TD(i){const e=mp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!bD.test(t))return!1;if(wD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new ku(3e4,6e4);function Xw(){const i=Ii().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function SD(i){return new Promise((e,t)=>{function s(){Xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xw(),t(Ri(i,"network-request-failed"))},timeout:AD.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=hx("iframefcb");return Ii()[o]=()=>{gapi.load?s():t(Ri(i,"network-request-failed"))},DE(`${cx()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function RD(i){return Rh=Rh||SD(i),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new ku(5e3,15e3),CD="__/auth/iframe",xD="emulator/auth/iframe",DD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Jp(e,xD):`https://${i.config.authDomain}/${CD}`,s={apiKey:e.apiKey,appName:i.name,v:Po},o=OD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function kD(i){const e=await RD(i),t=Ii().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:ND(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ri(i,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},ID.get());function g(){Ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VD=500,PD=600,LD="_blank",UD="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BD(i,e,t,s=VD,o=PD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...MD,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();t&&(m=TE(y)?LD:t),bE(y)&&(e=e||UD,g.scrollbars="yes");const b=Object.entries(g).reduce((R,[H,W])=>`${R}${H}=${W},`,"");if(tx(y)&&m!=="_self")return zD(e||"",m),new Ww(null);const A=window.open(e||"",m,b);we(A,i,"popup-blocked");try{A.focus()}catch{}return new Ww(A)}function zD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="__/auth/handler",qD="emulator/auth/handler",HD=encodeURIComponent("fac");async function Zw(i,e,t,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Po,eventId:o};if(e instanceof kE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",bI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof Vu){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),y=g?`#${HD}=${encodeURIComponent(g)}`:"";return`${FD(i)}?${Nu(m).slice(1)}${y}`}function FD({config:i}){return i.emulator?Jp(i,qD):`https://${i.authDomain}/${jD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class GD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=pD,this._overrideRedirectResult=fD}async _openPopup(e,t,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Zw(e,t,s,mp(),o);return BD(e,u,rg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Zw(e,t,s,mp(),o);return Qx(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await kD(e),s=new yD(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},o=>{const u=o?.[0]?.[tp];u!==void 0&&t(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ED(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CE()||EE()||tg()}}const YD=GD;var Jw="@firebase/auth",e0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $D(i){To(new aa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(i)},y=new ox(s,o,u,g);return yx(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),To(new aa("auth-internal",e=>{const t=ds(e.getProvider("auth").getImmediate());return(s=>new KD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Jw,e0,QD(i)),is(Jw,e0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=300,WD=rE("authIdTokenMaxAge")||XD;let t0=null;const ZD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WD)return;const o=t?.token;t0!==o&&(t0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JD(i=cE()){const e=Wp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=gx(i,{popupRedirectResolver:YD,persistence:[iD,Gx,zE]}),s=rE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZD(u.toString());zx(t,f,()=>f(t.currentUser)),Bx(t,m=>f(m))}}const o=nE("auth");return o&&_x(t,`http://${o}`),t}function eO(){return document.getElementsByTagName("head")?.[0]??document}lx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",eO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$D("Browser");var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,KE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(x,N,V){for(var C=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)C[Gt-2]=arguments[Gt];return T.prototype[N].apply(x,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,T,I){I||(I=0);var x=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)x[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)x[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],N=k.g[2];var V=k.g[3],C=T+(V^I&(N^V))+x[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=V+(N^T&(I^N))+x[1]+3905402710&4294967295,V=T+(C<<12&4294967295|C>>>20),C=N+(I^V&(T^I))+x[2]+606105819&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(T^N&(V^T))+x[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(V^I&(N^V))+x[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=V+(N^T&(I^N))+x[5]+1200080426&4294967295,V=T+(C<<12&4294967295|C>>>20),C=N+(I^V&(T^I))+x[6]+2821735955&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(T^N&(V^T))+x[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(V^I&(N^V))+x[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=V+(N^T&(I^N))+x[9]+2336552879&4294967295,V=T+(C<<12&4294967295|C>>>20),C=N+(I^V&(T^I))+x[10]+4294925233&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(T^N&(V^T))+x[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(V^I&(N^V))+x[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=V+(N^T&(I^N))+x[13]+4254626195&4294967295,V=T+(C<<12&4294967295|C>>>20),C=N+(I^V&(T^I))+x[14]+2792965006&4294967295,N=V+(C<<17&4294967295|C>>>15),C=I+(T^N&(V^T))+x[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(N^V&(I^N))+x[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(T^I))+x[6]+3225465664&4294967295,V=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(V^T))+x[11]+643717713&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^T&(N^V))+x[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^V&(I^N))+x[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(T^I))+x[10]+38016083&4294967295,V=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(V^T))+x[15]+3634488961&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^T&(N^V))+x[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^V&(I^N))+x[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(T^I))+x[14]+3275163606&4294967295,V=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(V^T))+x[3]+4107603335&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^T&(N^V))+x[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^V&(I^N))+x[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=V+(I^N&(T^I))+x[2]+4243563512&4294967295,V=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(V^T))+x[7]+1735328473&4294967295,N=V+(C<<14&4294967295|C>>>18),C=I+(V^T&(N^V))+x[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(I^N^V)+x[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=V+(T^I^N)+x[8]+2272392833&4294967295,V=T+(C<<11&4294967295|C>>>21),C=N+(V^T^I)+x[11]+1839030562&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^T)+x[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^V)+x[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=V+(T^I^N)+x[4]+1272893353&4294967295,V=T+(C<<11&4294967295|C>>>21),C=N+(V^T^I)+x[7]+4139469664&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^T)+x[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^V)+x[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=V+(T^I^N)+x[0]+3936430074&4294967295,V=T+(C<<11&4294967295|C>>>21),C=N+(V^T^I)+x[3]+3572445317&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^T)+x[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^V)+x[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=V+(T^I^N)+x[12]+3873151461&4294967295,V=T+(C<<11&4294967295|C>>>21),C=N+(V^T^I)+x[15]+530742520&4294967295,N=V+(C<<16&4294967295|C>>>16),C=I+(N^V^T)+x[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(N^(I|~V))+x[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=V+(I^(T|~N))+x[7]+1126891415&4294967295,V=T+(C<<10&4294967295|C>>>22),C=N+(T^(V|~I))+x[14]+2878612391&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~T))+x[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~V))+x[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=V+(I^(T|~N))+x[3]+2399980690&4294967295,V=T+(C<<10&4294967295|C>>>22),C=N+(T^(V|~I))+x[10]+4293915773&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~T))+x[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~V))+x[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=V+(I^(T|~N))+x[15]+4264355552&4294967295,V=T+(C<<10&4294967295|C>>>22),C=N+(T^(V|~I))+x[6]+2734768916&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~T))+x[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~V))+x[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=V+(I^(T|~N))+x[11]+3174756917&4294967295,V=T+(C<<10&4294967295|C>>>22),C=N+(T^(V|~I))+x[2]+718787259&4294967295,N=V+(C<<15&4294967295|C>>>17),C=I+(V^(N|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,x=this.B,N=this.h,V=0;V<T;){if(N==0)for(;V<=I;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<T;)if(x[N++]=k.charCodeAt(V++),N==this.blockSize){o(this,x),N=0;break}}else for(;V<T;)if(x[N++]=k[V++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var x=0;32>x;x+=8)k[I++]=this.g[T]>>>x&255;return k};function u(k,T){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function f(k,T){this.h=T;for(var I=[],x=!0,N=k.length-1;0<=N;N--){var V=k[N]|0;x&&V==T||(I[N]=V,x=!1)}this.g=I}var m={};function g(k){return-128<=k&&128>k?u(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return A;if(0>k)return J(y(-k));for(var T=[],I=1,x=0;k>=I;x++)T[x]=k/I|0,I*=4294967296;return new f(T,0)}function b(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return J(b(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(T,8)),x=A,N=0;N<k.length;N+=8){var V=Math.min(8,k.length-N),C=parseInt(k.substring(N,N+V),T);8>V?(V=y(Math.pow(T,V)),x=x.j(V).add(y(C))):(x=x.j(I),x=x.add(y(C)))}return x}var A=g(0),R=g(1),H=g(16777216);i=f.prototype,i.m=function(){if(ee(this))return-J(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var x=this.i(I);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(W(this))return"0";if(ee(this))return"-"+J(this).toString(k);for(var T=y(Math.pow(k,6)),I=this,x="";;){var N=je(I,T).g;I=ye(I,N.j(T));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=N,W(I))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function W(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function ee(k){return k.h==-1}i.l=function(k){return k=ye(this,k),ee(k)?-1:W(k)?0:1};function J(k){for(var T=k.g.length,I=[],x=0;x<T;x++)I[x]=~k.g[x];return new f(I,~k.h).add(R)}i.abs=function(){return ee(this)?J(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0,N=0;N<=T;N++){var V=x+(this.i(N)&65535)+(k.i(N)&65535),C=(V>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);x=C>>>16,V&=65535,C&=65535,I[N]=C<<16|V}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ye(k,T){return k.add(J(T))}i.j=function(k){if(W(this)||W(k))return A;if(ee(this))return ee(k)?J(this).j(J(k)):J(J(this).j(k));if(ee(k))return J(this.j(J(k)));if(0>this.l(H)&&0>k.l(H))return y(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],x=0;x<2*T;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<k.g.length;N++){var V=this.i(x)>>>16,C=this.i(x)&65535,Gt=k.i(N)>>>16,ht=k.i(N)&65535;I[2*x+2*N]+=C*ht,ue(I,2*x+2*N),I[2*x+2*N+1]+=V*ht,ue(I,2*x+2*N+1),I[2*x+2*N+1]+=C*Gt,ue(I,2*x+2*N+1),I[2*x+2*N+2]+=V*Gt,ue(I,2*x+2*N+2)}for(x=0;x<T;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=T;x<2*T;x++)I[x]=0;return new f(I,0)};function ue(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function he(k,T){this.g=k,this.h=T}function je(k,T){if(W(T))throw Error("division by zero");if(W(k))return new he(A,A);if(ee(k))return T=je(J(k),T),new he(J(T.g),J(T.h));if(ee(T))return T=je(k,J(T)),new he(J(T.g),T.h);if(30<k.g.length){if(ee(k)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var I=R,x=T;0>=x.l(k);)I=Ae(I),x=Ae(x);var N=qe(I,1),V=qe(x,1);for(x=qe(x,2),I=qe(I,2);!W(x);){var C=V.add(x);0>=C.l(k)&&(N=N.add(I),V=C),x=qe(x,1),I=qe(I,1)}return T=ye(k,N.j(T)),new he(N,T)}for(N=A;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=y(I),C=V.j(T);ee(C)||0<C.l(k);)I-=x,V=y(I),C=V.j(T);W(V)&&(V=R),N=N.add(V),k=ye(k,C)}return new he(N,k)}i.A=function(k){return je(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)&k.i(x);return new f(I,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)|k.i(x);return new f(I,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)^k.i(x);return new f(I,this.h^k.h)};function Ae(k){for(var T=k.g.length+1,I=[],x=0;x<T;x++)I[x]=k.i(x)<<1|k.i(x-1)>>>31;return new f(I,k.h)}function qe(k,T){var I=T>>5;T%=32;for(var x=k.g.length-I,N=[],V=0;V<x;V++)N[V]=0<T?k.i(V+I)>>>T|k.i(V+I+1)<<32-T:k.i(V+I);return new f(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,KE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,rs=f}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QE,nu,$E,Ih,yp,XE,WE,ZE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var P=c[E];if(!(P in _))break e;_=_[P]}c=c[c.length-1],E=_[c],p=p(E),p!=E&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,E=!1,P={next:function(){if(!E&&_<c.length){var q=_++;return{value:p(q,c[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function b(c,p,_){return c.call.apply(c.bind,arguments)}function A(c,p,_){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,E),c.apply(p,P)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,R.apply(null,arguments)}function H(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function W(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(E,P,q){for(var ne=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ne[Me-2]=arguments[Me];return p.prototype[P].apply(E,ne)}}function ee(c){const p=c.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=c[E];return _}return[]}function J(c,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(g(E)){const P=c.length||0,q=E.length||0;c.length=P+q;for(let ne=0;ne<q;ne++)c[P+ne]=E[ne]}else c.push(E)}}class ye{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ue(c){return/^[\s\xa0]*$/.test(c)}function he(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function je(c){return je[" "](c),c}je[" "]=function(){};var Ae=he().indexOf("Gecko")!=-1&&!(he().toLowerCase().indexOf("webkit")!=-1&&he().indexOf("Edge")==-1)&&!(he().indexOf("Trident")!=-1||he().indexOf("MSIE")!=-1)&&he().indexOf("Edge")==-1;function qe(c,p,_){for(const E in c)p.call(_,c[E],E,c)}function k(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function T(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let _,E;for(let P=1;P<arguments.length;P++){E=arguments[P];for(_ in E)c[_]=E[_];for(let q=0;q<I.length;q++)_=I[q],Object.prototype.hasOwnProperty.call(E,_)&&(c[_]=E[_])}}function N(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function C(){var c=He;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Gt{constructor(){this.h=this.g=null}add(p,_){const E=ht.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var ht=new ye(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,He=new Gt,D=()=>{const c=m.Promise.resolve(void 0);re=()=>{c.then(Z)}};var Z=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){V(_)}var p=ht;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}fe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var de=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Ie(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(Ae){e:{try{je(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}W(Ie,te);var Ee={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),it=0;function oi(c,p,_,E,P){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=P,this.key=++it,this.da=this.fa=!1}function _r(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vi(c){this.src=c,this.g={},this.h=0}Vi.prototype.add=function(c,p,_,E,P){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var ne=_s(c,p,E,P);return-1<ne?(p=c[ne],_||(p.fa=!1)):(p=new oi(p,this.src,q,!!E,P),p.fa=_,c.push(p)),p};function ys(c,p){var _=p.type;if(_ in c.g){var E=c.g[_],P=Array.prototype.indexOf.call(E,p,void 0),q;(q=0<=P)&&Array.prototype.splice.call(E,P,1),q&&(_r(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function _s(c,p,_,E){for(var P=0;P<c.length;++P){var q=c[P];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==E)return P}return-1}var vs="closure_lm_"+(1e6*Math.random()|0),Fo={};function Fu(c,p,_,E,P){if(Array.isArray(p)){for(var q=0;q<p.length;q++)Fu(c,p[q],_,E,P);return null}return _=Gu(_),c&&c[Pt]?c.K(p,_,y(E)?!!E.capture:!1,P):Pn(c,p,_,!1,E,P)}function Pn(c,p,_,E,P,q){if(!p)throw Error("Invalid event type");var ne=y(P)?!!P.capture:!!P,Me=ga(c);if(Me||(c[vs]=Me=new Vi(c)),_=Me.add(p,_,E,ne,q),_.proxy)return _;if(E=Uf(),_.proxy=E,E.src=c,E.listener=_,c.addEventListener)de||(P=ne),P===void 0&&(P=!1),c.addEventListener(p.toString(),E,P);else if(c.attachEvent)c.attachEvent(ws(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Uf(){function c(_){return p.call(c.src,c.listener,_)}const p=Bf;return c}function Go(c,p,_,E,P){if(Array.isArray(p))for(var q=0;q<p.length;q++)Go(c,p[q],_,E,P);else E=y(E)?!!E.capture:!!E,_=Gu(_),c&&c[Pt]?(c=c.i,p=String(p).toString(),p in c.g&&(q=c.g[p],_=_s(q,_,E,P),-1<_&&(_r(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[p],c.h--)))):c&&(c=ga(c))&&(p=c.g[p.toString()],c=-1,p&&(c=_s(p,_,E,P)),(_=-1<c?p[c]:null)&&pa(_))}function pa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Pt])ys(p.i,c);else{var _=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(_,E,c.capture):p.detachEvent?p.detachEvent(ws(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=ga(p))?(ys(_,c),_.h==0&&(_.src=null,p[vs]=null)):_r(c)}}}function ws(c){return c in Fo?Fo[c]:Fo[c]="on"+c}function Bf(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var _=c.listener,E=c.ha||c.src;c.fa&&pa(c),c=_.call(E,p)}return c}function ga(c){return c=c[vs],c instanceof Vi?c:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(c){return typeof c=="function"?c:(c[Yo]||(c[Yo]=function(p){return c.handleEvent(p)}),c[Yo])}function ft(){se.call(this),this.i=new Vi(this),this.M=this,this.F=null}W(ft,se),ft.prototype[Pt]=!0,ft.prototype.removeEventListener=function(c,p,_,E){Go(this,c,p,_,E)};function Ke(c,p){var _,E=c.F;if(E)for(_=[];E;E=E.F)_.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var P=p;p=new te(E,c),x(p,P)}if(P=!0,_)for(var q=_.length-1;0<=q;q--){var ne=p.g=_[q];P=bn(ne,E,!0,p)&&P}if(ne=p.g=c,P=bn(ne,E,!0,p)&&P,P=bn(ne,E,!1,p)&&P,_)for(q=0;q<_.length;q++)ne=p.g=_[q],P=bn(ne,E,!1,p)&&P}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],E=0;E<_.length;E++)_r(_[E]);delete c.g[p],c.h--}}this.F=null},ft.prototype.K=function(c,p,_,E){return this.i.add(String(c),p,!1,_,E)},ft.prototype.L=function(c,p,_,E){return this.i.add(String(c),p,!0,_,E)};function bn(c,p,_,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var P=!0,q=0;q<p.length;++q){var ne=p[q];if(ne&&!ne.da&&ne.capture==_){var Me=ne.listener,Ot=ne.ha||ne.src;ne.fa&&ys(c.i,ne),P=Me.call(Ot,E)!==!1&&P}}return P&&!E.defaultPrevented}function en(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Yu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Yu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class zf extends se{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Yu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){se.call(this),this.h=c,this.g={}}W(bs,se);var Es=[];function Ts(c){qe(c.g,function(p,_){this.g.hasOwnProperty(_)&&pa(p)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Ts(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,ya=m.JSON.parse,As=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ko(){}Ko.prototype.h=null;function Qo(c){return c.h||(c.h=c.i())}function $o(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){te.call(this,"d")}W(Li,te);function Xo(){te.call(this,"c")}W(Xo,te);var li={},Wo=null;function vr(){return Wo=Wo||new ft}li.La="serverreachability";function _a(c){te.call(this,li.La,c)}W(_a,te);function wr(c){const p=vr();Ke(p,new _a(p))}li.STAT_EVENT="statevent";function Ku(c,p){te.call(this,li.STAT_EVENT,c),this.stat=p}W(Ku,te);function ot(c){const p=vr();Ke(p,new Ku(p,c))}li.Ma="timingevent";function Dt(c,p){te.call(this,li.Ma,c),this.size=p}W(Dt,te);function Et(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Zo(c,p,_,E,P,q){c.info(function(){if(c.g)if(q)for(var ne="",Me=q.split("&"),Ot=0;Ot<Me.length;Ot++){var Ve=Me[Ot].split("=");if(1<Ve.length){var Ut=Ve[0];Ve=Ve[1];var Nt=Ut.split("_");ne=2<=Nt.length&&Nt[1]=="type"?ne+(Ut+"="+Ve+"&"):ne+(Ut+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+E+") [attempt "+P+"]: "+p+`
`+_+`
`+ne})}function jf(c,p,_,E,P,q,ne){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+P+"]: "+p+`
`+_+`
`+q+" "+ne})}function br(c,p,_,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ss(c,_)+(E?" "+E:"")})}function Qu(c,p){c.info(function(){return"TIMEOUT: "+p})}Ln.prototype.info=function(){};function Ss(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var E=_[c];if(!(2>E.length)){var P=E[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<P.length;ne++)P[ne]=""}}}}return Wn(_)}catch{return p}}var Er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}W(ci,Ko),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function ln(c,p,_,E){this.j=c,this.i=p,this.l=_,this.R=E||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Jo={},va={};function Zn(c,p,_){c.L=1,c.v=Ds(En(p)),c.m=_,c.P=!0,Bi(c,null)}function Bi(c,p){c.F=Date.now(),Rs(c),c.A=En(c.v);var _=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),sl(_.i,"t",E),c.C=0,_=c.j.J,c.h=new pt,c.g=cc(c.j,_?p:null,!c.m),0<c.O&&(c.M=new zf(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,E=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(Es[0]=P.toString()),P=Es);for(var q=0;q<P.length;q++){var ne=Fu(_,P[q],E||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),wr(),Zo(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const p=this.M;p&&jn(c)==3?p.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=jn(this.g);var p=this.g.Ba();const Ki=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Nt!=4||p==7||(p==8||0>=Ki?wr(3):wr(2)),Tr(this);var _=this.g.Z();this.X=_;t:if($u(this)){var E=nc(this.g);c="";var P=E.length,q=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),hi(this);var ne="";break t}this.h.i=new m.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,c+=this.h.i.decode(E[p],{stream:!(q&&p==P-1)});E.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,jf(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Ot=this.g;if((Me=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)br(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,_);else{this.o=!1,this.s=3,ot(12),Yt(this),hi(this);break e}}if(this.P){_=!0;let Kt;for(;!this.J&&this.C<ne.length;)if(Kt=Xu(this,ne),Kt==va){Nt==4&&(this.s=4,ot(14),_=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Jo){this.s=4,ot(15),br(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else br(this.i,this.l,Kt,null),Is(this,Kt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ne.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)br(this.i,this.l,ne,"[Invalid Chunked Response]"),Yt(this),hi(this);else if(0<ne.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Us(Ut),Ut.M=!0,ot(11))}}else br(this.i,this.l,ne,null),Is(this,ne);Nt==4&&Yt(this),this.o&&!this.J&&(Nt==4?oc(this.j,this):(this.o=!1,Rs(this)))}else Yf(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Yt(this),hi(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xu(c,p){var _=c.C,E=p.indexOf(`
`,_);return E==-1?va:(_=Number(p.substring(_,E)),isNaN(_)?Jo:(E+=1,E+_>p.length?va:(p=p.slice(E,E+_),c.C=E+_,p)))}ln.prototype.cancel=function(){this.J=!0,Yt(this)};function Rs(c){c.S=Date.now()+c.I,Wu(c,c.I)}function Wu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(R(c.ba,c),p)}function Tr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qu(this.i,this.A),this.L!=2&&(wr(),ot(17)),Yt(this),this.s=2,hi(this)):Wu(this,this.S-c)};function hi(c){c.j.G==0||c.J||oc(c.j,c)}function Yt(c){Tr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ts(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Is(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||el(_.h,c))){if(!c.K&&el(_.h,c)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var P=E;if(P[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Oa(_),xa(_);else break e;cl(_),ot(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(R(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Yi(_,11)}else if((c.K||_.g==c)&&Oa(_),!ue(p))for(P=_.Da.g.parse(p),p=0;p<P.length;p++){let Ve=P[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Ut=Ve[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Nt=Ve[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const Ki=Ve[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(E=1.5*Ki,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Kt=c.g;if(Kt){const _i=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var q=E.h;q.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ea(q,q.h),q.h=null))}if(E.D){const fl=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(E.ya=fl,We(E.I,E.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ne=c;if(E.qa=uc(E,E.J?E.ia:null,E.W),ne.K){un(E.h,ne);var Me=ne,Ot=E.L;Ot&&(Me.I=Ot),Me.B&&(Tr(Me),Rs(Me)),E.g=ne}else sc(E);0<_.i.length&&Da(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Yi(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Yi(_,7):ll(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}wr(4)}catch{}}var Zu=class{constructor(c,p){this.g=c,this.map=p}};function zi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ba(c){return c.h?1:c.g?c.g.size:0}function el(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ea(c,p){c.g?c.g.add(p):c.h=p}function un(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}zi.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return ee(c.i)}function qf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,E=0;E<_;E++)p.push(c[E]);return p}p=[],_=0;for(E in c)p[_++]=c[E];return p}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const E in c)p[_++]=E;return p}}}function nl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Ta(c),E=qf(c),P=E.length,q=0;q<P;q++)p.call(void 0,E[q],_&&_[q],c)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var E=c[_].indexOf("="),P=null;if(0<=E){var q=c[_].substring(0,E);P=c[_].substring(E+1)}else q=c[_];p(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,xs(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.s),this.l=c.l;var p=c.i,_=new qi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),ji(this,_),this.m=c.m}else c&&(p=String(c).match(Cs))?(this.h=!1,xs(this,p[1]||"",!0),this.o=Un(p[2]||""),this.g=Un(p[3]||"",!0),Ar(this,p[4]),this.l=Un(p[5]||"",!0),ji(this,p[6]||"",!0),this.m=Un(p[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}Tt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Os(p,il,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Os(p,il,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Os(_,_.charAt(0)=="/"?Ff:rl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Os(_,Aa)),c.join("")};function En(c){return new Tt(c)}function xs(c,p,_){c.j=_?Un(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function ji(c,p,_){p instanceof qi?(c.i=p,ec(c.i,c.h)):(_||(p=Os(p,Gf)),c.i=new qi(p,c.h))}function We(c,p,_){c.i.set(p,_)}function Ds(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Un(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,rl=/[#\?:]/g,Ff=/[#\?]/g,Gf=/[#\?@]/g,Aa=/#/g;function qi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=qi.prototype,i.add=function(c,p){Bn(this),this.i=null,c=fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Hi(c,p){Bn(c),p=fi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Fi(c,p){return Bn(c),p=fi(c,p),c.g.has(p)}i.forEach=function(c,p){Bn(this),this.g.forEach(function(_,E){_.forEach(function(P){c.call(p,P,E,this)},this)},this)},i.na=function(){Bn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const P=c[E];for(let q=0;q<P.length;q++)_.push(p[E])}return _},i.V=function(c){Bn(this);let p=[];if(typeof c=="string")Fi(this,c)&&(p=p.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},i.set=function(c,p){return Bn(this),this.i=null,c=fi(this,c),Fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function sl(c,p,_){Hi(c,p),0<_.length&&(c.i=null,c.g.set(fi(c,p),ee(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const q=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var P=q;ne[E]!==""&&(P+="="+encodeURIComponent(String(ne[E]))),c.push(P)}}return this.i=c.join("&")};function fi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ec(c,p){p&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,E){var P=E.toLowerCase();E!=P&&(Hi(this,E),sl(this,P,_))},c)),c.j=p}function Ns(c,p){const _=new Ln;if(m.Image){const E=new Image;E.onload=H(zn,_,"TestLoadImage: loaded",!0,p,E),E.onerror=H(zn,_,"TestLoadImage: error",!1,p,E),E.onabort=H(zn,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=H(zn,_,"TestLoadImage: timeout",!1,p,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function Jn(c,p){const _=new Ln,E=new AbortController,P=setTimeout(()=>{E.abort(),zn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(q=>{clearTimeout(P),q.ok?zn(_,"TestPingServer: ok",!0,p):zn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),zn(_,"TestPingServer: error",!1,p)})}function zn(c,p,_,E,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),E(_)}catch{}}function ks(){this.g=new As}function di(c,p,_){const E=_||"";try{nl(c,function(P,q){let ne=P;y(P)&&(ne=Wn(P)),p.push(E+q+"="+encodeURIComponent(ne))})}catch(P){throw p.push(E+"type="+encodeURIComponent("_badmap")),P}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}W(Sr,Ko),Sr.prototype.g=function(){return new Gi(this.l,this.j)},Sr.prototype.i=(function(c){return function(){return c}})({});function Gi(c,p){ft.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Gi,ft),i=Gi.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?mi(this):pi(this),this.readyState==3&&al(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ol(c){let p="";return qe(c,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Lt(c,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=ol(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,p,_))}function Ye(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Ye,ft);var Sa=/^https?$/i,Ms=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Qo(this.o):Qo(ui),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){tc(this,q);return}if(c=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var P in E)_.set(P,E[P]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())_.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ms,p,void 0))||E||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){tc(this,q)}};function tc(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ra(c),gi(c)}function Ra(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},i.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof f<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)en(c.Ea,0,c);else if(Ke(c,"readystatechange"),jn(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=ne===0){var P=String(c.D).match(Cs)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),E=!Sa.test(P?P.toLowerCase():"")}_=E}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var q=2<jn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Ra(c)}}finally{gi(c)}}}}function gi(c,p){if(c.g){Vs(c);const _=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ke(c,"ready");try{_.onreadystatechange=E}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ya(p)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yf(c){const p={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(ue(c[E]))continue;var _=N(c[E]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[P]||[];p[P]=q,q.push(_)}k(p,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Ca(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,c),this.cb=Ps("retryDelaySeedMs",1e4,c),this.Wa=Ps("forwardChannelMaxRetries",2,c),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(c&&c.concurrentRequestLimit),this.Da=new ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ca.prototype,i.la=8,i.G=1,i.connect=function(c,p,_,E){ot(0),this.W=c,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=uc(this,null,this.W),Da(this)};function ll(c){if(ic(c),c.G==3){var p=c.U++,_=En(c.I);if(We(_,"SID",c.K),We(_,"RID",p),We(_,"TYPE","terminate"),Ls(c,_),p=new ln(c,c.j,p),p.L=2,p.v=Ds(En(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=cc(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Rs(p)}lc(c)}function xa(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function ic(c){xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Da(c){if(!wa(c.h)&&!c.s){c.s=!0;var p=c.Ga;re||D(),fe||(re(),fe=!0),He.add(p,c),c.B=0}}function Kf(c,p){return ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(R(c.Ga,c,p),hl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new ln(this,this.j,c);let q=this.o;if(this.S&&(q?(q=T(q),x(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=rc(this,P,p),_=En(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Ls(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(ol(q)))+"&"+p:this.m&&Lt(_,this.m,q)),Ea(this.h,P),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",p),We(_,"SID","null"),P.T=!0,Zn(P,_,null)):Zn(P,_,p),this.G=2}}else this.G==3&&(c?ul(this,c):this.i.length==0||wa(this.h)||ul(this))};function ul(c,p){var _;p?_=p.l:_=c.U++;const E=En(c.I);We(E,"SID",c.K),We(E,"RID",_),We(E,"AID",c.T),Ls(c,E),c.m&&c.o&&Lt(E,c.m,c.o),_=new ln(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=rc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,_),Zn(_,E,p)}function Ls(c,p){c.H&&qe(c.H,function(_,E){We(p,E,_)}),c.l&&nl({},function(_,E){We(p,E,_)})}function rc(c,p,_){_=Math.min(c.i.length,_);var E=c.l?R(c.l.Na,c.l,c):null;e:{var P=c.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=P[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Me=!0;for(let Ot=0;Ot<_;Ot++){let Ve=P[Ot].g;const Ut=P[Ot].map;if(Ve-=q,0>Ve)q=Math.max(0,P[Ot].g-100),Me=!1;else try{di(Ut,ne,"req"+Ve+"_")}catch{E&&E(Ut)}}if(Me){E=ne.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,E}function sc(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;re||D(),fe||(re(),fe=!0),He.add(p,c),c.v=0}}function cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(R(c.Fa,c),hl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),xa(this),ac(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=En(c.qa);We(p,"RID","rpc"),We(p,"SID",c.K),We(p,"AID",c.T),We(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(p,"TO",c.ja),We(p,"TYPE","xmlhttp"),Ls(c,p),c.m&&c.o&&Lt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ds(En(p)),_.m=null,_.P=!0,Bi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,xa(this),cl(this),ot(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function oc(c,p){var _=null;if(c.g==p){Oa(c),Us(c),c.g=null;var E=2}else if(el(c.h,p))_=p.D,un(c.h,p),E=1;else return;if(c.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var P=c.B;E=vr(),Ke(E,new Dt(E,_)),Da(c)}else sc(c);else if(P=p.s,P==3||P==0&&0<p.X||!(E==1&&Kf(c,p)||E==2&&cl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),P){case 1:Yi(c,5);break;case 4:Yi(c,10);break;case 3:Yi(c,6);break;default:Yi(c,2)}}}function hl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Yi(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),E=c.Xa;const P=!E;E=new Tt(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xs(E,"https"),Ds(E),P?Ns(E.toString(),_):Jn(E.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(p),lc(c),ic(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const p=tl(c.h);(p.length!=0||c.i.length!=0)&&(J(c.ka,p),J(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function uc(c,p,_){var E=_ instanceof Tt?En(_):new Tt(_);if(E.g!="")p&&(E.g=p+"."+E.g),Ar(E,E.s);else{var P=m.location;E=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var q=new Tt(null);E&&xs(q,E),p&&(q.g=p),P&&Ar(q,P),_&&(q.l=_),E=q}return _=c.D,p=c.ya,_&&p&&We(E,_,p),We(E,"VER",c.la),Ls(c,E),E}function cc(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ye(new Sr({eb:_})):new Ye(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}i=hc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(c,p){return new cn(c,p)};function cn(c,p){ft.call(this),this.g=new Ca(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ue(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ue(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new yi(this)}W(cn,ft),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ll(this.g)},cn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wn(c),c=_);p.i.push(new Zu(p.Ya++,c)),p.G==3&&Da(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,cn.aa.N.call(this)};function fc(c){Li.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}W(fc,Li);function dc(){Xo.call(this),this.status=1}W(dc,Xo);function yi(c){this.g=c}W(yi,hc),yi.prototype.ua=function(){Ke(this.g,"a")},yi.prototype.ta=function(c){Ke(this.g,new fc(c))},yi.prototype.sa=function(c){Ke(this.g,new dc)},yi.prototype.ra=function(){Ke(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,ZE=function(){return new Na},WE=function(){return vr()},XE=li,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Ih=Er,Ui.COMPLETE="complete",$E=Ui,$o.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,nu=$o,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,QE=Ye}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",r0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new $p("@firebase/firestore");function oo(){return ua.logLevel}function ae(i,...e){if(ua.logLevel<=Oe.DEBUG){const t=e.map(ag);ua.debug(`Firestore (${Uo}): ${i}`,...t)}}function dr(i,...e){if(ua.logLevel<=Oe.ERROR){const t=e.map(ag);ua.error(`Firestore (${Uo}): ${i}`,...t)}}function So(i,...e){if(ua.logLevel<=Oe.WARN){const t=e.map(ag);ua.warn(`Firestore (${Uo}): ${i}`,...t)}}function ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,JE(i,s,t)}function JE(i,e,t){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw dr(s),new Error(s)}function Ue(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||JE(e,o,s)}function Te(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends gr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class nO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iO{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ci,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ci)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new eT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class rO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new rO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new s0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function _p(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return np(o)===np(u)?Ne(o,u):np(o)?1:-1}return Ne(i.length,e.length)}const lO=55296,uO=57343;function np(i){const e=i.charCodeAt(0);return e>=lO&&e<=uO}function Ro(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__name__";class Si{constructor(e,t,s){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&me(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ne(e.length,t.length)}static compareSegments(e,t){const s=Si.isNumericId(e),o=Si.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(t)):_p(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class tt extends Si{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Si{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return cO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new Zt([a0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(tt.fromString(e))}static fromName(e){return new ce(tt.fromString(e).popFirst(5))}static empty(){return new ce(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i,e,t){if(!t)throw new ie(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hO(i,e,t,s){if(e===!0&&s===!0)throw new ie(K.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function o0(i){if(!ce.isDocumentKey(i))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function l0(i){if(ce.isDocumentKey(i))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":me(12329,{type:typeof i})}function mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(i);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,e){const t={typeString:i};return e&&(t.value=e),t}function Lu(i,e){if(!nT(i))throw new ie(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ie(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*c0);return new at(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<u0)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ct("string",at._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new at(0,0))}static max(){return new ve(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function fO(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new at(t+1,0):new at(t,s));return new os(o,ce.empty(),e)}function dO(i){return new os(i.readTime,i.key,yu)}class os{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new os(ve.min(),ce.empty(),yu)}static max(){return new os(ve.max(),ce.empty(),yu)}}function mO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(i.documentKey,e.documentKey),t!==0?t:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==pO)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,s)=>{t(e)}))}static reject(e){return new X(((t,s)=>{s(e)}))}static waitFor(e){return new X(((t,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&t()}),(g=>s(g)))})),f=!0,u===o&&t()}))}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next((o=>o?X.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new X(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((b=>{f[y]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,t){return new X(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function yO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function Uu(i){return i==null}function Xh(i){return i===0&&1/i==-1/0}function _O(i){return typeof i=="number"&&Number.isInteger(i)&&!Xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="";function vO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=h0(e)),e=wO(i.get(t),e);return h0(e)}function wO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case iT:t+="";break;default:t+=u}}return t}function h0(i){return i+iT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ms(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function rT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Vt(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sT("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const bO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(i){if(Ue(!!i,39018),typeof i=="string"){let e=0;const t=bO.exec(i);if(Ue(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function us(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="server_timestamp",oT="__type__",lT="__previous_value__",uT="__local_write_time__";function ug(i){return(i?.mapValue?.fields||{})[oT]?.stringValue===aT}function Ef(i){const e=i.mapValue.fields[lT];return ug(e)?Ef(e):e}function _u(i){const e=ls(i.mapValue.fields[uT].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,s,o,u,f,m,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Wh="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Wh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__type__",TO="__max__",vh={mapValue:{}},hT="__vector__",Zh="value";function cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:SO(i)?9007199254740991:AO(i)?10:11:me(28295,{value:i})}function ki(i,e){if(i===e)return!0;const t=cs(i);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _u(i).isEqual(_u(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Xh(f)===Xh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(f)!==f0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ki(f[g],m[g])))return!1;return!0})(i,e);default:return me(52216,{left:i})}}function wu(i,e){return(i.values||[]).find((t=>ki(t,e)))!==void 0}function Io(i,e){if(i===e)return 0;const t=cs(i),s=cs(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return m0(i.timestampValue,e.timestampValue);case 4:return m0(_u(i),_u(e));case 5:return _p(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),g=us(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Ne(m[y],g[y]);if(b!==0)return b}return Ne(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ne(vt(u.latitude),vt(f.latitude));return m!==0?m:Ne(vt(u.longitude),vt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return p0(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Zh]?.arrayValue,b=g[Zh]?.arrayValue,A=Ne(y?.values?.length||0,b?.values?.length||0);return A!==0?A:p0(y,b)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===vh.mapValue&&f===vh.mapValue)return 0;if(u===vh.mapValue)return 1;if(f===vh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const R=_p(g[A],b[A]);if(R!==0)return R;const H=Io(m[g[A]],y[b[A]]);if(H!==0)return H}return Ne(g.length,b.length)})(i.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function m0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const t=ls(i),s=ls(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function p0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Io(t[o],s[o]);if(u)return u}return Ne(t.length,s.length)}function Co(i){return vp(i)}function vp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ls(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return us(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ce.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=vp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${vp(t.fields[f])}`;return o+"}"})(i.mapValue):me(61005,{value:i})}function Ch(i){switch(cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,f)=>{o+=u.length+Ch(f)})),o})(i.mapValue);default:throw me(13486,{value:i})}}function g0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wp(i){return!!i&&"integerValue"in i}function cg(i){return!!i&&"arrayValue"in i}function y0(i){return!!i&&"nullValue"in i}function _0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xh(i){return!!i&&"mapValue"in i}function AO(i){return(i?.mapValue?.fields||{})[cT]?.stringValue===hT}function lu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ms(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=lu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(i.arrayValue.values[t]);return e}return{...i}}function SO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=lu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ms(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(lu(this.value))}}function fT(i){const e=[];return ms(i.fields,((t,s)=>{const o=new Zt([t]);if(xh(s)){const u=fT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ht(e,0,ve.min(),ve.min(),ve.min(),fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ht(e,1,t,ve.min(),s,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,ve.min(),ve.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,ve.min(),ve.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.position=e,this.inclusive=t}}function v0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ce.comparator(ce.fromName(f.referenceValue),t.key):s=Io(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function w0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ki(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function RO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{}class It extends dT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new CO(e,t,s):t==="array-contains"?new OO(e,s):t==="in"?new NO(e,s):t==="not-in"?new kO(e,s):t==="array-contains-any"?new MO(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new xO(e,s):new DO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends dT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ai(e,t)}matches(e){return mT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mT(i){return i.op==="and"}function pT(i){return IO(i)&&mT(i)}function IO(i){for(const e of i.filters)if(e instanceof ai)return!1;return!0}function bp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(pT(i))return i.filters.map((e=>bp(e))).join(",");{const e=i.filters.map((t=>bp(t))).join(",");return`${i.op}(${e})`}}function gT(i,e){return i instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(i,e):i instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&gT(f,o.filters[m])),!0):!1})(i,e):void me(19439)}function yT(i){return i instanceof It?(function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`})(i):i instanceof ai?(function(t){return t.op.toString()+" {"+t.getFilters().map(yT).join(" ,")+"}"})(i):"Filter"}class CO extends It{constructor(e,t,s){super(e,t,s),this.key=ce.fromName(s.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class xO extends It{constructor(e,t){super(e,"in",t),this.keys=_T("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DO extends It{constructor(e,t){super(e,"not-in",t),this.keys=_T("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _T(i,e){return(e.arrayValue?.values||[]).map((t=>ce.fromName(t.referenceValue)))}class OO extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&wu(t.arrayValue,this.value)}}class NO extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class kO extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class MO extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>wu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function b0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new VO(i,e,t,s,o,u,f)}function hg(i){const e=Te(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>bp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=t}return e.Te}function fg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!RO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!gT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!w0(i.startAt,e.startAt)&&w0(i.endAt,e.endAt)}function Ep(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PO(i,e,t,s,o,u,f,m){return new jo(i,e,t,s,o,u,f,m)}function dg(i){return new jo(i)}function E0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vT(i){return i.collectionGroup!==null}function uu(i){const e=Te(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Zt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new bu(u,s))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new bu(Zt.keyField(),s))}return e.Ie}function xi(i){const e=Te(i);return e.Ee||(e.Ee=LO(e,uu(i))),e.Ee}function LO(i,e){if(i.limitType==="F")return b0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new bu(o.field,u)}));const t=i.endAt?new Jh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Jh(i.startAt.position,i.startAt.inclusive):null;return b0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Tp(i,e){const t=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ef(i,e,t){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Tf(i,e){return fg(xi(i),xi(e))&&i.limitType===e.limitType}function wT(i){return`${hg(xi(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>yT(o))).join(", ")}]`),Uu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Co(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(xi(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of uu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=v0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,uu(s),o)||s.endAt&&!(function(f,m,g){const y=v0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,uu(s),o))})(i,e)}function UO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function bT(i){return(e,t)=>{let s=!1;for(const o of uu(i)){const u=BO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function BO(i,e,t){const s=i.field.isKeyField()?ce.comparator(e.key,t.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Io(g,y):me(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return me(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return rT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new ct(ce.comparator);function pr(){return zO}const ET=new ct(ce.comparator);function iu(...i){let e=ET;for(const t of i)e=e.insert(t.key,t);return e}function TT(i){let e=ET;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function na(){return cu()}function AT(){return cu()}function cu(){return new da((i=>i.toString()),((i,e)=>i.isEqual(e)))}const jO=new ct(ce.comparator),qO=new Vt(ce.comparator);function ke(...i){let e=qO;for(const t of i)e=e.add(t);return e}const HO=new Vt(Ne);function FO(){return HO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function ST(i){return{integerValue:""+i}}function GO(i,e){return _O(e)?ST(e):mg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function YO(i,e,t){return i instanceof Eu?(function(o,u){const f={fields:{[oT]:{stringValue:aT},[uT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=Ef(u)),u&&(f.fields[lT]=u),{mapValue:f}})(t,e):i instanceof Tu?IT(i,e):i instanceof Au?CT(i,e):(function(o,u){const f=RT(o,u),m=T0(f)+T0(o.Ae);return wp(f)&&wp(o.Ae)?ST(m):mg(o.serializer,m)})(i,e)}function KO(i,e,t){return i instanceof Tu?IT(i,e):i instanceof Au?CT(i,e):t}function RT(i,e){return i instanceof tf?(function(s){return wp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Eu extends Sf{}class Tu extends Sf{constructor(e){super(),this.elements=e}}function IT(i,e){const t=xT(e);for(const s of i.elements)t.some((o=>ki(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Au extends Sf{constructor(e){super(),this.elements=e}}function CT(i,e){let t=xT(e);for(const s of i.elements)t=t.filter((o=>!ki(o,s)));return{arrayValue:{values:t}}}class tf extends Sf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function T0(i){return vt(i.integerValue||i.doubleValue)}function xT(i){return cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t){this.field=e,this.transform=t}}function $O(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Tu&&o instanceof Tu||s instanceof Au&&o instanceof Au?Ro(s.elements,o.elements,ki):s instanceof tf&&o instanceof tf?ki(s.Ae,o.Ae):s instanceof Eu&&o instanceof Eu})(i.transform,e.transform)}class XO{constructor(e,t){this.version=e,this.transformResults=t}}class dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rf{}function DT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pg(i.key,dn.none()):new Bu(i.key,i.data,dn.none());{const t=i.data,s=fn.empty();let o=new Vt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(i.key,s,new On(o.toArray()),dn.none())}}function WO(i,e,t){i instanceof Bu?(function(o,u,f){const m=o.value.clone(),g=S0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,t):i instanceof ps?(function(o,u,f){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=S0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(OT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function hu(i,e,t,s){return i instanceof Bu?(function(u,f,m,g){if(!Dh(u.precondition,f))return m;const y=u.value.clone(),b=R0(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof ps?(function(u,f,m,g){if(!Dh(u.precondition,f))return m;const y=R0(u.fieldTransforms,g,f),b=f.data;return b.setAll(OT(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,t,s):(function(u,f,m){return Dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,t)}function ZO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=RT(s.transform,o||null);u!=null&&(t===null&&(t=fn.empty()),t.set(s.field,u))}return t||null}function A0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((u,f)=>$O(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bu extends Rf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Rf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function S0(i,e,t){const s=new Map;Ue(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,KO(f,m,t[o]))}return s}function R0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,YO(u,f,e))}return s}class pg extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NT extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&WO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=hu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=AT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const g=DT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((t,s)=>A0(t,s)))&&Ro(this.baseMutations,e.baseMutations,((t,s)=>A0(t,s)))}}class gg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return jO})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Le;function kT(i){switch(i){case K.OK:return me(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return me(15467,{code:i})}}function MT(i){if(i===void 0)return dr("GRPC error has no .code"),K.UNKNOWN;switch(i){case Rt.OK:return K.OK;case Rt.CANCELLED:return K.CANCELLED;case Rt.UNKNOWN:return K.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return K.INTERNAL;case Rt.UNAVAILABLE:return K.UNAVAILABLE;case Rt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Rt.NOT_FOUND:return K.NOT_FOUND;case Rt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Rt.ABORTED:return K.ABORTED;case Rt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Rt.DATA_LOSS:return K.DATA_LOSS;default:return me(39323,{code:i})}}(Le=Rt||(Rt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new rs([4294967295,4294967295],0);function I0(i){const e=nN().encode(i),t=new KE;return t.update(e),new Uint8Array(t.digest())}function C0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([t,s],0),new rs([o,u],0)]}class yg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=rs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(rs.fromNumber(s)));return o.compare(iN)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=I0(e),[s,o]=C0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yg(u,o,t);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const t=I0(e),[s,o]=C0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new If(ve.min(),o,new ct(Ne),pr(),ke())}}class zu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class VT{constructor(e,t){this.targetId=e,this.Ce=t}}class PT{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class x0{constructor(){this.ve=0,this.Fe=D0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:me(38017,{changeType:u})}})),new zu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=D0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rN{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=wh(),this.He=wh(),this.Ye=new ct(Ne)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Ep(u))if(s===0){const f=new ce(u.path);this.et(t,f,Ht.newNoDocument(f,ve.min()))}else Ue(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=us(s).toUint8Array()}catch(g){if(g instanceof sT)return So("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new yg(f,o,u)}catch(g){return So(g instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Ep(m.target)){const g=new ce(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ht.newNoDocument(g,e))}u.Be&&(t.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new If(e,t,this.Ye,this.je,s);return this.je=pr(),this.Je=wh(),this.He=wh(),this.Ye=new ct(Ne),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new x0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(Ne),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(Ne),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wh(){return new ct(ce.comparator)}function D0(){return new ct(ce.comparator)}const sN={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oN={and:"AND",or:"OR"};class lN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ap(i,e){return i.useProto3Json||Uu(e)?e:{value:e}}function nf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uN(i,e){return nf(i,e.toTimestamp())}function Nn(i){return Ue(!!i,49232),ve.fromTimestamp((function(t){const s=ls(t);return new at(s.seconds,s.nanos)})(i))}function _g(i,e){return Sp(i,e).canonicalString()}function Sp(i,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function UT(i){const e=tt.fromString(i);return Ue(FT(e),10190,{key:e.toString()}),e}function rf(i,e){return _g(i.databaseId,e.path)}function fu(i,e){const t=UT(e);if(t.get(1)!==i.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ce(zT(t))}function BT(i,e){return _g(i.databaseId,e)}function cN(i){const e=UT(i);return e.length===4?tt.emptyPath():zT(e)}function Rp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function zT(i){return Ue(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function O0(i,e,t){return{name:rf(i,e),fields:t.value.mapValue.fields}}function hN(i,e){return"found"in e?(function(s,o){Ue(!!o.found,43571),o.found.name,o.found.updateTime;const u=fu(s,o.found.name),f=Nn(o.found.updateTime),m=o.found.createTime?Nn(o.found.createTime):ve.min(),g=new fn({mapValue:{fields:o.found.fields}});return Ht.newFoundDocument(u,f,m,g)})(i,e):"missing"in e?(function(s,o){Ue(!!o.missing,3894),Ue(!!o.readTime,22933);const u=fu(s,o.missing),f=Nn(o.readTime);return Ht.newNoDocument(u,f)})(i,e):me(7234,{result:e})}function fN(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:me(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ue(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Ue(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?K.UNKNOWN:MT(y.code);return new ie(b,y.message||"")})(f);t=new PT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fu(i,s.document.name),u=Nn(s.document.updateTime),f=s.document.createTime?Nn(s.document.createTime):ve.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=Ht.newFoundDocument(o,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];t=new Oh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fu(i,s.document),u=s.readTime?Nn(s.readTime):ve.min(),f=Ht.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fu(i,s.document),u=s.removedTargetIds||[];t=new Oh([],u,o,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new tN(o,u),m=s.targetId;t=new VT(m,f)}}return t}function jT(i,e){let t;if(e instanceof Bu)t={update:O0(i,e.key,e.value)};else if(e instanceof pg)t={delete:rf(i,e.key)};else if(e instanceof ps)t={update:O0(i,e.key,e.data),updateMask:bN(e.fieldMask)};else{if(!(e instanceof NT))return me(16599,{Vt:e.type});t={verify:rf(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Eu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof tf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw me(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:uN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:me(27497)})(i,e.precondition)),t}function dN(i,e){return i&&i.length>0?(Ue(e!==void 0,14353),i.map((t=>(function(o,u){let f=o.updateTime?Nn(o.updateTime):Nn(u);return f.isEqual(ve.min())&&(f=Nn(u)),new XO(f,o.transformResults||[])})(t,e)))):[]}function mN(i,e){return{documents:[BT(i,e.path)]}}function pN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=BT(i,o);const u=(function(y){if(y.length!==0)return HT(ai.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(R){return{field:uo(R.field),direction:_N(R.dir)}})(b)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Ap(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function gN(i){let e=cN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ue(s===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=(function(A){const R=qT(A);return R instanceof ai&&pT(R)?R.getFilters():[R]})(t.where));let f=[];t.orderBy&&(f=(function(A){return A.map((R=>(function(W){return new bu(co(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(R)))})(t.orderBy));let m=null;t.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,Uu(R)?null:R})(t.limit));let g=null;t.startAt&&(g=(function(A){const R=!!A.before,H=A.values||[];return new Jh(H,R)})(t.startAt));let y=null;return t.endAt&&(y=(function(A){const R=!A.before,H=A.values||[];return new Jh(H,R)})(t.endAt)),PO(e,o,f,u,m,"F",g,y)}function yN(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=co(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(t.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(i):i.fieldFilter!==void 0?(function(t){return It.create(co(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ai.create(t.compositeFilter.filters.map((s=>qT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(i):me(30097,{filter:i})}function _N(i){return sN[i]}function vN(i){return aN[i]}function wN(i){return oN[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Zt.fromServerFormat(i.fieldPath)}function HT(i){return i instanceof It?(function(t){if(t.op==="=="){if(_0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(y0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(y0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:vN(t.op),value:t.value}}})(i):i instanceof ai?(function(t){const s=t.getFilters().map((o=>HT(o)));return s.length===1?s[0]:{compositeFilter:{op:wN(t.op),filters:s}}})(i):me(54877,{filter:i})}function bN(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function FT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,s,o,u=ve.min(),f=ve.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.yt=e}}function TN(i){const e=gN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.Cn=new SN}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(os.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class SN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(GT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="LruGarbageCollector",RN=1048576;function M0([i,e],[t,s]){const o=Ne(i,t);return o===0?Ne(e,s):o}class IN{constructor(e){this.Ir=e,this.buffer=new Vt(M0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();M0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(k0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?ae(k0,"Ignoring IndexedDB error during garbage collection: ",t):await Bo(t)}await this.Vr(3e5)}))}}class xN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(bf.ce);const s=new IN(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(N0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,t)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),oo()<=Oe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function DN(i,e){return new xN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new da((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&hu(s.mutation,o,On.empty(),at.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=na();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let f=iu();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=na();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{t.set(f,m)}))}))}computeViews(e,t,s,o){let u=pr();const f=cu(),m=(function(){return cu()})();return t.forEach(((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof ps)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),hu(b.mutation,y,b.mutation.getFieldMask(),at.now())):f.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),t.forEach(((y,b)=>m.set(y,new NN(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=cu();let o=new ct(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let b=s.get(g)||On.empty();b=m.applyToLocalView(y,b),s.set(g,b);const A=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,A=AT();b.forEach((R=>{if(!u.has(R)){const H=DT(t.get(R),s.get(R));H!==null&&A.set(R,H),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return X.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(f){return ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):X.resolve(na());let m=yu,g=u;return f.next((y=>X.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((R=>{g=g.insert(b,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((b=>({batchId:m,changes:TT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((s=>{let o=iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=iu();return this.indexManager.getCollectionParents(e,u).next((m=>X.forEach(m,(g=>{const y=(function(A,R){return new jo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Ht.newInvalidDocument(b)))}));let m=iu();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&hu(b.mutation,y,On.empty(),at.now()),Af(t,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Nn(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:TN(o.bundledQuery),readTime:Nn(o.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.overlays=new ct(ce.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=na();return X.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),X.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const o=na(),u=t.length+1,f=new ce(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=na(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=na(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return X.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new eN(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Qr=new Vt(qt.$r),this.Ur=new Vt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ce(new tt([])),s=new qt(t,e),o=new qt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ce(new tt([])),s=new qt(t,e),o=new qt(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const t=new qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ce.comparator(e.key,t.key)||Ne(e.Yr,t.Yr)}static Kr(e,t){return Ne(e.Yr,t.Yr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(qt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new JO(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Ne);return t.forEach((o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ce.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ce(u),0);let m=new Vt(Ne);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),X.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ue(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(t.mutations,(o=>{const u=new qt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new qt(t,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.ri=e,this.docs=(function(){return new ct(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let s=pr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ht.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=pr();const f=t.path,m=new ce(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||mO(dO(b),s)<=0||(o.has(b.key)||Af(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,t,s,o){me(9500)}ii(e,t){return X.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new BN(this)}getSize(e){return X.resolve(this.size)}}class BN extends ON{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.persistence=e,this.si=new da((t=>hg(t)),fg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),X.waitFor(u).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new PN,this.referenceDelegate=e(this),this.Pi=new zN(this),this.indexManager=new AN,this.remoteDocumentCache=(function(o){return new UN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new EN(t),this.Ii=new MN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new LN(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new jN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class jN extends gO{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=ce.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sf{constructor(e,t){this.persistence=e,this.pi=new da((s=>vO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=DN(this,t)}static mi(e,t){return new sf(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?X.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,t).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}br(e,t,s){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pI()?8:yO(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new qN;return this.Ss(e,t,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,f,m.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(oo()<=Oe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(oo()<=Oe.DEBUG&&ae("QueryEngine","Query:",lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Oe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(t))):X.resolve())}ys(e,t){if(E0(t))return X.resolve(null);let s=xi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=ef(t,null,"F"),s=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,m);return this.Cs(t,y,f,g.readTime)?this.ys(e,ef(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return E0(t)||o.isEqual(ve.min())?X.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(t,u);return this.Cs(t,f,s,o)?X.resolve(null):(oo()<=Oe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.vs(e,f,t,fO(o,yu)).next((m=>m)))}))}Ds(e,t){let s=new Vt(bT(e));return t.forEach(((o,u)=>{Af(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return oo()<=Oe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ps.getDocumentsMatchingQuery(e,t,os.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",FN=3e8;class GN{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Ne),this.xs=new da((u=>hg(u)),fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function YN(i,e,t,s){return new GN(i,e,t,s)}async function KT(i,e){const t=Te(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function KN(i,e){const t=Te(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const A=y.batch,R=A.keys();let H=X.resolve();return R.forEach((W=>{H=H.next((()=>b.getEntry(g,W))).next((ee=>{const J=y.docVersions.get(W);Ue(J!==null,48541),ee.version.compareTo(J)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),b.addEntry(ee)))}))})),H.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function QT(i){const e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function QN(i,e){const t=Te(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((b,A)=>{const R=o.get(A);if(!R)return;m.push(t.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(u,b.addedDocuments,A))));let H=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Jt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,s)),o=o.insert(A,H),(function(ee,J,ye){return ee.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=FN?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(R,H,b)&&m.push(t.Pi.updateTargetData(u,H))}));let g=pr(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push($N(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(ve.min())){const b=t.Pi.getLastRemoteSnapshotVersion(u).next((A=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return X.waitFor(m).next((()=>f.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function $N(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=pr();return t.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae(Eg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function XN(i,e){const t=Te(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=lg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function WN(i,e){const t=Te(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,X.resolve(o)):t.Pi.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Ip(i,e,t){const s=Te(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!zo(f))throw f;ae(Eg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function V0(i,e,t){const s=Te(i);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const A=Te(g),R=A.xs.get(b);return R!==void 0?X.resolve(A.Ms.get(R)):A.Pi.getTargetData(y,b)})(s,f,xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:ve.min(),t?u:ke()))).next((m=>(ZN(s,UO(e),m),{documents:m,Qs:u})))))}function ZN(i,e,t){let s=i.Os.get(e)||ve.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class P0{constructor(){this.activeTargetIds=FO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.Mo=new P0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(L0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(L0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Cp(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const f=Cp(),m=this.zo(e,t.toUriEncodedString());ae(ip,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=Vo(y);return this.Jo(e,m,g,s,b).then((A=>(ae(ip,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw So(ip,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,t,s,o,u,f){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=tk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class rk extends nk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=Cp();return new Promise(((m,g)=>{const y=new QE;y.setWithCredentials(!0),y.listenOnce($E.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ih.NO_ERROR:const A=y.getResponseJson();ae(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Ih.TIMEOUT:ae(rn,`RPC '${e}' ${f} timed out`),g(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const R=y.getStatus();if(ae(rn,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const ee=(function(ye){const ue=ye.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ue)>=0?ue:K.UNKNOWN})(W.status);g(new ie(ee,W.message))}else g(new ie(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ie(K.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(rn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ae(rn,`RPC '${e}' ${f} sending request:`,o),y.send(t,"POST",b,s,15)}))}T_(e,t,s){const o=Cp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ZE(),m=WE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const b=u.join("");ae(rn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const A=f.createWebChannel(b,g);this.I_(A);let R=!1,H=!1;const W=new ik({Yo:J=>{H?ae(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(R||(ae(rn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),ae(rn,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),ee=(J,ye,ue)=>{J.listen(ye,(he=>{try{ue(he)}catch(je){setTimeout((()=>{throw je}),0)}}))};return ee(A,nu.EventType.OPEN,(()=>{H||(ae(rn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),ee(A,nu.EventType.CLOSE,(()=>{H||(H=!0,ae(rn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(A))})),ee(A,nu.EventType.ERROR,(J=>{H||(H=!0,So(rn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ie(K.UNAVAILABLE,"The operation could not be completed")))})),ee(A,nu.EventType.MESSAGE,(J=>{if(!H){const ye=J.data[0];Ue(!!ye,16349);const ue=ye,he=ue?.error||ue[0]?.error;if(he){ae(rn,`RPC '${e}' stream ${o} received error:`,he);const je=he.status;let Ae=(function(T){const I=Rt[T];if(I!==void 0)return MT(I)})(je),qe=he.message;Ae===void 0&&(Ae=K.INTERNAL,qe="Unknown error status: "+je+" with message "+he.message),H=!0,W.a_(new ie(Ae,qe)),A.close()}else ae(rn,`RPC '${e}' stream ${o} received:`,ye),W.u_(ye)}})),ee(m,XE.STAT_EVENT,(J=>{J.stat===yp.PROXY?ae(rn,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===yp.NOPROXY&&ae(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(i){return new lN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class $T{constructor(e,t,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ie(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ae(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sk extends $T{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=fN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Nn(f.readTime):ve.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Rp(this.serializer),t.addTarget=(function(u,f){let m;const g=f.target;if(m=Ep(g)?{documents:mN(u,g)}:{query:pN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=LT(u,f.resumeToken);const y=Ap(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=nf(u,f.snapshotVersion.toTimestamp());const y=Ap(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=yN(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.q_(t)}}class ak extends $T{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=dN(e.writeResults,e.commitTime),s=Nn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Rp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>jT(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{}class lk extends ok{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Sp(t,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(K.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Sp(t,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ie(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class ck{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ma(this)&&(ae(ca,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await ju(y),y.Ra.set("Unknown"),y.Ea.delete(4),await xf(y)})(this))}))})),this.Ra=new uk(s,o)}}async function xf(i){if(ma(i))for(const e of i.da)await e(!0)}async function ju(i){for(const e of i.da)await e(!1)}function XT(i,e){const t=Te(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ig(t)?Rg(t):qo(t).O_()&&Sg(t,e))}function Ag(i,e){const t=Te(i),s=qo(t);t.Ia.delete(e),s.O_()&&WT(t,e),t.Ia.size===0&&(s.O_()?s.L_():ma(t)&&t.Ra.set("Unknown"))}function Sg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qo(i).Y_(e)}function WT(i,e){i.Va.Ue(e),qo(i).Z_(e)}function Rg(i){i.Va=new rN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.Ra.ua()}function Ig(i){return ma(i)&&!qo(i).x_()&&i.Ia.size>0}function ma(i){return Te(i).Ea.size===0}function ZT(i){i.Va=void 0}async function hk(i){i.Ra.set("Online")}async function fk(i){i.Ia.forEach(((e,t)=>{Sg(i,e)}))}async function dk(i,e){ZT(i),Ig(i)?(i.Ra.ha(e),Rg(i)):i.Ra.set("Unknown")}async function mk(i,e,t){if(i.Ra.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ae(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await af(i,s)}else if(e instanceof Oh?i.Va.Ze(e):e instanceof VT?i.Va.st(e):i.Va.tt(e),!t.isEqual(ve.min()))try{const s=await QT(i.localStore);t.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),WT(u,g);const A=new es(b.target,g,y,b.sequenceNumber);Sg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ae(ca,"Failed to raise snapshot:",s),await af(i,s)}}async function af(i,e,t){if(!zo(e))throw e;i.Ea.add(1),await ju(i),i.Ra.set("Offline"),t||(t=()=>QT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ae(ca,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await xf(i)}))}function JT(i,e){return e().catch((t=>af(i,t,e)))}async function Df(i){const e=Te(i),t=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;pk(e);)try{const o=await XN(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,gk(e,o)}catch(o){await af(e,o)}e2(e)&&t2(e)}function pk(i){return ma(i)&&i.Ta.length<10}function gk(i,e){i.Ta.push(e);const t=hs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function e2(i){return ma(i)&&!hs(i).x_()&&i.Ta.length>0}function t2(i){hs(i).start()}async function yk(i){hs(i).ra()}async function _k(i){const e=hs(i);for(const t of i.Ta)e.ea(t.mutations)}async function vk(i,e,t){const s=i.Ta.shift(),o=gg.from(s,e,t);await JT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Df(i)}async function wk(i,e){e&&hs(i).X_&&await(async function(s,o){if((function(f){return kT(f)&&f!==K.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await JT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Df(s)}})(i,e),e2(i)&&t2(i)}async function z0(i,e){const t=Te(i);t.asyncQueue.verifyOperationInProgress(),ae(ca,"RemoteStore received new credentials");const s=ma(t);t.Ea.add(3),await ju(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xf(t)}async function bk(i,e){const t=Te(i);e?(t.Ea.delete(2),await xf(t)):e||(t.Ea.add(2),await ju(t),t.Ra.set("Unknown"))}function qo(i){return i.ma||(i.ma=(function(t,s,o){const u=Te(t);return u.sa(),new sk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:hk.bind(null,i),t_:fk.bind(null,i),r_:dk.bind(null,i),H_:mk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Ig(i)?Rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),ZT(i))}))),i.ma}function hs(i){return i.fa||(i.fa=(function(t,s,o){const u=Te(t);return u.sa(),new ak(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:yk.bind(null,i),r_:wk.bind(null,i),ta:_k.bind(null,i),na:vk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Df(i)):(await i.fa.stop(),i.Ta.length>0&&(ae(ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Cg(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),zo(i))return new ie(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ce.comparator(t.key,s.key):(t,s)=>ce.comparator(t.key,s.key),this.keyedMap=iu(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.ga=new ct(ce.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Do{constructor(e,t,s,o,u,f,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach((m=>{f.push({type:0,doc:m})})),new Do(e,t,vo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Tk{constructor(){this.queries=q0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Te(t),u=o.queries;o.queries=q0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function q0(){return new da((i=>wT(i)),Tf)}async function n2(i,e){const t=Te(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Ek,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=xg(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Dg(t)}async function i2(i,e){const t=Te(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Ak(i,e){const t=Te(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Dg(t)}function Sk(i,e,t){const s=Te(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Dg(i){i.Ca.forEach((e=>{e.next()}))}var xp,H0;(H0=xp||(xp={})).Ma="default",H0.Cache="cache";class r2{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.key=e}}class a2{constructor(e){this.key=e}}class Rk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=bT(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new j0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const R=o.get(b),H=Af(this.query,A)?A:null,W=!!R&&this.mutatedKeys.has(R.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;R&&H?R.data.isEqual(H.data)?W!==ee&&(s.track({type:3,doc:H}),J=!0):this.su(R,H)||(s.track({type:2,doc:H}),J=!0,(g&&this.eu(H,g)>0||y&&this.eu(H,y)<0)&&(m=!0)):!R&&H?(s.track({type:0,doc:H}),J=!0):R&&!H&&(s.track({type:1,doc:R}),J=!0,(g||y)&&(m=!0)),J&&(H?(f=f.add(H),u=ee?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(H,W){const ee=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:J})}};return ee(H)-ee(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Do(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new a2(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new s2(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Og="SyncEngine";class Ik{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ck{constructor(e){this.key=e,this.hu=!1}}class xk{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((m=>wT(m)),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ce.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Dk(i,e,t=!0){const s=f2(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await o2(s,e,t,!0),o}async function Ok(i,e){const t=f2(i);await o2(t,e,!0,!1)}async function o2(i,e,t,s){const o=await WN(i.localStore,xi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Nk(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&XT(i.remoteStore,o),m}async function Nk(i,e,t,s,o){i.pu=(A,R,H)=>(async function(ee,J,ye,ue){let he=J.view.ru(ye);he.Cs&&(he=await V0(ee.localStore,J.query,!1).then((({documents:k})=>J.view.ru(k,he))));const je=ue&&ue.targetChanges.get(J.targetId),Ae=ue&&ue.targetMismatches.get(J.targetId)!=null,qe=J.view.applyChanges(he,ee.isPrimaryClient,je,Ae);return G0(ee,J.targetId,qe.au),qe.snapshot})(i,A,R,H);const u=await V0(i.localStore,e,!0),f=new Rk(e,u.Qs),m=f.ru(u.documents),g=zu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);G0(i,t,y.au);const b=new Ik(e,t,f);return i.Tu.set(e,b),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function kk(i,e,t){const s=Te(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Tf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ag(s.remoteStore,o.targetId),Dp(s,o.targetId)})).catch(Bo)):(Dp(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function Mk(i,e){const t=Te(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ag(t.remoteStore,s.targetId))}async function Vk(i,e,t){const s=qk(i);try{const o=await(function(f,m){const g=Te(f),y=at.now(),b=m.reduce(((H,W)=>H.add(W.key)),ke());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=pr(),ee=ke();return g.Ns.getEntries(H,b).next((J=>{W=J,W.forEach(((ye,ue)=>{ue.isValidDocument()||(ee=ee.add(ye))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,W))).next((J=>{A=J;const ye=[];for(const ue of m){const he=ZO(ue,A.get(ue.key).overlayedDocument);he!=null&&ye.push(new ps(ue.key,he,fT(he.value.mapValue),dn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,ye,m)})).next((J=>{R=J;const ye=J.applyToLocalDocumentSet(A,ee);return g.documentOverlayCache.saveOverlays(H,J.batchId,ye)}))})).then((()=>({batchId:R.batchId,changes:TT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Ne)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,t),await qu(s,o.changes),await Df(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");t.reject(u)}}async function l2(i,e){const t=Te(i);try{const s=await QN(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=t.Au.get(u);f&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ue(f.hu,14607):o.removedDocuments.size>0&&(Ue(f.hu,42227),f.hu=!1))})),await qu(t,s,e)}catch(s){await Bo(s)}}function F0(i,e,t){const s=Te(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Te(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,A)=>{for(const R of A.Sa)R.va(m)&&(y=!0)})),y&&Dg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Pk(i,e,t){const s=Te(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ce.comparator);f=f.insert(u,Ht.newNoDocument(u,ve.min()));const m=ke().add(u),g=new If(ve.min(),new Map,new ct(Ne),f,m);await l2(s,g),s.du=s.du.remove(u),s.Au.delete(e),Ng(s)}else await Ip(s.localStore,e,!1).then((()=>Dp(s,e,t))).catch(Bo)}async function Lk(i,e){const t=Te(i),s=e.batch.batchId;try{const o=await KN(t.localStore,e);c2(t,s,null),u2(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await qu(t,o)}catch(o){await Bo(o)}}async function Uk(i,e,t){const s=Te(i);try{const o=await(function(f,m){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ue(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);c2(s,e,t),u2(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await qu(s,o)}catch(o){await Bo(o)}}function u2(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function c2(i,e,t){const s=Te(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Dp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||h2(i,s)}))}function h2(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ag(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Ng(i))}function G0(i,e,t){for(const s of t)s instanceof s2?(i.Ru.addReference(s.key,e),Bk(i,s)):s instanceof a2?(ae(Og,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||h2(i,s.key)):me(19791,{wu:s})}function Bk(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ae(Og,"New document in limbo: "+t),i.Eu.add(s),Ng(i))}function Ng(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ce(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new Ck(t)),i.du=i.du.insert(t,s),XT(i.remoteStore,new es(xi(dg(t.path)),s,"TargetPurposeLimboResolution",bf.ce))}}async function qu(i,e,t){const s=Te(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=bg.As(g.targetId,y);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const b=Te(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(R=>X.forEach(R.Es,(H=>b.persistence.referenceDelegate.addReference(A,R.targetId,H))).next((()=>X.forEach(R.ds,(H=>b.persistence.referenceDelegate.removeReference(A,R.targetId,H)))))))))}catch(A){if(!zo(A))throw A;ae(Eg,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const H=b.Ms.get(R),W=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(R,ee)}}})(s.localStore,u))}async function zk(i,e){const t=Te(i);if(!t.currentUser.isEqual(e)){ae(Og,"User change. New user:",e.toKey());const s=await KT(t.localStore,e);t.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ie(K.CANCELLED,f))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qu(t,s.Ls)}}function jk(i,e){const t=Te(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const m=t.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function f2(i){const e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=l2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pk.bind(null,e),e.Pu.H_=Ak.bind(null,e.eventManager),e.Pu.yu=Sk.bind(null,e.eventManager),e}function qk(i){const e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uk.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return YN(this.persistence,new HN,e.initialUser,this.serializer)}Cu(e){return new YT(wg.mi,this.serializer)}Du(e){return new JN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class Hk extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CN(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new YT((s=>sf.mi(s,t)),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Tk})()}createDatastore(e){const t=Cf(e.databaseInfo.databaseId),s=(function(u){return new rk(u)})(e.databaseInfo);return(function(u,f,m,g){return new lk(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,f,m){return new ck(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>F0(this.syncEngine,t,0)),(function(){return U0.v()?new U0:new ek})())}createSyncEngine(e,t){return(function(o,u,f,m,g,y,b){const A=new xk(o,u,f,m,g,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Te(t);ae(ca,"RemoteStore shutting down."),s.Ea.add(5),await ju(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const f=Te(o),m={documents:u.map((A=>rf(f.serializer,A)))},g=await f.Ho("BatchGetDocuments",f.serializer.databaseId,tt.emptyPath(),m,u.length),y=new Map;g.forEach((A=>{const R=hN(f.serializer,A);y.set(R.key.toString(),R)}));const b=[];return u.forEach((A=>{const R=y.get(A.toString());Ue(!!R,55234,{key:A}),b.push(R)})),b})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=ce.fromPath(s);this.mutations.push(new NT(o,this.precondition(o)))})),await(async function(s,o){const u=Te(s),f={writes:o.map((m=>jT(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,tt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw me(50498,{Gu:e.constructor.name});t=ve.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ie(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ve.min())?dn.exists(!1):dn.updateTime(t):dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ve.min()))throw new ie(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(t)}return dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Tg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Fk(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Uu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!kT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class Yk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ae(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ae(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=xg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sp(i,e){i.asyncQueue.verifyOperationInProgress(),ae(fs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await KT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Y0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Kk(i);ae(fs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>z0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>z0(e.remoteStore,o))),i._onlineComponents=e}async function Kk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae(fs,"Using user provided OfflineComponentProvider");try{await sp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),await sp(i,new of)}}else ae(fs,"Using default OfflineComponentProvider"),await sp(i,new Hk(void 0));return i._offlineComponents}async function kg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae(fs,"Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(ae(fs,"Using default OnlineComponentProvider"),await Y0(i,new Op))),i._onlineComponents}function Qk(i){return kg(i).then((e=>e.syncEngine))}function $k(i){return kg(i).then((e=>e.datastore))}async function m2(i){const e=await kg(i),t=e.eventManager;return t.onListen=Dk.bind(null,e.syncEngine),t.onUnlisten=kk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ok.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mk.bind(null,e.syncEngine),t}function Xk(i,e,t={}){const s=new Ci;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new d2({next:R=>{b.Nu(),f.enqueueAndForget((()=>i2(u,A)));const H=R.docs.has(m);!H&&R.fromCache?y.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&g&&g.source==="server"?y.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new r2(dg(m.path),b,{includeMetadataChanges:!0,qa:!0});return n2(u,A)})(await m2(i),i.asyncQueue,e,t,s))),s.promise}function Wk(i,e,t={}){const s=new Ci;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new d2({next:R=>{b.Nu(),f.enqueueAndForget((()=>i2(u,A))),R.fromCache&&g.source==="server"?y.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new r2(m,b,{includeMetadataChanges:!0,qa:!0});return n2(u,A)})(await m2(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="firestore.googleapis.com",Q0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g2,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RN)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tO;switch(s.type){case"firstParty":return new sO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=K0.get(t);s&&(ae("ComponentProvider","Removing Datastore"),K0.delete(t),s.terminate())})(this),Promise.resolve()}}function Zk(i,e,t,s={}){i=mr(i,Of);const o=Vo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(sE(`https://${m}`),aE("Firestore",!0)),u.host!==g2&&u.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=sn.MOCK_USER;else{y=aI(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(A)}i._authCredentials=new nO(new eT(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class wt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Lu(t,wt._jsonSchema))return new wt(e,s||null,new ce(tt.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ct("string",wt._jsonSchemaVersion),referencePath:Ct("string")};class ss extends gs{constructor(e,t,s){super(e,t,dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new ce(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function y2(i,e,...t){if(i=xt(i),tT("collection","path",e),i instanceof Of){const s=tt.fromString(e,...t);return l0(s),new ss(i,null,s)}{if(!(i instanceof wt||i instanceof ss))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return l0(s),new ss(i.firestore,null,s)}}function Nf(i,e,...t){if(i=xt(i),arguments.length===1&&(e=og.newId()),tT("doc","path",e),i instanceof Of){const s=tt.fromString(e,...t);return o0(s),new wt(i,null,new ce(s))}{if(!(i instanceof wt||i instanceof ss))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return o0(s),new wt(i.firestore,i instanceof ss?i.converter:null,new ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="AsyncQueue";class W0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tg(this,"async_queue_retry"),this._c=()=>{const s=rp();s&&ae(X0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ci;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;ae(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",Z0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&me(47125,{Pc:Z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Z0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ho extends Of{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new W0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W0(e),this._firestoreClient=void 0,await e}}}function Jk(i,e){const t=typeof i=="object"?i:cE(),s=typeof i=="string"?i:Wh,o=Wp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rI("firestore");u&&Zk(o,...u)}return o}function kf(i){if(i._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eM(i),i._firestoreClient}function eM(i){const e=i._freezeSettings(),t=(function(o,u,f,m){return new EO(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,p2(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Yk(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Jt.fromBase64String(e))}catch(t){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Ct("string",Dn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ct("string",Di._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Oi(e.vectorValues);throw new ie(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Ct("string",Oi._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^__.*__$/;class nM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class _2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function v2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:i})}}class Mg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v2(this.Ac)&&tM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Cf(e)}Cc(e,t,s,o=!1){return new Mg({Ac:e,methodName:t,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pf(i){const e=i._freezeSettings(),t=Cf(i._databaseId);return new iM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vg(i,e,t,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",f,s);const m=w2(s,f);let g,y;if(u.merge)g=new On(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const R=Np(e,A,t);if(!f.contains(R))throw new ie(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);E2(b,R)||b.push(R)}g=new On(b),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new nM(new fn(m),g,y)}class Lf extends Vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class Pg extends Vf{_toFieldTransform(e){return new QO(e.path,new Eu)}isEqual(e){return e instanceof Pg}}function rM(i,e,t,s){const o=i.Cc(1,e,t);Lg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();ms(s,((g,y)=>{const b=Ug(e,g,t);y=xt(y);const A=o.yc(b);if(y instanceof Lf)u.push(b);else{const R=Hu(y,A);R!=null&&(u.push(b),f.set(b,R))}}));const m=new On(u);return new _2(f,m,o.fieldTransforms)}function sM(i,e,t,s,o,u){const f=i.Cc(1,e,t),m=[Np(e,s,t)],g=[o];if(u.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Np(e,u[R])),g.push(u[R+1]);const y=[],b=fn.empty();for(let R=m.length-1;R>=0;--R)if(!E2(y,m[R])){const H=m[R];let W=g[R];W=xt(W);const ee=f.yc(H);if(W instanceof Lf)y.push(H);else{const J=Hu(W,ee);J!=null&&(y.push(H),b.set(H,J))}}const A=new On(y);return new _2(b,A,f.fieldTransforms)}function aM(i,e,t,s=!1){return Hu(t,i.Cc(s?4:3,e))}function Hu(i,e){if(b2(i=xt(i)))return Lg("Unsupported field value:",e,i),w2(i,e);if(i instanceof Vf)return(function(s,o){if(!v2(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Hu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:nf(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nf(o.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:LT(o.serializer,s._byteString)};if(s instanceof wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,m){return{mapValue:{fields:{[cT]:{stringValue:hT},[Zh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return mg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wf(s)}`)})(i,e)}function w2(i,e){const t={};return rT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(i,((s,o)=>{const u=Hu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function b2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Di||i instanceof Dn||i instanceof wt||i instanceof Vf||i instanceof Oi)}function Lg(i,e,t){if(!b2(t)||!nT(t)){const s=wf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Np(i,e,t){if((e=xt(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw lf("Field path arguments must be of type string or ",i,!1,void 0,t)}const oM=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(oM)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Mf(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function lf(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ie(K.INVALID_ARGUMENT,m+i+g)}function E2(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lM extends uf{data(){return super.data()}}function Bg(i,e){return typeof e=="string"?Ug(i,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class jg extends zg{}function cM(i,e,...t){let s=[];e instanceof zg&&s.push(e),s=s.concat(t),(function(u){const f=u.filter((g=>g instanceof Hg)).length,m=u.filter((g=>g instanceof qg)).length;if(f>1||f>0&&m>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class qg extends jg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new qg(e,t,s)}_apply(e){const t=this._parse(e);return T2(e._query,t),new gs(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=Pf(e.firestore);return(function(u,f,m,g,y,b,A){let R;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){eb(A,b);const W=[];for(const ee of A)W.push(J0(g,u,ee));R={arrayValue:{values:W}}}else R=J0(g,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||eb(A,b),R=aM(m,f,A,b==="in"||b==="not-in");return It.create(y,b,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)T2(f,g),f=Tp(f,g)})(e._query,t),new gs(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fg extends jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fg(e,t)}_apply(e){const t=(function(o,u,f){if(o.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(u,f)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new jo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function hM(i,e="asc"){const t=e,s=Bg("orderBy",i);return Fg._create(s,t)}class Gg extends jg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Gg(e,t,s)}_apply(e){return new gs(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function fM(i){return Gg._create("limit",i,"F")}function J0(i,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vT(e)&&t.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ce.isDocumentKey(s))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g0(i,new ce(s))}if(t instanceof wt)return g0(i,t._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function eb(i,e){if(!Array.isArray(i)||i.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T2(i,e){const t=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class A2{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ms(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Zh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Oi(t)}convertGeoPoint(e){return new Di(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=ls(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Ue(FT(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new ce(s.popFirst(5));return o.isEqual(t)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class dM extends A2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}class fo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class as extends uf{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=as._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:Ct("string",as._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Nh extends as{data(e={}){return super.data(e)}}class wo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new fo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Nh(this._firestore,this._userDataWriter,s.key,s,new fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new fo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:mM(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(i){i=mr(i,wt);const e=mr(i.firestore,Ho);return Xk(kf(e),i._key).then((t=>_M(e,i,t)))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Ct("string",wo._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Kg extends A2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function gM(i){i=mr(i,gs);const e=mr(i.firestore,Ho),t=kf(e),s=new Kg(e);return uM(i._query),Wk(t,i._query).then((o=>new wo(e,s,i,o)))}function S2(i,e,t){i=mr(i,wt);const s=mr(i.firestore,Ho),o=Yg(i.converter,e,t);return R2(s,[Vg(Pf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,dn.none())])}function yM(i,e){const t=mr(i.firestore,Ho),s=Nf(i),o=Yg(i.converter,e);return R2(t,[Vg(Pf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then((()=>s))}function R2(i,e){return(function(s,o){const u=new Ci;return s.asyncQueue.enqueueAndForget((async()=>Vk(await Qk(s),o,u))),u.promise})(kf(i),e)}function _M(i,e,t){const s=t.docs.get(e._key),o=new Kg(i);return new as(i,o,e._key,s,new fo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={maxAttempts:5};function su(i,e){if((i=xt(i)).firestore!==e)throw new ie(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pf(e)}get(e){const t=su(e,this._firestore),s=new dM(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return me(24041);const u=o[0];if(u.isFoundDocument())return new uf(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new uf(this._firestore,s,t._key,null,t.converter);throw me(18433,{doc:u})}))}set(e,t,s){const o=su(e,this._firestore),u=Yg(o.converter,t,s),f=Vg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,t,s,...o){const u=su(e,this._firestore);let f;return f=typeof(t=xt(t))=="string"||t instanceof Mf?sM(this._dataReader,"Transaction.update",u._key,t,s,o):rM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=su(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM extends wM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=su(e,this._firestore),s=new Kg(this._firestore);return super.get(e).then((o=>new as(this._firestore,s,t._key,o._document,new fo(!1,!1),t.converter)))}}function EM(i,e,t){i=mr(i,Ho);const s={...vM,...t};return(function(u){if(u.maxAttempts<1)throw new ie(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const g=new Ci;return u.asyncQueue.enqueueAndForget((async()=>{const y=await $k(u);new Gk(u.asyncQueue,y,m,f,g).ju()})),g.promise})(kf(i),(o=>e(new bM(i,o))),s)}function cf(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(o){Uo=o})(Po),To(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ho(new iO(s.getProvider("auth-internal")),new aO(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(i0,r0,e),is(i0,r0,"esm2020")})();const TM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=",AM={apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"};function SM(){const i=Xe.useMemo(()=>kw().length?kw()[0]:uE(AM),[]),e=Xe.useMemo(()=>JD(i),[i]),t=Xe.useMemo(()=>Jk(i),[i]);return{app:i,auth:e,db:t}}function RM(i=900){const[e,t]=Xe.useState(!1);return Xe.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=u=>t(u.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}function tb({open:i,title:e,onClose:t,children:s}){return i?B.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:B.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:o=>o.stopPropagation(),children:[B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[B.jsx("strong",{style:{fontSize:16},children:e}),B.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"6px 10px"},children:"Cerrar"})]}),B.jsx("div",{style:{padding:12},children:s})]})}):null}function IM(){return B.jsxs("div",{className:"brand",children:[B.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:B.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),B.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}const CM=B.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:B.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),xM=B.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:B.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})});function nb({auth:i,db:e,onReady:t}){const[s,o]=Xe.useState("login"),[u,f]=Xe.useState(""),[m,g]=Xe.useState(""),[y,b]=Xe.useState(""),[A,R]=Xe.useState("X"),[H,W]=Xe.useState(""),[ee,J]=Xe.useState(""),[ye,ue]=Xe.useState(!1),[he,je]=Xe.useState(!1),Ae=async(x,N)=>{await S2(Nf(e,"users",x),{...N,createdAt:cf()},{merge:!0})},I=s==="login"?async()=>{ue(!0),J("");try{await Px(i,u,m),t?.()}catch(x){Qm(Fm(x))}finally{ue(!1)}}:s==="register"?async()=>{ue(!0),J("");try{const x=await Vx(i,u,m);await Ux(x.user,{displayName:y}),await Ae(x.user.uid,{displayName:y,gender:A,city:H}),t?.()}catch(x){Qm(Fm(x))}finally{ue(!1)}}:async()=>{ue(!0),J("");try{await Mx(i,u),du.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo est registrado, recibirs un enlace para restablecer tu contrasea.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(x){Qm(Fm(x))}finally{ue(!1)}};return B.jsxs("section",{className:"auth-card",children:[B.jsxs("header",{className:"card-head",children:[B.jsx("h1",{children:s==="login"?"Bienvenido":s==="register"?"Crear cuenta":"Recuperar acceso"}),B.jsx("p",{className:"muted",children:s==="login"?"Inicia sesin para continuar":s==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contrasea"})]}),B.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(x=>B.jsx("button",{type:"button",onClick:()=>o(x),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:x===s?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:x===s?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:x===s?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:x==="login"?"Login":x==="register"?"Registro":"Reset"},x))}),ee&&B.jsx("div",{className:"alert",style:{marginTop:10},children:ee}),B.jsxs("form",{className:"form",onSubmit:x=>{x.preventDefault(),I()},noValidate:!0,style:{marginTop:12},children:[B.jsxs("div",{className:"field",children:[B.jsx("label",{htmlFor:"email",children:"Correo"}),B.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:u,onChange:x=>f(x.target.value)})]}),s!=="reset"&&B.jsxs("div",{className:"field",children:[B.jsx("label",{htmlFor:"password",children:"Contrasea"}),B.jsxs("div",{className:"pwd",children:[B.jsx("input",{id:"password",name:"password",type:he?"text":"password",placeholder:"",autoComplete:s==="login"?"current-password":"new-password",required:!0,value:m,onChange:x=>g(x.target.value)}),B.jsx("button",{type:"button",className:"icon-btn","aria-label":he?"Ocultar contrasea":"Mostrar contrasea",onClick:()=>je(x=>!x),style:{background:"transparent"},children:he?xM:CM})]})]}),s==="register"&&B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"field",children:[B.jsx("label",{htmlFor:"displayName",children:"Nombre"}),B.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:y,onChange:x=>{const N=x.target.value.replace(/\s.*/,"");b(N)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),B.jsxs("div",{className:"field",children:[B.jsx("label",{htmlFor:"city",children:"Ciudad"}),B.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:H,onChange:x=>W(x.target.value)})]}),B.jsxs("div",{className:"field",children:[B.jsx("label",{htmlFor:"gender",children:"Gnero"}),B.jsxs("div",{style:{display:"flex",gap:10,background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:[B.jsxs("button",{type:"button",onClick:()=>R("M"),style:{background:A==="M"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A==="M"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A==="M"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:15},children:[B.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[B.jsx("circle",{cx:"12",cy:"12",r:"10"}),B.jsx("path",{d:"M16 8v-4h-4"}),B.jsx("line",{x1:"16",y1:"8",x2:"21",y2:"3"})]}),"Masculino"]}),B.jsxs("button",{type:"button",onClick:()=>R("F"),style:{background:A==="F"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A==="F"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A==="F"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:15},children:[B.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[B.jsx("circle",{cx:"12",cy:"12",r:"10"}),B.jsx("path",{d:"M12 16v-4"}),B.jsx("path",{d:"M9 20h6"})]}),"Femenino"]}),B.jsxs("button",{type:"button",onClick:()=>R("X"),style:{background:A==="X"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A==="X"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 12px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A==="X"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:15},children:[B.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[B.jsx("circle",{cx:"12",cy:"12",r:"10"}),B.jsx("path",{d:"M8 12h8"}),B.jsx("path",{d:"M12 8v8"})]}),"Prefiero no decir"]})]})]})]}),B.jsx("button",{className:"btn",disabled:ye,children:ye?"Procesando":s==="login"?"Ingresar":s==="register"?"Crear cuenta":"Enviar correo"}),s==="login"&&B.jsxs("p",{className:"muted center mt-16",children:["No tienes cuenta?"," ",B.jsx("a",{className:"link",href:"#",onClick:x=>{x.preventDefault(),o("register")},children:"Crear cuenta"})," ",""," ",B.jsx("a",{className:"link",href:"#",onClick:x=>{x.preventDefault(),o("reset")},children:"Olvidaste tu contrasea?"})]})]})]})}async function DM(i,e,t,s){const o=y2(i,"spins"),u=Nf(i,"userstats",e);await yM(o,{uid:e,...s,createdAt:cf()}),await EM(i,async f=>{const m=await f.get(u),g=m.exists()?m.data():{totalScore:0,totalSpins:0,displayName:t||"Annimo"},y={displayName:t||g.displayName||"Annimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:cf()};f.set(u,y,{merge:!0})})}async function OM(i){const e=cM(y2(i,"userstats"),hM("totalScore","desc"),fM(10));return(await gM(e)).docs.map(s=>({id:s.id,...s.data()}))}function NM({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?B.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:""}):null}function Eh({db:i}){const[e,t]=Xe.useState([]),[s,o]=Xe.useState(!1),[u,f]=Xe.useState(null),m=Xe.useCallback(async()=>{o(!0),f(null);try{const g=await OM(i);t(g)}catch(g){console.error("Top10 load failed:",g),f("Error al consultar los datos del Top 10. Verifica tu conexin o permisos de Firebase."),t([])}finally{o(!1)}},[i]);return Xe.useEffect(()=>{m();const g=()=>m();return window.addEventListener("reload-top10",g),()=>window.removeEventListener("reload-top10",g)},[m]),B.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16},children:[B.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[B.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),B.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:m,children:"Actualizar"})]}),s&&B.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando"}),u&&B.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:u}),B.jsx("div",{className:"table-wrap",children:B.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[B.jsx("thead",{children:B.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[B.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"#"}),B.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Nombre"}),B.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Score total"}),B.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Giros totales"})]})}),B.jsxs("tbody",{children:[e.map((g,y)=>B.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[B.jsxs("td",{style:{padding:"6px 8px"},children:["#",y+1]}),B.jsx("td",{style:{padding:"6px 8px"},children:B.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[B.jsx(NM,{rank:y+1}),B.jsx("span",{children:g.displayName||g.id})]})}),B.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:B.jsx("b",{children:g.totalScore||0})}),B.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:g.totalSpins||0})]},g.id)),!e.length&&!s&&!u&&B.jsx("tr",{children:B.jsx("td",{colSpan:4,style:{padding:"8px",opacity:.7},children:"An no hay acumulados."})})]})]})})]})}const ii=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catlogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Polticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function ib(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}function kM(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}function rb({onResult:i}){const[e,t]=Xe.useState(!1),[s,o]=Xe.useState(0),u=360/ii.length,f=36;function m(y){const b=u*Math.PI/180,A=2*f*Math.sin(b/2)*.9,W=Math.min(5.2,A/(.6*Math.max(1,y.length)));return Math.max(3.2,W)}const g=()=>{if(e)return;t(!0);const y=5+Math.floor(Math.random()*4),b=Math.floor(Math.random()*ii.length),A=y*360+(ii.length-b)*u-u/2,R=s+A;o(R),setTimeout(()=>{t(!1);const H=(R%360+360)%360,W=(ii.length-Math.floor((H+u/2)/u))%ii.length,ee=ii[W];i?.(ee)},3800)};return B.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[B.jsx("div",{className:"wheel-legend",children:ii.map(y=>B.jsxs("div",{className:"legend-item",children:[B.jsx("span",{className:"legend-swatch",style:{background:y.color}}),B.jsx("span",{className:"legend-label",children:y.label}),B.jsxs("span",{className:"legend-points",children:["+",y.points]})]},y.label))}),B.jsxs("div",{className:"wheel-wrap",children:[B.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),B.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${s}deg)`,transition:"transform 3.8s cubic-bezier(.17,.67,.35,1)",background:"#0c0c0c"},children:[ii.map((y,b)=>{const A=b*(360/ii.length),R=A+360/ii.length,H=R-A<=180?0:1,W=ib(50,50,49,R),ee=ib(50,50,49,A),J=["M 50 50",`L ${W.x} ${W.y}`,`A 49 49 0 ${H} 0 ${ee.x} ${ee.y}`,"Z"].join(" "),ye=kM(50,50,f+1.5,A+360/ii.length/2),ue=m(y.label);return B.jsxs("g",{children:[B.jsx("path",{d:J,fill:y.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),B.jsx("text",{x:ye.x,y:ye.y,fontSize:ue,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",children:y.label})]},y.label)}),B.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),B.jsx("button",{onClick:g,disabled:e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa"},children:e?"Girando":" Girar ruleta!"})]})}function MM(){const{auth:i,db:e}=SM(),t=RM(900),[s,o]=Xe.useState(null),[u,f]=Xe.useState(!1),[m,g]=Xe.useState(null),[y,b]=Xe.useState(null),[A,R]=Xe.useState(!1);Xe.useEffect(()=>jx(i,async ee=>{if(o(ee),!ee){f(!1);return}try{const J=Nf(e,"users",ee.uid);(await pM(J)).exists()||await S2(J,{displayName:ee.displayName||ee.email,gender:"X",city:"N/A",createdAt:cf()},{merge:!0}),f(!0),g(null)}catch(J){console.error("Perfil/Firestore no disponible:",J),g(" Error conectando con Firestore. Se podr girar, pero no se guardarn resultados."),f(!0)}}),[i,e]);const H=Xe.useCallback(async ee=>{b(ee),s&&!m&&(await DM(e,s.uid,s.displayName||s.email,{label:ee.label,points:ee.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,m]),W=async()=>{try{await qx(i)}catch(ee){console.error(ee)}};return B.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[B.jsxs("header",{style:{maxWidth:1024,margin:"0 auto 16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[B.jsx("span",{style:{fontSize:"2.3rem",lineHeight:1,display:"block"},children:""}),B.jsx("h1",{className:"app-title",style:{margin:0},children:"Ruleta de Datos"})]}),B.jsx("div",{style:{fontSize:14,opacity:.85},children:s?B.jsxs(B.Fragment,{children:["Conectado como ",B.jsx("b",{children:s.email})," ",B.jsx("button",{onClick:W,style:{background:"linear-gradient(90deg, var(--brand), var(--brand-2))",color:"#08211f",border:"1px solid var(--stroke)",borderRadius:8,padding:"4px 8px",fontSize:16,display:"inline-flex",alignItems:"center",boxShadow:"0 8px 20px rgba(0,0,0,.18)",cursor:"pointer",marginLeft:8},title:"Salir",children:B.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:2},children:[B.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),B.jsx("polyline",{points:"16 17 21 12 16 7"}),B.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}):B.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[B.jsx("span",{style:{fontWeight:700,letterSpacing:.5,fontSize:15,display:"inline-block"},children:"ACTIVIDAD GOOGLE ANALYTICS"}),B.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",children:B.jsx("img",{src:TM,alt:"UNIR",style:{height:32,marginLeft:6,borderRadius:8,verticalAlign:"middle",cursor:"pointer"}})})]})})]}),B.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?B.jsxs("div",{style:{display:"grid",gap:12},children:[B.jsx(nb,{auth:i,db:e,onReady:()=>{}}),B.jsx("button",{onClick:()=>R(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),B.jsx(tb,{open:A,title:"Top 10 jugadores",onClose:()=>R(!1),children:B.jsx(Eh,{db:e})})]}):B.jsxs("div",{className:"auth-shell",children:[B.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[B.jsx(IM,{}),B.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[B.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.5,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),B.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:B.jsx(Eh,{db:e})})]})]}),B.jsx("main",{className:"auth-main",children:B.jsx(nb,{auth:i,db:e,onReady:()=>{}})})]})),s&&u&&(t?B.jsxs(B.Fragment,{children:[B.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[B.jsx("b",{children:"Actividad"}),B.jsxs("div",{style:{display:"flex",gap:8},children:[B.jsx("button",{className:"btn btn-sm",onClick:()=>R(!0),style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"}),m&&B.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:8},children:m})]})]}),B.jsx(rb,{onResult:H}),y&&B.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",B.jsx("b",{children:y.label}),"  Puntos: ",B.jsx("b",{children:y.points})]})]}),B.jsx(tb,{open:A,title:"Top 10 jugadores",onClose:()=>R(!1),children:B.jsx(Eh,{db:e})})]}):B.jsxs("div",{className:"grid-main",children:[B.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[B.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[B.jsx("b",{children:"Actividad"}),m&&B.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:m})]}),B.jsx(rb,{onResult:H}),y&&B.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",B.jsx("b",{children:y.label}),"  Puntos: ",B.jsx("b",{children:y.points})]})]}),B.jsx(Eh,{db:e})]}))]})]})}a1.createRoot(document.getElementById("root")).render(B.jsx(Xe.StrictMode,{children:B.jsx(MM,{})}));
