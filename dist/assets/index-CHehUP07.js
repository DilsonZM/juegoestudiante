(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Ym={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function hA(){if(pw)return eu;pw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var gw;function fA(){return gw||(gw=1,Ym.exports=hA()),Ym.exports}var P=fA(),Km={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function dA(){if(yw)return Se;yw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ee={};function Z(D,J,ae){this.props=D,this.context=J,this.refs=ee,this.updater=ae||q}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ne(){}ne.prototype=Z.prototype;function oe(D,J,ae){this.props=D,this.context=J,this.refs=ee,this.updater=ae||q}var ue=oe.prototype=new ne;ue.constructor=oe,$(ue,Z.prototype),ue.isPureReactComponent=!0;var qe=Array.isArray,Ae={H:null,A:null,T:null,S:null,V:null},He=Object.prototype.hasOwnProperty;function k(D,J,ae,te,me,Ie){return ae=Ie.ref,{$$typeof:i,type:D,key:J,ref:ae!==void 0?ae:null,props:Ie}}function A(D,J){return k(D.type,J,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function C(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return J[ae]})}var O=/\/+/g;function V(D,J){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):J.toString(36)}function x(){}function Gt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,J,ae,te,me){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ie){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case i:case e:Te=!0;break;case b:return Te=D._init,ht(Te(D._payload),J,ae,te,me)}}if(Te)return me=me(D),Te=te===""?"."+V(D,0):te,qe(me)?(ae="",Te!=null&&(ae=Te.replace(O,"$&/")+"/"),ht(me,J,ae,"",function(hi){return hi})):me!=null&&(I(me)&&(me=A(me,ae+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(O,"$&/")+"/")+Te)),J.push(me)),1;Te=0;var Pt=te===""?".":te+":";if(qe(D))for(var it=0;it<D.length;it++)te=D[it],Ie=Pt+V(te,it),Te+=ht(te,J,ae,Ie,me);else if(it=S(D),typeof it=="function")for(D=it.call(D),it=0;!(te=D.next()).done;)te=te.value,Ie=Pt+V(te,it++),Te+=ht(te,J,ae,Ie,me);else if(Ie==="object"){if(typeof D.then=="function")return ht(Gt(D),J,ae,te,me);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function G(D,J,ae){if(D==null)return D;var te=[],me=0;return ht(D,te,"","",function(Ie){return J.call(ae,Ie,me++)}),te}function se(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Fe(){}return Se.Children={map:G,forEach:function(D,J,ae){G(D,function(){J.apply(this,arguments)},ae)},count:function(D){var J=0;return G(D,function(){J++}),J},toArray:function(D){return G(D,function(J){return J})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Se.Component=Z,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=oe,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Ae.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cloneElement=function(D,J,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=$({},D.props),me=D.key,Ie=void 0;if(J!=null)for(Te in J.ref!==void 0&&(Ie=void 0),J.key!==void 0&&(me=""+J.key),J)!He.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(te[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)te.children=ae;else if(1<Te){for(var Pt=Array(Te),it=0;it<Te;it++)Pt[it]=arguments[it+2];te.children=Pt}return k(D.type,me,void 0,void 0,Ie,te)},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Se.createElement=function(D,J,ae){var te,me={},Ie=null;if(J!=null)for(te in J.key!==void 0&&(Ie=""+J.key),J)He.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=J[te]);var Te=arguments.length-2;if(Te===1)me.children=ae;else if(1<Te){for(var Pt=Array(Te),it=0;it<Te;it++)Pt[it]=arguments[it+2];me.children=Pt}if(D&&D.defaultProps)for(te in Te=D.defaultProps,Te)me[te]===void 0&&(me[te]=Te[te]);return k(D,Ie,void 0,void 0,null,me)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:m,render:D}},Se.isValidElement=I,Se.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:se}},Se.memo=function(D,J){return{$$typeof:y,type:D,compare:J===void 0?null:J}},Se.startTransition=function(D){var J=Ae.T,ae={};Ae.T=ae;try{var te=D(),me=Ae.S;me!==null&&me(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Fe,de)}catch(Ie){de(Ie)}finally{Ae.T=J}},Se.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()},Se.use=function(D){return Ae.H.use(D)},Se.useActionState=function(D,J,ae){return Ae.H.useActionState(D,J,ae)},Se.useCallback=function(D,J){return Ae.H.useCallback(D,J)},Se.useContext=function(D){return Ae.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,J){return Ae.H.useDeferredValue(D,J)},Se.useEffect=function(D,J,ae){var te=Ae.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,J)},Se.useId=function(){return Ae.H.useId()},Se.useImperativeHandle=function(D,J,ae){return Ae.H.useImperativeHandle(D,J,ae)},Se.useInsertionEffect=function(D,J){return Ae.H.useInsertionEffect(D,J)},Se.useLayoutEffect=function(D,J){return Ae.H.useLayoutEffect(D,J)},Se.useMemo=function(D,J){return Ae.H.useMemo(D,J)},Se.useOptimistic=function(D,J){return Ae.H.useOptimistic(D,J)},Se.useReducer=function(D,J,ae){return Ae.H.useReducer(D,J,ae)},Se.useRef=function(D){return Ae.H.useRef(D)},Se.useState=function(D){return Ae.H.useState(D)},Se.useSyncExternalStore=function(D,J,ae){return Ae.H.useSyncExternalStore(D,J,ae)},Se.useTransition=function(){return Ae.H.useTransition()},Se.version="19.1.1",Se}var _w;function jp(){return _w||(_w=1,Km.exports=dA()),Km.exports}var Me=jp(),$m={exports:{}},tu={},Xm={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function mA(){return vw||(vw=1,(function(i){function e(G,se){var de=G.length;G.push(se);e:for(;0<de;){var Fe=de-1>>>1,D=G[Fe];if(0<o(D,se))G[Fe]=se,G[de]=D,de=Fe;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],de=G.pop();if(de!==se){G[0]=de;e:for(var Fe=0,D=G.length,J=D>>>1;Fe<J;){var ae=2*(Fe+1)-1,te=G[ae],me=ae+1,Ie=G[me];if(0>o(te,de))me<D&&0>o(Ie,te)?(G[Fe]=Ie,G[me]=de,Fe=me):(G[Fe]=te,G[ae]=de,Fe=ae);else if(me<D&&0>o(Ie,de))G[Fe]=Ie,G[me]=de,Fe=me;else break e}}return se}function o(G,se){var de=G.sortIndex-se.sortIndex;return de!==0?de:G.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,T=null,S=3,q=!1,$=!1,ee=!1,Z=!1,ne=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function qe(G){for(var se=t(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=G)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=t(y)}}function Ae(G){if(ee=!1,qe(G),!$)if(t(g)!==null)$=!0,He||(He=!0,V());else{var se=t(y);se!==null&&ht(Ae,se.startTime-G)}}var He=!1,k=-1,A=5,I=-1;function C(){return Z?!0:!(i.unstable_now()-I<A)}function O(){if(Z=!1,He){var G=i.unstable_now();I=G;var se=!0;try{e:{$=!1,ee&&(ee=!1,oe(k),k=-1),q=!0;var de=S;try{t:{for(qe(G),T=t(g);T!==null&&!(T.expirationTime>G&&C());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,S=T.priorityLevel;var D=Fe(T.expirationTime<=G);if(G=i.unstable_now(),typeof D=="function"){T.callback=D,qe(G),se=!0;break t}T===t(g)&&s(g),qe(G)}else s(g);T=t(g)}if(T!==null)se=!0;else{var J=t(y);J!==null&&ht(Ae,J.startTime-G),se=!1}}break e}finally{T=null,S=de,q=!1}se=void 0}}finally{se?V():He=!1}}}var V;if(typeof ue=="function")V=function(){ue(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Gt=x.port2;x.port1.onmessage=O,V=function(){Gt.postMessage(null)}}else V=function(){ne(O,0)};function ht(G,se){k=ne(function(){G(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(G){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var de=S;S=se;try{return G()}finally{S=de}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=S;S=G;try{return se()}finally{S=de}},i.unstable_scheduleCallback=function(G,se,de){var Fe=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Fe+de:Fe):de=Fe,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,G={id:b++,callback:se,priorityLevel:G,startTime:de,expirationTime:D,sortIndex:-1},de>Fe?(G.sortIndex=de,e(y,G),t(g)===null&&G===t(y)&&(ee?(oe(k),k=-1):ee=!0,ht(Ae,de-Fe))):(G.sortIndex=D,e(g,G),$||q||($=!0,He||(He=!0,V()))),G},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(G){var se=S;return function(){var de=S;S=se;try{return G.apply(this,arguments)}finally{S=de}}}})(Wm)),Wm}var ww;function pA(){return ww||(ww=1,Xm.exports=mA()),Xm.exports}var Zm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function gA(){if(bw)return nn;bw=1;var i=jp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},nn.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:q}):b==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var Ew;function yA(){if(Ew)return Zm.exports;Ew=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zm.exports=gA(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function _A(){if(Tw)return tu;Tw=1;var i=pA(),e=jp(),t=yA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=d;break}if(w===l){v=!0,l=h,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=h;break}if(w===l){v=!0,l=d,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Gt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case Z:return"Profiler";case ee:return"StrictMode";case Ae:return"Suspense";case He:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case q:return"Portal";case ue:return(n.displayName||"Context")+".Provider";case oe:return(n._context.displayName||"Context")+".Consumer";case qe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:Gt(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return Gt(n(r))}catch{}}return null}var ht=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Fe=[],D=-1;function J(n){return{current:n}}function ae(n){0>D||(n.current=Fe[D],Fe[D]=null,D--)}function te(n,r){D++,Fe[D]=n.current,n.current=r}var me=J(null),Ie=J(null),Te=J(null),Pt=J(null);function it(n,r){switch(te(Te,r),te(Ie,n),te(me,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Hv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Hv(r),n=Fv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(me),te(me,n)}function hi(){ae(me),ae(Ie),ae(Te)}function Er(n){n.memoizedState!==null&&te(Pt,n);var r=me.current,a=Fv(r,n.type);r!==a&&(te(Ie,n),te(me,a))}function Ui(n){Ie.current===n&&(ae(me),ae(Ie)),Pt.current===n&&(ae(Pt),$l._currentValue=de)}var vs=Object.prototype.hasOwnProperty,ws=i.unstable_scheduleCallback,bs=i.unstable_cancelCallback,Qo=i.unstable_shouldYield,Ku=i.unstable_requestPaint,Un=i.unstable_now,Yf=i.unstable_getCurrentPriorityLevel,Yo=i.unstable_ImmediatePriority,va=i.unstable_UserBlockingPriority,Es=i.unstable_NormalPriority,Kf=i.unstable_LowPriority,wa=i.unstable_IdlePriority,Ko=i.log,$u=i.unstable_setDisableYieldValue,ft=null,Ke=null;function En(n){if(typeof Ko=="function"&&$u(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ft,n)}catch{}}var en=Math.clz32?Math.clz32:Ts,Xu=Math.log,$f=Math.LN2;function Ts(n){return n>>>=0,n===0?32:31-(Xu(n)/$f|0)|0}var As=256,Ss=4194304;function Jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ba(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Jn(l):(v&=w,v!==0?h=Jn(v):a||(a=w&~n,a!==0&&(h=Jn(a))))):(w=l&~d,w!==0?h=Jn(w):v!==0?h=Jn(v):a||(a=l&~n,a!==0&&(h=Jn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Rs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function $o(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=As;return As<<=1,(As&4194048)===0&&(As=256),n}function Wo(){var n=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),n}function Bi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function zi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zo(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,R=n.expirationTimes,B=n.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-en(a),X=1<<Q;w[Q]=0,R[Q]=-1;var z=B[Q];if(z!==null)for(B[Q]=null,Q=0;Q<z.length;Q++){var j=z[Q];j!==null&&(j.lane&=-536870913)}a&=~X}l!==0&&fi(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function fi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Jo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Tr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ea(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ar(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:uw(n.type))}function Wu(n,r){var a=se.p;try{return se.p=n,r()}finally{se.p=a}}var ot=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ot,Tt="__reactProps$"+ot,Bn="__reactContainer$"+ot,el="__reactEvents$"+ot,Xf="__reactListeners$"+ot,Sr="__reactHandles$"+ot,Zu="__reactResources$"+ot,Is="__reactMarker$"+ot;function Rr(n){delete n[Dt],delete n[Tt],delete n[el],delete n[Xf],delete n[Sr]}function ji(n){var r=n[Dt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Bn]||a[Dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Kv(n);n!==null;){if(a=n[Dt])return a;n=Kv(n)}return r}n=a,a=n.parentNode}return null}function di(n){if(n=n[Dt]||n[Bn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function mi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ln(n){var r=n[Zu];return r||(r=n[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(n){n[Is]=!0}var tl=new Set,Ta={};function ei(n,r){qi(n,r),qi(n+"Capture",r)}function qi(n,r){for(Ta[n]=r,n=0;n<r.length;n++)tl.add(r[n])}var Ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ec={},Cs={};function tc(n){return vs.call(Cs,n)?!0:vs.call(ec,n)?!1:Ju.test(n)?Cs[n]=!0:(ec[n]=!0,!1)}function Ir(n,r,a){if(tc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function pi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Qt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var xs,nc;function Hi(n){if(xs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xs=r&&r[1]||"",nc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+n+nc}var Aa=!1;function Sa(n,r){if(!n||Aa)return"";Aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var z=j}Reflect.construct(n,[],X)}else{try{X.call()}catch(j){z=j}n.call(X.prototype)}}else{try{throw Error()}catch(j){z=j}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var R=v.split(`
`),B=w.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===B.length)for(l=R.length-1,h=B.length-1;1<=l&&0<=h&&R[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==B[h]){var Q=`
`+R[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Aa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Hi(a):""}function nl(n){switch(n.tag){case 26:case 27:case 5:return Hi(n.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Sa(n.type,!1);case 11:return Sa(n.type.render,!1);case 1:return Sa(n.type,!0);case 31:return Hi("Activity");default:return""}}function Ra(n){try{var r="";do r+=nl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function il(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wf(n){var r=il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ia(n){n._valueTracker||(n._valueTracker=Wf(n))}function rl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=il(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zf=/[\n"\\]/g;function At(n){return n.replace(Zf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(n,r,a,l,h,d,v,w){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+un(r)):n.value!==""+un(r)&&(n.value=""+un(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Cr(n,v,un(r)):a!=null?Cr(n,v,un(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+un(w):n.removeAttribute("name")}function Ns(n,r,a,l,h,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+un(a):"",r=r!=null?""+un(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Cr(n,r,a){r==="number"&&Ds(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fi(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+un(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+un(a):""}function Os(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=un(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function zn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ic(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ks.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function sl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&ic(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&ic(n,d,r[d])}function al(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(n){return ed.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gi=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Yi=null;function ol(n){var r=di(n);if(r&&(n=r.stateNode)){var a=n[Tt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&rl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fi(n,!!a.multiple,r,!1)}}}var gi=!1;function rc(n,r,a){if(gi)return n(r,a);gi=!0;try{var l=n(r);return l}finally{if(gi=!1,(Qi!==null||Yi!==null)&&(Wc(),Qi&&(r=Qi,n=Yi,Yi=Qi=null,ol(r),n)))for(r=0;r<n.length;r++)ol(n[r])}}function Ms(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ti)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{qn=!1}var yi=null,xr=null,Ki=null;function ll(){if(Ki)return Ki;var n,r=xr,a=r.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Ki=h.slice(n,1<l?1-l:void 0)}function _i(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function vi(){return!0}function ul(){return!1}function Lt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vi:ul,this.isPropagationStopped=ul,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Lt(Ye),Ps=b({},Ye,{view:0,detail:0}),sc=Lt(Ps),Da,Na,wi,Ls=b({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wi&&(wi&&n.type==="mousemove"?(Da=n.screenX-wi.screenX,Na=n.screenY-wi.screenY):Na=Da=0,wi=n),Da)},movementY:function(n){return"movementY"in n?n.movementY:Na}}),Hn=Lt(Ls),ac=b({},Ls,{dataTransfer:0}),td=Lt(ac),Us=b({},Ps,{relatedTarget:0}),Oa=Lt(Us),cl=b({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=Lt(cl),oc=b({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ma=Lt(oc),nd=b({},Ye,{data:0}),hl=Lt(nd),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=uc[n])?!!r[n]:!1}function zs(){return fl}var cc=b({},Ps,{key:function(n){if(n.key){var r=Bs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_i(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(n){return n.type==="keypress"?_i(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_i(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Va=Lt(cc),hc=b({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Lt(hc),$i=b({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),fc=Lt($i),dc=b({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),mc=Lt(dc),pc=b({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=Lt(pc),cn=b({},Ye,{newState:0,oldState:0}),gc=Lt(cn),yc=[9,13,27,32],bi=ti&&"CompositionEvent"in window,c=null;ti&&"documentMode"in document&&(c=document.documentMode);var p=ti&&"TextEvent"in window&&!c,_=ti&&(!bi||c&&8<c&&11>=c),E=" ",L=!1;function H(n,r){switch(n){case"keyup":return yc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pe=!1;function Nt(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(L=!0,E);case"textInput":return n=r.data,n===E&&L?null:n;default:return null}}function Le(n,r){if(Pe)return n==="compositionend"||!bi&&H(n,r)?(n=ll(),Ki=xr=yi=null,Pe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ut[n.type]:r==="textarea"}function Xi(n,r,a,l){Qi?Yi?Yi.push(l):Yi=[l]:Qi=l,r=ih(r,"onChange"),0<r.length&&(a=new xa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Yt=null,Ei=null;function ml(n){Uv(n,0)}function _c(n){var r=mi(n);if(rl(r))return n}function sy(n,r){if(n==="change")return r}var ay=!1;if(ti){var id;if(ti){var rd="oninput"in document;if(!rd){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),rd=typeof oy.oninput=="function"}id=rd}else id=!1;ay=id&&(!document.documentMode||9<document.documentMode)}function ly(){Yt&&(Yt.detachEvent("onpropertychange",uy),Ei=Yt=null)}function uy(n){if(n.propertyName==="value"&&_c(Ei)){var r=[];Xi(r,Ei,n,jn(n)),rc(ml,r)}}function j2(n,r,a){n==="focusin"?(ly(),Yt=r,Ei=a,Yt.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function q2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _c(Ei)}function H2(n,r){if(n==="click")return _c(r)}function F2(n,r){if(n==="input"||n==="change")return _c(r)}function G2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var An=typeof Object.is=="function"?Object.is:G2;function pl(n,r){if(An(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vs.call(r,h)||!An(n[h],r[h]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,r){var a=cy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cy(a)}}function fy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?fy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ds(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ds(n.document)}return r}function sd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Q2=ti&&"documentMode"in document&&11>=document.documentMode,La=null,ad=null,gl=null,od=!1;function my(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;od||La==null||La!==Ds(l)||(l=La,"selectionStart"in l&&sd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=ih(ad,"onSelect"),0<l.length&&(r=new xa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=La)))}function js(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},ld={},py={};ti&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function qs(n){if(ld[n])return ld[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in py)return ld[n]=r[a];return n}var gy=qs("animationend"),yy=qs("animationiteration"),_y=qs("animationstart"),Y2=qs("transitionrun"),K2=qs("transitionstart"),$2=qs("transitioncancel"),vy=qs("transitionend"),wy=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function ni(n,r){wy.set(n,r),ei(r,[n])}var by=new WeakMap;function Fn(n,r){if(typeof n=="object"&&n!==null){var a=by.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ra(r)},by.set(n,r),r)}return{value:n,source:r,stack:Ra(r)}}var Gn=[],Ba=0,cd=0;function vc(){for(var n=Ba,r=cd=Ba=0;r<n;){var a=Gn[r];Gn[r++]=null;var l=Gn[r];Gn[r++]=null;var h=Gn[r];Gn[r++]=null;var d=Gn[r];if(Gn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ey(a,h,d)}}function wc(n,r,a,l){Gn[Ba++]=n,Gn[Ba++]=r,Gn[Ba++]=a,Gn[Ba++]=l,cd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function hd(n,r,a,l){return wc(n,r,a,l),bc(n)}function za(n,r){return wc(n,null,null,r),bc(n)}function Ey(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-en(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function bc(n){if(50<jl)throw jl=0,ym=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var ja={};function X2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,r,a,l){return new X2(n,r,a,l)}function fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,r){var a=n.alternate;return a===null?(a=Sn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ty(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ec(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")fd(n)&&(v=1);else if(typeof n=="string")v=Z1(n,a,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Sn(31,a,r,h),n.elementType=I,n.lanes=d,n;case $:return Hs(a.children,h,d,r);case ee:v=8,h|=24;break;case Z:return n=Sn(12,a,r,h|2),n.elementType=Z,n.lanes=d,n;case Ae:return n=Sn(13,a,r,h),n.elementType=Ae,n.lanes=d,n;case He:return n=Sn(19,a,r,h),n.elementType=He,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case ue:v=10;break e;case oe:v=9;break e;case qe:v=11;break e;case k:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Sn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function Hs(n,r,a,l){return n=Sn(7,n,l,r),n.lanes=a,n}function dd(n,r,a){return n=Sn(6,n,null,r),n.lanes=a,n}function md(n,r,a){return r=Sn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var qa=[],Ha=0,Tc=null,Ac=0,Qn=[],Yn=0,Fs=null,Zi=1,Ji="";function Gs(n,r){qa[Ha++]=Ac,qa[Ha++]=Tc,Tc=n,Ac=r}function Ay(n,r,a){Qn[Yn++]=Zi,Qn[Yn++]=Ji,Qn[Yn++]=Fs,Fs=n;var l=Zi;n=Ji;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Zi=1<<32-en(r)+h|a<<h|l,Ji=d+n}else Zi=1<<d|a<<h|l,Ji=n}function pd(n){n.return!==null&&(Gs(n,1),Ay(n,1,0))}function gd(n){for(;n===Tc;)Tc=qa[--Ha],qa[Ha]=null,Ac=qa[--Ha],qa[Ha]=null;for(;n===Fs;)Fs=Qn[--Yn],Qn[Yn]=null,Ji=Qn[--Yn],Qn[Yn]=null,Zi=Qn[--Yn],Qn[Yn]=null}var hn=null,dt=null,Ge=!1,Qs=null,Ti=!1,yd=Error(s(519));function Ys(n){var r=Error(s(418,""));throw vl(Fn(r,n)),yd}function Sy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Dt]=n,r[Tt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Hl.length;a++)De(Hl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Os(r,l.value,l.defaultValue,l.children),Ia(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||qv(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=rh),r=!0):r=!1,r||Ys(n)}function Ry(n){for(hn=n.return;hn;)switch(hn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:hn=hn.return}}function yl(n){if(n!==hn)return!1;if(!Ge)return Ry(n),Ge=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||km(n.type,n.memoizedProps)),a=!a),a&&dt&&Ys(n),Ry(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){dt=ri(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,Gr(n.type)?(n=Lm,Lm=null,dt=n):dt=r):dt=hn?ri(n.stateNode.nextSibling):null;return!0}function _l(){dt=hn=null,Ge=!1}function Iy(){var n=Qs;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Qs=null),n}function vl(n){Qs===null?Qs=[n]:Qs.push(n)}var _d=J(null),Ks=null,er=null;function Dr(n,r,a){te(_d,r._currentValue),r._currentValue=a}function tr(n){n._currentValue=_d.current,ae(_d)}function vd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function wd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var R=0;R<r.length;R++)if(w.context===r[R]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),vd(d.return,a,n),l||(v=null);break e}d=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vd(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;An(h.pendingProps.value,v.value)||(n!==null?n.push(w):n=[w])}}else if(h===Pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}h=h.return}n!==null&&wd(r,n,a,l),r.flags|=262144}function Sc(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $s(n){Ks=n,er=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Cy(Ks,n)}function Rc(n,r){return Ks===null&&$s(n),Cy(n,r)}function Cy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},er===null){if(n===null)throw Error(s(308));er=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else er=er.next=r;return a}var W2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Z2=i.unstable_scheduleCallback,J2=i.unstable_NormalPriority,kt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new W2,data:new Map,refCount:0}}function bl(n){n.refCount--,n.refCount===0&&Z2(J2,function(){n.controller.abort()})}var El=null,Ed=0,Fa=0,Ga=null;function e1(n,r){if(El===null){var a=El=[];Ed=0,Fa=Am(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ed++,r.then(xy,xy),r}function xy(){if(--Ed===0&&El!==null){Ga!==null&&(Ga.status="fulfilled");var n=El;El=null,Fa=0,Ga=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function t1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Dy=G.S;G.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&e1(n,r),Dy!==null&&Dy(n,r)};var Xs=J(null);function Td(){var n=Xs.current;return n!==null?n:rt.pooledCache}function Ic(n,r){r===null?te(Xs,Xs.current):te(Xs,r.pool)}function Ny(){var n=Td();return n===null?null:{parent:kt._currentValue,pool:n}}var Tl=Error(s(460)),Oy=Error(s(474)),Cc=Error(s(542)),Ad={then:function(){}};function ky(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xc(){}function My(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(xc,xc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Py(n),n;default:if(typeof r.status=="string")r.then(xc,xc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Py(n),n}throw Al=r,Tl}}var Al=null;function Vy(){if(Al===null)throw Error(s(459));var n=Al;return Al=null,n}function Py(n){if(n===Tl||n===Cc)throw Error(s(483))}var Nr=!1;function Sd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function kr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=bc(n),Ey(n,null,a),r}return wc(n,l,r,a),bc(n)}function Sl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Jo(n,a)}}function Id(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Cd=!1;function Rl(){if(Cd){var n=Ga;if(n!==null)throw n}}function Il(n,r,a,l){Cd=!1;var h=n.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,B=R.next;R.next=null,v===null?d=B:v.next=B,v=R;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==v&&(w===null?Q.firstBaseUpdate=B:w.next=B,Q.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;v=0,Q=B=R=null,w=d;do{var z=w.lane&-536870913,j=z!==w.lane;if(j?(Ue&z)===z:(l&z)===z){z!==0&&z===Fa&&(Cd=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var be=n,ye=w;z=r;var et=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){X=be.call(et,X,z);break e}X=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,z=typeof be=="function"?be.call(et,X,z):be,z==null)break e;X=b({},X,z);break e;case 2:Nr=!0}}z=w.callback,z!==null&&(n.flags|=64,j&&(n.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(B=Q=j,R=X):Q=Q.next=j,v|=z;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;j=w,w=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),jr|=v,n.lanes=v,n.memoizedState=X}}function Ly(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Uy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ly(a[n],r)}var Qa=J(null),Dc=J(0);function By(n,r){n=lr,te(Dc,n),te(Qa,r),lr=n|r.baseLanes}function xd(){te(Dc,lr),te(Qa,Qa.current)}function Dd(){lr=Dc.current,ae(Qa),ae(Dc)}var Mr=0,Re=null,Ze=null,St=null,Nc=!1,Ya=!1,Ws=!1,Oc=0,Cl=0,Ka=null,n1=0;function yt(){throw Error(s(321))}function Nd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!An(n[a],r[a]))return!1;return!0}function Od(n,r,a,l,h,d){return Mr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?E_:T_,Ws=!1,d=a(l,h),Ws=!1,Ya&&(d=jy(r,a,l,h)),zy(n),d}function zy(n){G.H=Uc;var r=Ze!==null&&Ze.next!==null;if(Mr=0,St=Ze=Re=null,Nc=!1,Cl=0,Ka=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&Sc(n)&&(Bt=!0))}function jy(n,r,a,l){Re=n;var h=0;do{if(Ya&&(Ka=null),Cl=0,Ya=!1,25<=h)throw Error(s(301));if(h+=1,St=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=u1,d=r(a,l)}while(Ya);return d}function i1(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?xl(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Re.flags|=1024),r}function kd(){var n=Oc!==0;return Oc=0,n}function Md(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Vd(n){if(Nc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Nc=!1}Mr=0,St=Ze=Re=null,Ya=!1,Cl=Oc=0,Ka=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=n:St=St.next=n,St}function Rt(){if(Ze===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=St===null?Re.memoizedState:St.next;if(r!==null)St=r,Ze=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Re.memoizedState=St=n:St=St.next=n}return St}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var r=Cl;return Cl+=1,Ka===null&&(Ka=[]),n=My(Ka,n,r),r=Re,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?E_:T_),n}function kc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===ue)return tn(n)}throw Error(s(438,String(n)))}function Ld(n){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Pd(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=C;return r.index++,a}function nr(n,r){return typeof r=="function"?r(n):r}function Mc(n){var r=Rt();return Ud(r,Ze,n)}function Ud(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var w=v=null,R=null,B=r,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Ue&X)===X:(Mr&X)===X){var z=B.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Fa&&(Q=!0);else if((Mr&z)===z){B=B.next,z===Fa&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(w=R=X,v=d):R=R.next=X,Re.lanes|=z,jr|=z;X=B.action,Ws&&a(d,X),d=B.hasEagerState?B.eagerState:a(d,X)}else z={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(w=R=z,v=d):R=R.next=z,Re.lanes|=X,jr|=X;B=B.next}while(B!==null&&B!==r);if(R===null?v=d:R.next=w,!An(d,n.memoizedState)&&(Bt=!0,Q&&(a=Ga,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Bd(n){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);An(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function qy(n,r,a){var l=Re,h=Rt(),d=Ge;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!An((Ze||h).memoizedState,a);v&&(h.memoizedState=a,Bt=!0),h=h.queue;var w=Gy.bind(null,l,h,n);if(Dl(2048,8,w,[n]),h.getSnapshot!==r||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,$a(9,Vc(),Fy.bind(null,l,h,a,r),null),rt===null)throw Error(s(349));d||(Mr&124)!==0||Hy(l,r,a)}return a}function Hy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Pd(),Re.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Fy(n,r,a,l){r.value=a,r.getSnapshot=l,Qy(r)&&Yy(n)}function Gy(n,r,a){return a(function(){Qy(r)&&Yy(n)})}function Qy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!An(n,a)}catch{return!0}}function Yy(n){var r=za(n,2);r!==null&&Dn(r,n,2)}function zd(n){var r=gn();if(typeof n=="function"){var a=n;if(n=a(),Ws){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:n},r}function Ky(n,r,a,l){return n.baseState=a,Ud(n,Ze,typeof l=="function"?l:nr)}function r1(n,r,a,l,h){if(Lc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,$y(r,d)):(d.next=a.next,r.pending=a.next=d)}}function $y(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=G.T,v={};G.T=v;try{var w=a(h,l),R=G.S;R!==null&&R(v,w),Xy(n,r,w)}catch(B){jd(n,r,B)}finally{G.T=d}}else try{d=a(h,l),Xy(n,r,d)}catch(B){jd(n,r,B)}}function Xy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(n,r,l)},function(l){return jd(n,r,l)}):Wy(n,r,a)}function Wy(n,r,a){r.status="fulfilled",r.value=a,Zy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,$y(n,a)))}function jd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Zy(r),r=r.next;while(r!==l)}n.action=null}function Zy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Jy(n,r){return r}function e_(n,r){if(Ge){var a=rt.formState;if(a!==null){e:{var l=Re;if(Ge){if(dt){t:{for(var h=dt,d=Ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=ri(h.nextSibling),l=h.data==="F!";break e}}Ys(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jy,lastRenderedState:r},a.queue=l,a=v_.bind(null,Re,l),l.dispatch=a,l=zd(!1),d=Qd.bind(null,Re,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=r1.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function t_(n){var r=Rt();return n_(r,Ze,n)}function n_(n,r,a){if(r=Ud(n,r,Jy)[0],n=Mc(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=xl(r)}catch(v){throw v===Tl?Cc:v}else l=r;r=Rt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,$a(9,Vc(),s1.bind(null,h,a),null)),[l,d,n]}function s1(n,r){n.action=r}function i_(n){var r=Rt(),a=Ze;if(a!==null)return n_(r,a,n);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function $a(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Pd(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Vc(){return{destroy:void 0,resource:void 0}}function r_(){return Rt().memoizedState}function Pc(n,r,a,l){var h=gn();l=l===void 0?null:l,Re.flags|=n,h.memoizedState=$a(1|r,Vc(),a,l)}function Dl(n,r,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Nd(l,Ze.memoizedState.deps)?h.memoizedState=$a(r,d,a,l):(Re.flags|=n,h.memoizedState=$a(1|r,d,a,l))}function s_(n,r){Pc(8390656,8,n,r)}function a_(n,r){Dl(2048,8,n,r)}function o_(n,r){return Dl(4,2,n,r)}function l_(n,r){return Dl(4,4,n,r)}function u_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function c_(n,r,a){a=a!=null?a.concat([n]):null,Dl(4,4,u_.bind(null,r,n),a)}function qd(){}function h_(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Nd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function f_(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Nd(r,l[1]))return l[0];if(l=n(),Ws){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l}function Hd(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=pv(),Re.lanes|=n,jr|=n,a)}function d_(n,r,a,l){return An(a,r)?a:Qa.current!==null?(n=Hd(n,a,l),An(n,r)||(Bt=!0),n):(Mr&42)===0?(Bt=!0,n.memoizedState=a):(n=pv(),Re.lanes|=n,jr|=n,r)}function m_(n,r,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var v=G.T,w={};G.T=w,Qd(n,!1,r,a);try{var R=h(),B=G.S;if(B!==null&&B(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=t1(R,l);Nl(n,r,Q,xn(n))}else Nl(n,r,l,xn(n))}catch(X){Nl(n,r,{then:function(){},status:"rejected",reason:X},xn())}finally{se.p=d,G.T=v}}function a1(){}function Fd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=p_(n).queue;m_(n,h,r,de,a===null?a1:function(){return g_(n),a(l)})}function p_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function g_(n){var r=p_(n).next.queue;Nl(n,r,{},xn())}function Gd(){return tn($l)}function y_(){return Rt().memoizedState}function __(){return Rt().memoizedState}function o1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();n=Or(a);var l=kr(r,n,a);l!==null&&(Dn(l,r,a),Sl(l,r,a)),r={cache:bd()},n.payload=r;return}r=r.return}}function l1(n,r,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lc(n)?w_(r,a):(a=hd(n,r,a,l),a!==null&&(Dn(a,n,l),b_(a,r,l)))}function v_(n,r,a){var l=xn();Nl(n,r,a,l)}function Nl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lc(n))w_(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(h.hasEagerState=!0,h.eagerState=w,An(w,v))return wc(n,r,h,0),rt===null&&vc(),!1}catch{}finally{}if(a=hd(n,r,h,l),a!==null)return Dn(a,n,l),b_(a,r,l),!0}return!1}function Qd(n,r,a,l){if(l={lane:2,revertLane:Am(),action:l,hasEagerState:!1,eagerState:null,next:null},Lc(n)){if(r)throw Error(s(479))}else r=hd(n,a,l,2),r!==null&&Dn(r,n,2)}function Lc(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function w_(n,r){Ya=Nc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function b_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Jo(n,a)}}var Uc={readContext:tn,use:kc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},E_={readContext:tn,use:kc,useCallback:function(n,r){return gn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:s_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Pc(4194308,4,u_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Pc(4194308,4,n,r)},useInsertionEffect:function(n,r){Pc(4,2,n,r)},useMemo:function(n,r){var a=gn();r=r===void 0?null:r;var l=n();if(Ws){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=gn();if(a!==void 0){var h=a(r);if(Ws){En(!0);try{a(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=l1.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var r=gn();return n={current:n},r.memoizedState=n},useState:function(n){n=zd(n);var r=n.queue,a=v_.bind(null,Re,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:qd,useDeferredValue:function(n,r){var a=gn();return Hd(a,n,r)},useTransition:function(){var n=zd(!1);return n=m_.bind(null,Re,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Re,h=gn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Ue&124)!==0||Hy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,s_(Gy.bind(null,l,d,n),[n]),l.flags|=2048,$a(9,Vc(),Fy.bind(null,l,d,a,r),null),a},useId:function(){var n=gn(),r=rt.identifierPrefix;if(Ge){var a=Ji,l=Zi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Oc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=n1++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Gd,useFormState:e_,useActionState:e_,useOptimistic:function(n){var r=gn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Qd.bind(null,Re,!0,a),a.dispatch=r,[n,r]},useMemoCache:Ld,useCacheRefresh:function(){return gn().memoizedState=o1.bind(null,Re)}},T_={readContext:tn,use:kc,useCallback:h_,useContext:tn,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Mc,useRef:r_,useState:function(){return Mc(nr)},useDebugValue:qd,useDeferredValue:function(n,r){var a=Rt();return d_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Mc(nr)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:xl(n),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Gd,useFormState:t_,useActionState:t_,useOptimistic:function(n,r){var a=Rt();return Ky(a,Ze,n,r)},useMemoCache:Ld,useCacheRefresh:__},u1={readContext:tn,use:kc,useCallback:h_,useContext:tn,useEffect:a_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Bd,useRef:r_,useState:function(){return Bd(nr)},useDebugValue:qd,useDeferredValue:function(n,r){var a=Rt();return Ze===null?Hd(a,n,r):d_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Bd(nr)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:xl(n),r]},useSyncExternalStore:qy,useId:y_,useHostTransitionStatus:Gd,useFormState:i_,useActionState:i_,useOptimistic:function(n,r){var a=Rt();return Ze!==null?Ky(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:__},Xa=null,Ol=0;function Bc(n){var r=Ol;return Ol+=1,Xa===null&&(Xa=[]),My(Xa,n,r)}function kl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function zc(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function A_(n){var r=n._init;return r(n._payload)}function S_(n){function r(M,N){if(n){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function a(M,N){if(!n)return null;for(;N!==null;)r(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Wi(M,N),M.index=0,M.sibling=null,M}function d(M,N,U){return M.index=U,n?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=67108866,N):U):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function v(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function w(M,N,U,K){return N===null||N.tag!==6?(N=dd(U,M.mode,K),N.return=M,N):(N=h(N,U),N.return=M,N)}function R(M,N,U,K){var ce=U.type;return ce===$?Q(M,N,U.props.children,K,U.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&A_(ce)===N.type)?(N=h(N,U.props),kl(N,U),N.return=M,N):(N=Ec(U.type,U.key,U.props,null,M.mode,K),kl(N,U),N.return=M,N)}function B(M,N,U,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=md(U,M.mode,K),N.return=M,N):(N=h(N,U.children||[]),N.return=M,N)}function Q(M,N,U,K,ce){return N===null||N.tag!==7?(N=Hs(U,M.mode,K,ce),N.return=M,N):(N=h(N,U),N.return=M,N)}function X(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=dd(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return U=Ec(N.type,N.key,N.props,null,M.mode,U),kl(U,N),U.return=M,U;case q:return N=md(N,M.mode,U),N.return=M,N;case A:var K=N._init;return N=K(N._payload),X(M,N,U)}if(ht(N)||V(N))return N=Hs(N,M.mode,U,null),N.return=M,N;if(typeof N.then=="function")return X(M,Bc(N),U);if(N.$$typeof===ue)return X(M,Rc(M,N),U);zc(M,N)}return null}function z(M,N,U,K){var ce=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:w(M,N,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===ce?R(M,N,U,K):null;case q:return U.key===ce?B(M,N,U,K):null;case A:return ce=U._init,U=ce(U._payload),z(M,N,U,K)}if(ht(U)||V(U))return ce!==null?null:Q(M,N,U,K,null);if(typeof U.then=="function")return z(M,N,Bc(U),K);if(U.$$typeof===ue)return z(M,N,Rc(M,U),K);zc(M,U)}return null}function j(M,N,U,K,ce){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(U)||null,w(N,M,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return M=M.get(K.key===null?U:K.key)||null,R(N,M,K,ce);case q:return M=M.get(K.key===null?U:K.key)||null,B(N,M,K,ce);case A:var Ce=K._init;return K=Ce(K._payload),j(M,N,U,K,ce)}if(ht(K)||V(K))return M=M.get(U)||null,Q(N,M,K,ce,null);if(typeof K.then=="function")return j(M,N,U,Bc(K),ce);if(K.$$typeof===ue)return j(M,N,U,Rc(N,K),ce);zc(N,K)}return null}function be(M,N,U,K){for(var ce=null,Ce=null,he=N,_e=N=0,jt=null;he!==null&&_e<U.length;_e++){he.index>_e?(jt=he,he=null):jt=he.sibling;var ze=z(M,he,U[_e],K);if(ze===null){he===null&&(he=jt);break}n&&he&&ze.alternate===null&&r(M,he),N=d(ze,N,_e),Ce===null?ce=ze:Ce.sibling=ze,Ce=ze,he=jt}if(_e===U.length)return a(M,he),Ge&&Gs(M,_e),ce;if(he===null){for(;_e<U.length;_e++)he=X(M,U[_e],K),he!==null&&(N=d(he,N,_e),Ce===null?ce=he:Ce.sibling=he,Ce=he);return Ge&&Gs(M,_e),ce}for(he=l(he);_e<U.length;_e++)jt=j(he,M,_e,U[_e],K),jt!==null&&(n&&jt.alternate!==null&&he.delete(jt.key===null?_e:jt.key),N=d(jt,N,_e),Ce===null?ce=jt:Ce.sibling=jt,Ce=jt);return n&&he.forEach(function(Xr){return r(M,Xr)}),Ge&&Gs(M,_e),ce}function ye(M,N,U,K){if(U==null)throw Error(s(151));for(var ce=null,Ce=null,he=N,_e=N=0,jt=null,ze=U.next();he!==null&&!ze.done;_e++,ze=U.next()){he.index>_e?(jt=he,he=null):jt=he.sibling;var Xr=z(M,he,ze.value,K);if(Xr===null){he===null&&(he=jt);break}n&&he&&Xr.alternate===null&&r(M,he),N=d(Xr,N,_e),Ce===null?ce=Xr:Ce.sibling=Xr,Ce=Xr,he=jt}if(ze.done)return a(M,he),Ge&&Gs(M,_e),ce;if(he===null){for(;!ze.done;_e++,ze=U.next())ze=X(M,ze.value,K),ze!==null&&(N=d(ze,N,_e),Ce===null?ce=ze:Ce.sibling=ze,Ce=ze);return Ge&&Gs(M,_e),ce}for(he=l(he);!ze.done;_e++,ze=U.next())ze=j(he,M,_e,ze.value,K),ze!==null&&(n&&ze.alternate!==null&&he.delete(ze.key===null?_e:ze.key),N=d(ze,N,_e),Ce===null?ce=ze:Ce.sibling=ze,Ce=ze);return n&&he.forEach(function(cA){return r(M,cA)}),Ge&&Gs(M,_e),ce}function et(M,N,U,K){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var ce=U.key;N!==null;){if(N.key===ce){if(ce=U.type,ce===$){if(N.tag===7){a(M,N.sibling),K=h(N,U.props.children),K.return=M,M=K;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&A_(ce)===N.type){a(M,N.sibling),K=h(N,U.props),kl(K,U),K.return=M,M=K;break e}a(M,N);break}else r(M,N);N=N.sibling}U.type===$?(K=Hs(U.props.children,M.mode,K,U.key),K.return=M,M=K):(K=Ec(U.type,U.key,U.props,null,M.mode,K),kl(K,U),K.return=M,M=K)}return v(M);case q:e:{for(ce=U.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(M,N.sibling),K=h(N,U.children||[]),K.return=M,M=K;break e}else{a(M,N);break}else r(M,N);N=N.sibling}K=md(U,M.mode,K),K.return=M,M=K}return v(M);case A:return ce=U._init,U=ce(U._payload),et(M,N,U,K)}if(ht(U))return be(M,N,U,K);if(V(U)){if(ce=V(U),typeof ce!="function")throw Error(s(150));return U=ce.call(U),ye(M,N,U,K)}if(typeof U.then=="function")return et(M,N,Bc(U),K);if(U.$$typeof===ue)return et(M,N,Rc(M,U),K);zc(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(M,N.sibling),K=h(N,U),K.return=M,M=K):(a(M,N),K=dd(U,M.mode,K),K.return=M,M=K),v(M)):a(M,N)}return function(M,N,U,K){try{Ol=0;var ce=et(M,N,U,K);return Xa=null,ce}catch(he){if(he===Tl||he===Cc)throw he;var Ce=Sn(29,he,null,M.mode);return Ce.lanes=K,Ce.return=M,Ce}finally{}}}var Wa=S_(!0),R_=S_(!1),Kn=J(null),Ai=null;function Vr(n){var r=n.alternate;te(Mt,Mt.current&1),te(Kn,n),Ai===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(Ai=n)}function I_(n){if(n.tag===22){if(te(Mt,Mt.current),te(Kn,n),Ai===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ai=n)}}else Pr()}function Pr(){te(Mt,Mt.current),te(Kn,Kn.current)}function ir(n){ae(Kn),Ai===n&&(Ai=null),ae(Mt)}var Mt=J(0);function jc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Yd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Kd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=xn(),h=Or(l);h.payload=r,a!=null&&(h.callback=a),r=kr(n,h,l),r!==null&&(Dn(r,n,l),Sl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=xn(),h=Or(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=kr(n,h,l),r!==null&&(Dn(r,n,l),Sl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=xn(),l=Or(a);l.tag=2,r!=null&&(l.callback=r),r=kr(n,l,a),r!==null&&(Dn(r,n,a),Sl(r,n,a))}};function C_(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function x_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Kd.enqueueReplaceState(r,r.state,null)}function Zs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=b({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var qc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function D_(n){qc(n)}function N_(n){console.error(n)}function O_(n){qc(n)}function Hc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function k_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $d(n,r,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){Hc(n,r)},a}function M_(n){return n=Or(n),n.tag=3,n}function V_(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){k_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){k_(r,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function c1(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&wl(r,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Ai===null?vm():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ad?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),bm(n,l,h)),!1;case 22:return a.flags|=65536,l===Ad?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),bm(n,l,h)),!1}throw Error(s(435,a.tag))}return bm(n,l,h),vm(),!1}if(Ge)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==yd&&(n=Error(s(422),{cause:l}),vl(Fn(n,a)))):(l!==yd&&(r=Error(s(423),{cause:l}),vl(Fn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Fn(l,a),h=$d(n.stateNode,l,h),Id(n,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),zl===null?zl=[d]:zl.push(d),mt!==4&&(mt=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=$d(a.stateNode,l,n),Id(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=M_(h),V_(h,n,a,l),Id(a,h),!1}a=a.return}while(a!==null);return!1}var P_=Error(s(461)),Bt=!1;function Kt(n,r,a,l){r.child=n===null?R_(r,null,a,l):Wa(r,n.child,a,l)}function L_(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return $s(r),l=Od(n,r,a,v,d,h),w=kd(),n!==null&&!Bt?(Md(n,r,h),rr(n,r,h)):(Ge&&w&&pd(r),r.flags|=1,Kt(n,r,l,h),r.child)}function U_(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!fd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,B_(n,r,d,l,h)):(n=Ec(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!im(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(v,l)&&n.ref===r.ref)return rr(n,r,h)}return r.flags|=1,n=Wi(d,l),n.ref=r.ref,n.return=r,r.child=n}function B_(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(pl(d,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=d,im(n,h))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,rr(n,r,h)}return Xd(n,r,a,l,h)}function z_(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return j_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ic(r,d!==null?d.cachePool:null),d!==null?By(r,d):xd(),I_(r);else return r.lanes=r.childLanes=536870912,j_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ic(r,d.cachePool),By(r,d),Pr(),r.memoizedState=null):(n!==null&&Ic(r,null),xd(),Pr());return Kt(n,r,h,a),r.child}function j_(n,r,a,l){var h=Td();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&Ic(r,null),xd(),I_(r),n!==null&&wl(n,r,l,!0),null}function Fc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Xd(n,r,a,l,h){return $s(r),a=Od(n,r,a,l,void 0,h),l=kd(),n!==null&&!Bt?(Md(n,r,h),rr(n,r,h)):(Ge&&l&&pd(r),r.flags|=1,Kt(n,r,a,h),r.child)}function q_(n,r,a,l,h,d){return $s(r),r.updateQueue=null,a=jy(r,l,a,h),zy(n),l=kd(),n!==null&&!Bt?(Md(n,r,d),rr(n,r,d)):(Ge&&l&&pd(r),r.flags|=1,Kt(n,r,a,d),r.child)}function H_(n,r,a,l,h){if($s(r),r.stateNode===null){var d=ja,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Sd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):ja,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Kd.enqueueReplaceState(d,d.state,null),Il(r,l,d,h),Rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var w=r.memoizedProps,R=Zs(a,w);d.props=R;var B=d.context,Q=a.contextType;v=ja,typeof Q=="object"&&Q!==null&&(v=tn(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==v)&&x_(r,d,l,v),Nr=!1;var z=r.memoizedState;d.state=z,Il(r,l,d,h),Rl(),B=r.memoizedState,w||z!==B||Nr?(typeof X=="function"&&(Yd(r,a,X,l),B=r.memoizedState),(R=Nr||C_(r,a,R,l,z,B,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Rd(n,r),v=r.memoizedProps,Q=Zs(a,v),d.props=Q,X=r.pendingProps,z=d.context,B=a.contextType,R=ja,typeof B=="object"&&B!==null&&(R=tn(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==R)&&x_(r,d,l,R),Nr=!1,z=r.memoizedState,d.state=z,Il(r,l,d,h),Rl();var j=r.memoizedState;v!==X||z!==j||Nr||n!==null&&n.dependencies!==null&&Sc(n.dependencies)?(typeof w=="function"&&(Yd(r,a,w,l),j=r.memoizedState),(Q=Nr||C_(r,a,Q,l,z,j,R)||n!==null&&n.dependencies!==null&&Sc(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,R)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Fc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Wa(r,n.child,null,h),r.child=Wa(r,null,a,h)):Kt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=rr(n,r,h),n}function F_(n,r,a,l){return _l(),r.flags|=256,Kt(n,r,a,l),r.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(n){return{baseLanes:n,cachePool:Ny()}}function Jd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=$n),n}function G_(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(h?Vr(r):Pr(),Ge){var w=dt,R;if(R=w){e:{for(R=w,w=Ti;R.nodeType!==8;){if(!w){w=null;break e}if(R=ri(R.nextSibling),R===null){w=null;break e}}w=R}w!==null?(r.memoizedState={dehydrated:w,treeContext:Fs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},R=Sn(18,null,null,0),R.stateNode=w,R.return=r,r.child=R,hn=r,dt=null,R=!0):R=!1}R||Ys(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Pm(w)?r.lanes=32:r.lanes=536870912,null;ir(r)}return w=l.children,l=l.fallback,h?(Pr(),h=r.mode,w=Gc({mode:"hidden",children:w},h),l=Hs(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=Zd(a),h.childLanes=Jd(n,v,a),r.memoizedState=Wd,l):(Vr(r),em(r,w))}if(R=n.memoizedState,R!==null&&(w=R.dehydrated,w!==null)){if(d)r.flags&256?(Vr(r),r.flags&=-257,r=tm(n,r,a)):r.memoizedState!==null?(Pr(),r.child=n.child,r.flags|=128,r=null):(Pr(),h=l.fallback,w=r.mode,l=Gc({mode:"visible",children:l.children},w),h=Hs(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Wa(r,n.child,null,a),l=r.child,l.memoizedState=Zd(a),l.childLanes=Jd(n,v,a),r.memoizedState=Wd,r=h);else if(Vr(r),Pm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),r=tm(n,r,a)}else if(Bt||wl(n,r,a,!1),v=(a&n.childLanes)!==0,Bt||v){if(v=rt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Tr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,za(n,l),Dn(v,n,l),P_;w.data==="$?"||vm(),r=tm(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=R.treeContext,dt=ri(w.nextSibling),hn=r,Ge=!0,Qs=null,Ti=!1,n!==null&&(Qn[Yn++]=Zi,Qn[Yn++]=Ji,Qn[Yn++]=Fs,Zi=n.id,Ji=n.overflow,Fs=r),r=em(r,l.children),r.flags|=4096);return r}return h?(Pr(),h=l.fallback,w=r.mode,R=n.child,B=R.sibling,l=Wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?h=Wi(B,h):(h=Hs(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=n.child.memoizedState,w===null?w=Zd(a):(R=w.cachePool,R!==null?(B=kt._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=Ny(),w={baseLanes:w.baseLanes|a,cachePool:R}),h.memoizedState=w,h.childLanes=Jd(n,v,a),r.memoizedState=Wd,l):(Vr(r),a=n.child,n=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function em(n,r){return r=Gc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Gc(n,r){return n=Sn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function tm(n,r,a){return Wa(r,n.child,null,a),n=em(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Q_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),vd(n.return,r,a)}function nm(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Y_(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Kt(n,r,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Q_(n,a,r);else if(n.tag===19)Q_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Mt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&jc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),nm(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&jc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}nm(r,!0,a,null,d);break;case"together":nm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),jr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(wl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Wi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Wi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function im(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Sc(n)))}function h1(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Dr(r,kt,n.memoizedState.cache),_l();break;case 27:case 5:Er(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?G_(n,r,a):(Vr(r),n=rr(n,r,a),n!==null?n.sibling:null);Vr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(wl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Y_(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Mt,Mt.current),l)break;return null;case 22:case 23:return r.lanes=0,z_(n,r,a);case 24:Dr(r,kt,n.memoizedState.cache)}return rr(n,r,a)}function K_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!im(n,a)&&(r.flags&128)===0)return Bt=!1,h1(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,Ge&&(r.flags&1048576)!==0&&Ay(r,Ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")fd(l)?(n=Zs(l,n),r.tag=1,r=H_(null,r,l,n,a)):(r.tag=0,r=Xd(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===qe){r.tag=11,r=L_(null,r,l,n,a);break e}else if(h===k){r.tag=14,r=U_(null,r,l,n,a);break e}}throw r=Gt(l)||l,Error(s(306,r,""))}}return r;case 0:return Xd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Zs(l,r.pendingProps),H_(n,r,l,h,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Rd(n,r),Il(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Dr(r,kt,l),l!==d.cache&&wd(r,[kt],a,!0),Rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=F_(n,r,l,a);break e}else if(l!==h){h=Fn(Error(s(424)),r),vl(h),r=F_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=ri(n.firstChild),hn=r,Ge=!0,Qs=null,Ti=!0,a=R_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_l(),l===h){r=rr(n,r,a);break e}Kt(n,r,l,a)}r=r.child}return r;case 26:return Fc(n,r),n===null?(a=Zv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=sh(Te.current).createElement(a),l[Dt]=r,l[Tt]=n,Xt(l,a,n),gt(l),r.stateNode=l):r.memoizedState=Zv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Er(r),n===null&&Ge&&(l=r.stateNode=$v(r.type,r.pendingProps,Te.current),hn=r,Ti=!0,h=dt,Gr(r.type)?(Lm=h,dt=ri(l.firstChild)):dt=h),Kt(n,r,r.pendingProps.children,a),Fc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ge&&((h=l=dt)&&(l=B1(l,r.type,r.pendingProps,Ti),l!==null?(r.stateNode=l,hn=r,dt=ri(l.firstChild),Ti=!1,h=!0):h=!1),h||Ys(r)),Er(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,km(h,d)?l=null:v!==null&&km(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Od(n,r,i1,null,null,a),$l._currentValue=h),Fc(n,r),Kt(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=dt)&&(a=z1(a,r.pendingProps,Ti),a!==null?(r.stateNode=a,hn=r,dt=null,n=!0):n=!1),n||Ys(r)),null;case 13:return G_(n,r,a);case 4:return it(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Wa(r,null,l,a):Kt(n,r,l,a),r.child;case 11:return L_(n,r,r.type,r.pendingProps,a);case 7:return Kt(n,r,r.pendingProps,a),r.child;case 8:return Kt(n,r,r.pendingProps.children,a),r.child;case 12:return Kt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),Kt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,$s(r),h=tn(h),l=l(h),r.flags|=1,Kt(n,r,l,a),r.child;case 14:return U_(n,r,r.type,r.pendingProps,a);case 15:return B_(n,r,r.type,r.pendingProps,a);case 19:return Y_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Gc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Wi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return z_(n,r,a);case 24:return $s(r),l=tn(kt),n===null?(h=Td(),h===null&&(h=rt,d=bd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Sd(r),Dr(r,kt,h)):((n.lanes&a)!==0&&(Rd(n,r),Il(r,null,null,a),Rl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Dr(r,kt,l)):(l=d.cache,Dr(r,kt,l),l!==h.cache&&wd(r,[kt],a,!0))),Kt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sr(n){n.flags|=4}function $_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!iw(r)){if(r=Kn.current,r!==null&&((Ue&4194048)===Ue?Ai!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==Ai))throw Al=Ad,Oy;n.flags|=8192}}function Qc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Wo():536870912,n.lanes|=r,to|=r)}function Ml(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function f1(n,r,a){var l=r.pendingProps;switch(gd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),tr(kt),hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(yl(r)?sr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Iy())),ut(r),null;case 26:return a=r.memoizedState,n===null?(sr(r),a!==null?(ut(r),$_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(sr(r),ut(r),$_(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==l&&sr(r),ut(r),r.flags&=-16777217),null;case 27:Ui(r),a=Te.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=me.current,yl(r)?Sy(r):(n=$v(h,l,a),r.stateNode=n,sr(r))}return ut(r),null;case 5:if(Ui(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=me.current,yl(r))Sy(r);else{switch(h=sh(Te.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Dt]=r,n[Tt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&sr(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Te.current,yl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Dt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(n.nodeValue,a)),n||Ys(r)}else n=sh(n).createTextNode(l),n[Dt]=r,r.stateNode=n}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=yl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=r}else _l(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=Iy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ir(r),r):(ir(r),null)}if(ir(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Qc(r,r.updateQueue),ut(r),null;case 4:return hi(),n===null&&Cm(r.stateNode.containerInfo),ut(r),null;case 10:return tr(r.type),ut(r),null;case 19:if(ae(Mt),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Ml(h,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=jc(n),d!==null){for(r.flags|=128,Ml(h,!1),n=d.updateQueue,r.updateQueue=n,Qc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Ty(a,n),a=a.sibling;return te(Mt,Mt.current&1|2),r.child}n=n.sibling}h.tail!==null&&Un()>$c&&(r.flags|=128,l=!0,Ml(h,!1),r.lanes=4194304)}else{if(!l)if(n=jc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Qc(r,n),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ge)return ut(r),null}else 2*Un()-h.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,l=!0,Ml(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Un(),r.sibling=null,n=Mt.current,te(Mt,l?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return ir(r),Dd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Qc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ae(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),tr(kt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function d1(n,r){switch(gd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return tr(kt),hi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ui(r),null;case 13:if(ir(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_l()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(Mt),null;case 4:return hi(),null;case 10:return tr(r.type),null;case 22:case 23:return ir(r),Dd(),n!==null&&ae(Xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return tr(kt),null;case 25:return null;default:return null}}function X_(n,r){switch(gd(r),r.tag){case 3:tr(kt),hi();break;case 26:case 27:case 5:Ui(r);break;case 4:hi();break;case 13:ir(r);break;case 19:ae(Mt);break;case 10:tr(r.type);break;case 22:case 23:ir(r),Dd(),n!==null&&ae(Xs);break;case 24:tr(kt)}}function Vl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){nt(r,r.return,w)}}function Lr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=r;var R=a,B=w;try{B()}catch(Q){nt(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){nt(r,r.return,Q)}}function W_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Uy(r,a)}catch(l){nt(n,n.return,l)}}}function Z_(n,r,a){a.props=Zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function Pl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){nt(n,r,h)}}function Si(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(n,r,h)}else a.current=null}function J_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(n,n.return,h)}}function rm(n,r,a){try{var l=n.stateNode;M1(l,n.type,a,r),l[Tt]=r}catch(h){nt(n,n.return,h)}}function ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gr(n.type)||n.tag===4}function sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function am(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=rh));else if(l!==4&&(l===27&&Gr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(am(n,r,a),n=n.sibling;n!==null;)am(n,r,a),n=n.sibling}function Yc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Gr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yc(n,r,a),n=n.sibling;n!==null;)Yc(n,r,a),n=n.sibling}function tv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Xt(r,l,a),r[Dt]=n,r[Tt]=a}catch(d){nt(n,n.return,d)}}var ar=!1,_t=!1,om=!1,nv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function m1(n,r){if(n=n.containerInfo,Nm=hh,n=dy(n),sd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,R=-1,B=0,Q=0,X=n,z=null;t:for(;;){for(var j;X!==a||h!==0&&X.nodeType!==3||(w=v+h),X!==d||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(j=X.firstChild)!==null;)z=X,X=j;for(;;){if(X===n)break t;if(z===a&&++B===h&&(w=v),z===d&&++Q===l&&(R=v),(j=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=j}a=w===-1||R===-1?null:{start:w,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Om={focusedElem:n,selectionRange:a},hh=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Zs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){nt(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Vm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function iv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(n,a),l&4&&Vl(5,a);break;case 1:if(Ur(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){nt(a,a.return,v)}else{var h=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&W_(a),l&512&&Pl(a,a.return);break;case 3:if(Ur(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Uy(n,r)}catch(v){nt(a,a.return,v)}}break;case 27:r===null&&l&4&&tv(a);case 26:case 5:Ur(n,a),r===null&&l&4&&J_(a),l&512&&Pl(a,a.return);break;case 12:Ur(n,a);break;case 13:Ur(n,a),l&4&&av(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=T1.bind(null,a),j1(n,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){r=r!==null&&r.memoizedState!==null||_t,h=ar;var d=_t;ar=l,(_t=r)&&!d?Br(n,a,(a.subtreeFlags&8772)!==0):Ur(n,a),ar=h,_t=d}break;case 30:break;default:Ur(n,a)}}function rv(n){var r=n.alternate;r!==null&&(n.alternate=null,rv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,yn=!1;function or(n,r,a){for(a=a.child;a!==null;)sv(n,r,a),a=a.sibling}function sv(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:_t||Si(a,r),or(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||Si(a,r);var l=lt,h=yn;Gr(a.type)&&(lt=a.stateNode,yn=!1),or(n,r,a),Gl(a.stateNode),lt=l,yn=h;break;case 5:_t||Si(a,r);case 6:if(l=lt,h=yn,lt=null,or(n,r,a),lt=l,yn=h,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:lt!==null&&(yn?(n=lt,Yv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Jl(n)):Yv(lt,a.stateNode));break;case 4:l=lt,h=yn,lt=a.stateNode.containerInfo,yn=!0,or(n,r,a),lt=l,yn=h;break;case 0:case 11:case 14:case 15:_t||Lr(2,a,r),_t||Lr(4,a,r),or(n,r,a);break;case 1:_t||(Si(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Z_(a,r,l)),or(n,r,a);break;case 21:or(n,r,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,or(n,r,a),_t=l;break;default:or(n,r,a)}}function av(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(a){nt(r,r.return,a)}}function p1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new nv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new nv),r;default:throw Error(s(435,n.tag))}}function lm(n,r){var a=p1(n);r.forEach(function(l){var h=A1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Gr(w.type)){lt=w.stateNode,yn=!1;break e}break;case 5:lt=w.stateNode,yn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,yn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));sv(d,v,h),lt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ov(r,n),r=r.sibling}var ii=null;function ov(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(r,n),In(n),l&4&&(Lr(3,n,n.return),Vl(3,n),Lr(5,n,n.return));break;case 1:Rn(r,n),In(n),l&512&&(_t||a===null||Si(a,a.return)),l&64&&ar&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(Rn(r,n),In(n),l&512&&(_t||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Is]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Dt]=n,gt(d),l=d;break e;case"link":var v=tw("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=tw("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Dt]=n,gt(d),l=d}n.stateNode=l}else nw(h,n.type,n.stateNode);else n.stateNode=ew(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?nw(h,n.type,n.stateNode):ew(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&rm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,n),In(n),l&512&&(_t||a===null||Si(a,a.return)),a!==null&&l&4&&rm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,n),In(n),l&512&&(_t||a===null||Si(a,a.return)),n.flags&32){h=n.stateNode;try{zn(h,"")}catch(j){nt(n,n.return,j)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,rm(n,h,a!==null?a.memoizedProps:h)),l&1024&&(om=!0);break;case 6:if(Rn(r,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(j){nt(n,n.return,j)}}break;case 3:if(lh=null,h=ii,ii=ah(r.containerInfo),Rn(r,n),ii=h,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(r.containerInfo)}catch(j){nt(n,n.return,j)}om&&(om=!1,lv(n));break;case 4:l=ii,ii=ah(n.stateNode.containerInfo),Rn(r,n),In(n),ii=l;break;case 12:Rn(r,n),In(n);break;case 13:Rn(r,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mm=Un()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,lm(n,l)));break;case 22:h=n.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=ar,Q=_t;if(ar=B||h,_t=Q||R,Rn(r,n),_t=Q,ar=B,In(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||R||ar||_t||Js(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){R=a=r;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){nt(R,R.return,j)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(j){nt(R,R.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lm(n,a))));break;case 19:Rn(r,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,lm(n,l)));break;case 30:break;case 21:break;default:Rn(r,n),In(n)}}function In(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(ev(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=sm(n);Yc(n,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(zn(v,""),a.flags&=-33);var w=sm(n);Yc(n,w,v);break;case 3:case 4:var R=a.stateNode.containerInfo,B=sm(n);am(n,B,R);break;default:throw Error(s(161))}}catch(Q){nt(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;lv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ur(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)iv(n,r.alternate,r),r=r.sibling}function Js(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Js(r);break;case 1:Si(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Z_(r,r.return,a),Js(r);break;case 27:Gl(r.stateNode);case 26:case 5:Si(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}n=n.sibling}}function Br(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Br(h,d,a),Vl(4,d);break;case 1:if(Br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){nt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ly(R[h],w)}catch(B){nt(l,l.return,B)}}a&&v&64&&W_(d),Pl(d,d.return);break;case 27:tv(d);case 26:case 5:Br(h,d,a),a&&l===null&&v&4&&J_(d),Pl(d,d.return);break;case 12:Br(h,d,a);break;case 13:Br(h,d,a),a&&v&4&&av(h,d);break;case 22:d.memoizedState===null&&Br(h,d,a),Pl(d,d.return);break;case 30:break;default:Br(h,d,a)}r=r.sibling}}function um(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bl(a))}function cm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&bl(n))}function Ri(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)uv(n,r,a,l),r=r.sibling}function uv(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(n,r,a,l),h&2048&&Vl(9,r);break;case 1:Ri(n,r,a,l);break;case 3:Ri(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&bl(n)));break;case 12:if(h&2048){Ri(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){nt(r,r.return,R)}}else Ri(n,r,a,l);break;case 13:Ri(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ri(n,r,a,l):Ll(n,r):d._visibility&2?Ri(n,r,a,l):(d._visibility|=2,Za(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&um(v,r);break;case 24:Ri(n,r,a,l),h&2048&&cm(r.alternate,r);break;default:Ri(n,r,a,l)}}function Za(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,w=a,R=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Za(d,v,w,R,h),Vl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Za(d,v,w,R,h):Ll(d,v):(Q._visibility|=2,Za(d,v,w,R,h)),h&&B&2048&&um(v.alternate,v);break;case 24:Za(d,v,w,R,h),h&&B&2048&&cm(v.alternate,v);break;default:Za(d,v,w,R,h)}r=r.sibling}}function Ll(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&um(l.alternate,l);break;case 24:Ll(a,l),h&2048&&cm(l.alternate,l);break;default:Ll(a,l)}r=r.sibling}}var Ul=8192;function Ja(n){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)cv(n),n=n.sibling}function cv(n){switch(n.tag){case 26:Ja(n),n.flags&Ul&&n.memoizedState!==null&&eA(ii,n.memoizedState,n.memoizedProps);break;case 5:Ja(n);break;case 3:case 4:var r=ii;ii=ah(n.stateNode.containerInfo),Ja(n),ii=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ul,Ul=16777216,Ja(n),Ul=r):Ja(n));break;default:Ja(n)}}function hv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Bl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,dv(l,n)}hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fv(n),n=n.sibling}function fv(n){switch(n.tag){case 0:case 11:case 15:Bl(n),n.flags&2048&&Lr(9,n,n.return);break;case 3:Bl(n);break;case 12:Bl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Kc(n)):Bl(n);break;default:Bl(n)}}function Kc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,dv(l,n)}hv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),Kc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(r));break;default:Kc(r)}n=n.sibling}}function dv(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(rv(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var g1={getCacheForType:function(n){var r=tn(kt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},y1=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,xe=null,Ue=0,Xe=0,Cn=null,zr=!1,eo=!1,hm=!1,lr=0,mt=0,jr=0,ea=0,fm=0,$n=0,to=0,zl=null,_n=null,dm=!1,mm=0,$c=1/0,Xc=null,qr=null,$t=0,Hr=null,no=null,io=0,pm=0,gm=null,mv=null,jl=0,ym=null;function xn(){if(($e&2)!==0&&Ue!==0)return Ue&-Ue;if(G.T!==null){var n=Fa;return n!==0?n:Am()}return Ar()}function pv(){$n===0&&($n=(Ue&536870912)===0||Ge?Xo():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),$n}function Dn(n,r,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(ro(n,0),Fr(n,Ue,$n,!1)),zi(n,a),(($e&2)===0||n!==rt)&&(n===rt&&(($e&2)===0&&(ea|=a),mt===4&&Fr(n,Ue,$n,!1)),Ii(n))}function gv(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Rs(n,r),h=l?w1(n,r):wm(n,r,!0),d=l;do{if(h===0){eo&&!l&&Fr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!_1(a)){h=wm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=n;h=zl;var R=w.current.memoizedState.isDehydrated;if(R&&(ro(w,v).flags|=256),v=wm(w,v,!1),v!==2){if(hm&&!R){w.errorRecoveryDisabledLanes|=d,ea|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ro(n,0),Fr(n,r,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fr(l,r,$n,!zr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=mm+300-Un(),10<h)){if(Fr(l,r,$n,!zr),ba(l,0,!0)!==0)break e;l.timeoutHandle=Gv(yv.bind(null,l,a,_n,Xc,dm,r,$n,ea,to,zr,d,2,-0,0),h);break e}yv(l,a,_n,Xc,dm,r,$n,ea,to,zr,d,0,-0,0)}}break}while(!0);Ii(n)}function yv(n,r,a,l,h,d,v,w,R,B,Q,X,z,j){if(n.timeoutHandle=-1,X=r.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:J1},cv(r),X=tA(),X!==null)){n.cancelPendingCommit=X(Av.bind(null,n,r,d,a,l,h,v,w,R,Q,1,z,j)),Fr(n,d,v,!B);return}Av(n,r,d,a,l,h,v,w,R)}function _1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(n,r,a,l){r&=~fm,r&=~ea,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&fi(n,a,r)}function Wc(){return($e&6)===0?(ql(0),!1):!0}function _m(){if(xe!==null){if(Xe===0)var n=xe.return;else n=xe,er=Ks=null,Vd(n),Xa=null,Ol=0,n=xe;for(;n!==null;)X_(n.alternate,n),n=n.return;xe=null}}function ro(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,P1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),_m(),rt=n,xe=a=Wi(n.current,null),Ue=r,Xe=0,Cn=null,zr=!1,eo=Rs(n,r),hm=!1,to=$n=fm=ea=jr=mt=0,_n=zl=null,dm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=n[h],l&=~d}return lr=r,vc(),a}function _v(n,r){Re=null,G.H=Uc,r===Tl||r===Cc?(r=Vy(),Xe=3):r===Oy?(r=Vy(),Xe=4):Xe=r===P_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,xe===null&&(mt=1,Hc(n,Fn(r,n.current)))}function vv(){var n=G.H;return G.H=Uc,n===null?Uc:n}function wv(){var n=G.A;return G.A=g1,n}function vm(){mt=4,zr||(Ue&4194048)!==Ue&&Kn.current!==null||(eo=!0),(jr&134217727)===0&&(ea&134217727)===0||rt===null||Fr(rt,Ue,$n,!1)}function wm(n,r,a){var l=$e;$e|=2;var h=vv(),d=wv();(rt!==n||Ue!==r)&&(Xc=null,ro(n,r)),r=!1;var v=mt;e:do try{if(Xe!==0&&xe!==null){var w=xe,R=Cn;switch(Xe){case 8:_m(),v=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var B=Xe;if(Xe=0,Cn=null,so(n,w,R,B),a&&eo){v=0;break e}break;default:B=Xe,Xe=0,Cn=null,so(n,w,R,B)}}v1(),v=mt;break}catch(Q){_v(n,Q)}while(!0);return r&&n.shellSuspendCounter++,er=Ks=null,$e=l,G.H=h,G.A=d,xe===null&&(rt=null,Ue=0,vc()),v}function v1(){for(;xe!==null;)bv(xe)}function w1(n,r){var a=$e;$e|=2;var l=vv(),h=wv();rt!==n||Ue!==r?(Xc=null,$c=Un()+500,ro(n,r)):eo=Rs(n,r);e:do try{if(Xe!==0&&xe!==null){r=xe;var d=Cn;t:switch(Xe){case 1:Xe=0,Cn=null,so(n,r,d,1);break;case 2:case 9:if(ky(d)){Xe=0,Cn=null,Ev(r);break}r=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Ii(n)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ky(d)?(Xe=0,Cn=null,Ev(r)):(Xe=0,Cn=null,so(n,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var w=xe;if(!v||iw(v)){Xe=0,Cn=null;var R=w.sibling;if(R!==null)xe=R;else{var B=w.return;B!==null?(xe=B,Zc(B)):xe=null}break t}}Xe=0,Cn=null,so(n,r,d,5);break;case 6:Xe=0,Cn=null,so(n,r,d,6);break;case 8:_m(),mt=6;break e;default:throw Error(s(462))}}b1();break}catch(Q){_v(n,Q)}while(!0);return er=Ks=null,G.H=l,G.A=h,$e=a,xe!==null?0:(rt=null,Ue=0,vc(),mt)}function b1(){for(;xe!==null&&!Qo();)bv(xe)}function bv(n){var r=K_(n.alternate,n,lr);n.memoizedProps=n.pendingProps,r===null?Zc(n):xe=r}function Ev(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=q_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=q_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Vd(r);default:X_(a,r),r=xe=Ty(r,lr),r=K_(a,r,lr)}n.memoizedProps=n.pendingProps,r===null?Zc(n):xe=r}function so(n,r,a,l){er=Ks=null,Vd(r),Xa=null,Ol=0;var h=r.return;try{if(c1(n,h,r,a,Ue)){mt=1,Hc(n,Fn(a,n.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;mt=1,Hc(n,Fn(a,n.current)),xe=null;return}r.flags&32768?(Ge||l===1?n=!0:eo||(Ue&536870912)!==0?n=!1:(zr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tv(r,n)):Zc(r)}function Zc(n){var r=n;do{if((r.flags&32768)!==0){Tv(r,zr);return}n=r.return;var a=f1(r.alternate,r,lr);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);mt===0&&(mt=5)}function Tv(n,r){do{var a=d1(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);mt=6,xe=null}function Av(n,r,a,l,h,d,v,w,R){n.cancelPendingCommit=null;do Jc();while($t!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=cd,Zo(n,a,d,v,w,R),n===rt&&(xe=rt=null,Ue=0),no=r,Hr=n,io=a,pm=d,gm=h,mv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,S1(Es,function(){return xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=se.p,se.p=2,v=$e,$e|=4;try{m1(n,r,a)}finally{$e=v,se.p=h,G.T=l}}$t=1,Sv(),Rv(),Iv()}}function Sv(){if($t===1){$t=0;var n=Hr,r=no,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var h=$e;$e|=4;try{ov(r,n);var d=Om,v=dy(n.containerInfo),w=d.focusedElem,R=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&fy(w.ownerDocument.documentElement,w)){if(R!==null&&sd(w)){var B=R.start,Q=R.end;if(Q===void 0&&(Q=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(Q,w.value.length);else{var X=w.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var j=z.getSelection(),be=w.textContent.length,ye=Math.min(R.start,be),et=R.end===void 0?ye:Math.min(R.end,be);!j.extend&&ye>et&&(v=et,et=ye,ye=v);var M=hy(w,ye),N=hy(w,et);if(M&&N&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var U=X.createRange();U.setStart(M.node,M.offset),j.removeAllRanges(),ye>et?(j.addRange(U),j.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),j.addRange(U))}}}}for(X=[],j=w;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<X.length;w++){var K=X[w];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}hh=!!Nm,Om=Nm=null}finally{$e=h,se.p=l,G.T=a}}n.current=r,$t=2}}function Rv(){if($t===2){$t=0;var n=Hr,r=no,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var h=$e;$e|=4;try{iv(n,r.alternate,r)}finally{$e=h,se.p=l,G.T=a}}$t=3}}function Iv(){if($t===4||$t===3){$t=0,Ku();var n=Hr,r=no,a=io,l=mv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,no=Hr=null,Cv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(qr=null),Ea(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,h=se.p,se.p=2,G.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{G.T=r,se.p=h}}(io&3)!==0&&Jc(),Ii(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===ym?jl++:(jl=0,ym=n):jl=0,ql(0)}}function Cv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,bl(r)))}function Jc(n){return Sv(),Rv(),Iv(),xv()}function xv(){if($t!==5)return!1;var n=Hr,r=pm;pm=0;var a=Ea(io),l=G.T,h=se.p;try{se.p=32>a?32:a,G.T=null,a=gm,gm=null;var d=Hr,v=io;if($t=0,no=Hr=null,io=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,fv(d.current),uv(d,d.current,v,a),$e=w,ql(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{se.p=h,G.T=l,Cv(n,r)}}function Dv(n,r,a){r=Fn(a,r),r=$d(n.stateNode,r,2),n=kr(n,r,2),n!==null&&(zi(n,2),Ii(n))}function nt(n,r,a){if(n.tag===3)Dv(n,n,a);else for(;r!==null;){if(r.tag===3){Dv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){n=Fn(a,n),a=M_(2),l=kr(r,a,2),l!==null&&(V_(a,l,r,n),zi(l,2),Ii(l));break}}r=r.return}}function bm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new y1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(hm=!0,h.add(a),n=E1.bind(null,n,r,a),r.then(n,n))}function E1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Ue&a)===a&&(mt===4||mt===3&&(Ue&62914560)===Ue&&300>Un()-mm?($e&2)===0&&ro(n,0):fm|=a,to===Ue&&(to=0)),Ii(n)}function Nv(n,r){r===0&&(r=Wo()),n=za(n,r),n!==null&&(zi(n,r),Ii(n))}function T1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Nv(n,a)}function A1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Nv(n,a)}function S1(n,r){return ws(n,r)}var eh=null,ao=null,Em=!1,th=!1,Tm=!1,ta=0;function Ii(n){n!==ao&&n.next===null&&(ao===null?eh=ao=n:ao=ao.next=n),th=!0,Em||(Em=!0,I1())}function ql(n,r){if(!Tm&&th){Tm=!0;do for(var a=!1,l=eh;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=h&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Vv(l,d))}else d=Ue,d=ba(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Rs(l,d)||(a=!0,Vv(l,d));l=l.next}while(a);Tm=!1}}function R1(){Ov()}function Ov(){th=Em=!1;var n=0;ta!==0&&(V1()&&(n=ta),ta=0);for(var r=Un(),a=null,l=eh;l!==null;){var h=l.next,d=kv(l,r);d===0?(l.next=null,a===null?eh=h:a.next=h,h===null&&(ao=a)):(a=l,(n!==0||(d&3)!==0)&&(th=!0)),l=h}ql(n)}function kv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-en(d),w=1<<v,R=h[v];R===-1?((w&a)===0||(w&l)!==0)&&(h[v]=$o(w,r)):R<=r&&(n.expiredLanes|=w),d&=~w}if(r=rt,a=Ue,a=ba(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Rs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&bs(l),Ea(a)){case 2:case 8:a=va;break;case 32:a=Es;break;case 268435456:a=wa;break;default:a=Es}return l=Mv.bind(null,n),a=ws(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&bs(l),n.callbackPriority=2,n.callbackNode=null,2}function Mv(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Jc()&&n.callbackNode!==a)return null;var l=Ue;return l=ba(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(gv(n,l,r),kv(n,Un()),n.callbackNode!=null&&n.callbackNode===a?Mv.bind(null,n):null)}function Vv(n,r){if(Jc())return null;gv(n,r,!0)}function I1(){L1(function(){($e&6)!==0?ws(Yo,R1):Ov()})}function Am(){return ta===0&&(ta=Xo()),ta}function Pv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ca(""+n)}function Lv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function C1(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Pv((h[Tt]||null).action),v=l.submitter;v&&(r=(r=v[Tt]||null)?Pv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new xa("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var R=v?Lv(h,v):new FormData(h);Fd(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(w.preventDefault(),R=v?Lv(h,v):new FormData(h),Fd(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Sm=0;Sm<ud.length;Sm++){var Rm=ud[Sm],x1=Rm.toLowerCase(),D1=Rm[0].toUpperCase()+Rm.slice(1);ni(x1,"on"+D1)}ni(gy,"onAnimationEnd"),ni(yy,"onAnimationIteration"),ni(_y,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Y2,"onTransitionRun"),ni(K2,"onTransitionStart"),ni($2,"onTransitionCancel"),ni(vy,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Uv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],R=w.instance,B=w.currentTarget;if(w=w.listener,R!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch(Q){qc(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(w=l[v],R=w.instance,B=w.currentTarget,w=w.listener,R!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch(Q){qc(Q)}h.currentTarget=null,d=R}}}}function De(n,r){var a=r[el];a===void 0&&(a=r[el]=new Set);var l=n+"__bubble";a.has(l)||(Bv(r,n,2,!1),a.add(l))}function Im(n,r,a){var l=0;r&&(l|=4),Bv(a,n,l,r)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Cm(n){if(!n[nh]){n[nh]=!0,tl.forEach(function(a){a!=="selectionchange"&&(N1.has(a)||Im(a,!1,n),Im(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[nh]||(r[nh]=!0,Im("selectionchange",!1,r))}}function Bv(n,r,a,l){switch(uw(r)){case 2:var h=rA;break;case 8:h=sA;break;default:h=qm}a=h.bind(null,r,a,n),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function xm(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=ji(w),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}w=w.parentNode}}l=l.return}rc(function(){var B=d,Q=jn(a),X=[];e:{var z=wy.get(n);if(z!==void 0){var j=xa,be=n;switch(n){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":j=Va;break;case"focusin":be="focus",j=Oa;break;case"focusout":be="blur",j=Oa;break;case"beforeblur":case"afterblur":j=Oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fc;break;case gy:case yy:case _y:j=ka;break;case vy:j=mc;break;case"scroll":case"scrollend":j=sc;break;case"wheel":j=Pa;break;case"copy":case"cut":case"paste":j=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=dl;break;case"toggle":case"beforetoggle":j=gc}var ye=(r&4)!==0,et=!ye&&(n==="scroll"||n==="scrollend"),M=ye?z!==null?z+"Capture":null:z;ye=[];for(var N=B,U;N!==null;){var K=N;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||M===null||(K=Ms(N,M),K!=null&&ye.push(Fl(N,K,U))),et)break;N=N.return}0<ye.length&&(z=new j(z,be,null,a,Q),X.push({event:z,listeners:ye}))}}if((r&7)===0){e:{if(z=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",z&&a!==Gi&&(be=a.relatedTarget||a.fromElement)&&(ji(be)||be[Bn]))break e;if((j||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(be=a.relatedTarget||a.toElement,j=B,be=be?ji(be):null,be!==null&&(et=u(be),ye=be.tag,be!==et||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(j=null,be=B),j!==be)){if(ye=Hn,K="onMouseLeave",M="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ye=dl,K="onPointerLeave",M="onPointerEnter",N="pointer"),et=j==null?z:mi(j),U=be==null?z:mi(be),z=new ye(K,N+"leave",j,a,Q),z.target=et,z.relatedTarget=U,K=null,ji(Q)===B&&(ye=new ye(M,N+"enter",be,a,Q),ye.target=U,ye.relatedTarget=et,K=ye),et=K,j&&be)t:{for(ye=j,M=be,N=0,U=ye;U;U=oo(U))N++;for(U=0,K=M;K;K=oo(K))U++;for(;0<N-U;)ye=oo(ye),N--;for(;0<U-N;)M=oo(M),U--;for(;N--;){if(ye===M||M!==null&&ye===M.alternate)break t;ye=oo(ye),M=oo(M)}ye=null}else ye=null;j!==null&&zv(X,z,j,ye,!1),be!==null&&et!==null&&zv(X,et,be,ye,!0)}}e:{if(z=B?mi(B):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var ce=sy;else if(Ot(z))if(ay)ce=F2;else{ce=q2;var Ce=j2}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&al(B.elementType)&&(ce=sy):ce=H2;if(ce&&(ce=ce(n,B))){Xi(X,ce,a,Q);break e}Ce&&Ce(n,z,B),n==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&Cr(z,"number",z.value)}switch(Ce=B?mi(B):window,n){case"focusin":(Ot(Ce)||Ce.contentEditable==="true")&&(La=Ce,ad=B,gl=null);break;case"focusout":gl=ad=La=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,my(X,a,Q);break;case"selectionchange":if(Q2)break;case"keydown":case"keyup":my(X,a,Q)}var he;if(bi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?H(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(he=ll()):(yi=Q,xr="value"in yi?yi.value:yi.textContent,Pe=!0)),Ce=ih(B,_e),0<Ce.length&&(_e=new hl(_e,n,null,a,Q),X.push({event:_e,listeners:Ce}),he?_e.data=he:(he=ie(a),he!==null&&(_e.data=he)))),(he=p?Nt(n,a):Le(n,a))&&(_e=ih(B,"onBeforeInput"),0<_e.length&&(Ce=new hl("onBeforeInput","beforeinput",null,a,Q),X.push({event:Ce,listeners:_e}),Ce.data=he)),C1(X,n,B,a,Q)}Uv(X,r)})}function Fl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function ih(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ms(n,a),h!=null&&l.unshift(Fl(n,h,d)),h=Ms(n,r),h!=null&&l.push(Fl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function oo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zv(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,R=w.alternate,B=w.stateNode;if(w=w.tag,R!==null&&R===l)break;w!==5&&w!==26&&w!==27||B===null||(R=B,h?(B=Ms(a,d),B!=null&&v.unshift(Fl(a,B,R))):h||(B=Ms(a,d),B!=null&&v.push(Fl(a,B,R)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var O1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function jv(n){return(typeof n=="string"?n:""+n).replace(O1,`
`).replace(k1,"")}function qv(n,r){return r=jv(r),jv(n)===r}function rh(){}function Je(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(n,""+l);break;case"className":pi(n,"class",l);break;case"tabIndex":pi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(n,a,l);break;case"style":sl(n,l,d);break;case"data":if(r!=="object"){pi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ca(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",h.name,h,null),Je(n,r,"formEncType",h.formEncType,h,null),Je(n,r,"formMethod",h.formMethod,h,null),Je(n,r,"formTarget",h.formTarget,h,null)):(Je(n,r,"encType",h.encType,h,null),Je(n,r,"method",h.method,h,null),Je(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ca(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=rh);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ca(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),Ir(n,"popover",l);break;case"xlinkActuate":Qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jf.get(a)||a,Ir(n,a,l))}}function Dm(n,r,a,l,h,d){switch(a){case"style":sl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?zn(n,l):(typeof l=="number"||typeof l=="bigint")&&zn(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ir(n,a,l)}}}function Xt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,d,v,a,null)}}h&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":De("invalid",n);var w=d=v=h=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Je(n,r,l,Q,a,null)}}Ns(n,d,w,R,B,v,h,!1),Ia(n);return;case"select":De("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Je(n,r,h,w,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Fi(n,!!l,r,!1):a!=null&&Fi(n,!!l,a,!0);return;case"textarea":De("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(n,r,v,w,a,null)}Os(n,l,h,d),Ia(n);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,R,l,a,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)De(Hl[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,B,l,a,null)}return;default:if(al(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Dm(n,r,Q,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(n,r,w,l,a,null))}function M1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,w=null,R=null,B=null,Q=null;for(j in a){var X=a[j];if(a.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(j)||Je(n,r,j,null,l,X)}}for(var z in l){var j=l[z];if(X=a[z],l.hasOwnProperty(z)&&(j!=null||X!=null))switch(z){case"type":d=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":Q=j;break;case"value":v=j;break;case"defaultValue":w=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==X&&Je(n,r,z,j,l,X)}}Tn(n,v,w,R,B,Q,d,h);return;case"select":j=v=w=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":j=R;default:l.hasOwnProperty(d)||Je(n,r,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==R&&Je(n,r,h,d,l,R)}r=w,a=v,l=j,z!=null?Fi(n,!!a,z,!1):!!l!=!!a&&(r!=null?Fi(n,!!a,r,!0):Fi(n,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(n,r,w,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(n,r,v,h,l,d)}We(n,z,j);return;case"option":for(var be in a)if(z=a[be],a.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Je(n,r,be,null,l,z)}for(R in l)if(z=l[R],j=a[R],l.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null))switch(R){case"selected":n.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(n,r,R,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&Je(n,r,ye,null,l,z);for(B in l)if(z=l[B],j=a[B],l.hasOwnProperty(B)&&z!==j&&(z!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,r));break;default:Je(n,r,B,z,l,j)}return;default:if(al(r)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&Dm(n,r,et,void 0,l,z);for(Q in l)z=l[Q],j=a[Q],!l.hasOwnProperty(Q)||z===j||z===void 0&&j===void 0||Dm(n,r,Q,z,l,j);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Je(n,r,M,null,l,z);for(X in l)z=l[X],j=a[X],!l.hasOwnProperty(X)||z===j||z==null&&j==null||Je(n,r,X,z,l,j)}var Nm=null,Om=null;function sh(n){return n.nodeType===9?n:n.ownerDocument}function Hv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function km(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mm=null;function V1(){var n=window.event;return n&&n.type==="popstate"?n===Mm?!1:(Mm=n,!0):(Mm=null,!1)}var Gv=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(n){return Qv.resolve(null).then(n).catch(U1)}:Gv;function U1(n){setTimeout(function(){throw n})}function Gr(n){return n==="head"}function Yv(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Gl(v.documentElement),a&2&&Gl(v.body),a&4)for(a=v.head,Gl(a),v=a.firstChild;v;){var w=v.nextSibling,R=v.nodeName;v[Is]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(h===0){n.removeChild(d),Jl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(r)}function Vm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vm(a),Rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function B1(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Is])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ri(n.nextSibling),n===null)break}return null}function z1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ri(n.nextSibling),n===null))return null;return n}function Pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function j1(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ri(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Lm=null;function Kv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function $v(n,r,a){switch(r=sh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Gl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Rr(n)}var Xn=new Map,Xv=new Set;function ah(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ur=se.d;se.d={f:q1,r:H1,D:F1,C:G1,L:Q1,m:Y1,X:$1,S:K1,M:X1};function q1(){var n=ur.f(),r=Wc();return n||r}function H1(n){var r=di(n);r!==null&&r.tag===5&&r.type==="form"?g_(r):ur.r(n)}var lo=typeof document>"u"?null:document;function Wv(n,r,a){var l=lo;if(l&&typeof r=="string"&&r){var h=At(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Xv.has(h)||(Xv.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Xt(r,"link",n),gt(r),l.head.appendChild(r)))}}function F1(n){ur.D(n),Wv("dns-prefetch",n,null)}function G1(n,r){ur.C(n,r),Wv("preconnect",n,r)}function Q1(n,r,a){ur.L(n,r,a);var l=lo;if(l&&n&&r){var h='link[rel="preload"][as="'+At(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+At(a.imageSizes)+'"]')):h+='[href="'+At(n)+'"]';var d=h;switch(r){case"style":d=uo(n);break;case"script":d=co(n)}Xn.has(d)||(n=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Xn.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ql(d))||r==="script"&&l.querySelector(Yl(d))||(r=l.createElement("link"),Xt(r,"link",n),gt(r),l.head.appendChild(r)))}}function Y1(n,r){ur.m(n,r);var a=lo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(n)}if(!Xn.has(d)&&(n=b({rel:"modulepreload",href:n},r),Xn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Xt(l,"link",n),gt(l),a.head.appendChild(l)}}}function K1(n,r,a){ur.S(n,r,a);var l=lo;if(l&&n){var h=ln(l).hoistableStyles,d=uo(n);r=r||"default";var v=h.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Ql(d)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Xn.get(d))&&Um(n,a);var R=v=l.createElement("link");gt(R),Xt(R,"link",n),R._p=new Promise(function(B,Q){R.onload=B,R.onerror=Q}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,oh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(d,v)}}}function $1(n,r){ur.X(n,r);var a=lo;if(a&&n){var l=ln(a).hoistableScripts,h=co(n),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(n=b({src:n,async:!0},r),(r=Xn.get(h))&&Bm(n,r),d=a.createElement("script"),gt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function X1(n,r){ur.M(n,r);var a=lo;if(a&&n){var l=ln(a).hoistableScripts,h=co(n),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(n=b({src:n,async:!0,type:"module"},r),(r=Xn.get(h))&&Bm(n,r),d=a.createElement("script"),gt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Zv(n,r,a,l){var h=(h=Te.current)?ah(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=ln(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=uo(a.href);var d=ln(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Ql(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Xn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(n,a),d||W1(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=ln(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function uo(n){return'href="'+At(n)+'"'}function Ql(n){return'link[rel="stylesheet"]['+n+"]"}function Jv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function W1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),gt(r),n.head.appendChild(r))}function co(n){return'[src="'+At(n)+'"]'}function Yl(n){return"script[async]"+n}function ew(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+At(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Xt(l,"style",h),oh(l,a.precedence,n),r.instance=l;case"stylesheet":h=uo(a.href);var d=n.querySelector(Ql(h));if(d)return r.state.loading|=4,r.instance=d,gt(d),d;l=Jv(a),(h=Xn.get(h))&&Um(l,h),d=(n.ownerDocument||n).createElement("link"),gt(d);var v=d;return v._p=new Promise(function(w,R){v.onload=w,v.onerror=R}),Xt(d,"link",l),r.state.loading|=4,oh(d,a.precedence,n),r.instance=d;case"script":return d=co(a.src),(h=n.querySelector(Yl(d)))?(r.instance=h,gt(h),h):(l=a,(h=Xn.get(d))&&(l=b({},a),Bm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),gt(h),Xt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,oh(l,a.precedence,n));return r.instance}function oh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Um(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Bm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var lh=null;function tw(n,r,a){if(lh===null){var l=new Map,h=lh=new Map;h.set(a,l)}else h=lh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Is]||d[Dt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function nw(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Z1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function iw(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function J1(){}function eA(n,r,a){if(Kl===null)throw Error(s(475));var l=Kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=uo(a.href),d=n.querySelector(Ql(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=uh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,gt(d);return}d=n.ownerDocument||n,a=Jv(a),(h=Xn.get(h))&&Um(a,h),d=d.createElement("link"),gt(d);var v=d;v._p=new Promise(function(w,R){v.onload=w,v.onerror=R}),Xt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=uh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function tA(){if(Kl===null)throw Error(s(475));var n=Kl;return n.stylesheets&&n.count===0&&zm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&zm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function uh(){if(this.count--,this.count===0){if(this.stylesheets)zm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ch=null;function zm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ch=new Map,r.forEach(nA,n),ch=null,uh.call(n))}function nA(n,r){if(!(r.state.loading&4)){var a=ch.get(n);if(a)var l=a.get(null);else{a=new Map,ch.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=uh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var $l={$$typeof:ue,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function iA(n,r,a,l,h,d,v,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function rw(n,r,a,l,h,d,v,w,R,B,Q,X){return n=new iA(n,r,a,v,w,R,B,X),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),n.current=d,d.stateNode=n,r=bd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Sd(d),n}function sw(n){return n?(n=ja,n):ja}function aw(n,r,a,l,h,d){h=sw(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(n,l,r),a!==null&&(Dn(a,n,r),Sl(a,n,r))}function ow(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function jm(n,r){ow(n,r),(n=n.alternate)&&ow(n,r)}function lw(n){if(n.tag===13){var r=za(n,67108864);r!==null&&Dn(r,n,67108864),jm(n,67108864)}}var hh=!0;function rA(n,r,a,l){var h=G.T;G.T=null;var d=se.p;try{se.p=2,qm(n,r,a,l)}finally{se.p=d,G.T=h}}function sA(n,r,a,l){var h=G.T;G.T=null;var d=se.p;try{se.p=8,qm(n,r,a,l)}finally{se.p=d,G.T=h}}function qm(n,r,a,l){if(hh){var h=Hm(l);if(h===null)xm(n,r,l,fh,a),cw(n,l);else if(oA(h,n,r,a,l))l.stopPropagation();else if(cw(n,l),r&4&&-1<aA.indexOf(n)){for(;h!==null;){var d=di(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Jn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var R=1<<31-en(v);w.entanglements[1]|=R,v&=~R}Ii(d),($e&6)===0&&($c=Un()+500,ql(0))}}break;case 13:w=za(d,2),w!==null&&Dn(w,d,2),Wc(),jm(d,2)}if(d=Hm(l),d===null&&xm(n,r,l,fh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xm(n,r,l,null,a)}}function Hm(n){return n=jn(n),Fm(n)}var fh=null;function Fm(n){if(fh=null,n=ji(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return fh=n,null}function uw(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yf()){case Yo:return 2;case va:return 8;case Es:case Kf:return 32;case wa:return 268435456;default:return 32}default:return 32}}var Gm=!1,Qr=null,Yr=null,Kr=null,Xl=new Map,Wl=new Map,$r=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(n,r){switch(n){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Zl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=di(r),r!==null&&lw(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function oA(n,r,a,l,h){switch(r){case"focusin":return Qr=Zl(Qr,n,r,a,l,h),!0;case"dragenter":return Yr=Zl(Yr,n,r,a,l,h),!0;case"mouseover":return Kr=Zl(Kr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Wl.set(d,Zl(Wl.get(d)||null,n,r,a,l,h)),!0}return!1}function hw(n){var r=ji(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,Wu(n.priority,function(){if(a.tag===13){var l=xn();l=Tr(l);var h=za(a,l);h!==null&&Dn(h,a,l),jm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Hm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Gi=l,a.target.dispatchEvent(l),Gi=null}else return r=di(a),r!==null&&lw(r),n.blockedOn=a,!1;r.shift()}return!0}function fw(n,r,a){dh(n)&&a.delete(r)}function lA(){Gm=!1,Qr!==null&&dh(Qr)&&(Qr=null),Yr!==null&&dh(Yr)&&(Yr=null),Kr!==null&&dh(Kr)&&(Kr=null),Xl.forEach(fw),Wl.forEach(fw)}function mh(n,r){n.blockedOn===r&&(n.blockedOn=null,Gm||(Gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lA)))}var ph=null;function dw(n){ph!==n&&(ph=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ph===n&&(ph=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Fm(l||a)===null)continue;break}var d=di(a);d!==null&&(n.splice(r,3),r-=3,Fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(n){function r(R){return mh(R,n)}Qr!==null&&mh(Qr,n),Yr!==null&&mh(Yr,n),Kr!==null&&mh(Kr,n),Xl.forEach(r),Wl.forEach(r);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)hw(a),a.blockedOn===null&&$r.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||dw(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)w=v.formAction;else if(Fm(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),dw(a)}}}function Qm(n){this._internalRoot=n}gh.prototype.render=Qm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();aw(a,l,n,r,null,null)},gh.prototype.unmount=Qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;aw(n.current,2,null,n,null,null),Wc(),r[Bn]=null}};function gh(n){this._internalRoot=n}gh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ar();n={blockedOn:null,target:n,priority:r};for(var a=0;a<$r.length&&r!==0&&r<$r[a].priority;a++);$r.splice(a,0,n),a===0&&hw(n)}};var mw=e.version;if(mw!=="19.1.1")throw Error(s(527,mw,"19.1.1"));se.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var uA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{ft=yh.inject(uA),Ke=yh}catch{}}return tu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=D_,d=N_,v=O_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=rw(n,1,!1,null,null,a,l,h,d,v,w,null),n[Bn]=r.current,Cm(n),new Qm(r)},tu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=D_,v=N_,w=O_,R=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=rw(n,1,!0,r,a??null,l,h,d,v,w,R,B),r.context=sw(null),a=r.current,l=xn(),l=Tr(l),h=Or(l),h.callback=null,kr(a,h,l),a=l,r.current.lanes=a,zi(r,a),Ii(r),n[Bn]=r.current,Cm(n),new gh(r)},tu.version="19.1.1",tu}var Aw;function vA(){if(Aw)return $m.exports;Aw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$m.exports=_A(),$m.exports}var wA=vA();const _h={"auth/invalid-email":"El correo electrnico no es vlido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contrasea es incorrecta.","auth/email-already-in-use":"El correo ya est registrado.","auth/weak-password":"La contrasea es demasiado dbil.","auth/missing-password":"Debes ingresar una contrasea.","auth/too-many-requests":"Demasiados intentos. Intenta ms tarde.","auth/network-request-failed":"Error de red. Verifica tu conexin.","auth/invalid-credential":"Las credenciales ingresadas no son vlidas."};function Ch(i){return i?typeof i=="string"&&_h[i]?_h[i]:i.code&&_h[i.code]?_h[i.code]:i.message||"Error desconocido.":"Error desconocido."}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function yb(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function bA(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sw(i,e){return i.get(yb(i,e))}function EA(i,e,t){bA(i,e),e.set(i,t)}function TA(i,e,t){return i.set(yb(i,e),t),t}const AA=100,ge={},SA=()=>{ge.previousActiveElement instanceof HTMLElement?(ge.previousActiveElement.focus(),ge.previousActiveElement=null):document.body&&document.body.focus()},RA=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;ge.restoreFocusTimeout=setTimeout(()=>{SA(),e()},AA),window.scrollTo(t,s)}),_b="swal2-",IA=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],F=IA.reduce((i,e)=>(i[e]=_b+e,i),{}),CA=["success","warning","info","question","error"],zh=CA.reduce((i,e)=>(i[e]=_b+e,i),{}),vb="SweetAlert2:",qp=i=>i.charAt(0).toUpperCase()+i.slice(1),mn=i=>{console.warn(`${vb} ${typeof i=="object"?i.join(" "):i}`)},pa=i=>{console.error(`${vb} ${i}`)},Rw=[],xA=i=>{Rw.includes(i)||(Rw.push(i),mn(i))},wb=(i,e=null)=>{xA(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},vf=i=>typeof i=="function"?i():i,Hp=i=>i&&typeof i.toPromise=="function",Iu=i=>Hp(i)?i.toPromise():Promise.resolve(i),Fp=i=>i&&Promise.resolve(i)===i,pn=()=>document.body.querySelector(`.${F.container}`),Cu=i=>{const e=pn();return e?e.querySelector(i):null},Pn=i=>Cu(`.${i}`),je=()=>Pn(F.popup),ko=()=>Pn(F.icon),DA=()=>Pn(F["icon-content"]),bb=()=>Pn(F.title),Gp=()=>Pn(F["html-container"]),Eb=()=>Pn(F.image),Qp=()=>Pn(F["progress-steps"]),wf=()=>Pn(F["validation-message"]),Vi=()=>Cu(`.${F.actions} .${F.confirm}`),Mo=()=>Cu(`.${F.actions} .${F.cancel}`),ga=()=>Cu(`.${F.actions} .${F.deny}`),NA=()=>Pn(F["input-label"]),Vo=()=>Cu(`.${F.loader}`),xu=()=>Pn(F.actions),Tb=()=>Pn(F.footer),bf=()=>Pn(F["timer-progress-bar"]),Yp=()=>Pn(F.close),OA=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Kp=()=>{const i=je();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,f)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(f.getAttribute("tabindex")||"0");return m>g?1:m<g?-1:0}),s=i.querySelectorAll(OA),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>bn(u))},$p=()=>dr(document.body,F.shown)&&!dr(document.body,F["toast-shown"])&&!dr(document.body,F["no-backdrop"]),Ef=()=>{const i=je();return i?dr(i,F.toast):!1},kA=()=>{const i=je();return i?i.hasAttribute("data-loading"):!1},Ln=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{i.appendChild(f)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?i.appendChild(f.cloneNode(!0)):i.appendChild(f)})}},dr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},MA=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(F).includes(t)&&!Object.values(zh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},Vn=(i,e,t)=>{if(MA(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){mn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Qe(i,s)}},Tf=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${F.popup} > .${F[e]}`);case"checkbox":return i.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return i.querySelector(`.${F.popup} > .${F.radio} input:checked`)||i.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return i.querySelector(`.${F.popup} > .${F.range} input`);default:return i.querySelector(`.${F.popup} > .${F.input}`)}},Ab=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},Sb=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},Qe=(i,e)=>{Sb(i,e,!0)},Wn=(i,e)=>{Sb(i,e,!1)},ns=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&dr(o,e))return o}},aa=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},Ft=(i,e="flex")=>{i&&(i.style.display=e)},an=i=>{i&&(i.style.display="none")},Xp=(i,e="block")=>{i&&new MutationObserver(()=>{Du(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},Iw=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},Du=(i,e,t="flex")=>{e?Ft(i,t):an(i)},bn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),VA=()=>!bn(Vi())&&!bn(ga())&&!bn(Mo()),dp=i=>i.scrollHeight>i.clientHeight,PA=(i,e)=>{let t=i;for(;t&&t!==e;){if(dp(t))return!0;t=t.parentElement}return!1},Rb=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},Wp=(i,e=!1)=>{const t=bf();t&&bn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},LA=()=>{const i=bf();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},UA=()=>typeof window>"u"||typeof document>"u",BA=`
 <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">
   <button type="button" class="${F.close}"></button>
   <ul class="${F["progress-steps"]}"></ul>
   <div class="${F.icon}"></div>
   <img class="${F.image}" />
   <h2 class="${F.title}" id="${F.title}"></h2>
   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>
   <input class="${F.input}" id="${F.input}" />
   <input type="file" class="${F.file}" />
   <div class="${F.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${F.select}" id="${F.select}"></select>
   <div class="${F.radio}"></div>
   <label class="${F.checkbox}">
     <input type="checkbox" id="${F.checkbox}" />
     <span class="${F.label}"></span>
   </label>
   <textarea class="${F.textarea}" id="${F.textarea}"></textarea>
   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>
   <div class="${F.actions}">
     <div class="${F.loader}"></div>
     <button type="button" class="${F.confirm}"></button>
     <button type="button" class="${F.deny}"></button>
     <button type="button" class="${F.cancel}"></button>
   </div>
   <div class="${F.footer}"></div>
   <div class="${F["timer-progress-bar-container"]}">
     <div class="${F["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),zA=()=>{const i=pn();return i?(i.remove(),Wn([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0):!1},na=()=>{ge.currentInstance.resetValidationMessage()},jA=()=>{const i=je(),e=ns(i,F.input),t=ns(i,F.file),s=i.querySelector(`.${F.range} input`),o=i.querySelector(`.${F.range} output`),u=ns(i,F.select),f=i.querySelector(`.${F.checkbox} input`),m=ns(i,F.textarea);e.oninput=na,t.onchange=na,u.onchange=na,f.onchange=na,m.oninput=na,s.oninput=()=>{na(),o.value=s.value},s.onchange=()=>{na(),o.value=s.value}},qA=i=>typeof i=="string"?document.querySelector(i):i,HA=i=>{const e=je();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},FA=i=>{window.getComputedStyle(i).direction==="rtl"&&Qe(pn(),F.rtl)},GA=i=>{const e=zA();if(UA()){pa("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=F.container,e&&Qe(t,F["no-transition"]),Ln(t,BA),t.dataset.swal2Theme=i.theme;const s=qA(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),HA(i),FA(s),jA()},Zp=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?QA(i,e):i&&Ln(e,i)},QA=(i,e)=>{i.jquery?YA(e,i):Ln(e,i.toString())},YA=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},KA=(i,e)=>{const t=xu(),s=Vo();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?an(t):Ft(t),Vn(t,e,"actions"),$A(t,s,e),Ln(s,e.loaderHtml||""),Vn(s,e,"loader"))};function $A(i,e,t){const s=Vi(),o=ga(),u=Mo();!s||!o||!u||(ep(s,"confirm",t),ep(o,"deny",t),ep(u,"cancel",t),XA(s,o,u,t),t.reverseButtons&&(t.toast?(i.insertBefore(u,s),i.insertBefore(o,s)):(i.insertBefore(u,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function XA(i,e,t,s){if(!s.buttonsStyling){Wn([i,e,t],F.styled);return}Qe([i,e,t],F.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),Jm(i),Jm(e),Jm(t)}function Jm(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function ep(i,e,t){const s=qp(e);Du(i,t[`show${s}Button`],"inline-block"),Ln(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=F[e],Vn(i,t,`${e}Button`)}const WA=(i,e)=>{const t=Yp();t&&(Ln(t,e.closeButtonHtml||""),Vn(t,e,"closeButton"),Du(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},ZA=(i,e)=>{const t=pn();t&&(JA(t,e.backdrop),eS(t,e.position),tS(t,e.grow),Vn(t,e,"container"))};function JA(i,e){typeof e=="string"?i.style.background=e:e||Qe([document.documentElement,document.body],F["no-backdrop"])}function eS(i,e){e&&(e in F?Qe(i,F[e]):(mn('The "position" parameter is not valid, defaulting to "center"'),Qe(i,F.center)))}function tS(i,e){e&&Qe(i,F[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const nS=["input","file","range","select","radio","checkbox","textarea"],iS=(i,e)=>{const t=je();if(!t)return;const s=st.innerParams.get(i),o=!s||e.input!==s.input;nS.forEach(u=>{const f=ns(t,F[u]);f&&(aS(u,e.inputAttributes),f.className=F[u],o&&an(f))}),e.input&&(o&&rS(e),oS(e))},rS=i=>{if(!i.input)return;if(!vt[i.input]){pa(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${i.input}"`);return}const e=Ib(i.input);if(!e)return;const t=vt[i.input](e,i);Ft(e),i.inputAutoFocus&&setTimeout(()=>{Ab(t)})},sS=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},aS=(i,e)=>{const t=je();if(!t)return;const s=Tf(t,i);if(s){sS(s);for(const o in e)s.setAttribute(o,e[o])}},oS=i=>{if(!i.input)return;const e=Ib(i.input);e&&Vn(e,i,"input")},Jp=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},Nu=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=F["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&Qe(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},Ib=i=>{const e=je();if(e)return ns(e,F[i]||F.input)},jh=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Fp(e)||mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(i,e)=>(jh(i,e.inputValue),Nu(i,i,e),Jp(i,e),i.type=e.input,i);vt.file=(i,e)=>(Nu(i,i,e),Jp(i,e),i);vt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return jh(t,e.inputValue),t.type=e.input,jh(s,e.inputValue),Nu(t,i,e),i};vt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Ln(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return Nu(i,i,e),i};vt.radio=i=>(i.textContent="",i);vt.checkbox=(i,e)=>{const t=Tf(je(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Ln(s,e.inputPlaceholder||e.inputLabel),t};vt.textarea=(i,e)=>{jh(i,e.inputValue),Jp(i,e),Nu(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(je()).width),o=()=>{if(!document.body.contains(i))return;const u=i.offsetWidth+t(i);u>s?je().style.width=`${u}px`:aa(je(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const lS=(i,e)=>{const t=Gp();t&&(Xp(t),Vn(t,e,"htmlContainer"),e.html?(Zp(e.html,t),Ft(t,"block")):e.text?(t.textContent=e.text,Ft(t,"block")):an(t),iS(i,e))},uS=(i,e)=>{const t=Tb();t&&(Xp(t),Du(t,e.footer,"block"),e.footer&&Zp(e.footer,t),Vn(t,e,"footer"))},cS=(i,e)=>{const t=st.innerParams.get(i),s=ko();if(!s)return;if(t&&e.icon===t.icon){xw(s,e),Cw(s,e);return}if(!e.icon&&!e.iconHtml){an(s);return}if(e.icon&&Object.keys(zh).indexOf(e.icon)===-1){pa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),an(s);return}Ft(s),xw(s,e),Cw(s,e),Qe(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Cb)},Cw=(i,e)=>{for(const[t,s]of Object.entries(zh))e.icon!==t&&Wn(i,s);Qe(i,e.icon&&zh[e.icon]),dS(i,e),Cb(),Vn(i,e,"icon")},Cb=()=>{const i=je();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},hS=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,fS=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,xw=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=Dw(e.iconHtml):e.icon==="success"?(s=hS(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=fS:e.icon&&(s=Dw({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Ln(i,s)},dS=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Iw(i,t,"background-color",e.iconColor);Iw(i,".swal2-success-ring","border-color",e.iconColor)}},Dw=i=>`<div class="${F["icon-content"]}">${i}</div>`,mS=(i,e)=>{const t=Eb();if(t){if(!e.imageUrl){an(t);return}Ft(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),aa(t,"width",e.imageWidth),aa(t,"height",e.imageHeight),t.className=F.image,Vn(t,e,"image")}};let eg=!1,xb=0,Db=0,Nb=0,Ob=0;const pS=i=>{i.addEventListener("mousedown",qh),document.body.addEventListener("mousemove",Hh),i.addEventListener("mouseup",Fh),i.addEventListener("touchstart",qh),document.body.addEventListener("touchmove",Hh),i.addEventListener("touchend",Fh)},gS=i=>{i.removeEventListener("mousedown",qh),document.body.removeEventListener("mousemove",Hh),i.removeEventListener("mouseup",Fh),i.removeEventListener("touchstart",qh),document.body.removeEventListener("touchmove",Hh),i.removeEventListener("touchend",Fh)},qh=i=>{const e=je();if(i.target===e||ko().contains(i.target)){eg=!0;const t=kb(i);xb=t.clientX,Db=t.clientY,Nb=parseInt(e.style.insetInlineStart)||0,Ob=parseInt(e.style.insetBlockStart)||0,Qe(e,"swal2-dragging")}},Hh=i=>{const e=je();if(eg){let{clientX:t,clientY:s}=kb(i);e.style.insetInlineStart=`${Nb+(t-xb)}px`,e.style.insetBlockStart=`${Ob+(s-Db)}px`}},Fh=()=>{const i=je();eg=!1,Wn(i,"swal2-dragging")},kb=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},yS=(i,e)=>{const t=pn(),s=je();if(!(!t||!s)){if(e.toast){aa(t,"width",e.width),s.style.width="100%";const o=Vo();o&&s.insertBefore(o,ko())}else aa(s,"width",e.width);aa(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),an(wf()),_S(s,e),e.draggable&&!e.toast?(Qe(s,F.draggable),pS(s)):(Wn(s,F.draggable),gS(s))}},_S=(i,e)=>{const t=e.showClass||{};i.className=`${F.popup} ${bn(i)?t.popup:""}`,e.toast?(Qe([document.documentElement,document.body],F["toast-shown"]),Qe(i,F.toast)):Qe(i,F.modal),Vn(i,e,"popup"),typeof e.customClass=="string"&&Qe(i,e.customClass),e.icon&&Qe(i,F[`icon-${e.icon}`])},vS=(i,e)=>{const t=Qp();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){an(t);return}Ft(t),t.textContent="",o>=s.length&&mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,f)=>{const m=wS(u);if(t.appendChild(m),f===o&&Qe(m,F["active-progress-step"]),f!==s.length-1){const g=bS(e);t.appendChild(g)}})},wS=i=>{const e=document.createElement("li");return Qe(e,F["progress-step"]),Ln(e,i),e},bS=i=>{const e=document.createElement("li");return Qe(e,F["progress-step-line"]),i.progressStepsDistance&&aa(e,"width",i.progressStepsDistance),e},ES=(i,e)=>{const t=bb();t&&(Xp(t),Du(t,e.title||e.titleText,"block"),e.title&&Zp(e.title,t),e.titleText&&(t.innerText=e.titleText),Vn(t,e,"title"))},Mb=(i,e)=>{yS(i,e),ZA(i,e),vS(i,e),cS(i,e),mS(i,e),ES(i,e),WA(i,e),lS(i,e),KA(i,e),uS(i,e);const t=je();typeof e.didRender=="function"&&t&&e.didRender(t),ge.eventEmitter.emit("didRender",t)},TS=()=>bn(je()),Vb=()=>{var i;return(i=Vi())===null||i===void 0?void 0:i.click()},AS=()=>{var i;return(i=ga())===null||i===void 0?void 0:i.click()},SS=()=>{var i;return(i=Mo())===null||i===void 0?void 0:i.click()},Po=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Pb=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},RS=(i,e,t)=>{Pb(i),e.toast||(i.keydownHandler=s=>CS(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:je(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},mp=(i,e)=>{var t;const s=Kp();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=je())===null||t===void 0||t.focus()},Lb=["ArrowRight","ArrowDown"],IS=["ArrowLeft","ArrowUp"],CS=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?xS(e,i):e.key==="Tab"?DS(e):[...Lb,...IS].includes(e.key)?NS(e.key):e.key==="Escape"&&OS(e,i,t)))},xS=(i,e)=>{if(!vf(e.allowEnterKey))return;const t=Tf(je(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;Vb(),i.preventDefault()}},DS=i=>{const e=i.target,t=Kp();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?mp(s,-1):mp(s,1),i.stopPropagation(),i.preventDefault()},NS=i=>{const e=xu(),t=Vi(),s=ga(),o=Mo();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=Lb.includes(i)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let g=0;g<e.children.length;g++){if(m=m[f],!m)return;if(m instanceof HTMLButtonElement&&bn(m))break}m instanceof HTMLButtonElement&&m.focus()}},OS=(i,e,t)=>{i.preventDefault(),vf(e.allowEscapeKey)&&t(Po.esc)};var Eo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const kS=()=>{const i=pn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Ub=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Bb=typeof window<"u"&&!!window.GestureEvent,MS=()=>{if(Bb&&!dr(document.body,F.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Qe(document.body,F.iosfix),VS()}},VS=()=>{const i=pn();if(!i)return;let e;i.ontouchstart=t=>{e=PS(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},PS=i=>{const e=i.target,t=pn(),s=Gp();return!t||!s||LS(i)||US(i)?!1:e===t||!dp(t)&&e instanceof HTMLElement&&!PA(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(dp(s)&&s.contains(e))},LS=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",US=i=>i.touches&&i.touches.length>1,BS=()=>{if(dr(document.body,F.iosfix)){const i=parseInt(document.body.style.top,10);Wn(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},zS=()=>{const i=document.createElement("div");i.className=F["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let go=null;const jS=i=>{go===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(go=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${go+zS()}px`)},qS=()=>{go!==null&&(document.body.style.paddingRight=`${go}px`,go=null)};function zb(i,e,t,s){Ef()?Nw(i,s):(RA(t).then(()=>Nw(i,s)),Pb(ge)),Bb?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),$p()&&(qS(),BS(),Ub()),HS()}function HS(){Wn([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}function is(i){i=GS(i);const e=Eo.swalPromiseResolve.get(this),t=FS(this);this.isAwaitingPromise?i.isDismissed||(Ou(this),e(i)):t&&e(i)}const FS=i=>{const e=je();if(!e)return!1;const t=st.innerParams.get(i);if(!t||dr(e,t.hideClass.popup))return!1;Wn(e,t.showClass.popup),Qe(e,t.hideClass.popup);const s=pn();return Wn(s,t.showClass.backdrop),Qe(s,t.hideClass.backdrop),QS(i,e,t),!0};function jb(i){const e=Eo.swalPromiseReject.get(this);Ou(this),e&&e(i)}const Ou=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,st.innerParams.get(i)||i._destroy())},GS=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),QS=(i,e,t)=>{var s;const o=pn(),u=Rb(e);typeof t.willClose=="function"&&t.willClose(e),(s=ge.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?YS(i,e,o,t.returnFocus,t.didClose):zb(i,o,t.returnFocus,t.didClose)},YS=(i,e,t,s,o)=>{ge.swalCloseEventFinishedCallback=zb.bind(null,i,t,s,o);const u=function(f){if(f.target===e){var m;(m=ge.swalCloseEventFinishedCallback)===null||m===void 0||m.call(ge),delete ge.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},Nw=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=ge.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},To=i=>{let e=je();if(e||new Ao,e=je(),!e)return;const t=Vo();Ef()?an(ko()):KS(e,i),Ft(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},KS=(i,e)=>{const t=xu(),s=Vo();!t||!s||(!e&&bn(Vi())&&(e=Vi()),Ft(t),e&&(an(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Qe([i,t],F.loading))},$S=(i,e)=>{e.input==="select"||e.input==="radio"?eR(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Hp(e.inputValue)||Fp(e.inputValue))&&(To(Vi()),tR(i,e))},XS=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return WS(t);case"radio":return ZS(t);case"file":return JS(t);default:return e.inputAutoTrim?t.value.trim():t.value}},WS=i=>i.checked?1:0,ZS=i=>i.checked?i.value:null,JS=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,eR=(i,e)=>{const t=je();if(!t)return;const s=o=>{e.input==="select"?nR(t,Gh(o),e):e.input==="radio"&&iR(t,Gh(o),e)};Hp(e.inputOptions)||Fp(e.inputOptions)?(To(Vi()),Iu(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):pa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},tR=(i,e)=>{const t=i.getInput();t&&(an(t),Iu(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Ft(t),t.focus(),i.hideLoading()}).catch(s=>{pa(`Error in inputValue promise: ${s}`),t.value="",Ft(t),t.focus(),i.hideLoading()}))};function nR(i,e,t){const s=ns(i,F.select);if(!s)return;const o=(u,f,m)=>{const g=document.createElement("option");g.value=m,Ln(g,f),g.selected=qb(m,t.inputValue),u.appendChild(g)};e.forEach(u=>{const f=u[0],m=u[1];if(Array.isArray(m)){const g=document.createElement("optgroup");g.label=f,g.disabled=!1,s.appendChild(g),m.forEach(y=>o(g,y[1],y[0]))}else o(s,m,f)}),s.focus()}function iR(i,e,t){const s=ns(i,F.radio);if(!s)return;e.forEach(u=>{const f=u[0],m=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=F.radio,g.value=f,qb(f,t.inputValue)&&(g.checked=!0);const b=document.createElement("span");Ln(b,m),b.className=F.label,y.appendChild(g),y.appendChild(b),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const Gh=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=Gh(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=Gh(s)),e.push([t,s])}),e},qb=(i,e)=>!!e&&e.toString()===i.toString(),rR=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.input?Hb(i,"confirm"):ng(i,!0)},sR=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?Hb(i,"deny"):tg(i,!1)},aR=(i,e)=>{i.disableButtons(),e(Po.cancel)},Hb=(i,e)=>{const t=st.innerParams.get(i);if(!t.input){pa(`The "input" parameter is needed to be set when using returnInputValueOn${qp(e)}`);return}const s=i.getInput(),o=XS(i,t);t.inputValidator?oR(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?tg(i,o):ng(i,o)},oR=(i,e,t)=>{const s=st.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Iu(s.inputValidator(e,s.validationMessage))).then(u=>{i.enableButtons(),i.enableInput(),u?i.showValidationMessage(u):t==="deny"?tg(i,e):ng(i,e)})},tg=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnDeny&&To(ga()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Iu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),Ou(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Fb(i||void 0,o))):i.close({isDenied:!0,value:e})},Ow=(i,e)=>{i.close({isConfirmed:!0,value:e})},Fb=(i,e)=>{i.rejectPromise(e)},ng=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnConfirm&&To(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Iu(t.preConfirm(e,t.validationMessage))).then(o=>{bn(wf())||o===!1?(i.hideLoading(),Ou(i)):Ow(i,typeof o>"u"?e:o)}).catch(o=>Fb(i||void 0,o))):Ow(i,e)};function Qh(){const i=st.innerParams.get(this);if(!i)return;const e=st.domCache.get(this);an(e.loader),Ef()?i.icon&&Ft(ko()):lR(e),Wn([e.popup,e.actions],F.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const lR=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?Ft(e[0],"inline-block"):VA()&&an(i.actions)};function Gb(){const i=st.innerParams.get(this),e=st.domCache.get(this);return e?Tf(e.popup,i.input):null}function Qb(i,e,t){const s=st.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function Yb(i,e){const t=je();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${F.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function Kb(){Qb(this,["confirmButton","denyButton","cancelButton"],!1)}function $b(){Qb(this,["confirmButton","denyButton","cancelButton"],!0)}function Xb(){Yb(this.getInput(),!1)}function Wb(){Yb(this.getInput(),!0)}function Zb(i){const e=st.domCache.get(this),t=st.innerParams.get(this);Ln(e.validationMessage,i),e.validationMessage.className=F["validation-message"],t.customClass&&t.customClass.validationMessage&&Qe(e.validationMessage,t.customClass.validationMessage),Ft(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",F["validation-message"]),Ab(s),Qe(s,F.inputerror))}function Jb(){const i=st.domCache.get(this);i.validationMessage&&an(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Wn(e,F.inputerror))}const yo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},uR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],cR={allowEnterKey:void 0},hR=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],eE=i=>Object.prototype.hasOwnProperty.call(yo,i),tE=i=>uR.indexOf(i)!==-1,nE=i=>cR[i],fR=i=>{eE(i)||mn(`Unknown parameter "${i}"`)},dR=i=>{hR.includes(i)&&mn(`The parameter "${i}" is incompatible with toasts`)},mR=i=>{const e=nE(i);e&&wb(i,e)},iE=i=>{i.backdrop===!1&&i.allowOutsideClick&&mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&mn(`Invalid theme "${i.theme}"`);for(const e in i)fR(e),i.toast&&dR(e),mR(e)};function rE(i){const e=pn(),t=je(),s=st.innerParams.get(this);if(!t||dr(t,s.hideClass.popup)){mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=pR(i),u=Object.assign({},s,o);iE(u),e.dataset.swal2Theme=u.theme,Mb(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const pR=i=>{const e={};return Object.keys(i).forEach(t=>{tE(t)?e[t]=i[t]:mn(`Invalid parameter to update: ${t}`)}),e};function sE(){const i=st.domCache.get(this),e=st.innerParams.get(this);if(!e){aE(this);return}i.popup&&ge.swalCloseEventFinishedCallback&&(ge.swalCloseEventFinishedCallback(),delete ge.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ge.eventEmitter.emit("didDestroy"),gR(this)}const gR=i=>{aE(i),delete i.params,delete ge.keydownHandler,delete ge.keydownTarget,delete ge.currentInstance},aE=i=>{i.isAwaitingPromise?(tp(st,i),i.isAwaitingPromise=!0):(tp(Eo,i),tp(st,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},tp=(i,e)=>{for(const t in i)i[t].delete(e)};var yR=Object.freeze({__proto__:null,_destroy:sE,close:is,closeModal:is,closePopup:is,closeToast:is,disableButtons:$b,disableInput:Wb,disableLoading:Qh,enableButtons:Kb,enableInput:Xb,getInput:Gb,handleAwaitingPromise:Ou,hideLoading:Qh,rejectPromise:jb,resetValidationMessage:Jb,showValidationMessage:Zb,update:rE});const _R=(i,e,t)=>{i.toast?vR(i,e,t):(bR(e),ER(e),TR(i,e,t))},vR=(i,e,t)=>{e.popup.onclick=()=>{i&&(wR(i)||i.timer||i.input)||t(Po.close)}},wR=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let Yh=!1;const bR=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(Yh=!0)}}},ER=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(Yh=!0)}}},TR=(i,e,t)=>{e.container.onclick=s=>{if(Yh){Yh=!1;return}s.target===e.container&&vf(i.allowOutsideClick)&&t(Po.backdrop)}},AR=i=>typeof i=="object"&&i.jquery,kw=i=>i instanceof Element||AR(i),SR=i=>{const e={};return typeof i[0]=="object"&&!kw(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||kw(o)?e[t]=o:o!==void 0&&pa(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function RR(...i){return new this(...i)}function IR(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const CR=()=>ge.timeout&&ge.timeout.getTimerLeft(),oE=()=>{if(ge.timeout)return LA(),ge.timeout.stop()},lE=()=>{if(ge.timeout){const i=ge.timeout.start();return Wp(i),i}},xR=()=>{const i=ge.timeout;return i&&(i.running?oE():lE())},DR=i=>{if(ge.timeout){const e=ge.timeout.increase(i);return Wp(e,!0),e}},NR=()=>!!(ge.timeout&&ge.timeout.isRunning());let Mw=!1;const pp={};function OR(i="data-swal-template"){pp[i]=this,Mw||(document.body.addEventListener("click",kR),Mw=!0)}const kR=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in pp){const s=e.getAttribute(t);if(s){pp[t].fire({template:s});return}}};class MR{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ge.eventEmitter=new MR;const VR=(i,e)=>{ge.eventEmitter.on(i,e)},PR=(i,e)=>{ge.eventEmitter.once(i,e)},LR=(i,e)=>{if(!i){ge.eventEmitter.reset();return}e?ge.eventEmitter.removeListener(i,e):ge.eventEmitter.removeAllListeners(i)};var UR=Object.freeze({__proto__:null,argsToParams:SR,bindClickHandler:OR,clickCancel:SS,clickConfirm:Vb,clickDeny:AS,enableLoading:To,fire:RR,getActions:xu,getCancelButton:Mo,getCloseButton:Yp,getConfirmButton:Vi,getContainer:pn,getDenyButton:ga,getFocusableElements:Kp,getFooter:Tb,getHtmlContainer:Gp,getIcon:ko,getIconContent:DA,getImage:Eb,getInputLabel:NA,getLoader:Vo,getPopup:je,getProgressSteps:Qp,getTimerLeft:CR,getTimerProgressBar:bf,getTitle:bb,getValidationMessage:wf,increaseTimer:DR,isDeprecatedParameter:nE,isLoading:kA,isTimerRunning:NR,isUpdatableParameter:tE,isValidParameter:eE,isVisible:TS,mixin:IR,off:LR,on:VR,once:PR,resumeTimer:lE,showLoading:To,stopTimer:oE,toggleTimer:xR});class BR{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const uE=["swal-title","swal-html","swal-footer"],zR=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return KR(t),Object.assign(jR(t),qR(t),HR(t),FR(t),GR(t),QR(t),YR(t,uE))},jR=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{la(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof yo[o]=="boolean"?e[o]=u!=="false":typeof yo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},qR=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},HR=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{la(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${qp(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},FR=i=>{const e={},t=i.querySelector("swal-image");return t&&(la(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},GR=i=>{const e={},t=i.querySelector("swal-icon");return t&&(la(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},QR=i=>{const e={},t=i.querySelector("swal-input");t&&(la(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{la(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},YR=(i,e)=>{const t={};for(const s in e){const o=e[s],u=i.querySelector(o);u&&(la(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},KR=i=>{const e=uE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||mn(`Unrecognized element <${s}>`)})},la=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&mn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},cE=10,$R=i=>{const e=pn(),t=je();typeof i.willOpen=="function"&&i.willOpen(t),ge.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;ZR(e,t,i),setTimeout(()=>{XR(e,t)},cE),$p()&&(WR(e,i.scrollbarPadding,o),kS()),!Ef()&&!ge.previousActiveElement&&(ge.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),ge.eventEmitter.emit("didOpen",t),Wn(e,F["no-transition"])},Kh=i=>{const e=je();if(i.target!==e)return;const t=pn();e.removeEventListener("animationend",Kh),e.removeEventListener("transitionend",Kh),t.style.overflowY="auto"},XR=(i,e)=>{Rb(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",Kh),e.addEventListener("transitionend",Kh)):i.style.overflowY="auto"},WR=(i,e,t)=>{MS(),e&&t!=="hidden"&&jS(t),setTimeout(()=>{i.scrollTop=0})},ZR=(i,e,t)=>{Qe(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Ft(e,"grid"),setTimeout(()=>{Qe(e,t.showClass.popup),e.style.removeProperty("opacity")},cE)):Ft(e,"grid"),Qe([document.documentElement,document.body],F.shown),t.heightAuto&&t.backdrop&&!t.toast&&Qe([document.documentElement,document.body],F["height-auto"])};var Vw={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function JR(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=Vw.email),i.input==="url"&&(i.inputValidator=Vw.url))}function eI(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(mn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function tI(i){JR(i),i.showLoaderOnConfirm&&!i.preConfirm&&mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),eI(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),GA(i)}let Ci;var vh=new WeakMap;class Et{constructor(...e){if(EA(this,vh,void 0),typeof window>"u")return;Ci=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,TA(vh,this,this._main(Ci.params))}_main(e,t={}){if(iE(Object.assign({},t,e)),ge.currentInstance){const u=Eo.swalPromiseResolve.get(ge.currentInstance),{isAwaitingPromise:f}=ge.currentInstance;ge.currentInstance._destroy(),f||u({isDismissed:!0}),$p()&&Ub()}ge.currentInstance=Ci;const s=iI(e,t);tI(s),Object.freeze(s),ge.timeout&&(ge.timeout.stop(),delete ge.timeout),clearTimeout(ge.restoreFocusTimeout);const o=rI(Ci);return Mb(Ci,s),st.innerParams.set(Ci,s),nI(Ci,o,s)}then(e){return Sw(vh,this).then(e)}finally(e){return Sw(vh,this).finally(e)}}const nI=(i,e,t)=>new Promise((s,o)=>{const u=f=>{i.close({isDismissed:!0,dismiss:f})};Eo.swalPromiseResolve.set(i,s),Eo.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{rR(i)},e.denyButton.onclick=()=>{sR(i)},e.cancelButton.onclick=()=>{aR(i,u)},e.closeButton.onclick=()=>{u(Po.close)},_R(t,e,u),RS(ge,t,u),$S(i,t),$R(t),sI(ge,t,u),aI(e,t),setTimeout(()=>{e.container.scrollTop=0})}),iI=(i,e)=>{const t=zR(i),s=Object.assign({},yo,e,t,i);return s.showClass=Object.assign({},yo.showClass,s.showClass),s.hideClass=Object.assign({},yo.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},rI=i=>{const e={popup:je(),container:pn(),actions:xu(),confirmButton:Vi(),denyButton:ga(),cancelButton:Mo(),loader:Vo(),closeButton:Yp(),validationMessage:wf(),progressSteps:Qp()};return st.domCache.set(i,e),e},sI=(i,e,t)=>{const s=bf();an(s),e.timer&&(i.timeout=new BR(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(Ft(s),Vn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&Wp(e.timer)})))},aI=(i,e)=>{if(!e.toast){if(!vf(e.allowEnterKey)){wb("allowEnterKey"),uI();return}oI(i)||lI(i,e)||mp(-1,1)}},oI=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&bn(t))return t.focus(),!0;return!1},lI=(i,e)=>e.focusDeny&&bn(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&bn(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&bn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,uI=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Et.prototype.disableButtons=$b;Et.prototype.enableButtons=Kb;Et.prototype.getInput=Gb;Et.prototype.disableInput=Wb;Et.prototype.enableInput=Xb;Et.prototype.hideLoading=Qh;Et.prototype.disableLoading=Qh;Et.prototype.showValidationMessage=Zb;Et.prototype.resetValidationMessage=Jb;Et.prototype.close=is;Et.prototype.closePopup=is;Et.prototype.closeModal=is;Et.prototype.closeToast=is;Et.prototype.rejectPromise=jb;Et.prototype.update=rE;Et.prototype._destroy=sE;Object.assign(Et,UR);Object.keys(yR).forEach(i=>{Et[i]=function(...e){return Ci&&Ci[i]?Ci[i](...e):null}});Et.DismissReason=Po;Et.version="11.22.4";const Ao=Et;Ao.default=Ao;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function xh(i){Ao.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const cI=()=>{};var Pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},hI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,q=y&63;g||(q=64,f||(S=64)),s.push(t[b],t[T],t[S],t[q])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(hE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):hI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new fI;const S=u<<2|m>>4;if(s.push(S),y!==64){const q=m<<4&240|y>>2;if(s.push(q),T!==64){const $=y<<6&192|T;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(i){const e=hE(i);return fE.encodeByteArray(e,!0)},$h=function(i){return dI(i).replace(/\./g,"")},dE=function(i){try{return fE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=()=>mI().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof Pw>"u")return;const i=Pw.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dE(i[1]);return e&&JSON.parse(e)},Af=()=>{try{return cI()||pI()||gI()||yI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},mE=i=>Af()?.emulatorHosts?.[i],_I=i=>{const e=mE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},pE=()=>Af()?.config,gE=i=>Af()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[$h(JSON.stringify(t)),$h(JSON.stringify(f)),""].join(".")}const lu={};function bI(){const i={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?i.emulator.push(e):i.prod.push(e);return i}function EI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Lw=!1;function _E(i,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||lu[i]===e||lu[i]||Lw)return;lu[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=bI().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,q){S.setAttribute("width","24"),S.setAttribute("id",q),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Lw=!0,f()},S}function b(S,q){S.setAttribute("id",q),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=EI(s),q=t("text"),$=document.getElementById(q)||document.createElement("span"),ee=t("learnmore"),Z=document.getElementById(ee)||document.createElement("a"),ne=t("preprendIcon"),oe=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ue=S.element;m(ue),b(Z,ee);const qe=y();g(oe,ne),ue.append(oe,$,Z,qe),document.body.appendChild(ue)}u?($.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function AI(){const i=Af()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function II(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CI(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function xI(){return!AI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function NI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FirebaseError";class vr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=OI,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?kI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vr(o,m,s)}}function kI(i,e){return i.replace(MI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const MI=/\{\$([^}]+)}/g;function VI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Uw(u)&&Uw(f)){if(!ua(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Uw(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function PI(i,e){const t=new LI(i,e);return t.subscribe.bind(t)}class LI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");UI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=np),o.error===void 0&&(o.error=np),o.complete===void 0&&(o.complete=np);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i){return i&&i._delegate?i._delegate:i}class ca{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new vI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(i){return i===ia?void 0:i}function jI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const HI={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},FI=Ne.INFO,GI={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},QI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=GI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=QI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const YI=(i,e)=>e.some(t=>i instanceof t);let Bw,zw;function KI(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $I(){return zw||(zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,gp=new WeakMap,wE=new WeakMap,ip=new WeakMap,rg=new WeakMap;function XI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(ss(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&vE.set(t,i)}).catch(()=>{}),rg.set(e,i),e}function WI(i){if(gp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});gp.set(i,e)}let yp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return gp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||wE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function ZI(i){yp=i(yp)}function JI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(rp(this),e,...t);return wE.set(s,e.sort?e.sort():[e]),ss(s)}:$I().includes(i)?function(...e){return i.apply(rp(this),e),ss(vE.get(this))}:function(...e){return ss(i.apply(rp(this),e))}}function eC(i){return typeof i=="function"?JI(i):(i instanceof IDBTransaction&&WI(i),YI(i,KI())?new Proxy(i,yp):i)}function ss(i){if(i instanceof IDBRequest)return XI(i);if(ip.has(i))return ip.get(i);const e=eC(i);return e!==i&&(ip.set(i,e),rg.set(e,i)),e}const rp=i=>rg.get(i);function tC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ss(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ss(f.result),g.oldVersion,g.newVersion,ss(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const nC=["get","getKey","getAll","getAllKeys","count"],iC=["put","add","delete","clear"],sp=new Map;function jw(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=iC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nC.includes(t)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return sp.set(e,u),u}ZI(i=>({...i,get:(e,t,s)=>jw(e,t)||i.get(e,t,s),has:(e,t)=>!!jw(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function sC(i){return i.getComponent()?.type==="VERSION"}const _p="@firebase/app",qw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new ig("@firebase/app"),aC="@firebase/app-compat",oC="@firebase/analytics-compat",lC="@firebase/analytics",uC="@firebase/app-check-compat",cC="@firebase/app-check",hC="@firebase/auth",fC="@firebase/auth-compat",dC="@firebase/database",mC="@firebase/data-connect",pC="@firebase/database-compat",gC="@firebase/functions",yC="@firebase/functions-compat",_C="@firebase/installations",vC="@firebase/installations-compat",wC="@firebase/messaging",bC="@firebase/messaging-compat",EC="@firebase/performance",TC="@firebase/performance-compat",AC="@firebase/remote-config",SC="@firebase/remote-config-compat",RC="@firebase/storage",IC="@firebase/storage-compat",CC="@firebase/firestore",xC="@firebase/ai",DC="@firebase/firestore-compat",NC="firebase",OC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",kC={[_p]:"fire-core",[aC]:"fire-core-compat",[lC]:"fire-analytics",[oC]:"fire-analytics-compat",[cC]:"fire-app-check",[uC]:"fire-app-check-compat",[hC]:"fire-auth",[fC]:"fire-auth-compat",[dC]:"fire-rtdb",[mC]:"fire-data-connect",[pC]:"fire-rtdb-compat",[gC]:"fire-fn",[yC]:"fire-fn-compat",[_C]:"fire-iid",[vC]:"fire-iid-compat",[wC]:"fire-fcm",[bC]:"fire-fcm-compat",[EC]:"fire-perf",[TC]:"fire-perf-compat",[AC]:"fire-rc",[SC]:"fire-rc-compat",[RC]:"fire-gcs",[IC]:"fire-gcs-compat",[CC]:"fire-fst",[DC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[NC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,MC=new Map,wp=new Map;function Hw(i,e){try{i.container.addComponent(e)}catch(t){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function So(i){const e=i.name;if(wp.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,i);for(const t of pu.values())Hw(t,i);for(const t of MC.values())Hw(t,i);return!0}function sg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new ku("app","Firebase",VC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=OC;function bE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:vp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=pE()),!t)throw as.create("no-options");const u=pu.get(o);if(u){if(ua(t,u.options)&&ua(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const f=new qI(o);for(const g of wp.values())f.addComponent(g);const m=new PC(t,s,f);return pu.set(o,m),m}function EE(i=vp){const e=pu.get(i);if(!e&&i===vp&&pE())return bE();if(!e)throw as.create("no-app",{appName:i});return e}function Fw(){return Array.from(pu.values())}function os(i,e,t){let s=kC[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}So(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebase-heartbeat-database",UC=1,gu="firebase-heartbeat-store";let ap=null;function TE(){return ap||(ap=tC(LC,UC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),ap}async function BC(i){try{const t=(await TE()).transaction(gu),s=await t.objectStore(gu).get(AE(i));return await t.done,s}catch(e){if(e instanceof vr)mr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e?.message});mr.warn(t.message)}}}async function Gw(i,e){try{const s=(await TE()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,AE(i)),await s.done}catch(t){if(t instanceof vr)mr.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t?.message});mr.warn(s.message)}}}function AE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1024,jC=30;class qC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>jC){const o=GC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qw(),{heartbeatsToSend:t,unsentEntries:s}=HC(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function Qw(){return new Date().toISOString().substring(0,10)}function HC(i,e=zC){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Yw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class FC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?NI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yw(i){return $h(JSON.stringify({version:2,heartbeats:i})).length}function GC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i){So(new ca("platform-logger",e=>new rC(e),"PRIVATE")),So(new ca("heartbeat",e=>new qC(e),"PRIVATE")),os(_p,qw,i),os(_p,qw,"esm2020"),os("fire-js","")}QC("");var YC="firebase",KC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(YC,KC,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $C=SE,RE=new ku("auth","Firebase",SE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new ig("@firebase/auth");function XC(i,...e){Xh.logLevel<=Ne.WARN&&Xh.warn(`Auth (${Uo}): ${i}`,...e)}function Dh(i,...e){Xh.logLevel<=Ne.ERROR&&Xh.error(`Auth (${Uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw og(i,...e)}function oi(i,...e){return og(i,...e)}function ag(i,e,t){const s={...$C(),[e]:t};return new ku("auth","Firebase",s).create(e,{appName:i.name})}function Di(i){return ag(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IE(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Zn(i,"argument-error"),ag(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return RE.create(i,...e)}function we(i,e,...t){if(!i)throw og(e,...t)}function hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Dh(e),new Error(e)}function pr(i,e){i||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(){return typeof self<"u"&&self.location?.href||""}function WC(){return Kw()==="http:"||Kw()==="https:"}function Kw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WC()||RI()||"connection"in navigator)?navigator.onLine:!0}function JC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,pr(t>e,"Short delay should be less than long delay!"),this.isMobile=TI()||II()}get(){return ZC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e){pr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nx=new Vu(3e4,6e4);function wr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Li(i,e,t,s,o={}){return xE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Mu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return SI()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(y.credentials="include"),CE.fetch()(await DE(i,i.config.apiHost,t,m),y)})}async function xE(i,e,t){i._canInitEmulator=!1;const s={...ex,...e};try{const o=new rx(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw wh(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw wh(i,"user-disabled",f);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ag(i,b,y);Zn(i,b)}}catch(o){if(o instanceof vr)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function Pu(i,e,t,s,o={}){const u=await Li(i,e,t,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function DE(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?lg(i.config,o):`${i.config.apiScheme}://${o}`;return tx.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ix(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),nx.get())})}}function wh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=oi(i,e,s);return o.customData._tokenResponse=t,o}function $w(i){return i!==void 0&&i.enterprise!==void 0}class sx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ix(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ax(i,e){return Li(i,"GET","/v2/recaptchaConfig",wr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,e){return Li(i,"POST","/v1/accounts:delete",e)}async function Wh(i,e){return Li(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lx(i,e=!1){const t=bt(i),s=await t.getIdToken(e),o=ug(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:uu(op(o.auth_time)),issuedAtTime:uu(op(o.iat)),expirationTime:uu(op(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function op(i){return Number(i)*1e3}function ug(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=dE(t);return o?JSON.parse(o):(Dh("Failed to decode base64 JWT payload"),null)}catch(o){return Dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Xw(i){const e=ug(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof vr&&ux(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ux({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(i){const e=i.auth,t=await i.getIdToken(),s=await Ro(i,Wh(e,{idToken:t}));we(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?NE(o.providerUserInfo):[],f=fx(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function hx(i){const e=bt(i);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function NE(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(i,e){const t=await xE(i,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await DE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),CE.fetch()(f,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mx(i,e){return Li(i,"POST","/v2/accounts:revokeToken",wr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Xw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await dx(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new _o;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lx(this,e)}reload(){return hx(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await Ro(this,ox(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:q,providerData:$,stsTokenManager:ee}=t;we(T&&ee,e,"internal-error");const Z=_o.fromJSON(this.name,ee);we(typeof T=="string",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),we(typeof S=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),Wr(u,e.name),Wr(f,e.name),Wr(m,e.name),Wr(g,e.name),Wr(y,e.name),Wr(b,e.name);const ne=new ai({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Z,createdAt:y,lastLoginAt:b});return $&&Array.isArray($)&&(ne.providerData=$.map(oe=>({...oe}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,t,s=!1){const o=new _o;o.updateFromServerResponse(t);const u=new ai({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(s);const g=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;function fr(i){pr(i instanceof Function,"Expected a class definition");let e=Ww.get(i);return e?(pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ww.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OE.type="NONE";const Zw=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i,e,t){return`firebase:${i}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wh(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(fr(Zw),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fr(Zw);const f=Nh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const b=await y._get(f);if(b){let T;if(typeof b=="string"){const S=await Wh(e,{idToken:b}).catch(()=>{});if(!S)break;T=await ai._fromGetAccountInfoResponse(e,S,b)}else T=ai._fromJSON(e,b);y!==u&&(m=T),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new vo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(BE(e))return"Webos";if(ME(e))return"Safari";if((e.includes("chrome/")||VE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function kE(i=on()){return/firefox\//i.test(i)}function ME(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VE(i=on()){return/crios\//i.test(i)}function PE(i=on()){return/iemobile/i.test(i)}function LE(i=on()){return/android/i.test(i)}function UE(i=on()){return/blackberry/i.test(i)}function BE(i=on()){return/webos/i.test(i)}function cg(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function px(i=on()){return cg(i)&&!!window.navigator?.standalone}function gx(){return CI()&&document.documentMode===10}function zE(i=on()){return cg(i)||LE(i)||BE(i)||UE(i)||/windows phone/i.test(i)||PE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i,e=[]){let t;switch(i){case"Browser":t=Jw(on());break;case"Worker":t=`${Jw(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(i,e={}){return Li(i,"GET","/v2/passwordPolicy",wr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=6;class wx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new yx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Di(this));const t=e?bt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _x(this),t=new wx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await mx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ci(i){return bt(i)}class e0{constructor(e){this.auth=e,this.observer=null,this.addObserver=PI(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ex(i){Sf=i}function qE(i){return Sf.loadJS(i)}function Tx(){return Sf.recaptchaEnterpriseScript}function Ax(){return Sf.gapiScript}function Sx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Rx{constructor(){this.enterprise=new Ix}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ix{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Cx="recaptcha-enterprise",HE="NO_RECAPTCHA";class xx{constructor(e){this.type=Cx,this.auth=ci(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{ax(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new sx(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;$w(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(HE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&$w(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Tx();g.length!==0&&(g+=m),qE(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function t0(i,e,t,s=!1,o=!1){const u=new xx(i);let f;if(o)f=HE;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jh(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await t0(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await t0(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i,e){const t=sg(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ua(u,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function Nx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(fr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Ox(i,e,t){const s=ci(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FE(e),{host:f,port:m}=kx(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(ua(y,s.config.emulator)&&ua(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(yE(`${u}//${f}${g}`),_E("Auth",!0)):Mx()}function FE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function kx(i){const e=FE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:n0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:n0(f)}}}function n0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Mx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,t){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function Vx(i,e){return Li(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(i,e){return Pu(i,"POST","/v1/accounts:signInWithPassword",wr(i,e))}async function Lx(i,e){return Li(i,"POST","/v1/accounts:sendOobCode",wr(i,e))}async function Ux(i,e){return Lx(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",wr(i,e))}async function zx(i,e){return Pu(i,"POST","/v1/accounts:signInWithEmailLink",wr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends hg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new yu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new yu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,t,"signInWithPassword",Px);case"emailLink":return Bx(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,s,"signUpPassword",Vx);case"emailLink":return zx(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e){return Pu(i,"POST","/v1/accounts:signInWithIdp",wr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="http://localhost";class ha extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const f=new ha(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hx(i){const e=nu(iu(i)).link,t=e?nu(iu(e)).deep_link_id:null,s=nu(iu(i)).deep_link_id;return(s?nu(iu(s)).link:null)||s||t||e||i}class fg{constructor(e){const t=nu(iu(e)),s=t.apiKey??null,o=t.oobCode??null,u=qx(t.mode??null);we(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Hx(e);try{return new fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=fg.parseLink(t);return we(s,"argument-error"),yu._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Lu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return cr.credential(t,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Lu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Lu{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return es.credential(t,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i,e){return Pu(i,"POST","/v1/accounts:signUp",wr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),f=i0(s);return new fa({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=i0(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function i0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends vr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ef(e,t,s,o)}}function GE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(i,u,e,s):u})}async function Gx(i,e,t=!1){const s=await Ro(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return fa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,e,t=!1){const{auth:s}=i;if(wn(s.app))return Promise.reject(Di(s));const o="reauthenticate";try{const u=await Ro(i,GE(s,o,e,i),t);we(u.idToken,s,"internal-error");const f=ug(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(i.uid===m,s,"user-mismatch"),fa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(i,e,t=!1){if(wn(i.app))return Promise.reject(Di(i));const s="signIn",o=await GE(i,s,e),u=await fa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function Yx(i,e){return QE(ci(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(i){const e=ci(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kx(i,e,t){const s=ci(i);await Jh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ux)}async function $x(i,e,t){if(wn(i.app))return Promise.reject(Di(i));const s=ci(i),f=await Jh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&YE(i),g}),m=await fa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Xx(i,e,t){return wn(i.app)?Promise.reject(Di(i)):Yx(bt(i),Bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(i,e){return Li(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=bt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Ro(s,Wx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Jx(i,e,t,s){return bt(i).onIdTokenChanged(e,t,s)}function eD(i,e,t){return bt(i).beforeAuthStateChanged(e,t)}function tD(i,e,t,s){return bt(i).onAuthStateChanged(e,t,s)}function nD(i){return bt(i).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1e3,rD=10;class $E extends KE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);gx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const sD=$E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends KE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}XE.type="SESSION";const WE=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new If(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),g=await aD(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=dg("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function lD(i){Ni().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function uD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cD(){return navigator?.serviceWorker?.controller||null}function hD(){return ZE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",fD=1,nf="firebaseLocalStorage",eT="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cf(i,e){return i.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function dD(){const i=indexedDB.deleteDatabase(JE);return new Uu(i).toPromise()}function Tp(){const i=indexedDB.open(JE,fD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(nf,{keyPath:eT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(nf)?e(s):(s.close(),await dD(),e(await Tp()))})})}async function r0(i,e,t){const s=Cf(i,!0).put({[eT]:e,value:t});return new Uu(s).toPromise()}async function mD(i,e){const t=Cf(i,!1).get(e),s=await new Uu(t).toPromise();return s===void 0?null:s.value}function s0(i,e){const t=Cf(i,!0).delete(e);return new Uu(t).toPromise()}const pD=800,gD=3;class tT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>gD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(hD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await r0(e,tf,"1"),await s0(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>r0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>mD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>s0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tT.type="LOCAL";const yD=tT;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){return e?fr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _D(i){return QE(i.auth,new pg(i),i.bypassAuthState)}function vD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),Qx(t,new pg(i),i.bypassAuthState)}async function wD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),Gx(t,new pg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _D;case"linkViaPopup":case"linkViaRedirect":return wD;case"reauthViaPopup":case"reauthViaRedirect":return vD;default:Zn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Vu(2e3,1e4);async function ED(i,e,t){if(wn(i.app))return Promise.reject(oi(i,"operation-not-supported-in-this-environment"));const s=ci(i);IE(i,e,Rf);const o=mg(s,t);return new ra(s,"signInViaPopup",e,o).executeNotNull()}class ra extends nT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bD.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="pendingRedirect",Oh=new Map;class AD extends nT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const s=await SD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SD(i,e){const t=rT(e),s=iT(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function RD(i,e){return iT(i)._set(rT(e),"true")}function ID(i,e){Oh.set(i._key(),e)}function iT(i){return fr(i._redirectPersistence)}function rT(i){return Nh(TD,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i,e,t){return xD(i,e,t)}async function xD(i,e,t){if(wn(i.app))return Promise.reject(Di(i));const s=ci(i);IE(i,e,Rf),await s._initializationPromise;const o=mg(s,t);return await RD(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function DD(i,e){return await ci(i)._initializationPromise,sT(i,e,!1)}async function sT(i,e,t=!1){if(wn(i.app))return Promise.reject(Di(i));const s=ci(i),o=mg(s,e),f=await new AD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=600*1e3;class OD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!aT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(oi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ND&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function aT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function kD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(i,e={}){return Li(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PD=/^https?/;async function LD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await MD(i);for(const t of e)try{if(UD(t))return}catch{}Zn(i,"unauthorized-domain")}function UD(i){const e=bp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!PD.test(t))return!1;if(VD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Vu(3e4,6e4);function o0(){const i=Ni().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function zD(i){return new Promise((e,t)=>{function s(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),t(oi(i,"network-request-failed"))},timeout:BD.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=Sx("iframefcb");return Ni()[o]=()=>{gapi.load?s():t(oi(i,"network-request-failed"))},qE(`${Ax()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function jD(i){return kh=kh||zD(i),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Vu(5e3,15e3),HD="__/auth/iframe",FD="emulator/auth/iframe",GD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YD(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?lg(e,FD):`https://${i.config.authDomain}/${HD}`,s={apiKey:e.apiKey,appName:i.name,v:Uo},o=QD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Mu(s).slice(1)}`}async function KD(i){const e=await jD(i),t=Ni().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:YD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=oi(i,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},qD.get());function g(){Ni().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XD=500,WD=600,ZD="_blank",JD="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(i,e,t,s=XD,o=WD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...$D,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();t&&(m=VE(y)?ZD:t),kE(y)&&(e=e||JD,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[q,$])=>`${S}${q}=${$},`,"");if(px(y)&&m!=="_self")return tN(e||"",m),new l0(null);const T=window.open(e||"",m,b);we(T,i,"popup-blocked");try{T.focus()}catch{}return new l0(T)}function tN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="__/auth/handler",iN="emulator/auth/handler",rN=encodeURIComponent("fac");async function u0(i,e,t,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Uo,eventId:o};if(e instanceof Rf){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",VI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))f[b]=T}if(e instanceof Lu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),y=g?`#${rN}=${encodeURIComponent(g)}`:"";return`${sN(i)}?${Mu(m).slice(1)}${y}`}function sN({config:i}){return i.emulator?lg(i,iN):`https://${i.authDomain}/${nN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class aN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=sT,this._overrideRedirectResult=ID}async _openPopup(e,t,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await u0(e,t,s,bp(),o);return eN(e,u,dg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await u0(e,t,s,bp(),o);return lD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await KD(e),s=new OD(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},o=>{const u=o?.[0]?.[lp];u!==void 0&&t(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zE()||ME()||cg()}}const oN=aN;var c0="@firebase/auth",h0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(i){So(new ca("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(i)},y=new bx(s,o,u,g);return Nx(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),So(new ca("auth-internal",e=>{const t=ci(e.getProvider("auth").getImmediate());return(s=>new lN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(c0,h0,uN(i)),os(c0,h0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=300,fN=gE("authIdTokenMaxAge")||hN;let f0=null;const dN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>fN)return;const o=t?.token;f0!==o&&(f0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mN(i=EE()){const e=sg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Dx(i,{popupRedirectResolver:oN,persistence:[yD,sD,WE]}),s=gE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dN(u.toString());eD(t,f,()=>f(t.currentUser)),Jx(t,m=>f(m))}}const o=mE("auth");return o&&Ox(t,`http://${o}`),t}function pN(){return document.getElementsByTagName("head")?.[0]??document}Ex({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=oi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",pN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,oT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function I(){}I.prototype=A.prototype,k.D=A.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(C,O,V){for(var x=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)x[Gt-2]=arguments[Gt];return A.prototype[O].apply(C,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,I){I||(I=0);var C=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)C[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;16>O;++O)C[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=k.g[0],I=k.g[1],O=k.g[2];var V=k.g[3],x=A+(V^I&(O^V))+C[0]+3614090360&4294967295;A=I+(x<<7&4294967295|x>>>25),x=V+(O^A&(I^O))+C[1]+3905402710&4294967295,V=A+(x<<12&4294967295|x>>>20),x=O+(I^V&(A^I))+C[2]+606105819&4294967295,O=V+(x<<17&4294967295|x>>>15),x=I+(A^O&(V^A))+C[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(V^I&(O^V))+C[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=V+(O^A&(I^O))+C[5]+1200080426&4294967295,V=A+(x<<12&4294967295|x>>>20),x=O+(I^V&(A^I))+C[6]+2821735955&4294967295,O=V+(x<<17&4294967295|x>>>15),x=I+(A^O&(V^A))+C[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(V^I&(O^V))+C[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=V+(O^A&(I^O))+C[9]+2336552879&4294967295,V=A+(x<<12&4294967295|x>>>20),x=O+(I^V&(A^I))+C[10]+4294925233&4294967295,O=V+(x<<17&4294967295|x>>>15),x=I+(A^O&(V^A))+C[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(V^I&(O^V))+C[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=V+(O^A&(I^O))+C[13]+4254626195&4294967295,V=A+(x<<12&4294967295|x>>>20),x=O+(I^V&(A^I))+C[14]+2792965006&4294967295,O=V+(x<<17&4294967295|x>>>15),x=I+(A^O&(V^A))+C[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=A+(O^V&(I^O))+C[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=V+(I^O&(A^I))+C[6]+3225465664&4294967295,V=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(V^A))+C[11]+643717713&4294967295,O=V+(x<<14&4294967295|x>>>18),x=I+(V^A&(O^V))+C[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(O^V&(I^O))+C[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=V+(I^O&(A^I))+C[10]+38016083&4294967295,V=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(V^A))+C[15]+3634488961&4294967295,O=V+(x<<14&4294967295|x>>>18),x=I+(V^A&(O^V))+C[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(O^V&(I^O))+C[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=V+(I^O&(A^I))+C[14]+3275163606&4294967295,V=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(V^A))+C[3]+4107603335&4294967295,O=V+(x<<14&4294967295|x>>>18),x=I+(V^A&(O^V))+C[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(O^V&(I^O))+C[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=V+(I^O&(A^I))+C[2]+4243563512&4294967295,V=A+(x<<9&4294967295|x>>>23),x=O+(A^I&(V^A))+C[7]+1735328473&4294967295,O=V+(x<<14&4294967295|x>>>18),x=I+(V^A&(O^V))+C[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=A+(I^O^V)+C[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=V+(A^I^O)+C[8]+2272392833&4294967295,V=A+(x<<11&4294967295|x>>>21),x=O+(V^A^I)+C[11]+1839030562&4294967295,O=V+(x<<16&4294967295|x>>>16),x=I+(O^V^A)+C[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(I^O^V)+C[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=V+(A^I^O)+C[4]+1272893353&4294967295,V=A+(x<<11&4294967295|x>>>21),x=O+(V^A^I)+C[7]+4139469664&4294967295,O=V+(x<<16&4294967295|x>>>16),x=I+(O^V^A)+C[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(I^O^V)+C[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=V+(A^I^O)+C[0]+3936430074&4294967295,V=A+(x<<11&4294967295|x>>>21),x=O+(V^A^I)+C[3]+3572445317&4294967295,O=V+(x<<16&4294967295|x>>>16),x=I+(O^V^A)+C[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(I^O^V)+C[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=V+(A^I^O)+C[12]+3873151461&4294967295,V=A+(x<<11&4294967295|x>>>21),x=O+(V^A^I)+C[15]+530742520&4294967295,O=V+(x<<16&4294967295|x>>>16),x=I+(O^V^A)+C[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=A+(O^(I|~V))+C[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=V+(I^(A|~O))+C[7]+1126891415&4294967295,V=A+(x<<10&4294967295|x>>>22),x=O+(A^(V|~I))+C[14]+2878612391&4294967295,O=V+(x<<15&4294967295|x>>>17),x=I+(V^(O|~A))+C[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=A+(O^(I|~V))+C[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=V+(I^(A|~O))+C[3]+2399980690&4294967295,V=A+(x<<10&4294967295|x>>>22),x=O+(A^(V|~I))+C[10]+4293915773&4294967295,O=V+(x<<15&4294967295|x>>>17),x=I+(V^(O|~A))+C[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=A+(O^(I|~V))+C[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=V+(I^(A|~O))+C[15]+4264355552&4294967295,V=A+(x<<10&4294967295|x>>>22),x=O+(A^(V|~I))+C[6]+2734768916&4294967295,O=V+(x<<15&4294967295|x>>>17),x=I+(V^(O|~A))+C[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=A+(O^(I|~V))+C[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=V+(I^(A|~O))+C[11]+3174756917&4294967295,V=A+(x<<10&4294967295|x>>>22),x=O+(A^(V|~I))+C[2]+718787259&4294967295,O=V+(x<<15&4294967295|x>>>17),x=I+(V^(O|~A))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+O&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var I=A-this.blockSize,C=this.B,O=this.h,V=0;V<A;){if(O==0)for(;V<=I;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<A;)if(C[O++]=k.charCodeAt(V++),O==this.blockSize){o(this,C),O=0;break}}else for(;V<A;)if(C[O++]=k[V++],O==this.blockSize){o(this,C),O=0;break}}this.h=O,this.o+=A},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var I=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.u(k),k=Array(16),A=I=0;4>A;++A)for(var C=0;32>C;C+=8)k[I++]=this.g[A]>>>C&255;return k};function u(k,A){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=A(k)}function f(k,A){this.h=A;for(var I=[],C=!0,O=k.length-1;0<=O;O--){var V=k[O]|0;C&&V==A||(I[O]=V,C=!1)}this.g=I}var m={};function g(k){return-128<=k&&128>k?u(k,function(A){return new f([A|0],0>A?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return Z(y(-k));for(var A=[],I=1,C=0;k>=I;C++)A[C]=k/I|0,I*=4294967296;return new f(A,0)}function b(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return Z(b(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(A,8)),C=T,O=0;O<k.length;O+=8){var V=Math.min(8,k.length-O),x=parseInt(k.substring(O,O+V),A);8>V?(V=y(Math.pow(A,V)),C=C.j(V).add(y(x))):(C=C.j(I),C=C.add(y(x)))}return C}var T=g(0),S=g(1),q=g(16777216);i=f.prototype,i.m=function(){if(ee(this))return-Z(this).m();for(var k=0,A=1,I=0;I<this.g.length;I++){var C=this.i(I);k+=(0<=C?C:4294967296+C)*A,A*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if($(this))return"0";if(ee(this))return"-"+Z(this).toString(k);for(var A=y(Math.pow(k,6)),I=this,C="";;){var O=qe(I,A).g;I=ne(I,O.j(A));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=O,$(I))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function $(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function ee(k){return k.h==-1}i.l=function(k){return k=ne(this,k),ee(k)?-1:$(k)?0:1};function Z(k){for(var A=k.g.length,I=[],C=0;C<A;C++)I[C]=~k.g[C];return new f(I,~k.h).add(S)}i.abs=function(){return ee(this)?Z(this):this},i.add=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],C=0,O=0;O<=A;O++){var V=C+(this.i(O)&65535)+(k.i(O)&65535),x=(V>>>16)+(this.i(O)>>>16)+(k.i(O)>>>16);C=x>>>16,V&=65535,x&=65535,I[O]=x<<16|V}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ne(k,A){return k.add(Z(A))}i.j=function(k){if($(this)||$(k))return T;if(ee(this))return ee(k)?Z(this).j(Z(k)):Z(Z(this).j(k));if(ee(k))return Z(this.j(Z(k)));if(0>this.l(q)&&0>k.l(q))return y(this.m()*k.m());for(var A=this.g.length+k.g.length,I=[],C=0;C<2*A;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<k.g.length;O++){var V=this.i(C)>>>16,x=this.i(C)&65535,Gt=k.i(O)>>>16,ht=k.i(O)&65535;I[2*C+2*O]+=x*ht,oe(I,2*C+2*O),I[2*C+2*O+1]+=V*ht,oe(I,2*C+2*O+1),I[2*C+2*O+1]+=x*Gt,oe(I,2*C+2*O+1),I[2*C+2*O+2]+=V*Gt,oe(I,2*C+2*O+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new f(I,0)};function oe(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function ue(k,A){this.g=k,this.h=A}function qe(k,A){if($(A))throw Error("division by zero");if($(k))return new ue(T,T);if(ee(k))return A=qe(Z(k),A),new ue(Z(A.g),Z(A.h));if(ee(A))return A=qe(k,Z(A)),new ue(Z(A.g),A.h);if(30<k.g.length){if(ee(k)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var I=S,C=A;0>=C.l(k);)I=Ae(I),C=Ae(C);var O=He(I,1),V=He(C,1);for(C=He(C,2),I=He(I,2);!$(C);){var x=V.add(C);0>=x.l(k)&&(O=O.add(I),V=x),C=He(C,1),I=He(I,1)}return A=ne(k,O.j(A)),new ue(O,A)}for(O=T;0<=k.l(A);){for(I=Math.max(1,Math.floor(k.m()/A.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=y(I),x=V.j(A);ee(x)||0<x.l(k);)I-=C,V=y(I),x=V.j(A);$(V)&&(V=S),O=O.add(V),k=ne(k,x)}return new ue(O,k)}i.A=function(k){return qe(this,k).h},i.and=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],C=0;C<A;C++)I[C]=this.i(C)&k.i(C);return new f(I,this.h&k.h)},i.or=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],C=0;C<A;C++)I[C]=this.i(C)|k.i(C);return new f(I,this.h|k.h)},i.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),I=[],C=0;C<A;C++)I[C]=this.i(C)^k.i(C);return new f(I,this.h^k.h)};function Ae(k){for(var A=k.g.length+1,I=[],C=0;C<A;C++)I[C]=k.i(C)<<1|k.i(C-1)>>>31;return new f(I,k.h)}function He(k,A){var I=A>>5;A%=32;for(var C=k.g.length-I,O=[],V=0;V<C;V++)O[V]=0<A?k.i(V+I)>>>A|k.i(V+I+1)<<32-A:k.i(V+I);return new f(O,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,ls=f}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,ru,uT,Mh,Ap,cT,hT,fT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in _))break e;_=_[L]}c=c[c.length-1],E=_[c],p=p(E),p!=E&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,E=!1,L={next:function(){if(!E&&_<c.length){var H=_++;return{value:p(H,c[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function b(c,p,_){return c.call.apply(c.bind,arguments)}function T(c,p,_){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function S(c,p,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:T,S.apply(null,arguments)}function q(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function $(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(E,L,H){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return p.prototype[L].apply(E,ie)}}function ee(c){const p=c.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=c[E];return _}return[]}function Z(c,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(g(E)){const L=c.length||0,H=E.length||0;c.length=L+H;for(let ie=0;ie<H;ie++)c[L+ie]=E[ie]}else c.push(E)}}class ne{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function oe(c){return/^[\s\xa0]*$/.test(c)}function ue(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function qe(c){return qe[" "](c),c}qe[" "]=function(){};var Ae=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function He(c,p,_){for(const E in c)p.call(_,c[E],E,c)}function k(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let _,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(_ in E)c[_]=E[_];for(let H=0;H<I.length;H++)_=I[H],Object.prototype.hasOwnProperty.call(E,_)&&(c[_]=E[_])}}function O(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Fe;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Gt{constructor(){this.h=this.g=null}add(p,_){const E=ht.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var ht=new ne(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,Fe=new Gt,D=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(J)}};var J=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){V(_)}var p=ht;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var me=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Ie(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(Ae){e:{try{qe(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}$(Ie,te);var Te={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),it=0;function hi(c,p,_,E,L){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=L,this.key=++it,this.da=this.fa=!1}function Er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ui(c){this.src=c,this.g={},this.h=0}Ui.prototype.add=function(c,p,_,E,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ie=ws(c,p,E,L);return-1<ie?(p=c[ie],_||(p.fa=!1)):(p=new hi(p,this.src,H,!!E,L),p.fa=_,c.push(p)),p};function vs(c,p){var _=p.type;if(_ in c.g){var E=c.g[_],L=Array.prototype.indexOf.call(E,p,void 0),H;(H=0<=L)&&Array.prototype.splice.call(E,L,1),H&&(Er(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ws(c,p,_,E){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==E)return L}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),Qo={};function Ku(c,p,_,E,L){if(Array.isArray(p)){for(var H=0;H<p.length;H++)Ku(c,p[H],_,E,L);return null}return _=$u(_),c&&c[Pt]?c.K(p,_,y(E)?!!E.capture:!1,L):Un(c,p,_,!1,E,L)}function Un(c,p,_,E,L,H){if(!p)throw Error("Invalid event type");var ie=y(L)?!!L.capture:!!L,Pe=wa(c);if(Pe||(c[bs]=Pe=new Ui(c)),_=Pe.add(p,_,E,ie,H),_.proxy)return _;if(E=Yf(),_.proxy=E,E.src=c,E.listener=_,c.addEventListener)me||(L=ie),L===void 0&&(L=!1),c.addEventListener(p.toString(),E,L);else if(c.attachEvent)c.attachEvent(Es(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yf(){function c(_){return p.call(c.src,c.listener,_)}const p=Kf;return c}function Yo(c,p,_,E,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)Yo(c,p[H],_,E,L);else E=y(E)?!!E.capture:!!E,_=$u(_),c&&c[Pt]?(c=c.i,p=String(p).toString(),p in c.g&&(H=c.g[p],_=ws(H,_,E,L),-1<_&&(Er(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[p],c.h--)))):c&&(c=wa(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ws(p,_,E,L)),(_=-1<c?p[c]:null)&&va(_))}function va(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Pt])vs(p.i,c);else{var _=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(_,E,c.capture):p.detachEvent?p.detachEvent(Es(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=wa(p))?(vs(_,c),_.h==0&&(_.src=null,p[bs]=null)):Er(c)}}}function Es(c){return c in Qo?Qo[c]:Qo[c]="on"+c}function Kf(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var _=c.listener,E=c.ha||c.src;c.fa&&va(c),c=_.call(E,p)}return c}function wa(c){return c=c[bs],c instanceof Ui?c:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function $u(c){return typeof c=="function"?c:(c[Ko]||(c[Ko]=function(p){return c.handleEvent(p)}),c[Ko])}function ft(){ae.call(this),this.i=new Ui(this),this.M=this,this.F=null}$(ft,ae),ft.prototype[Pt]=!0,ft.prototype.removeEventListener=function(c,p,_,E){Yo(this,c,p,_,E)};function Ke(c,p){var _,E=c.F;if(E)for(_=[];E;E=E.F)_.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var L=p;p=new te(E,c),C(p,L)}if(L=!0,_)for(var H=_.length-1;0<=H;H--){var ie=p.g=_[H];L=En(ie,E,!0,p)&&L}if(ie=p.g=c,L=En(ie,E,!0,p)&&L,L=En(ie,E,!1,p)&&L,_)for(H=0;H<_.length;H++)ie=p.g=_[H],L=En(ie,E,!1,p)&&L}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],E=0;E<_.length;E++)Er(_[E]);delete c.g[p],c.h--}}this.F=null},ft.prototype.K=function(c,p,_,E){return this.i.add(String(c),p,!1,_,E)},ft.prototype.L=function(c,p,_,E){return this.i.add(String(c),p,!0,_,E)};function En(c,p,_,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,H=0;H<p.length;++H){var ie=p[H];if(ie&&!ie.da&&ie.capture==_){var Pe=ie.listener,Nt=ie.ha||ie.src;ie.fa&&vs(c.i,ie),L=Pe.call(Nt,E)!==!1&&L}}return L&&!E.defaultPrevented}function en(c,p,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Xu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Xu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class $f extends ae{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){ae.call(this),this.h=c,this.g={}}$(Ts,ae);var As=[];function Ss(c){He(c.g,function(p,_){this.g.hasOwnProperty(_)&&va(p)},c),c.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),Ss(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,ba=m.JSON.parse,Rs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Wo(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){te.call(this,"d")}$(zi,te);function Zo(){te.call(this,"c")}$(Zo,te);var fi={},Jo=null;function Tr(){return Jo=Jo||new ft}fi.La="serverreachability";function Ea(c){te.call(this,fi.La,c)}$(Ea,te);function Ar(c){const p=Tr();Ke(p,new Ea(p))}fi.STAT_EVENT="statevent";function Wu(c,p){te.call(this,fi.STAT_EVENT,c),this.stat=p}$(Wu,te);function ot(c){const p=Tr();Ke(p,new Wu(p,c))}fi.Ma="timingevent";function Dt(c,p){te.call(this,fi.Ma,c),this.size=p}$(Dt,te);function Tt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function el(c,p,_,E,L,H){c.info(function(){if(c.g)if(H)for(var ie="",Pe=H.split("&"),Nt=0;Nt<Pe.length;Nt++){var Le=Pe[Nt].split("=");if(1<Le.length){var Ut=Le[0];Le=Le[1];var Ot=Ut.split("_");ie=2<=Ot.length&&Ot[1]=="type"?ie+(Ut+"="+Le+"&"):ie+(Ut+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+_+`
`+ie})}function Xf(c,p,_,E,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+_+`
`+H+" "+ie})}function Sr(c,p,_,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Is(c,_)+(E?" "+E:"")})}function Zu(c,p){c.info(function(){return"TIMEOUT: "+p})}Bn.prototype.info=function(){};function Is(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var E=_[c];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return Jn(_)}catch{return p}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function mi(){}$(mi,$o),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},di=new mi;function ln(c,p,_,E){this.j=c,this.i=p,this.l=_,this.R=E||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var tl={},Ta={};function ei(c,p,_){c.L=1,c.v=Os(Tn(p)),c.m=_,c.P=!0,qi(c,null)}function qi(c,p){c.F=Date.now(),Cs(c),c.A=Tn(c.v);var _=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),ol(_.i,"t",E),c.C=0,_=c.j.J,c.h=new gt,c.g=mc(c.j,_?p:null,!c.m),0<c.O&&(c.M=new $f(S(c.Y,c,c.g),c.O)),p=c.U,_=c.g,E=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(As[0]=L.toString()),L=As);for(var H=0;H<L.length;H++){var ie=Ku(_,L[H],E||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ar(),el(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const p=this.M;p&&Hn(c)==3?p.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Hn(this.g);var p=this.g.Ba();const Xi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||ac(this.g)))){this.J||Ot!=4||p==7||(p==8||0>=Xi?Ar(3):Ar(2)),Ir(this);var _=this.g.Z();this.X=_;t:if(Ju(this)){var E=ac(this.g);c="";var L=E.length,H=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),pi(this);var ie="";break t}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(E[p],{stream:!(H&&p==L-1)});E.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Xf(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Nt=this.g;if((Pe=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Pe)){var Le=Pe;break t}}Le=null}if(_=Le)Sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,_);else{this.o=!1,this.s=3,ot(12),Qt(this),pi(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<ie.length;)if(Yt=ec(this,ie),Yt==Ta){Ot==4&&(this.s=4,ot(14),_=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==tl){this.s=4,ot(15),Sr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Sr(this.i,this.l,Yt,null),xs(this,Yt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ie.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Sr(this.i,this.l,ie,"[Invalid Chunked Response]"),Qt(this),pi(this);else if(0<ie.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),zs(Ut),Ut.M=!0,ot(11))}}else Sr(this.i,this.l,ie,null),xs(this,ie);Ot==4&&Qt(this),this.o&&!this.J&&(Ot==4?hc(this.j,this):(this.o=!1,Cs(this)))}else td(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Qt(this),pi(this)}}}catch{}finally{}};function Ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ec(c,p){var _=c.C,E=p.indexOf(`
`,_);return E==-1?Ta:(_=Number(p.substring(_,E)),isNaN(_)?tl:(E+=1,E+_>p.length?Ta:(p=p.slice(E,E+_),c.C=E+_,p)))}ln.prototype.cancel=function(){this.J=!0,Qt(this)};function Cs(c){c.S=Date.now()+c.I,tc(c,c.I)}function tc(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(S(c.ba,c),p)}function Ir(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zu(this.i,this.A),this.L!=2&&(Ar(),ot(17)),Qt(this),this.s=2,pi(this)):tc(this,this.S-c)};function pi(c){c.j.G==0||c.J||hc(c.j,c)}function Qt(c){Ir(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ss(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function xs(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||nl(_.h,c))){if(!c.K&&nl(_.h,c)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Va(_),ka(_);else break e;fl(_),ot(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(S(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $i(_,11)}else if((c.K||_.g==c)&&Va(_),!oe(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let Le=L[p];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Ut=Le[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Ot=Le[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const Xi=Le[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(E=1.5*Xi,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Yt=c.g;if(Yt){const Ei=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var H=E.h;H.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ra(H,H.h),H.h=null))}if(E.D){const ml=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(E.ya=ml,We(E.I,E.D,ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ie=c;if(E.qa=dc(E,E.J?E.ia:null,E.W),ie.K){un(E.h,ie);var Pe=ie,Nt=E.L;Nt&&(Pe.I=Nt),Pe.B&&(Ir(Pe),Cs(Pe)),E.g=ie}else uc(E);0<_.i.length&&Ma(_)}else Le[0]!="stop"&&Le[0]!="close"||$i(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?$i(_,7):cl(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}Ar(4)}catch{}}var nc=class{constructor(c,p){this.g=c,this.map=p}};function Hi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sa(c){return c.h?1:c.g?c.g.size:0}function nl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ra(c,p){c.g?c.g.add(p):c.h=p}function un(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Hi.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return ee(c.i)}function Wf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,E=0;E<_;E++)p.push(c[E]);return p}p=[],_=0;for(E in c)p[_++]=c[E];return p}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const E in c)p[_++]=E;return p}}}function rl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Ia(c),E=Wf(c),L=E.length,H=0;H<L;H++)p.call(void 0,E[H],_&&_[H],c)}var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var E=c[_].indexOf("="),L=null;if(0<=E){var H=c[_].substring(0,E);L=c[_].substring(E+1)}else H=c[_];p(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function At(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof At){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.s),this.l=c.l;var p=c.i,_=new Gi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Fi(this,_),this.m=c.m}else c&&(p=String(c).match(Ds))?(this.h=!1,Ns(this,p[1]||"",!0),this.o=zn(p[2]||""),this.g=zn(p[3]||"",!0),Cr(this,p[4]),this.l=zn(p[5]||"",!0),Fi(this,p[6]||"",!0),this.m=zn(p[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}At.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ks(p,sl,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ks(p,sl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ks(_,_.charAt(0)=="/"?Jf:al,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ks(_,Ca)),c.join("")};function Tn(c){return new At(c)}function Ns(c,p,_){c.j=_?zn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Fi(c,p,_){p instanceof Gi?(c.i=p,rc(c.i,c.h)):(_||(p=ks(p,ed)),c.i=new Gi(p,c.h))}function We(c,p,_){c.i.set(p,_)}function Os(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,ic),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ic(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,al=/[#\?:]/g,Jf=/[#\?]/g,ed=/[#\?@]/g,Ca=/#/g;function Gi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function jn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=Gi.prototype,i.add=function(c,p){jn(this),this.i=null,c=gi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Qi(c,p){jn(c),p=gi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Yi(c,p){return jn(c),p=gi(c,p),c.g.has(p)}i.forEach=function(c,p){jn(this),this.g.forEach(function(_,E){_.forEach(function(L){c.call(p,L,E,this)},this)},this)},i.na=function(){jn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const L=c[E];for(let H=0;H<L.length;H++)_.push(p[E])}return _},i.V=function(c){jn(this);let p=[];if(typeof c=="string")Yi(this,c)&&(p=p.concat(this.g.get(gi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},i.set=function(c,p){return jn(this),this.i=null,c=gi(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ol(c,p,_){Qi(c,p),0<_.length&&(c.i=null,c.g.set(gi(c,p),ee(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const H=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var L=H;ie[E]!==""&&(L+="="+encodeURIComponent(String(ie[E]))),c.push(L)}}return this.i=c.join("&")};function gi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function rc(c,p){p&&!c.j&&(jn(c),c.i=null,c.g.forEach(function(_,E){var L=E.toLowerCase();E!=L&&(Qi(this,E),ol(this,L,_))},c)),c.j=p}function Ms(c,p){const _=new Bn;if(m.Image){const E=new Image;E.onload=q(qn,_,"TestLoadImage: loaded",!0,p,E),E.onerror=q(qn,_,"TestLoadImage: error",!1,p,E),E.onabort=q(qn,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=q(qn,_,"TestLoadImage: timeout",!1,p,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function ti(c,p){const _=new Bn,E=new AbortController,L=setTimeout(()=>{E.abort(),qn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(H=>{clearTimeout(L),H.ok?qn(_,"TestPingServer: ok",!0,p):qn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),qn(_,"TestPingServer: error",!1,p)})}function qn(c,p,_,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(_)}catch{}}function Vs(){this.g=new Rs}function yi(c,p,_){const E=_||"";try{rl(c,function(L,H){let ie=L;y(L)&&(ie=Jn(L)),p.push(E+H+"="+encodeURIComponent(ie))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}$(xr,$o),xr.prototype.g=function(){return new Ki(this.l,this.j)},xr.prototype.i=(function(c){return function(){return c}})({});function Ki(c,p){ft.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ki,ft),i=Ki.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,vi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_i(this):vi(this),this.readyState==3&&ll(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},i.Qa=function(c){this.g&&(this.response=c,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vi(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ul(c){let p="";return He(c,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Lt(c,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=ul(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,p,_))}function Ye(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ye,ft);var xa=/^https?$/i,Ps=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?Xo(this.o):Xo(di),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){sc(this,H);return}if(c=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)_.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())_.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ps,p,void 0))||E||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of _)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){sc(this,H)}};function sc(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Da(c),wi(c)}function Da(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),wi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},i.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)en(c.Ea,0,c);else if(Ke(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=ie===0){var L=String(c.D).match(Ds)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!xa.test(L?L.toLowerCase():"")}_=E}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var H=2<Hn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",Da(c)}}finally{wi(c)}}}}function wi(c,p){if(c.g){Ls(c);const _=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ke(c,"ready");try{_.onreadystatechange=E}catch{}}}function Ls(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ba(p)}};function ac(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function td(c){const p={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(oe(c[E]))continue;var _=O(c[E]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[L]||[];p[L]=H,H.push(_)}k(p,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Oa(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(c&&c.concurrentRequestLimit),this.Da=new Vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oa.prototype,i.la=8,i.G=1,i.connect=function(c,p,_,E){ot(0),this.W=c,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=dc(this,null,this.W),Ma(this)};function cl(c){if(oc(c),c.G==3){var p=c.U++,_=Tn(c.I);if(We(_,"SID",c.K),We(_,"RID",p),We(_,"TYPE","terminate"),Bs(c,_),p=new ln(c,c.j,p),p.L=2,p.v=Os(Tn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=mc(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Cs(p)}fc(c)}function ka(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function oc(c){ka(c),c.u&&(m.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!Aa(c.h)&&!c.s){c.s=!0;var p=c.Ga;se||D(),de||(se(),de=!0),Fe.add(p,c),c.B=0}}function nd(c,p){return Sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(S(c.Ga,c,p),dl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ln(this,this.j,c);let H=this.o;if(this.S&&(H?(H=A(H),C(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=lc(this,L,p),_=Tn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Bs(this,_),H&&(this.O?p="headers="+encodeURIComponent(String(ul(H)))+"&"+p:this.m&&Lt(_,this.m,H)),Ra(this.h,L),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",p),We(_,"SID","null"),L.T=!0,ei(L,_,null)):ei(L,_,p),this.G=2}}else this.G==3&&(c?hl(this,c):this.i.length==0||Aa(this.h)||hl(this))};function hl(c,p){var _;p?_=p.l:_=c.U++;const E=Tn(c.I);We(E,"SID",c.K),We(E,"RID",_),We(E,"AID",c.T),Bs(c,E),c.m&&c.o&&Lt(E,c.m,c.o),_=new ln(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=lc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ra(c.h,_),ei(_,E,p)}function Bs(c,p){c.H&&He(c.H,function(_,E){We(p,E,_)}),c.l&&rl({},function(_,E){We(p,E,_)})}function lc(c,p,_){_=Math.min(c.i.length,_);var E=c.l?S(c.l.Na,c.l,c):null;e:{var L=c.i;let H=-1;for(;;){const ie=["count="+_];H==-1?0<_?(H=L[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let Pe=!0;for(let Nt=0;Nt<_;Nt++){let Le=L[Nt].g;const Ut=L[Nt].map;if(Le-=H,0>Le)H=Math.max(0,L[Nt].g-100),Pe=!1;else try{yi(Ut,ie,"req"+Le+"_")}catch{E&&E(Ut)}}if(Pe){E=ie.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,E}function uc(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;se||D(),de||(se(),de=!0),Fe.add(p,c),c.v=0}}function fl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(S(c.Fa,c),dl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),ka(this),cc(this))};function zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function cc(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Tn(c.qa);We(p,"RID","rpc"),We(p,"SID",c.K),We(p,"AID",c.T),We(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(p,"TO",c.ja),We(p,"TYPE","xmlhttp"),Bs(c,p),c.m&&c.o&&Lt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Os(Tn(p)),_.m=null,_.P=!0,qi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ka(this),fl(this),ot(19))};function Va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function hc(c,p){var _=null;if(c.g==p){Va(c),zs(c),c.g=null;var E=2}else if(nl(c.h,p))_=p.D,un(c.h,p),E=1;else return;if(c.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;E=Tr(),Ke(E,new Dt(E,_)),Ma(c)}else uc(c);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&nd(c,p)||E==2&&fl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),L){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function dl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function $i(c,p){if(c.j.info("Error code "+p),p==2){var _=S(c.fb,c),E=c.Xa;const L=!E;E=new At(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ns(E,"https"),Os(E),L?Ms(E.toString(),_):ti(E.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(p),fc(c),oc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function fc(c){if(c.G=0,c.ka=[],c.l){const p=il(c.h);(p.length!=0||c.i.length!=0)&&(Z(c.ka,p),Z(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function dc(c,p,_){var E=_ instanceof At?Tn(_):new At(_);if(E.g!="")p&&(E.g=p+"."+E.g),Cr(E,E.s);else{var L=m.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var H=new At(null);E&&Ns(H,E),p&&(H.g=p),L&&Cr(H,L),_&&(H.l=_),E=H}return _=c.D,p=c.ya,_&&p&&We(E,_,p),We(E,"VER",c.la),Bs(c,E),E}function mc(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ye(new xr({eb:_})):new Ye(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}i=pc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Pa(){}Pa.prototype.g=function(c,p){return new cn(c,p)};function cn(c,p){ft.call(this),this.g=new Oa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!oe(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!oe(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new bi(this)}$(cn,ft),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){cl(this.g)},cn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Jn(c),c=_);p.i.push(new nc(p.Ya++,c)),p.G==3&&Ma(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,cn.aa.N.call(this)};function gc(c){zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}$(gc,zi);function yc(){Zo.call(this),this.status=1}$(yc,Zo);function bi(c){this.g=c}$(bi,pc),bi.prototype.ua=function(){Ke(this.g,"a")},bi.prototype.ta=function(c){Ke(this.g,new gc(c))},bi.prototype.sa=function(c){Ke(this.g,new yc)},bi.prototype.ra=function(){Ke(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,fT=function(){return new Pa},hT=function(){return Tr()},cT=fi,Ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Mh=Rr,ji.COMPLETE="complete",uT=ji,Wo.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ru=Wo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,lT=Ye}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",p0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new ig("@firebase/firestore");function ho(){return da.logLevel}function le(i,...e){if(da.logLevel<=Ne.DEBUG){const t=e.map(gg);da.debug(`Firestore (${zo}): ${i}`,...t)}}function gr(i,...e){if(da.logLevel<=Ne.ERROR){const t=e.map(gg);da.error(`Firestore (${zo}): ${i}`,...t)}}function Io(i,...e){if(da.logLevel<=Ne.WARN){const t=e.map(gg);da.warn(`Firestore (${zo}): ${i}`,...t)}}function gg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,dT(i,s,t)}function dT(i,e,t){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw gr(s),new Error(s)}function Ve(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||dT(e,o,s)}function Ee(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _N{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new li,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new li)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ve(typeof s.accessToken=="string",31837,{l:s}),new mT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class vN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new vN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=EN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function Sp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return up(o)===up(u)?Oe(o,u):up(o)?1:-1}return Oe(i.length,e.length)}const TN=55296,AN=57343;function up(i){const e=i.charCodeAt(0);return e>=TN&&e<=AN}function Co(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="__name__";class xi{constructor(e,t,s){t===void 0?t=0:t>e.length&&pe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&pe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Oe(e.length,t.length)}static compareSegments(e,t){const s=xi.isNumericId(e),o=xi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(t)):Sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class tt extends xi{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const SN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends xi{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return SN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rp}static keyField(){return new Zt([Rp])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new re(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new re(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new re(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i,e,t){if(!t)throw new re(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function RN(i,e,t,s){if(e===!0&&s===!0)throw new re(Y.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function y0(i){if(!fe.isDocumentKey(i))throw new re(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _0(i){if(fe.isDocumentKey(i))throw new re(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function xf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":pe(12329,{type:typeof i})}function kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xf(i);throw new re(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Bu(i,e){if(!gT(i))throw new re(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new re(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-62135596800,w0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*w0);return new at(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<v0)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:xt("string",at._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new at(0,0))}static max(){return new ve(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function IN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new at(t+1,0):new at(t,s));return new hs(o,fe.empty(),e)}function CN(i){return new hs(i.readTime,i.key,_u)}class hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new hs(ve.min(),fe.empty(),_u)}static max(){return new hs(ve.max(),fe.empty(),_u)}}function xN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(i.documentKey,e.documentKey),t!==0?t:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==DN)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):W.reject(t)}static resolve(e){return new W(((t,s)=>{t(e)}))}static reject(e){return new W(((t,s)=>{s(e)}))}static waitFor(e){return new W(((t,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&t()}),(g=>s(g)))})),f=!0,u===o&&t()}))}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next((o=>o?W.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new W(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((b=>{f[y]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,t){return new W(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function ON(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function zu(i){return i==null}function rf(i){return i===0&&1/i==-1/0}function kN(i){return typeof i=="number"&&Number.isInteger(i)&&!rf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function MN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=b0(e)),e=VN(i.get(t),e);return b0(e)}function VN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case yT:t+="";break;default:t+=u}}return t}function b0(i){return i+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ys(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function PN(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function _T(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Vt(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(i){if(Ve(!!i,39018),typeof i=="string"){let e=0;const t=LN.exec(i);if(Ve(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="server_timestamp",bT="__type__",ET="__previous_value__",TT="__local_write_time__";function vg(i){return(i?.mapValue?.fields||{})[bT]?.stringValue===wT}function Nf(i){const e=i.mapValue.fields[ET];return vg(e)?Nf(e):e}function vu(i){const e=fs(i.mapValue.fields[TT].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,s,o,u,f,m,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const sf="(default)";class wu{constructor(e,t){this.projectId=e,this.database=t||sf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="__type__",BN="__max__",Th={mapValue:{}},ST="__vector__",af="value";function ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vg(i)?4:jN(i)?9007199254740991:zN(i)?10:11:pe(28295,{value:i})}function Pi(i,e){if(i===e)return!0;const t=ms(i);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=wt(o.doubleValue),m=wt(u.doubleValue);return f===m?rf(f)===rf(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(E0(f)!==E0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Pi(f[g],m[g])))return!1;return!0})(i,e);default:return pe(52216,{left:i})}}function bu(i,e){return(i.values||[]).find((t=>Pi(t,e)))!==void 0}function xo(i,e){if(i===e)return 0;const t=ms(i),s=ms(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=wt(u.integerValue||u.doubleValue),g=wt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return A0(i.timestampValue,e.timestampValue);case 4:return A0(vu(i),vu(e));case 5:return Sp(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=ds(u),g=ds(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Oe(m[y],g[y]);if(b!==0)return b}return Oe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Oe(wt(u.latitude),wt(f.latitude));return m!==0?m:Oe(wt(u.longitude),wt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return S0(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[af]?.arrayValue,b=g[af]?.arrayValue,T=Oe(y?.values?.length||0,b?.values?.length||0);return T!==0?T:S0(y,b)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Th.mapValue&&f===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(f===Th.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const S=Sp(g[T],b[T]);if(S!==0)return S;const q=xo(m[g[T]],y[b[T]]);if(q!==0)return q}return Oe(g.length,b.length)})(i.mapValue,e.mapValue);default:throw pe(23264,{he:t})}}function A0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const t=fs(i),s=fs(e),o=Oe(t.seconds,s.seconds);return o!==0?o:Oe(t.nanos,s.nanos)}function S0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=xo(t[o],s[o]);if(u)return u}return Oe(t.length,s.length)}function Do(i){return Ip(i)}function Ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=fs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ds(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return fe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Ip(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ip(t.fields[f])}`;return o+"}"})(i.mapValue):pe(61005,{value:i})}function Vh(i){switch(ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(i);return e?16+Vh(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Vh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+Vh(f)})),o})(i.mapValue);default:throw pe(13486,{value:i})}}function R0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cp(i){return!!i&&"integerValue"in i}function wg(i){return!!i&&"arrayValue"in i}function I0(i){return!!i&&"nullValue"in i}function C0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ph(i){return!!i&&"mapValue"in i}function zN(i){return(i?.mapValue?.fields||{})[AT]?.stringValue===ST}function cu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=cu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(i.arrayValue.values[t]);return e}return{...i}}function jN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=cu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ys(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(cu(this.value))}}function RT(i){const e=[];return ys(i.fields,((t,s)=>{const o=new Zt([t]);if(Ph(s)){const u=RT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ht(e,0,ve.min(),ve.min(),ve.min(),fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ht(e,1,t,ve.min(),s,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,ve.min(),ve.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,ve.min(),ve.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.position=e,this.inclusive=t}}function x0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=fe.comparator(fe.fromName(f.referenceValue),t.key):s=xo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function D0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Pi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function qN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class Ct extends IT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new FN(e,t,s):t==="array-contains"?new YN(e,s):t==="in"?new KN(e,s):t==="not-in"?new $N(e,s):t==="array-contains-any"?new XN(e,s):new Ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new GN(e,s):new QN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends IT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ui(e,t)}matches(e){return CT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(i){return i.op==="and"}function xT(i){return HN(i)&&CT(i)}function HN(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function xp(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(xT(i))return i.filters.map((e=>xp(e))).join(",");{const e=i.filters.map((t=>xp(t))).join(",");return`${i.op}(${e})`}}function DT(i,e){return i instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(i,e):i instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&DT(f,o.filters[m])),!0):!1})(i,e):void pe(19439)}function NT(i){return i instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`})(i):i instanceof ui?(function(t){return t.op.toString()+" {"+t.getFilters().map(NT).join(" ,")+"}"})(i):"Filter"}class FN extends Ct{constructor(e,t,s){super(e,t,s),this.key=fe.fromName(s.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class GN extends Ct{constructor(e,t){super(e,"in",t),this.keys=OT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QN extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=OT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function OT(i,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class YN extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&bu(t.arrayValue,this.value)}}class KN extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}}class $N extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bu(this.value.arrayValue,t)}}class XN extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function N0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new WN(i,e,t,s,o,u,f)}function bg(i){const e=Ee(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>xp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=t}return e.Te}function Eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!qN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!DT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!D0(i.startAt,e.startAt)&&D0(i.endAt,e.endAt)}function Dp(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZN(i,e,t,s,o,u,f,m){return new Ho(i,e,t,s,o,u,f,m)}function Of(i){return new Ho(i)}function O0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kT(i){return i.collectionGroup!==null}function hu(i){const e=Ee(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Zt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Eu(u,s))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new Eu(Zt.keyField(),s))}return e.Ie}function Oi(i){const e=Ee(i);return e.Ee||(e.Ee=MT(e,hu(i))),e.Ee}function JN(i){const e=Ee(i);return e.de||(e.de=MT(e,i.explicitOrderBy)),e.de}function MT(i,e){if(i.limitType==="F")return N0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Eu(o.field,u)}));const t=i.endAt?new of(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new of(i.startAt.position,i.startAt.inclusive):null;return N0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Np(i,e){const t=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function lf(i,e,t){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function kf(i,e){return Eg(Oi(i),Oi(e))&&i.limitType===e.limitType}function VT(i){return`${bg(Oi(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>NT(o))).join(", ")}]`),zu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Do(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Oi(i))}; limitType=${i.limitType})`}function Mf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):fe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of hu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=x0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,hu(s),o)||s.endAt&&!(function(f,m,g){const y=x0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,hu(s),o))})(i,e)}function eO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function PT(i){return(e,t)=>{let s=!1;for(const o of hu(i)){const u=tO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tO(i,e,t){const s=i.field.isKeyField()?fe.comparator(e.key,t.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?xo(g,y):pe(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return pe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new ct(fe.comparator);function yr(){return nO}const LT=new ct(fe.comparator);function su(...i){let e=LT;for(const t of i)e=e.insert(t.key,t);return e}function UT(i){let e=LT;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function sa(){return fu()}function BT(){return fu()}function fu(){return new ya((i=>i.toString()),((i,e)=>i.isEqual(e)))}const iO=new ct(fe.comparator),rO=new Vt(fe.comparator);function ke(...i){let e=rO;for(const t of i)e=e.add(t);return e}const sO=new Vt(Oe);function aO(){return sO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function zT(i){return{integerValue:""+i}}function oO(i,e){return kN(e)?zT(e):Tg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function lO(i,e,t){return i instanceof Tu?(function(o,u){const f={fields:{[bT]:{stringValue:wT},[TT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vg(u)&&(u=Nf(u)),u&&(f.fields[ET]=u),{mapValue:f}})(t,e):i instanceof Au?qT(i,e):i instanceof Su?HT(i,e):(function(o,u){const f=jT(o,u),m=k0(f)+k0(o.Ae);return Cp(f)&&Cp(o.Ae)?zT(m):Tg(o.serializer,m)})(i,e)}function uO(i,e,t){return i instanceof Au?qT(i,e):i instanceof Su?HT(i,e):t}function jT(i,e){return i instanceof uf?(function(s){return Cp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Tu extends Vf{}class Au extends Vf{constructor(e){super(),this.elements=e}}function qT(i,e){const t=FT(e);for(const s of i.elements)t.some((o=>Pi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Su extends Vf{constructor(e){super(),this.elements=e}}function HT(i,e){let t=FT(e);for(const s of i.elements)t=t.filter((o=>!Pi(o,s)));return{arrayValue:{values:t}}}class uf extends Vf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function k0(i){return wt(i.integerValue||i.doubleValue)}function FT(i){return wg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.field=e,this.transform=t}}function hO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Au&&o instanceof Au||s instanceof Su&&o instanceof Su?Co(s.elements,o.elements,Pi):s instanceof uf&&o instanceof uf?Pi(s.Ae,o.Ae):s instanceof Tu&&o instanceof Tu})(i.transform,e.transform)}class fO{constructor(e,t){this.version=e,this.transformResults=t}}class dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Pf{}function GT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ag(i.key,dn.none()):new ju(i.key,i.data,dn.none());{const t=i.data,s=fn.empty();let o=new Vt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(i.key,s,new On(o.toArray()),dn.none())}}function dO(i,e,t){i instanceof ju?(function(o,u,f){const m=o.value.clone(),g=V0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,t):i instanceof _s?(function(o,u,f){if(!Lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=V0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(QT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function du(i,e,t,s){return i instanceof ju?(function(u,f,m,g){if(!Lh(u.precondition,f))return m;const y=u.value.clone(),b=P0(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof _s?(function(u,f,m,g){if(!Lh(u.precondition,f))return m;const y=P0(u.fieldTransforms,g,f),b=f.data;return b.setAll(QT(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,t,s):(function(u,f,m){return Lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,t)}function mO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=jT(s.transform,o||null);u!=null&&(t===null&&(t=fn.empty()),t.set(s.field,u))}return t||null}function M0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,((u,f)=>hO(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ju extends Pf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Pf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function V0(i,e,t){const s=new Map;Ve(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,uO(f,m,t[o]))}return s}function P0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,lO(u,f,e))}return s}class Ag extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YT extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=du(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=BT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const g=GT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((t,s)=>M0(t,s)))&&Co(this.baseMutations,e.baseMutations,((t,s)=>M0(t,s)))}}class Sg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ve(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return iO})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function KT(i){switch(i){case Y.OK:return pe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pe(15467,{code:i})}}function $T(i){if(i===void 0)return gr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case It.OK:return Y.OK;case It.CANCELLED:return Y.CANCELLED;case It.UNKNOWN:return Y.UNKNOWN;case It.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case It.INTERNAL:return Y.INTERNAL;case It.UNAVAILABLE:return Y.UNAVAILABLE;case It.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case It.NOT_FOUND:return Y.NOT_FOUND;case It.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case It.ABORTED:return Y.ABORTED;case It.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case It.DATA_LOSS:return Y.DATA_LOSS;default:return pe(39323,{code:i})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new ls([4294967295,4294967295],0);function L0(i){const e=vO().encode(i),t=new oT;return t.update(e),new Uint8Array(t.digest())}function U0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class Rg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ls.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(wO)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=L0(e),[s,o]=U0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Rg(u,o,t);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const t=L0(e),[s,o]=U0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Lf(ve.min(),o,new ct(Oe),yr(),ke())}}class qu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class XT{constructor(e,t){this.targetId=e,this.Ce=t}}class WT{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class B0{constructor(){this.ve=0,this.Fe=z0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:pe(38017,{changeType:u})}})),new qu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=z0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bO{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=Ah(),this.He=Ah(),this.Ye=new ct(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Dp(u))if(s===0){const f=new fe(u.path);this.et(t,f,Ht.newNoDocument(f,ve.min()))}else Ve(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ds(s).toUint8Array()}catch(g){if(g instanceof vT)return Io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Rg(f,o,u)}catch(g){return Io(g instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Dp(m.target)){const g=new fe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ht.newNoDocument(g,e))}u.Be&&(t.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Lf(e,t,this.Ye,this.je,s);return this.je=yr(),this.Je=Ah(),this.He=Ah(),this.Ye=new ct(Oe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new B0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ah(){return new ct(fe.comparator)}function z0(){return new ct(fe.comparator)}const EO={asc:"ASCENDING",desc:"DESCENDING"},TO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AO={and:"AND",or:"OR"};class SO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Op(i,e){return i.useProto3Json||zu(e)?e:{value:e}}function cf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function RO(i,e){return cf(i,e.toTimestamp())}function Mn(i){return Ve(!!i,49232),ve.fromTimestamp((function(t){const s=fs(t);return new at(s.seconds,s.nanos)})(i))}function Ig(i,e){return kp(i,e).canonicalString()}function kp(i,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function JT(i){const e=tt.fromString(i);return Ve(a2(e),10190,{key:e.toString()}),e}function hf(i,e){return Ig(i.databaseId,e.path)}function mu(i,e){const t=JT(e);if(t.get(1)!==i.databaseId.projectId)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new fe(t2(t))}function e2(i,e){return Ig(i.databaseId,e)}function IO(i){const e=JT(i);return e.length===4?tt.emptyPath():t2(e)}function Mp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function t2(i){return Ve(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function j0(i,e,t){return{name:hf(i,e),fields:t.value.mapValue.fields}}function CO(i,e){return"found"in e?(function(s,o){Ve(!!o.found,43571),o.found.name,o.found.updateTime;const u=mu(s,o.found.name),f=Mn(o.found.updateTime),m=o.found.createTime?Mn(o.found.createTime):ve.min(),g=new fn({mapValue:{fields:o.found.fields}});return Ht.newFoundDocument(u,f,m,g)})(i,e):"missing"in e?(function(s,o){Ve(!!o.missing,3894),Ve(!!o.readTime,22933);const u=mu(s,o.missing),f=Mn(o.readTime);return Ht.newNoDocument(u,f)})(i,e):pe(7234,{result:e})}function xO(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ve(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Ve(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?Y.UNKNOWN:$T(y.code);return new re(b,y.message||"")})(f);t=new WT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=mu(i,s.document.name),u=Mn(s.document.updateTime),f=s.document.createTime?Mn(s.document.createTime):ve.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=Ht.newFoundDocument(o,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];t=new Uh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=mu(i,s.document),u=s.readTime?Mn(s.readTime):ve.min(),f=Ht.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=mu(i,s.document),u=s.removedTargetIds||[];t=new Uh([],u,o,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new _O(o,u),m=s.targetId;t=new XT(m,f)}}return t}function n2(i,e){let t;if(e instanceof ju)t={update:j0(i,e.key,e.value)};else if(e instanceof Ag)t={delete:hf(i,e.key)};else if(e instanceof _s)t={update:j0(i,e.key,e.data),updateMask:UO(e.fieldMask)};else{if(!(e instanceof YT))return pe(16599,{Vt:e.type});t={verify:hf(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw pe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:RO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pe(27497)})(i,e.precondition)),t}function DO(i,e){return i&&i.length>0?(Ve(e!==void 0,14353),i.map((t=>(function(o,u){let f=o.updateTime?Mn(o.updateTime):Mn(u);return f.isEqual(ve.min())&&(f=Mn(u)),new fO(f,o.transformResults||[])})(t,e)))):[]}function NO(i,e){return{documents:[e2(i,e.path)]}}function i2(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=e2(i,o);const u=(function(y){if(y.length!==0)return s2(ui.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(S){return{field:ts(S.field),direction:VO(S.dir)}})(b)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Op(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function OO(i,e,t,s){const{ft:o,parent:u}=i2(i,e),f={},m=[];let g=0;return t.forEach((y=>{const b="aggregate_"+g++;f[b]=y.alias,y.aggregateType==="count"?m.push({alias:b,count:{}}):y.aggregateType==="avg"?m.push({alias:b,avg:{field:ts(y.fieldPath)}}):y.aggregateType==="sum"&&m.push({alias:b,sum:{field:ts(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:f,parent:u}}function kO(i){let e=IO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ve(s===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=(function(T){const S=r2(T);return S instanceof ui&&xT(S)?S.getFilters():[S]})(t.where));let f=[];t.orderBy&&(f=(function(T){return T.map((S=>(function($){return new Eu(mo($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(S)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,zu(S)?null:S})(t.limit));let g=null;t.startAt&&(g=(function(T){const S=!!T.before,q=T.values||[];return new of(q,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const S=!T.before,q=T.values||[];return new of(q,S)})(t.endAt)),ZN(e,o,f,u,m,"F",g,y)}function MO(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function r2(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=mo(t.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(t.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=mo(t.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ct.create(mo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ui.create(t.compositeFilter.filters.map((s=>r2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(t.compositeFilter.op))})(i):pe(30097,{filter:i})}function VO(i){return EO[i]}function PO(i){return TO[i]}function LO(i){return AO[i]}function ts(i){return{fieldPath:i.canonicalString()}}function mo(i){return Zt.fromServerFormat(i.fieldPath)}function s2(i){return i instanceof Ct?(function(t){if(t.op==="=="){if(C0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NAN"}};if(I0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(C0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NAN"}};if(I0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(t.field),op:PO(t.op),value:t.value}}})(i):i instanceof ui?(function(t){const s=t.getFilters().map((o=>s2(o)));return s.length===1?s[0]:{compositeFilter:{op:LO(t.op),filters:s}}})(i):pe(54877,{filter:i})}function UO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function a2(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,s,o,u=ve.min(),f=ve.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.yt=e}}function zO(i){const e=kO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.Cn=new qO}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(hs.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class qO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o2=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(o2,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LruGarbageCollector",HO=1048576;function F0([i,e],[t,s]){const o=Oe(i,t);return o===0?Oe(e,s):o}class FO{constructor(e){this.Ir=e,this.buffer=new Vt(F0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();F0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(H0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?le(H0,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.Vr(3e5)}))}}class QO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Df.ce);const s=new FO(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(q0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),ho()<=Ne.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function YO(i,e){return new QO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.changes=new ya((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&du(s.mutation,o,On.empty(),at.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=sa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let f=su();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=sa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{t.set(f,m)}))}))}computeViews(e,t,s,o){let u=yr();const f=fu(),m=(function(){return fu()})();return t.forEach(((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof _s)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),du(b.mutation,y,b.mutation.getFieldMask(),at.now())):f.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),t.forEach(((y,b)=>m.set(y,new $O(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=fu();let o=new ct(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let b=s.get(g)||On.empty();b=m.applyToLocalView(y,b),s.set(g,b);const T=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,T=BT();b.forEach((S=>{if(!u.has(S)){const q=GT(t.get(S),s.get(S));q!==null&&T.set(S,q),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(f){return fe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):W.resolve(sa());let m=_u,g=u;return f.next((y=>W.forEach(y,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?W.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{g=g.insert(b,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((b=>({batchId:m,changes:UT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(g=>{const y=(function(T,S){return new Ho(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Ht.newInvalidDocument(b)))}));let m=su();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&du(b.mutation,y,On.empty(),at.now()),Mf(t,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return W.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Mn(o.createTime)}})(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:zO(o.bundledQuery),readTime:Mn(o.readTime)}})(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.overlays=new ct(fe.comparator),this.qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sa();return W.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=sa(),u=t.length+1,f=new fe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=sa(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=sa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return W.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new gO(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.Qr=new Vt(qt.$r),this.Ur=new Vt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new fe(new tt([])),s=new qt(t,e),o=new qt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new tt([])),s=new qt(t,e),o=new qt(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const t=new qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(qt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new pO(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,t){return W.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?_g:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Oe);return t.forEach((o=>{const u=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;fe.isDocumentKey(u)||(u=u.child(""));const f=new qt(new fe(u),0);let m=new Vt(Oe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(t.mutations,(o=>{const u=new qt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new qt(t,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.ri=e,this.docs=(function(){return new ct(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let s=yr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ht.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=yr();const f=t.path,m=new fe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||xN(CN(b),s)<=0||(o.has(b.key)||Mf(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,o){pe(9500)}ii(e,t){return W.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new nk(this)}getSize(e){return W.resolve(this.size)}}class nk extends KO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),W.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.persistence=e,this.si=new ya((t=>bg(t)),Eg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Cg,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),W.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new No(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Pr(t),W.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new JO,this.referenceDelegate=e(this),this.Pi=new ik(this),this.indexManager=new jO,this.remoteDocumentCache=(function(o){return new tk(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BO(t),this.Ii=new WO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new ek(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new rk(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class rk extends NN{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ri=new Cg,this.Vi=null}static mi(e){return new xg(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=fe.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ff{constructor(e,t){this.persistence=e,this.pi=new ya((s=>MN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=YO(this,t)}static mi(e,t){return new ff(e,t)}Ei(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return W.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?W.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,t).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vh(e.data.value)),t}br(e,t,s){return W.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xI()?8:ON(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new sk;return this.Ss(e,t,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,f,m.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(ho()<=Ne.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(ho()<=Ne.DEBUG&&le("QueryEngine","Query:",fo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=Ne.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):W.resolve())}ys(e,t){if(O0(t))return W.resolve(null);let s=Oi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=lf(t,null,"F"),s=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,m);return this.Cs(t,y,f,g.readTime)?this.ys(e,lf(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return O0(t)||o.isEqual(ve.min())?W.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(t,u);return this.Cs(t,f,s,o)?W.resolve(null):(ho()<=Ne.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(t)),this.vs(e,f,t,IN(o,_u)).next((m=>m)))}))}Ds(e,t){let s=new Vt(PT(e));return t.forEach(((o,u)=>{Mf(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return ho()<=Ne.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="LocalStore",ok=3e8;class lk{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Oe),this.xs=new ya((u=>bg(u)),Eg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function uk(i,e,t,s){return new lk(i,e,t,s)}async function u2(i,e){const t=Ee(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function ck(i,e){const t=Ee(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const T=y.batch,S=T.keys();let q=W.resolve();return S.forEach(($=>{q=q.next((()=>b.getEntry(g,$))).next((ee=>{const Z=y.docVersions.get($);Ve(Z!==null,48541),ee.version.compareTo(Z)<0&&(T.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),b.addEntry(ee)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function c2(i){const e=Ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function hk(i,e){const t=Ee(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const S=o.get(T);if(!S)return;m.push(t.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,b.addedDocuments,T))));let q=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?q=q.withResumeToken(Jt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,s)),o=o.insert(T,q),(function(ee,Z,ne){return ee.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=ok?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,q,b)&&m.push(t.Pi.updateTargetData(u,q))}));let g=yr(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(fk(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(ve.min())){const b=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function fk(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=yr();return t.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Ng,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function dk(i,e){const t=Ee(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_g),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function mk(i,e){const t=Ee(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):t.Pi.allocateTargetId(s).next((f=>(o=new rs(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Vp(i,e,t){const s=Ee(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;le(Ng,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function G0(i,e,t){const s=Ee(i);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const T=Ee(g),S=T.xs.get(b);return S!==void 0?W.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,b)})(s,f,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:ve.min(),t?u:ke()))).next((m=>(pk(s,eO(e),m),{documents:m,Qs:u})))))}function pk(i,e,t){let s=i.Os.get(e)||ve.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Q0{constructor(){this.activeTargetIds=aO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gk{constructor(){this.Mo=new Q0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="ConnectivityMonitor";class K0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Y0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Y0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function Pp(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",_k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===sf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const f=Pp(),m=this.zo(e,t.toUriEncodedString());le(cp,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=Lo(y);return this.Jo(e,m,g,s,b).then((T=>(le(cp,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Io(cp,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,t,s,o,u,f){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=_k[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class bk extends vk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=Pp();return new Promise(((m,g)=>{const y=new lT;y.setWithCredentials(!0),y.listenOnce(uT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mh.NO_ERROR:const T=y.getResponseJson();le(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case Mh.TIMEOUT:le(rn,`RPC '${e}' ${f} timed out`),g(new re(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const S=y.getStatus();if(le(rn,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q?.error;if($&&$.status&&$.message){const ee=(function(ne){const oe=ne.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(oe)>=0?oe:Y.UNKNOWN})($.status);g(new re(ee,$.message))}else g(new re(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new re(Y.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(rn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);le(rn,`RPC '${e}' ${f} sending request:`,o),y.send(t,"POST",b,s,15)}))}T_(e,t,s){const o=Pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=fT(),m=hT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const b=u.join("");le(rn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const T=f.createWebChannel(b,g);this.I_(T);let S=!1,q=!1;const $=new wk({Yo:Z=>{q?le(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(S||(le(rn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),le(rn,`RPC '${e}' stream ${o} sending:`,Z),T.send(Z))},Zo:()=>T.close()}),ee=(Z,ne,oe)=>{Z.listen(ne,(ue=>{try{oe(ue)}catch(qe){setTimeout((()=>{throw qe}),0)}}))};return ee(T,ru.EventType.OPEN,(()=>{q||(le(rn,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),ee(T,ru.EventType.CLOSE,(()=>{q||(q=!0,le(rn,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(T))})),ee(T,ru.EventType.ERROR,(Z=>{q||(q=!0,Io(rn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new re(Y.UNAVAILABLE,"The operation could not be completed")))})),ee(T,ru.EventType.MESSAGE,(Z=>{if(!q){const ne=Z.data[0];Ve(!!ne,16349);const oe=ne,ue=oe?.error||oe[0]?.error;if(ue){le(rn,`RPC '${e}' stream ${o} received error:`,ue);const qe=ue.status;let Ae=(function(A){const I=It[A];if(I!==void 0)return $T(I)})(qe),He=ue.message;Ae===void 0&&(Ae=Y.INTERNAL,He="Unknown error status: "+qe+" with message "+ue.message),q=!0,$.a_(new re(Ae,He)),T.close()}else le(rn,`RPC '${e}' stream ${o} received:`,ne),$.u_(ne)}})),ee(m,cT.STAT_EVENT,(Z=>{Z.stat===Ap.PROXY?le(rn,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===Ap.NOPROXY&&le(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(i){return new SO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="PersistentStream";class h2{constructor(e,t,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Og(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new re(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ek extends h2{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Mn(f.readTime):ve.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Mp(this.serializer),t.addTarget=(function(u,f){let m;const g=f.target;if(m=Dp(g)?{documents:NO(u,g)}:{query:i2(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZT(u,f.resumeToken);const y=Op(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=cf(u,f.snapshotVersion.toTimestamp());const y=Op(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=MO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.q_(t)}}class Tk extends h2{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=DO(e.writeResults,e.commitTime),s=Mn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Mp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>n2(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{}class Sk extends Ak{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,kp(t,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(Y.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,kp(t,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new re(Y.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Rk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class Ik{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{_a(this)&&(le(ma,"Restarting streams for network reachability change."),await(async function(g){const y=Ee(g);y.Ea.add(4),await Hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Bf(y)})(this))}))})),this.Ra=new Rk(s,o)}}async function Bf(i){if(_a(i))for(const e of i.da)await e(!0)}async function Hu(i){for(const e of i.da)await e(!1)}function f2(i,e){const t=Ee(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Pg(t)?Vg(t):Fo(t).O_()&&Mg(t,e))}function kg(i,e){const t=Ee(i),s=Fo(t);t.Ia.delete(e),s.O_()&&d2(t,e),t.Ia.size===0&&(s.O_()?s.L_():_a(t)&&t.Ra.set("Unknown"))}function Mg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(i).Y_(e)}function d2(i,e){i.Va.Ue(e),Fo(i).Z_(e)}function Vg(i){i.Va=new bO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Ra.ua()}function Pg(i){return _a(i)&&!Fo(i).x_()&&i.Ia.size>0}function _a(i){return Ee(i).Ea.size===0}function m2(i){i.Va=void 0}async function Ck(i){i.Ra.set("Online")}async function xk(i){i.Ia.forEach(((e,t)=>{Mg(i,e)}))}async function Dk(i,e){m2(i),Pg(i)?(i.Ra.ha(e),Vg(i)):i.Ra.set("Unknown")}async function Nk(i,e,t){if(i.Ra.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){le(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await df(i,s)}else if(e instanceof Uh?i.Va.Ze(e):e instanceof XT?i.Va.st(e):i.Va.tt(e),!t.isEqual(ve.min()))try{const s=await c2(i.localStore);t.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),d2(u,g);const T=new rs(b.target,g,y,b.sequenceNumber);Mg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){le(ma,"Failed to raise snapshot:",s),await df(i,s)}}async function df(i,e,t){if(!qo(e))throw e;i.Ea.add(1),await Hu(i),i.Ra.set("Offline"),t||(t=()=>c2(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(ma,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Bf(i)}))}function p2(i,e){return e().catch((t=>df(i,t,e)))}async function zf(i){const e=Ee(i),t=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_g;for(;Ok(e);)try{const o=await dk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,kk(e,o)}catch(o){await df(e,o)}g2(e)&&y2(e)}function Ok(i){return _a(i)&&i.Ta.length<10}function kk(i,e){i.Ta.push(e);const t=ps(i);t.O_()&&t.X_&&t.ea(e.mutations)}function g2(i){return _a(i)&&!ps(i).x_()&&i.Ta.length>0}function y2(i){ps(i).start()}async function Mk(i){ps(i).ra()}async function Vk(i){const e=ps(i);for(const t of i.Ta)e.ea(t.mutations)}async function Pk(i,e,t){const s=i.Ta.shift(),o=Sg.from(s,e,t);await p2(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await zf(i)}async function Lk(i,e){e&&ps(i).X_&&await(async function(s,o){if((function(f){return KT(f)&&f!==Y.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await p2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zf(s)}})(i,e),g2(i)&&y2(i)}async function X0(i,e){const t=Ee(i);t.asyncQueue.verifyOperationInProgress(),le(ma,"RemoteStore received new credentials");const s=_a(t);t.Ea.add(3),await Hu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bf(t)}async function Uk(i,e){const t=Ee(i);e?(t.Ea.delete(2),await Bf(t)):e||(t.Ea.add(2),await Hu(t),t.Ra.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(t,s,o){const u=Ee(t);return u.sa(),new Ek(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Ck.bind(null,i),t_:xk.bind(null,i),r_:Dk.bind(null,i),H_:Nk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Pg(i)?Vg(i):i.Ra.set("Unknown")):(await i.ma.stop(),m2(i))}))),i.ma}function ps(i){return i.fa||(i.fa=(function(t,s,o){const u=Ee(t);return u.sa(),new Tk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mk.bind(null,i),r_:Lk.bind(null,i),ta:Vk.bind(null,i),na:Pk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await zf(i)):(await i.fa.stop(),i.Ta.length>0&&(le(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Lg(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(i,e){if(gr("AsyncQueue",`${e}: ${i}`),qo(i))return new re(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||fe.comparator(t.key,s.key):(t,s)=>fe.comparator(t.key,s.key),this.keyedMap=su(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.ga=new ct(fe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Oo{constructor(e,t,s,o,u,f,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach((m=>{f.push({type:0,doc:m})})),new Oo(e,t,bo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class zk{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ee(t),u=o.queries;o.queries=Z0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new re(Y.ABORTED,"Firestore shutting down"))}}function Z0(){return new ya((i=>VT(i)),kf)}async function Bg(i,e){const t=Ee(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Bk,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=Ug(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&jg(t)}async function zg(i,e){const t=Ee(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function jk(i,e){const t=Ee(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&jg(t)}function qk(i,e,t){const s=Ee(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function jg(i){i.Ca.forEach((e=>{e.next()}))}var Lp,J0;(J0=Lp||(Lp={})).Ma="default",J0.Cache="cache";class qg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.key=e}}class v2{constructor(e){this.key=e}}class Hk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=PT(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new W0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const S=o.get(b),q=Mf(this.query,T)?T:null,$=!!S&&this.mutatedKeys.has(S.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Z=!1;S&&q?S.data.isEqual(q.data)?$!==ee&&(s.track({type:3,doc:q}),Z=!0):this.su(S,q)||(s.track({type:2,doc:q}),Z=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(m=!0)):!S&&q?(s.track({type:0,doc:q}),Z=!0):S&&!q&&(s.track({type:1,doc:S}),Z=!0,(g||y)&&(m=!0)),Z&&(q?(f=f.add(q),u=ee?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(q,$){const ee=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:Z})}};return ee(q)-ee($)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Oo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new v2(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new _2(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class Fk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Gk{constructor(e){this.key=e,this.hu=!1}}class Qk{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ya((m=>VT(m)),kf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(fe.comparator),this.Au=new Map,this.Ru=new Cg,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yk(i,e,t=!0){const s=S2(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await w2(s,e,t,!0),o}async function Kk(i,e){const t=S2(i);await w2(t,e,!0,!1)}async function w2(i,e,t,s){const o=await mk(i.localStore,Oi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await $k(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&f2(i.remoteStore,o),m}async function $k(i,e,t,s,o){i.pu=(T,S,q)=>(async function(ee,Z,ne,oe){let ue=Z.view.ru(ne);ue.Cs&&(ue=await G0(ee.localStore,Z.query,!1).then((({documents:k})=>Z.view.ru(k,ue))));const qe=oe&&oe.targetChanges.get(Z.targetId),Ae=oe&&oe.targetMismatches.get(Z.targetId)!=null,He=Z.view.applyChanges(ue,ee.isPrimaryClient,qe,Ae);return tb(ee,Z.targetId,He.au),He.snapshot})(i,T,S,q);const u=await G0(i.localStore,e,!0),f=new Hk(e,u.Qs),m=f.ru(u.documents),g=qu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);tb(i,t,y.au);const b=new Fk(e,t,f);return i.Tu.set(e,b),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function Xk(i,e,t){const s=Ee(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!kf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&kg(s.remoteStore,o.targetId),Up(s,o.targetId)})).catch(jo)):(Up(s,o.targetId),await Vp(s.localStore,o.targetId,!0))}async function Wk(i,e){const t=Ee(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),kg(t.remoteStore,s.targetId))}async function Zk(i,e,t){const s=s4(i);try{const o=await(function(f,m){const g=Ee(f),y=at.now(),b=m.reduce(((q,$)=>q.add($.key)),ke());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let $=yr(),ee=ke();return g.Ns.getEntries(q,b).next((Z=>{$=Z,$.forEach(((ne,oe)=>{oe.isValidDocument()||(ee=ee.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,$))).next((Z=>{T=Z;const ne=[];for(const oe of m){const ue=mO(oe,T.get(oe.key).overlayedDocument);ue!=null&&ne.push(new _s(oe.key,ue,RT(ue.value.mapValue),dn.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,ne,m)})).next((Z=>{S=Z;const ne=Z.applyToLocalDocumentSet(T,ee);return g.documentOverlayCache.saveOverlays(q,Z.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:UT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Oe)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,t),await Fu(s,o.changes),await zf(s.remoteStore)}catch(o){const u=Ug(o,"Failed to persist write");t.reject(u)}}async function b2(i,e){const t=Ee(i);try{const s=await hk(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=t.Au.get(u);f&&(Ve(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ve(f.hu,14607):o.removedDocuments.size>0&&(Ve(f.hu,42227),f.hu=!1))})),await Fu(t,s,e)}catch(s){await jo(s)}}function eb(i,e,t){const s=Ee(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ee(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&jg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Jk(i,e,t){const s=Ee(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(fe.comparator);f=f.insert(u,Ht.newNoDocument(u,ve.min()));const m=ke().add(u),g=new Lf(ve.min(),new Map,new ct(Oe),f,m);await b2(s,g),s.du=s.du.remove(u),s.Au.delete(e),Fg(s)}else await Vp(s.localStore,e,!1).then((()=>Up(s,e,t))).catch(jo)}async function e4(i,e){const t=Ee(i),s=e.batch.batchId;try{const o=await ck(t.localStore,e);T2(t,s,null),E2(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Fu(t,o)}catch(o){await jo(o)}}async function t4(i,e,t){const s=Ee(i);try{const o=await(function(f,m){const g=Ee(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ve(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);T2(s,e,t),E2(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Fu(s,o)}catch(o){await jo(o)}}function E2(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function T2(i,e,t){const s=Ee(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Up(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||A2(i,s)}))}function A2(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(kg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Fg(i))}function tb(i,e,t){for(const s of t)s instanceof _2?(i.Ru.addReference(s.key,e),n4(i,s)):s instanceof v2?(le(Hg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||A2(i,s.key)):pe(19791,{wu:s})}function n4(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(le(Hg,"New document in limbo: "+t),i.Eu.add(s),Fg(i))}function Fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new fe(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new Gk(t)),i.du=i.du.insert(t,s),f2(i.remoteStore,new rs(Oi(Of(t.path)),s,"TargetPurposeLimboResolution",Df.ce))}}async function Fu(i,e,t){const s=Ee(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Dg.As(g.targetId,y);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const b=Ee(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(y,(S=>W.forEach(S.Es,(q=>b.persistence.referenceDelegate.addReference(T,S.targetId,q))).next((()=>W.forEach(S.ds,(q=>b.persistence.referenceDelegate.removeReference(T,S.targetId,q)))))))))}catch(T){if(!qo(T))throw T;le(Ng,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const q=b.Ms.get(S),$=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(S,ee)}}})(s.localStore,u))}async function i4(i,e){const t=Ee(i);if(!t.currentUser.isEqual(e)){le(Hg,"User change. New user:",e.toKey());const s=await u2(t.localStore,e);t.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new re(Y.CANCELLED,f))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fu(t,s.Ls)}}function r4(i,e){const t=Ee(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const m=t.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function S2(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=b2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jk.bind(null,e),e.Pu.H_=jk.bind(null,e.eventManager),e.Pu.yu=qk.bind(null,e.eventManager),e}function s4(i){const e=Ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t4.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return uk(this.persistence,new ak,e.initialUser,this.serializer)}Cu(e){return new l2(xg.mi,this.serializer)}Du(e){return new gk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class a4 extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof ff,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new l2((s=>ff.mi(s,t)),this.serializer)}}class Bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i4.bind(null,this.syncEngine),await Uk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zk})()}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),s=(function(u){return new bk(u)})(e.databaseInfo);return(function(u,f,m,g){return new Sk(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,f,m){return new Ik(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>eb(this.syncEngine,t,0)),(function(){return K0.v()?new K0:new yk})())}createSyncEngine(e,t){return(function(o,u,f,m,g,y,b){const T=new Qk(o,u,f,m,g,y);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ee(t);le(ma,"RemoteStore shutting down."),s.Ea.add(5),await Hu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const f=Ee(o),m={documents:u.map((T=>hf(f.serializer,T)))},g=await f.Ho("BatchGetDocuments",f.serializer.databaseId,tt.emptyPath(),m,u.length),y=new Map;g.forEach((T=>{const S=CO(f.serializer,T);y.set(S.key.toString(),S)}));const b=[];return u.forEach((T=>{const S=y.get(T.toString());Ve(!!S,55234,{key:T}),b.push(S)})),b})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ag(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=fe.fromPath(s);this.mutations.push(new YT(o,this.precondition(o)))})),await(async function(s,o){const u=Ee(s),f={writes:o.map((m=>n2(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,tt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pe(50498,{Gu:e.constructor.name});t=ve.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new re(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ve.min())?dn.exists(!1):dn.updateTime(t):dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ve.min()))throw new re(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(t)}return dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Og(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new o4(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!zu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!KT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class u4{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ug(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fp(i,e){i.asyncQueue.verifyOperationInProgress(),le(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await u2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function nb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await c4(i);le(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>X0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>X0(e.remoteStore,o))),i._onlineComponents=e}async function c4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(gs,"Using user provided OfflineComponentProvider");try{await fp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await fp(i,new mf)}}else le(gs,"Using default OfflineComponentProvider"),await fp(i,new a4(void 0));return i._offlineComponents}async function Qg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(gs,"Using user provided OnlineComponentProvider"),await nb(i,i._uninitializedComponentsProvider._online)):(le(gs,"Using default OnlineComponentProvider"),await nb(i,new Bp))),i._onlineComponents}function h4(i){return Qg(i).then((e=>e.syncEngine))}function R2(i){return Qg(i).then((e=>e.datastore))}async function pf(i){const e=await Qg(i),t=e.eventManager;return t.onListen=Yk.bind(null,e.syncEngine),t.onUnlisten=Xk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Kk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Wk.bind(null,e.syncEngine),t}function f4(i,e,t={}){const s=new li;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new Gg({next:S=>{b.Nu(),f.enqueueAndForget((()=>zg(u,T)));const q=S.docs.has(m);!q&&S.fromCache?y.reject(new re(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&S.fromCache&&g&&g.source==="server"?y.reject(new re(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new qg(Of(m.path),b,{includeMetadataChanges:!0,qa:!0});return Bg(u,T)})(await pf(i),i.asyncQueue,e,t,s))),s.promise}function d4(i,e,t={}){const s=new li;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new Gg({next:S=>{b.Nu(),f.enqueueAndForget((()=>zg(u,T))),S.fromCache&&g.source==="server"?y.reject(new re(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new qg(m,b,{includeMetadataChanges:!0,qa:!0});return Bg(u,T)})(await pf(i),i.asyncQueue,e,t,s))),s.promise}function m4(i,e,t){const s=new li;return i.asyncQueue.enqueueAndForget((async()=>{try{const o=await R2(i);s.resolve((async function(f,m,g){const y=Ee(f),{request:b,gt:T,parent:S}=OO(y.serializer,JN(m),g);y.connection.$o||delete b.parent;const q=(await y.Ho("RunAggregationQuery",y.serializer.databaseId,S,b,1)).filter((ee=>!!ee.result));Ve(q.length===1,64727);const $=q[0].result?.aggregateFields;return Object.keys($).reduce(((ee,Z)=>(ee[T[Z]]=$[Z],ee)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firestore.googleapis.com",rb=!0;class sb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C2,this.ssl=rb}else this.host=e.host,this.ssl=e.ssl??rb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HO)throw new re(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gN;switch(s.type){case"firstParty":return new wN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=ib.get(t);s&&(le("ComponentProvider","Removing Datastore"),ib.delete(t),s.terminate())})(this),Promise.resolve()}}function p4(i,e,t,s={}){i=kn(i,jf);const o=Lo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(yE(`https://${m}`),_E("Firestore",!0)),u.host!==C2&&u.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ua(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=sn.MOCK_USER;else{y=wI(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new re(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(T)}i._authCredentials=new yN(new mT(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bu(t,pt._jsonSchema))return new pt(e,s||null,new fe(tt.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:xt("string",pt._jsonSchemaVersion),referencePath:xt("string")};class us extends br{constructor(e,t,s){super(e,t,Of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new fe(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Yg(i,e,...t){if(i=bt(i),pT("collection","path",e),i instanceof jf){const s=tt.fromString(e,...t);return _0(s),new us(i,null,s)}{if(!(i instanceof pt||i instanceof us))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return _0(s),new us(i.firestore,null,s)}}function Ru(i,e,...t){if(i=bt(i),arguments.length===1&&(e=yg.newId()),pT("doc","path",e),i instanceof jf){const s=tt.fromString(e,...t);return y0(s),new pt(i,null,new fe(s))}{if(!(i instanceof pt||i instanceof us))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return y0(s),new pt(i.firestore,i instanceof us?i.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="AsyncQueue";class ob{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Og(this,"async_queue_retry"),this._c=()=>{const s=hp();s&&le(ab,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;le(ab,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",lb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Lg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&pe(47125,{Pc:lb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function lb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class _r extends jf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ob,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ob(e),this._firestoreClient=void 0,await e}}}function g4(i,e){const t=typeof i=="object"?i:EE(),s=typeof i=="string"?i:sf,o=sg(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_I("firestore");u&&p4(o,...u)}return o}function Go(i){if(i._terminated)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||y4(i),i._firestoreClient}function y4(i){const e=i._freezeSettings(),t=(function(o,u,f,m){return new UN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,I2(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new u4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class v4{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Jt.fromBase64String(e))}catch(t){throw new re(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:xt("string",Nn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function w4(){return new Gu(Rp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:xt("string",ki._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Mi(e.vectorValues);throw new re(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:xt("string",Mi._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^__.*__$/;class E4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new ju(e,this.data,t,this.fieldTransforms)}}class x2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:i})}}class Kg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D2(this.Ac)&&b4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class T4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Uf(e)}Cc(e,t,s,o=!1){return new Kg({Ac:e,methodName:t,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hf(i){const e=i._freezeSettings(),t=Uf(i._databaseId);return new T4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $g(i,e,t,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Wg("Data must be an object, but it was:",f,s);const m=N2(s,f);let g,y;if(u.merge)g=new On(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const S=zp(e,T,t);if(!f.contains(S))throw new re(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);k2(b,S)||b.push(S)}g=new On(b),y=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=f.fieldTransforms;return new E4(new fn(m),g,y)}class Ff extends qf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}class Xg extends qf{_toFieldTransform(e){return new cO(e.path,new Tu)}isEqual(e){return e instanceof Xg}}function A4(i,e,t,s){const o=i.Cc(1,e,t);Wg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();ys(s,((g,y)=>{const b=Zg(e,g,t);y=bt(y);const T=o.yc(b);if(y instanceof Ff)u.push(b);else{const S=Qu(y,T);S!=null&&(u.push(b),f.set(b,S))}}));const m=new On(u);return new x2(f,m,o.fieldTransforms)}function S4(i,e,t,s,o,u){const f=i.Cc(1,e,t),m=[zp(e,s,t)],g=[o];if(u.length%2!=0)throw new re(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(zp(e,u[S])),g.push(u[S+1]);const y=[],b=fn.empty();for(let S=m.length-1;S>=0;--S)if(!k2(y,m[S])){const q=m[S];let $=g[S];$=bt($);const ee=f.yc(q);if($ instanceof Ff)y.push(q);else{const Z=Qu($,ee);Z!=null&&(y.push(q),b.set(q,Z))}}const T=new On(y);return new x2(b,T,f.fieldTransforms)}function R4(i,e,t,s=!1){return Qu(t,i.Cc(s?4:3,e))}function Qu(i,e){if(O2(i=bt(i)))return Wg("Unsupported field value:",e,i),N2(i,e);if(i instanceof qf)return(function(s,o){if(!D2(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Qu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:cf(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:ZT(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,m){return{mapValue:{fields:{[AT]:{stringValue:ST},[af]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${xf(s)}`)})(i,e)}function N2(i,e){const t={};return _T(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,((s,o)=>{const u=Qu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function O2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof ki||i instanceof Nn||i instanceof pt||i instanceof qf||i instanceof Mi)}function Wg(i,e,t){if(!O2(t)||!gT(t)){const s=xf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function zp(i,e,t){if((e=bt(e))instanceof Gu)return e._internalPath;if(typeof e=="string")return Zg(i,e);throw gf("Field path arguments must be of type string or ",i,!1,void 0,t)}const I4=new RegExp("[~\\*/\\[\\]]");function Zg(i,e,t){if(e.search(I4)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Gu(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function gf(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new re(Y.INVALID_ARGUMENT,m+i+g)}function k2(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new C4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class C4 extends yf{data(){return super.data()}}function Gf(i,e){return typeof e=="string"?Zg(i,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new re(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class ey extends Jg{}function V2(i,e,...t){let s=[];e instanceof Jg&&s.push(e),s=s.concat(t),(function(u){const f=u.filter((g=>g instanceof ty)).length,m=u.filter((g=>g instanceof Qf)).length;if(f>1||f>0&&m>0)throw new re(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Qf extends ey{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Qf(e,t,s)}_apply(e){const t=this._parse(e);return P2(e._query,t),new br(e.firestore,e.converter,Np(e._query,t))}_parse(e){const t=Hf(e.firestore);return(function(u,f,m,g,y,b,T){let S;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new re(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){hb(T,b);const $=[];for(const ee of T)$.push(cb(g,u,ee));S={arrayValue:{values:$}}}else S=cb(g,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||hb(T,b),S=R4(m,f,T,b==="in"||b==="not-in");return Ct.create(y,b,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function x4(i,e,t){const s=e,o=Gf("where",i);return Qf._create(o,s,t)}class ty extends Jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ty(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)P2(f,g),f=Np(f,g)})(e._query,t),new br(e.firestore,e.converter,Np(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ny extends ey{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ny(e,t)}_apply(e){const t=(function(o,u,f){if(o.startAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(u,f)})(e._query,this._field,this._direction);return new br(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ho(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Rh(i,e="asc"){const t=e,s=Gf("orderBy",i);return ny._create(s,t)}class iy extends ey{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new iy(e,t,s)}_apply(e){return new br(e.firestore,e.converter,lf(e._query,this._limit,this._limitType))}}function D4(i){return iy._create("limit",i,"F")}function cb(i,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new re(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kT(e)&&t.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!fe.isDocumentKey(s))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return R0(i,new fe(s))}if(t instanceof pt)return R0(i,t._key);throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(t)}.`)}function hb(i,e){if(!Array.isArray(i)||i.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P2(i,e){const t=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class L2{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[af].arrayValue?.values?.map((s=>wt(s.doubleValue)));return new Mi(t)}convertGeoPoint(e){return new ki(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Nf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Ve(a2(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new fe(s.popFirst(5));return o.isEqual(t)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class N4 extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function O4(){return new _4("count")}class po{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends yf{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:xt("string",cs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Bh extends cs{data(e={}){return super.data(e)}}class oa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Bh(this._firestore,this._userDataWriter,s.key,s,new po(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:k4(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(i){i=kn(i,pt);const e=kn(i.firestore,_r);return f4(Go(e),i._key).then((t=>z2(e,i,t)))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:xt("string",oa._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Yu extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function V4(i){i=kn(i,br);const e=kn(i.firestore,_r),t=Go(e),s=new Yu(e);return M2(i._query),d4(t,i._query).then((o=>new oa(e,s,i,o)))}function U2(i,e,t){i=kn(i,pt);const s=kn(i.firestore,_r),o=ry(i.converter,e,t);return B2(s,[$g(Hf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,dn.none())])}function P4(i,e){const t=kn(i.firestore,_r),s=Ru(i),o=ry(i.converter,e);return B2(t,[$g(Hf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then((()=>s))}function L4(i,...e){i=bt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ub(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ub(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(i instanceof pt)f=kn(i.firestore,_r),m=Of(i._key.path),u={next:g=>{e[s]&&e[s](z2(f,i,g))},error:e[s+1],complete:e[s+2]};else{const g=kn(i,br);f=kn(g.firestore,_r),m=g._query;const y=new Yu(f);u={next:b=>{e[s]&&e[s](new oa(f,y,g,b))},error:e[s+1],complete:e[s+2]},M2(i._query)}return(function(y,b,T,S){const q=new Gg(S),$=new qg(b,q,T);return y.asyncQueue.enqueueAndForget((async()=>Bg(await pf(y),$))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>zg(await pf(y),$)))}})(Go(f),m,o,u)}function B2(i,e){return(function(s,o){const u=new li;return s.asyncQueue.enqueueAndForget((async()=>Zk(await h4(s),o,u))),u.promise})(Go(i),e)}function z2(i,e,t){const s=t.docs.get(e._key),o=new Yu(i);return new cs(i,o,e._key,s,new po(t.hasPendingWrites,t.fromCache),e.converter)}function U4(i){return B4(i,{count:O4()})}function B4(i,e){const t=kn(i.firestore,_r),s=Go(t),o=PN(e,((u,f)=>new yO(f,u.aggregateType,u._internalFieldPath)));return m4(s,i._query,o).then((u=>(function(m,g,y){const b=new Yu(m);return new v4(g,b,y)})(t,i,u)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={maxAttempts:5};function ou(i,e){if((i=bt(i)).firestore!==e)throw new re(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hf(e)}get(e){const t=ou(e,this._firestore),s=new N4(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return pe(24041);const u=o[0];if(u.isFoundDocument())return new yf(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new yf(this._firestore,s,t._key,null,t.converter);throw pe(18433,{doc:u})}))}set(e,t,s){const o=ou(e,this._firestore),u=ry(o.converter,t,s),f=$g(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,t,s,...o){const u=ou(e,this._firestore);let f;return f=typeof(t=bt(t))=="string"||t instanceof Gu?S4(this._dataReader,"Transaction.update",u._key,t,s,o):A4(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=ou(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends j4{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ou(e,this._firestore),s=new Yu(this._firestore);return super.get(e).then((o=>new cs(this._firestore,s,t._key,o._document,new po(!1,!1),t.converter)))}}function H4(i,e,t){i=kn(i,_r);const s={...z4,...t};return(function(u){if(u.maxAttempts<1)throw new re(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const g=new li;return u.asyncQueue.enqueueAndForget((async()=>{const y=await R2(u);new l4(u.asyncQueue,y,m,f,g).ju()})),g.promise})(Go(i),(o=>e(new q4(i,o))),s)}function _f(){return new Xg("serverTimestamp")}(function(e,t=!0){(function(o){zo=o})(Uo),So(new ca("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _r(new _N(s.getProvider("auth-internal")),new bN(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new re(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),os(m0,p0,e),os(m0,p0,"esm2020")})();const F4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=",G4={apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"};function Q4(){const i=Me.useMemo(()=>Fw().length?Fw()[0]:bE(G4),[]),e=Me.useMemo(()=>mN(i),[i]),t=Me.useMemo(()=>g4(i),[i]);return{app:i,auth:e,db:t}}function Y4(i=900){const[e,t]=Me.useState(!1);return Me.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=u=>t(u.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}function fb({open:i,title:e,onClose:t,children:s}){return i?P.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:P.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:o=>o.stopPropagation(),children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[P.jsx("strong",{style:{fontSize:16},children:e}),P.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid var(--stroke)",background:"#18181b",color:"#fafafa",padding:"6px 10px"},children:"Cerrar"})]}),P.jsx("div",{style:{padding:12},children:s})]})}):null}function K4(){return P.jsxs("div",{className:"brand",children:[P.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:P.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),P.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}const $4=P.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:P.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),X4=P.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:P.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})}),db=new cr;async function W4(i){try{await ED(i,db)}catch(e){e.code==="auth/popup-blocked"||e.code==="auth/cancelled-popup-request"||e.code==="auth/operation-not-supported-in-this-environment"?await CD(i,db):xh(Ch(e))}}async function Z4(i,e,t,s){const o=Yg(i,"spins"),u=Ru(i,"userstats",e);await P4(o,{uid:e,...s,createdAt:_f()}),await H4(i,async f=>{const m=await f.get(u),g=m.exists()?m.data():{totalScore:0,totalSpins:0,displayName:t||"Annimo"},y={displayName:t||g.displayName||"Annimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:_f()};f.set(u,y,{merge:!0})})}async function J4(i){const e=V2(Yg(i,"userstats"),Rh("totalScore","desc"),Rh("totalSpins","asc"),Rh("updatedAt","asc"),Rh(w4(),"asc"),D4(10));return(await V4(e)).docs.map(s=>({id:s.id,...s.data()}))}async function eM(i,e){const t=V2(Yg(i,"userstats"),x4("totalScore",">",e||0));return((await U4(t)).data().count||0)+1}function mb({auth:i,db:e,onReady:t}){const[s,o]=Me.useState("login"),[u,f]=Me.useState(""),[m,g]=Me.useState(""),[y,b]=Me.useState(""),[T,S]=Me.useState("X"),[q,$]=Me.useState(""),[ee,Z]=Me.useState(""),[ne,oe]=Me.useState(!1),[ue,qe]=Me.useState(!1),Ae=Me.useCallback(async(C,O)=>{await U2(Ru(e,"users",C),{...O,createdAt:_f()},{merge:!0})},[e]),I=s==="login"?async()=>{oe(!0),Z("");try{await Xx(i,u,m),t?.()}catch(C){xh(Ch(C))}finally{oe(!1)}}:s==="register"?async()=>{oe(!0),Z("");try{const C=(y||"").trim();if(!C){await Ao.fire({icon:"warning",title:"Falta tu nombre",text:"Por favor escribe tu primer nombre antes de registrarte.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"});return}const O=await $x(i,u,m);await Zx(O.user,{displayName:C}),await Ae(O.user.uid,{displayName:C,gender:T,city:q}),t?.()}catch(C){xh(Ch(C))}finally{oe(!1)}}:async()=>{oe(!0),Z("");try{await Kx(i,u),Ao.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo est registrado, recibirs un enlace para restablecer tu contrasea.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(C){xh(Ch(C))}finally{oe(!1)}};return P.jsxs("section",{className:"auth-card",children:[P.jsxs("header",{className:"card-head",children:[P.jsx("h1",{children:s==="login"?"Bienvenido":s==="register"?"Crear cuenta":"Recuperar acceso"}),P.jsx("p",{className:"muted",children:s==="login"?"Inicia sesin para continuar":s==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contrasea"})]}),P.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(C=>P.jsx("button",{type:"button",onClick:()=>o(C),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:C===s?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:C===s?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:C===s?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:C==="login"?"Login":C==="register"?"Registro":"Reset"},C))}),ee&&P.jsx("div",{className:"alert",style:{marginTop:10},children:ee}),P.jsxs("form",{className:"form",onSubmit:C=>{C.preventDefault();const O=C.currentTarget;if(!O.checkValidity()){O.reportValidity();return}I()},noValidate:!0,style:{marginTop:12},children:[P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"email",children:"Correo"}),P.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:u,onChange:C=>f(C.target.value)})]}),s!=="reset"&&P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"password",children:"Contrasea"}),P.jsxs("div",{className:"pwd",children:[P.jsx("input",{id:"password",name:"password",type:ue?"text":"password",placeholder:"",autoComplete:s==="login"?"current-password":"new-password",required:!0,value:m,onChange:C=>g(C.target.value)}),P.jsx("button",{type:"button",className:"icon-btn","aria-label":ue?"Ocultar contrasea":"Mostrar contrasea",onClick:()=>qe(C=>!C),style:{background:"transparent"},children:ue?X4:$4})]})]}),s==="register"&&P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"displayName",children:"Nombre"}),P.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:y,onChange:C=>{const O=C.target.value.replace(/\s.*/,"");b(O)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"city",children:"Ciudad"}),P.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:q,onChange:C=>$(C.target.value)})]}),P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"gender",children:"Gnero"}),P.jsxs("div",{style:{display:"flex",gap:10,rowGap:6,flexWrap:"wrap",background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:[P.jsxs("button",{type:"button",onClick:()=>S("M"),style:{background:T==="M"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:T==="M"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:T==="M"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:[P.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("path",{d:"M16 8v-4h-4"}),P.jsx("line",{x1:"16",y1:"8",x2:"21",y2:"3"})]}),"Masculino"]}),P.jsxs("button",{type:"button",onClick:()=>S("F"),style:{background:T==="F"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:T==="F"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:T==="F"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:[P.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("path",{d:"M12 16v-4"}),P.jsx("path",{d:"M9 20h6"})]}),"Femenino"]}),P.jsxs("button",{type:"button",onClick:()=>S("X"),style:{background:T==="X"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:T==="X"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:T==="X"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:[P.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("path",{d:"M8 12h8"}),P.jsx("path",{d:"M12 8v8"})]}),"Prefiero no decir"]})]})]})]}),P.jsx("button",{className:"btn",disabled:ne,children:ne?"Procesando":s==="login"?"Ingresar":s==="register"?"Crear cuenta":"Enviar correo"}),s==="login"&&P.jsxs("button",{type:"button",onClick:()=>W4(i),style:{marginTop:10,width:"100%",height:46,borderRadius:12,border:"1px solid var(--stroke)",background:"#0f152d",color:"#e8ecf4",fontWeight:800,letterSpacing:.3,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},"aria-label":"Continuar con Google",children:[P.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":!0,children:[P.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.03,6.053,28.715,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),P.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.146,18.961,14,24,14c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.03,6.053,28.715,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),P.jsx("path",{fill:"#4CAF50",d:"M24,44c4.646,0,8.902-1.785,12.102-4.689l-5.586-4.727C28.471,36.977,26.345,38,24,38 c-5.202,0-9.607-3.317-11.264-7.946l-6.493,5.013C9.556,39.556,16.227,44,24,44z"}),P.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.236-2.231,4.166-4.187,5.584l0.003-0.002l5.586,4.727 C35.971,38.495,44,32,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Continuar con Google"]}),s==="login"&&P.jsxs("p",{className:"muted center mt-16",children:["No tienes cuenta?"," ",P.jsx("a",{className:"link",href:"#",onClick:C=>{C.preventDefault(),o("register")},children:"Crear cuenta"})," ",""," ",P.jsx("a",{className:"link",href:"#",onClick:C=>{C.preventDefault(),o("reset")},children:"Olvidaste tu contrasea?"})]})]})]})}function tM({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?P.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:""}):null}function Ih({db:i,currentUser:e,myStats:t}){const[s,o]=Me.useState([]),[u,f]=Me.useState(!1),[m,g]=Me.useState(null),[y,b]=Me.useState(null),T=Me.useCallback(async()=>{f(!0),g(null);try{const ne=await J4(i);o(ne)}catch(ne){console.error("Top10 load failed:",ne),g("Error al consultar los datos del Top 10. Verifica tu conexin o permisos de Firebase."),o([])}finally{f(!1)}},[i]);Me.useEffect(()=>{T();const ne=()=>T();return window.addEventListener("reload-top10",ne),()=>window.removeEventListener("reload-top10",ne)},[T]),Me.useEffect(()=>{(async()=>{if(!e){b(null);return}if(s.some(oe=>oe.id===e.uid)){b(null);return}try{const oe=await eM(i,t?.totalScore||0);b(oe)}catch(oe){console.error("rank error:",oe),b(null)}})()},[i,s,e,t?.totalScore]);const S=(ne,oe,ue={})=>P.jsxs("tr",{style:{borderBottom:"1px solid #222",background:ue.highlight?"rgba(255,255,255,0.06)":"transparent"},children:[P.jsxs("td",{style:{padding:"6px 8px"},children:["#",oe]}),P.jsx("td",{style:{padding:"6px 8px"},children:P.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[P.jsx(tM,{rank:oe}),P.jsx("span",{children:ne.displayName||ne.id})]})}),P.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:P.jsx("b",{children:ne.totalScore||0})}),P.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:ne.totalSpins||0})]},ue.key||ne.id),q=!!e,ee=(q?s.findIndex(ne=>ne.id===e.uid):-1)>=0,Z=q?{id:e.uid,displayName:t?.displayName||e.displayName||e.email,totalScore:t?.totalScore||0,totalSpins:t?.totalSpins||0}:null;return P.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[P.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),P.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:T,children:"Actualizar"})]}),u&&P.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando"}),m&&P.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:m}),P.jsx("div",{className:"table-wrap",children:P.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[P.jsx("thead",{children:P.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"#"}),P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Nombre"}),P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Score total"}),P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Giros totales"})]})}),P.jsxs("tbody",{children:[s.map((ne,oe)=>S(ne,oe+1)),q&&!ee&&Z&&P.jsxs(P.Fragment,{children:[P.jsx("tr",{children:P.jsx("td",{colSpan:4,style:{padding:4}})}),S(Z,y??"",{key:"me",highlight:!0})]})]})]})})]})}const si=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catlogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Polticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function pb(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}function nM(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}function gb({onResult:i}){const[e,t]=Me.useState(!1),[s,o]=Me.useState(0),u=360/si.length,f=36;function m(y){const b=u*Math.PI/180,T=2*f*Math.sin(b/2)*.9,$=Math.min(5.2,T/(.6*Math.max(1,y.length)));return Math.max(3.2,$)}const g=()=>{if(e)return;t(!0);const y=5+Math.floor(Math.random()*4),b=Math.floor(Math.random()*si.length),T=y*360+(si.length-b)*u-u/2,S=s+T;o(S),setTimeout(()=>{t(!1);const q=(S%360+360)%360,$=(si.length-Math.floor((q+u/2)/u))%si.length,ee=si[$];i?.(ee)},3800)};return P.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[P.jsx("div",{className:"wheel-legend",children:si.map(y=>P.jsxs("div",{className:"legend-item",children:[P.jsx("span",{className:"legend-swatch",style:{background:y.color}}),P.jsx("span",{className:"legend-label",children:y.label}),P.jsxs("span",{className:"legend-points",children:["+",y.points]})]},y.label))}),P.jsxs("div",{className:"wheel-wrap",children:[P.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),P.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${s}deg)`,transition:"transform 3.8s cubic-bezier(.17,.67,.35,1)",background:"#0c0c0c"},children:[si.map((y,b)=>{const T=b*(360/si.length),S=T+360/si.length,q=S-T<=180?0:1,$=pb(50,50,49,S),ee=pb(50,50,49,T),Z=["M 50 50",`L ${$.x} ${$.y}`,`A 49 49 0 ${q} 0 ${ee.x} ${ee.y}`,"Z"].join(" "),ne=nM(50,50,f+1.5,T+360/si.length/2),oe=m(y.label);return P.jsxs("g",{children:[P.jsx("path",{d:Z,fill:y.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),P.jsx("text",{x:ne.x,y:ne.y,fontSize:oe,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",children:y.label})]},y.label)}),P.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),P.jsx("button",{onClick:g,disabled:e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa"},children:e?"Girando":" Girar ruleta!"})]})}function iM(){const{auth:i,db:e}=Q4(),t=Y4(900),[s,o]=Me.useState(null),[u,f]=Me.useState(!1),[m,g]=Me.useState(null),[y,b]=Me.useState(null),[T,S]=Me.useState(!1),[q,$]=Me.useState(null);Me.useEffect(()=>{DD(i).catch(ne=>{ne&&console.error("Google redirect error:",ne)})},[i]),Me.useEffect(()=>tD(i,async ne=>{if(o(ne),!ne){f(!1),$(null);return}try{const oe=Ru(e,"users",ne.uid);(await M4(oe)).exists()||await U2(oe,{displayName:ne.displayName||ne.email,gender:"X",city:"N/A",createdAt:_f()},{merge:!0}),f(!0),g(null)}catch(oe){console.error("Perfil/Firestore no disponible:",oe),g(" Error conectando con Firestore. Se podr girar, pero no se guardarn resultados."),f(!0)}}),[i,e]),Me.useEffect(()=>{if(!s)return;const ne=Ru(e,"userstats",s.uid),oe=L4(ne,ue=>{$(ue.exists()?ue.data():null)},ue=>console.error("myStats error:",ue));return()=>oe()},[e,s]);const ee=Me.useCallback(async ne=>{b(ne),s&&!m&&(await Z4(e,s.uid,s.displayName||s.email,{label:ne.label,points:ne.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,m]),Z=async()=>{try{await nD(i)}catch(ne){console.error(ne)}};return P.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[P.jsxs("header",{className:"app-header",children:[P.jsxs("div",{className:"brand-title",children:[P.jsx("span",{className:"app-emoji","aria-hidden":!0,children:""}),P.jsx("h1",{className:"app-title",children:"Ruleta de Datos"})]}),s?P.jsxs("div",{className:"user-strip",children:[P.jsx("span",{className:"user-label",children:"Conectado como"}),P.jsx("b",{className:"user-email",children:s.email}),P.jsx("button",{onClick:Z,className:"logout-icon",title:"Salir","aria-label":"Salir",children:P.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),P.jsx("polyline",{points:"16 17 21 12 16 7"}),P.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}):P.jsxs("div",{className:"ga-strip",children:[P.jsx("span",{className:"ga-title",children:"ACTIVIDAD GOOGLE ANALYTICS"}),P.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",className:"ga-badge",children:P.jsx("img",{src:F4,alt:"UNIR"})})]})]}),P.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?P.jsxs("div",{style:{display:"grid",gap:12},children:[P.jsx(mb,{auth:i,db:e,onReady:()=>{}}),P.jsx("button",{onClick:()=>S(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),P.jsx(fb,{open:T,title:"Top 10 jugadores",onClose:()=>S(!1),children:P.jsx(Ih,{db:e})})]}):P.jsxs("div",{className:"auth-shell",children:[P.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[P.jsx(K4,{}),P.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[P.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.3,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),P.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:P.jsx(Ih,{db:e})})]})]}),P.jsx("main",{className:"auth-main",children:P.jsx(mb,{auth:i,db:e,onReady:()=>{}})})]})),s&&u&&(t?P.jsxs(P.Fragment,{children:[P.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,flexWrap:"wrap",rowGap:6},children:[P.jsx("b",{children:"Actividad"}),P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[P.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",P.jsx("b",{children:q?.totalScore??0})]}),P.jsx("button",{className:"btn btn-sm",onClick:()=>S(!0),style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"}),m&&P.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:8},children:m})]})]}),P.jsx(gb,{onResult:ee}),y&&P.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",P.jsx("b",{children:y.label}),"  Puntos: ",P.jsx("b",{children:y.points})]})]}),P.jsx(fb,{open:T,title:"Top 10 jugadores",onClose:()=>S(!1),children:P.jsx(Ih,{db:e,currentUser:s,myStats:q})})]}):P.jsxs("div",{className:"grid-main",children:[P.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[P.jsx("b",{children:"Actividad"}),m&&P.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:m})]}),P.jsx(gb,{onResult:ee}),y&&P.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",P.jsx("b",{children:y.label}),"  Puntos: ",P.jsx("b",{children:y.points})]})]}),P.jsx(Ih,{db:e,currentUser:s,myStats:q})]}))]})]})}wA.createRoot(document.getElementById("root")).render(P.jsx(Me.StrictMode,{children:P.jsx(iM,{})}));
