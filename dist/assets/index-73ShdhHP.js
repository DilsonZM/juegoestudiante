(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var jm={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function nA(){if(ow)return eu;ow=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return eu.Fragment=e,eu.jsx=t,eu.jsxs=t,eu}var lw;function iA(){return lw||(lw=1,jm.exports=nA()),jm.exports}var P=iA(),qm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function rA(){if(uw)return Se;uw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ee={};function J(D,Z,se){this.props=D,this.context=Z,this.refs=ee,this.updater=se||H}J.prototype.isReactComponent={},J.prototype.setState=function(D,Z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Z,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ge(){}ge.prototype=J.prototype;function le(D,Z,se){this.props=D,this.context=Z,this.refs=ee,this.updater=se||H}var he=le.prototype=new ge;he.constructor=le,W(he,J.prototype),he.isPureReactComponent=!0;var qe=Array.isArray,Ee={H:null,A:null,T:null,S:null,V:null},Be=Object.prototype.hasOwnProperty;function M(D,Z,se,te,de,Ie){return se=Ie.ref,{$$typeof:i,type:D,key:Z,ref:se!==void 0?se:null,props:Ie}}function T(D,Z){return M(D.type,Z,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var Z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return Z[se]})}var I=/\/+/g;function O(D,Z){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):Z.toString(36)}function C(){}function pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(Z){D.status==="pending"&&(D.status="fulfilled",D.value=Z)},function(Z){D.status==="pending"&&(D.status="rejected",D.reason=Z)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,Z,se,te,de){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(Ie){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case i:case e:Te=!0;break;case b:return Te=D._init,ht(Te(D._payload),Z,se,te,de)}}if(Te)return de=de(D),Te=te===""?"."+O(D,0):te,qe(de)?(se="",Te!=null&&(se=Te.replace(I,"$&/")+"/"),ht(de,Z,se,"",function(li){return li})):de!=null&&(x(de)&&(de=T(de,se+(de.key==null||D&&D.key===de.key?"":(""+de.key).replace(I,"$&/")+"/")+Te)),Z.push(de)),1;Te=0;var Lt=te===""?".":te+":";if(qe(D))for(var it=0;it<D.length;it++)te=D[it],Ie=Lt+O(te,it),Te+=ht(te,Z,se,Ie,de);else if(it=R(D),typeof it=="function")for(D=it.call(D),it=0;!(te=D.next()).done;)te=te.value,Ie=Lt+O(te,it++),Te+=ht(te,Z,se,Ie,de);else if(Ie==="object"){if(typeof D.then=="function")return ht(pt(D),Z,se,te,de);throw Z=String(D),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Te}function G(D,Z,se){if(D==null)return D;var te=[],de=0;return ht(D,te,"","",function(Ie){return Z.call(se,Ie,de++)}),te}function re(D){if(D._status===-1){var Z=D._result;Z=Z(),Z.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=Z)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function He(){}return Se.Children={map:G,forEach:function(D,Z,se){G(D,function(){Z.apply(this,arguments)},se)},count:function(D){var Z=0;return G(D,function(){Z++}),Z},toArray:function(D){return G(D,function(Z){return Z})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Se.Component=J,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=le,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Ee.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cloneElement=function(D,Z,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=W({},D.props),de=D.key,Ie=void 0;if(Z!=null)for(Te in Z.ref!==void 0&&(Ie=void 0),Z.key!==void 0&&(de=""+Z.key),Z)!Be.call(Z,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Z.ref===void 0||(te[Te]=Z[Te]);var Te=arguments.length-2;if(Te===1)te.children=se;else if(1<Te){for(var Lt=Array(Te),it=0;it<Te;it++)Lt[it]=arguments[it+2];te.children=Lt}return M(D.type,de,void 0,void 0,Ie,te)},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Se.createElement=function(D,Z,se){var te,de={},Ie=null;if(Z!=null)for(te in Z.key!==void 0&&(Ie=""+Z.key),Z)Be.call(Z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=Z[te]);var Te=arguments.length-2;if(Te===1)de.children=se;else if(1<Te){for(var Lt=Array(Te),it=0;it<Te;it++)Lt[it]=arguments[it+2];de.children=Lt}if(D&&D.defaultProps)for(te in Te=D.defaultProps,Te)de[te]===void 0&&(de[te]=Te[te]);return M(D,Ie,void 0,void 0,null,de)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:m,render:D}},Se.isValidElement=x,Se.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:re}},Se.memo=function(D,Z){return{$$typeof:y,type:D,compare:Z===void 0?null:Z}},Se.startTransition=function(D){var Z=Ee.T,se={};Ee.T=se;try{var te=D(),de=Ee.S;de!==null&&de(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(He,fe)}catch(Ie){fe(Ie)}finally{Ee.T=Z}},Se.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()},Se.use=function(D){return Ee.H.use(D)},Se.useActionState=function(D,Z,se){return Ee.H.useActionState(D,Z,se)},Se.useCallback=function(D,Z){return Ee.H.useCallback(D,Z)},Se.useContext=function(D){return Ee.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,Z){return Ee.H.useDeferredValue(D,Z)},Se.useEffect=function(D,Z,se){var te=Ee.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,Z)},Se.useId=function(){return Ee.H.useId()},Se.useImperativeHandle=function(D,Z,se){return Ee.H.useImperativeHandle(D,Z,se)},Se.useInsertionEffect=function(D,Z){return Ee.H.useInsertionEffect(D,Z)},Se.useLayoutEffect=function(D,Z){return Ee.H.useLayoutEffect(D,Z)},Se.useMemo=function(D,Z){return Ee.H.useMemo(D,Z)},Se.useOptimistic=function(D,Z){return Ee.H.useOptimistic(D,Z)},Se.useReducer=function(D,Z,se){return Ee.H.useReducer(D,Z,se)},Se.useRef=function(D){return Ee.H.useRef(D)},Se.useState=function(D){return Ee.H.useState(D)},Se.useSyncExternalStore=function(D,Z,se){return Ee.H.useSyncExternalStore(D,Z,se)},Se.useTransition=function(){return Ee.H.useTransition()},Se.version="19.1.1",Se}var cw;function Mp(){return cw||(cw=1,qm.exports=rA()),qm.exports}var Ke=Mp(),Hm={exports:{}},tu={},Fm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function sA(){return hw||(hw=1,(function(i){function e(G,re){var fe=G.length;G.push(re);e:for(;0<fe;){var He=fe-1>>>1,D=G[He];if(0<o(D,re))G[He]=re,G[fe]=D,fe=He;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var re=G[0],fe=G.pop();if(fe!==re){G[0]=fe;e:for(var He=0,D=G.length,Z=D>>>1;He<Z;){var se=2*(He+1)-1,te=G[se],de=se+1,Ie=G[de];if(0>o(te,fe))de<D&&0>o(Ie,te)?(G[He]=Ie,G[de]=fe,He=de):(G[He]=te,G[se]=fe,He=se);else if(de<D&&0>o(Ie,fe))G[He]=Ie,G[de]=fe,He=de;else break e}}return re}function o(G,re){var fe=G.sortIndex-re.sortIndex;return fe!==0?fe:G.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,A=null,R=3,H=!1,W=!1,ee=!1,J=!1,ge=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function qe(G){for(var re=t(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=G)s(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=t(y)}}function Ee(G){if(ee=!1,qe(G),!W)if(t(g)!==null)W=!0,Be||(Be=!0,O());else{var re=t(y);re!==null&&ht(Ee,re.startTime-G)}}var Be=!1,M=-1,T=5,x=-1;function k(){return J?!0:!(i.unstable_now()-x<T)}function I(){if(J=!1,Be){var G=i.unstable_now();x=G;var re=!0;try{e:{W=!1,ee&&(ee=!1,le(M),M=-1),H=!0;var fe=R;try{t:{for(qe(G),A=t(g);A!==null&&!(A.expirationTime>G&&k());){var He=A.callback;if(typeof He=="function"){A.callback=null,R=A.priorityLevel;var D=He(A.expirationTime<=G);if(G=i.unstable_now(),typeof D=="function"){A.callback=D,qe(G),re=!0;break t}A===t(g)&&s(g),qe(G)}else s(g);A=t(g)}if(A!==null)re=!0;else{var Z=t(y);Z!==null&&ht(Ee,Z.startTime-G),re=!1}}break e}finally{A=null,R=fe,H=!1}re=void 0}}finally{re?O():Be=!1}}}var O;if(typeof he=="function")O=function(){he(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,pt=C.port2;C.port1.onmessage=I,O=function(){pt.postMessage(null)}}else O=function(){ge(I,0)};function ht(G,re){M=ge(function(){G(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(G){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var fe=R;R=re;try{return G()}finally{R=fe}},i.unstable_requestPaint=function(){J=!0},i.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=R;R=G;try{return re()}finally{R=fe}},i.unstable_scheduleCallback=function(G,re,fe){var He=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?He+fe:He):fe=He,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,G={id:b++,callback:re,priorityLevel:G,startTime:fe,expirationTime:D,sortIndex:-1},fe>He?(G.sortIndex=fe,e(y,G),t(g)===null&&G===t(y)&&(ee?(le(M),M=-1):ee=!0,ht(Ee,fe-He))):(G.sortIndex=D,e(g,G),W||H||(W=!0,Be||(Be=!0,O()))),G},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(G){var re=R;return function(){var fe=R;R=re;try{return G.apply(this,arguments)}finally{R=fe}}}})(Gm)),Gm}var fw;function aA(){return fw||(fw=1,Fm.exports=sA()),Fm.exports}var Ym={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function oA(){if(dw)return nn;dw=1;var i=Mp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},nn.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:H}):b==="script"&&s.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var mw;function lA(){if(mw)return Ym.exports;mw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ym.exports=oA(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function uA(){if(pw)return tu;pw=1;var i=aA(),e=Mp(),t=lA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=d;break}if(w===l){v=!0,l=h,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=h;break}if(w===l){v=!0,l=d,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),he=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case J:return"Profiler";case ee:return"StrictMode";case Ee:return"Suspense";case Be:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case H:return"Portal";case he:return(n.displayName||"Context")+".Provider";case le:return(n._context.displayName||"Context")+".Consumer";case qe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:pt(n.type)||"Memo";case T:r=n._payload,n=n._init;try{return pt(n(r))}catch{}}return null}var ht=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},He=[],D=-1;function Z(n){return{current:n}}function se(n){0>D||(n.current=He[D],He[D]=null,D--)}function te(n,r){D++,He[D]=n.current,n.current=r}var de=Z(null),Ie=Z(null),Te=Z(null),Lt=Z(null);function it(n,r){switch(te(Te,r),te(Ie,n),te(de,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Vv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Vv(r),n=Pv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(de),te(de,n)}function li(){se(de),se(Ie),se(Te)}function vr(n){n.memoizedState!==null&&te(Lt,n);var r=de.current,a=Pv(r,n.type);r!==a&&(te(Ie,n),te(de,a))}function Pi(n){Ie.current===n&&(se(de),se(Ie)),Lt.current===n&&(se(Lt),$l._currentValue=fe)}var ys=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,vs=i.unstable_cancelCallback,Yo=i.unstable_shouldYield,Ku=i.unstable_requestPaint,Ln=i.unstable_now,jf=i.unstable_getCurrentPriorityLevel,Ko=i.unstable_ImmediatePriority,ya=i.unstable_UserBlockingPriority,ws=i.unstable_NormalPriority,qf=i.unstable_LowPriority,_a=i.unstable_IdlePriority,Qo=i.log,Qu=i.unstable_setDisableYieldValue,ft=null,Qe=null;function En(n){if(typeof Qo=="function"&&Qu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,n)}catch{}}var en=Math.clz32?Math.clz32:bs,$u=Math.log,Hf=Math.LN2;function bs(n){return n>>>=0,n===0?32:31-($u(n)/Hf|0)|0}var Es=256,Ts=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function va(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Zn(l):(v&=w,v!==0?h=Zn(v):a||(a=w&~n,a!==0&&(h=Zn(a))))):(w=l&~d,w!==0?h=Zn(w):v!==0?h=Zn(v):a||(a=l&~n,a!==0&&(h=Zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function As(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function $o(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var n=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),n}function Wo(){var n=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),n}function Li(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ui(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Zo(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,S=n.expirationTimes,B=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-en(a),$=1<<Y;w[Y]=0,S[Y]=-1;var z=B[Y];if(z!==null)for(B[Y]=null,Y=0;Y<z.length;Y++){var j=z[Y];j!==null&&(j.lane&=-536870913)}a&=~$}l!==0&&ui(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function ui(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Jo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function wr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function wa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function br(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:tw(n.type))}function Xu(n,r){var a=re.p;try{return re.p=n,r()}finally{re.p=a}}var ot=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ot,Tt="__reactProps$"+ot,Un="__reactContainer$"+ot,el="__reactEvents$"+ot,Ff="__reactListeners$"+ot,Er="__reactHandles$"+ot,Wu="__reactResources$"+ot,Ss="__reactMarker$"+ot;function Tr(n){delete n[Nt],delete n[Tt],delete n[el],delete n[Ff],delete n[Er]}function Bi(n){var r=n[Nt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Un]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=zv(n);n!==null;){if(a=n[Nt])return a;n=zv(n)}return r}n=a,a=n.parentNode}return null}function ci(n){if(n=n[Nt]||n[Un]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function hi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ln(n){var r=n[Wu];return r||(r=n[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(n){n[Ss]=!0}var tl=new Set,ba={};function Jn(n,r){zi(n,r),zi(n+"Capture",r)}function zi(n,r){for(ba[n]=r,n=0;n<r.length;n++)tl.add(r[n])}var Zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},Rs={};function ec(n){return ys.call(Rs,n)?!0:ys.call(Ju,n)?!1:Zu.test(n)?Rs[n]=!0:(Ju[n]=!0,!1)}function Ar(n,r,a){if(ec(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function fi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Yt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Is,tc;function ji(n){if(Is===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Is=r&&r[1]||"",tc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+n+tc}var Ea=!1;function Ta(n,r){if(!n||Ea)return"";Ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var z=j}Reflect.construct(n,[],$)}else{try{$.call()}catch(j){z=j}n.call($.prototype)}}else{try{throw Error()}catch(j){z=j}($=n())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var S=v.split(`
`),B=w.split(`
`);for(h=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===S.length||h===B.length)for(l=S.length-1,h=B.length-1;1<=l&&0<=h&&S[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(S[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||S[l]!==B[h]){var Y=`
`+S[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ea=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ji(a):""}function nl(n){switch(n.tag){case 26:case 27:case 5:return ji(n.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Ta(n.type,!1);case 11:return Ta(n.type.render,!1);case 1:return Ta(n.type,!0);case 31:return ji("Activity");default:return""}}function Aa(n){try{var r="";do r+=nl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function il(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gf(n){var r=il(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Sa(n){n._valueTracker||(n._valueTracker=Gf(n))}function rl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=il(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Cs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yf=/[\n"\\]/g;function At(n){return n.replace(Yf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(n,r,a,l,h,d,v,w){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+un(r)):n.value!==""+un(r)&&(n.value=""+un(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Sr(n,v,un(r)):a!=null?Sr(n,v,un(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+un(w):n.removeAttribute("name")}function xs(n,r,a,l,h,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+un(a):"",r=r!=null?""+un(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Sr(n,r,a){r==="number"&&Cs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qi(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+un(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+un(a):""}function Ds(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=un(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Bn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ns.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function sl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&nc(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&nc(n,d,r[d])}function al(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(n){return Qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Hi=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fi=null,Gi=null;function ol(n){var r=ci(n);if(r&&(n=r.stateNode)){var a=n[Tt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&rl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qi(n,!!a.multiple,r,!1)}}}var di=!1;function ic(n,r,a){if(di)return n(r,a);di=!0;try{var l=n(r);return l}finally{if(di=!1,(Fi!==null||Gi!==null)&&(Xc(),Fi&&(r=Fi,n=Gi,Gi=Fi=null,ol(r),n)))for(r=0;r<n.length;r++)ol(n[r])}}function Os(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ei)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){jn=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{jn=!1}var mi=null,Rr=null,Yi=null;function ll(){if(Yi)return Yi;var n,r=Rr,a=r.length,l,h="value"in mi?mi.value:mi.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Yi=h.slice(n,1<l?1-l:void 0)}function pi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function gi(){return!0}function ul(){return!1}function Ut(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gi:ul,this.isPropagationStopped=ul,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Ut(Ye),Ms=b({},Ye,{view:0,detail:0}),rc=Ut(Ms),Ca,xa,yi,Vs=b({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yi&&(yi&&n.type==="mousemove"?(Ca=n.screenX-yi.screenX,xa=n.screenY-yi.screenY):xa=Ca=0,yi=n),Ca)},movementY:function(n){return"movementY"in n?n.movementY:xa}}),qn=Ut(Vs),sc=b({},Vs,{dataTransfer:0}),$f=Ut(sc),Ps=b({},Ms,{relatedTarget:0}),Da=Ut(Ps),cl=b({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Ut(cl),ac=b({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oa=Ut(ac),Xf=b({},Ye,{data:0}),hl=Ut(Xf),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=lc[n])?!!r[n]:!1}function Us(){return fl}var uc=b({},Ms,{key:function(n){if(n.key){var r=Ls[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=pi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(n){return n.type==="keypress"?pi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ka=Ut(uc),cc=b({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Ut(cc),Ki=b({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),hc=Ut(Ki),fc=b({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),dc=Ut(fc),mc=b({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Ut(mc),cn=b({},Ye,{newState:0,oldState:0}),pc=Ut(cn),gc=[9,13,27,32],_i=ei&&"CompositionEvent"in window,c=null;ei&&"documentMode"in document&&(c=document.documentMode);var p=ei&&"TextEvent"in window&&!c,_=ei&&(!_i||c&&8<c&&11>=c),E=" ",L=!1;function q(n,r){switch(n){case"keyup":return gc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function Ot(n,r){switch(n){case"compositionend":return ne(r);case"keypress":return r.which!==32?null:(L=!0,E);case"textInput":return n=r.data,n===E&&L?null:n;default:return null}}function Ve(n,r){if(Me)return n==="compositionend"||!_i&&q(n,r)?(n=ll(),Yi=Rr=mi=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Bt[n.type]:r==="textarea"}function Qi(n,r,a,l){Fi?Gi?Gi.push(l):Gi=[l]:Fi=l,r=nh(r,"onChange"),0<r.length&&(a=new Ia("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Kt=null,vi=null;function ml(n){Dv(n,0)}function yc(n){var r=hi(n);if(rl(r))return n}function Wg(n,r){if(n==="change")return r}var Zg=!1;if(ei){var Wf;if(ei){var Zf="oninput"in document;if(!Zf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Zf=typeof Jg.oninput=="function"}Wf=Zf}else Wf=!1;Zg=Wf&&(!document.documentMode||9<document.documentMode)}function ey(){Kt&&(Kt.detachEvent("onpropertychange",ty),vi=Kt=null)}function ty(n){if(n.propertyName==="value"&&yc(vi)){var r=[];Qi(r,vi,n,zn(n)),ic(ml,r)}}function O2(n,r,a){n==="focusin"?(ey(),Kt=r,vi=a,Kt.attachEvent("onpropertychange",ty)):n==="focusout"&&ey()}function k2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(vi)}function M2(n,r){if(n==="click")return yc(r)}function V2(n,r){if(n==="input"||n==="change")return yc(r)}function P2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var An=typeof Object.is=="function"?Object.is:P2;function pl(n,r){if(An(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ys.call(r,h)||!An(n[h],r[h]))return!1}return!0}function ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iy(n,r){var a=ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function ry(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ry(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Cs(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Cs(n.document)}return r}function Jf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var L2=ei&&"documentMode"in document&&11>=document.documentMode,Va=null,ed=null,gl=null,td=!1;function ay(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;td||Va==null||Va!==Cs(l)||(l=Va,"selectionStart"in l&&Jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=nh(ed,"onSelect"),0<l.length&&(r=new Ia("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Va)))}function Bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Pa={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},nd={},oy={};ei&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function zs(n){if(nd[n])return nd[n];if(!Pa[n])return n;var r=Pa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in oy)return nd[n]=r[a];return n}var ly=zs("animationend"),uy=zs("animationiteration"),cy=zs("animationstart"),U2=zs("transitionrun"),B2=zs("transitionstart"),z2=zs("transitioncancel"),hy=zs("transitionend"),fy=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function ti(n,r){fy.set(n,r),Jn(r,[n])}var dy=new WeakMap;function Hn(n,r){if(typeof n=="object"&&n!==null){var a=dy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Aa(r)},dy.set(n,r),r)}return{value:n,source:r,stack:Aa(r)}}var Fn=[],La=0,rd=0;function _c(){for(var n=La,r=rd=La=0;r<n;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var h=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&my(a,h,d)}}function vc(n,r,a,l){Fn[La++]=n,Fn[La++]=r,Fn[La++]=a,Fn[La++]=l,rd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function sd(n,r,a,l){return vc(n,r,a,l),wc(n)}function Ua(n,r){return vc(n,null,null,r),wc(n)}function my(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-en(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function wc(n){if(50<jl)throw jl=0,hm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ba={};function j2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,r,a,l){return new j2(n,r,a,l)}function ad(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,r){var a=n.alternate;return a===null?(a=Sn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function py(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")ad(n)&&(v=1);else if(typeof n=="string")v=H1(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=Sn(31,a,r,h),n.elementType=x,n.lanes=d,n;case W:return js(a.children,h,d,r);case ee:v=8,h|=24;break;case J:return n=Sn(12,a,r,h|2),n.elementType=J,n.lanes=d,n;case Ee:return n=Sn(13,a,r,h),n.elementType=Ee,n.lanes=d,n;case Be:return n=Sn(19,a,r,h),n.elementType=Be,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ge:case he:v=10;break e;case le:v=9;break e;case qe:v=11;break e;case M:v=14;break e;case T:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Sn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function js(n,r,a,l){return n=Sn(7,n,l,r),n.lanes=a,n}function od(n,r,a){return n=Sn(6,n,null,r),n.lanes=a,n}function ld(n,r,a){return r=Sn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var za=[],ja=0,Ec=null,Tc=0,Gn=[],Yn=0,qs=null,Xi=1,Wi="";function Hs(n,r){za[ja++]=Tc,za[ja++]=Ec,Ec=n,Tc=r}function gy(n,r,a){Gn[Yn++]=Xi,Gn[Yn++]=Wi,Gn[Yn++]=qs,qs=n;var l=Xi;n=Wi;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Xi=1<<32-en(r)+h|a<<h|l,Wi=d+n}else Xi=1<<d|a<<h|l,Wi=n}function ud(n){n.return!==null&&(Hs(n,1),gy(n,1,0))}function cd(n){for(;n===Ec;)Ec=za[--ja],za[ja]=null,Tc=za[--ja],za[ja]=null;for(;n===qs;)qs=Gn[--Yn],Gn[Yn]=null,Wi=Gn[--Yn],Gn[Yn]=null,Xi=Gn[--Yn],Gn[Yn]=null}var hn=null,dt=null,Fe=!1,Fs=null,wi=!1,hd=Error(s(519));function Gs(n){var r=Error(s(418,""));throw vl(Hn(r,n)),hd}function yy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Nt]=n,r[Tt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Hl.length;a++)De(Hl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),xs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Ds(r,l.value,l.defaultValue,l.children),Sa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Mv(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=ih),r=!0):r=!1,r||Gs(n)}function _y(n){for(hn=n.return;hn;)switch(hn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:hn=hn.return}}function yl(n){if(n!==hn)return!1;if(!Fe)return _y(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Im(n.type,n.memoizedProps)),a=!a),a&&dt&&Gs(n),_y(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){dt=ii(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,qr(n.type)?(n=Nm,Nm=null,dt=n):dt=r):dt=hn?ii(n.stateNode.nextSibling):null;return!0}function _l(){dt=hn=null,Fe=!1}function vy(){var n=Fs;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Fs=null),n}function vl(n){Fs===null?Fs=[n]:Fs.push(n)}var fd=Z(null),Ys=null,Zi=null;function Ir(n,r,a){te(fd,r._currentValue),r._currentValue=a}function Ji(n){n._currentValue=fd.current,se(fd)}function dd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function md(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var S=0;S<r.length;S++)if(w.context===r[S]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),dd(d.return,a,n),l||(v=null);break e}d=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),dd(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;An(h.pendingProps.value,v.value)||(n!==null?n.push(w):n=[w])}}else if(h===Lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}h=h.return}n!==null&&md(r,n,a,l),r.flags|=262144}function Ac(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ks(n){Ys=n,Zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return wy(Ys,n)}function Sc(n,r){return Ys===null&&Ks(n),wy(n,r)}function wy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(n===null)throw Error(s(308));Zi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Zi=Zi.next=r;return a}var q2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},H2=i.unstable_scheduleCallback,F2=i.unstable_NormalPriority,Mt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new q2,data:new Map,refCount:0}}function bl(n){n.refCount--,n.refCount===0&&H2(F2,function(){n.controller.abort()})}var El=null,gd=0,qa=0,Ha=null;function G2(n,r){if(El===null){var a=El=[];gd=0,qa=_m(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gd++,r.then(by,by),r}function by(){if(--gd===0&&El!==null){Ha!==null&&(Ha.status="fulfilled");var n=El;El=null,qa=0,Ha=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Y2(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ey=G.S;G.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&G2(n,r),Ey!==null&&Ey(n,r)};var Qs=Z(null);function yd(){var n=Qs.current;return n!==null?n:rt.pooledCache}function Rc(n,r){r===null?te(Qs,Qs.current):te(Qs,r.pool)}function Ty(){var n=yd();return n===null?null:{parent:Mt._currentValue,pool:n}}var Tl=Error(s(460)),Ay=Error(s(474)),Ic=Error(s(542)),_d={then:function(){}};function Sy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cc(){}function Ry(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Cc,Cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Cy(n),n;default:if(typeof r.status=="string")r.then(Cc,Cc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Cy(n),n}throw Al=r,Tl}}var Al=null;function Iy(){if(Al===null)throw Error(s(459));var n=Al;return Al=null,n}function Cy(n){if(n===Tl||n===Ic)throw Error(s(483))}var Cr=!1;function vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function xr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Dr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=wc(n),my(n,null,a),r}return vc(n,l,r,a),wc(n)}function Sl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Jo(n,a)}}function bd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Ed=!1;function Rl(){if(Ed){var n=Ha;if(n!==null)throw n}}function Il(n,r,a,l){Ed=!1;var h=n.updateQueue;Cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var S=w,B=S.next;S.next=null,v===null?d=B:v.next=B,v=S;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==v&&(w===null?Y.firstBaseUpdate=B:w.next=B,Y.lastBaseUpdate=S))}if(d!==null){var $=h.baseState;v=0,Y=B=S=null,w=d;do{var z=w.lane&-536870913,j=z!==w.lane;if(j?(Pe&z)===z:(l&z)===z){z!==0&&z===qa&&(Ed=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var be=n,ye=w;z=r;var et=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){$=be.call(et,$,z);break e}$=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,z=typeof be=="function"?be.call(et,$,z):be,z==null)break e;$=b({},$,z);break e;case 2:Cr=!0}}z=w.callback,z!==null&&(n.flags|=64,j&&(n.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(B=Y=j,S=$):Y=Y.next=j,v|=z;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;j=w,w=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(S=$),h.baseState=S,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ur|=v,n.lanes=v,n.memoizedState=$}}function xy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Dy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)xy(a[n],r)}var Fa=Z(null),xc=Z(0);function Ny(n,r){n=ar,te(xc,n),te(Fa,r),ar=n|r.baseLanes}function Td(){te(xc,ar),te(Fa,Fa.current)}function Ad(){ar=xc.current,se(Fa),se(xc)}var Nr=0,Re=null,Ze=null,St=null,Dc=!1,Ga=!1,$s=!1,Nc=0,Cl=0,Ya=null,K2=0;function yt(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!An(n[a],r[a]))return!1;return!0}function Rd(n,r,a,l,h,d){return Nr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?m_:p_,$s=!1,d=a(l,h),$s=!1,Ga&&(d=ky(r,a,l,h)),Oy(n),d}function Oy(n){G.H=Lc;var r=Ze!==null&&Ze.next!==null;if(Nr=0,St=Ze=Re=null,Dc=!1,Cl=0,Ya=null,r)throw Error(s(300));n===null||zt||(n=n.dependencies,n!==null&&Ac(n)&&(zt=!0))}function ky(n,r,a,l){Re=n;var h=0;do{if(Ga&&(Ya=null),Cl=0,Ga=!1,25<=h)throw Error(s(301));if(h+=1,St=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=e1,d=r(a,l)}while(Ga);return d}function Q2(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?xl(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Re.flags|=1024),r}function Id(){var n=Nc!==0;return Nc=0,n}function Cd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function xd(n){if(Dc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Dc=!1}Nr=0,St=Ze=Re=null,Ga=!1,Cl=Nc=0,Ya=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=n:St=St.next=n,St}function Rt(){if(Ze===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=St===null?Re.memoizedState:St.next;if(r!==null)St=r,Ze=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Re.memoizedState=St=n:St=St.next=n}return St}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var r=Cl;return Cl+=1,Ya===null&&(Ya=[]),n=Ry(Ya,n,r),r=Re,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?m_:p_),n}function Oc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===he)return tn(n)}throw Error(s(438,String(n)))}function Nd(n){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Dd(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function er(n,r){return typeof r=="function"?r(n):r}function kc(n){var r=Rt();return Od(r,Ze,n)}function Od(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var w=v=null,S=null,B=r,Y=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Pe&$)===$:(Nr&$)===$){var z=B.revertLane;if(z===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===qa&&(Y=!0);else if((Nr&z)===z){B=B.next,z===qa&&(Y=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(w=S=$,v=d):S=S.next=$,Re.lanes|=z,Ur|=z;$=B.action,$s&&a(d,$),d=B.hasEagerState?B.eagerState:a(d,$)}else z={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(w=S=z,v=d):S=S.next=z,Re.lanes|=$,Ur|=$;B=B.next}while(B!==null&&B!==r);if(S===null?v=d:S.next=w,!An(d,n.memoizedState)&&(zt=!0,Y&&(a=Ha,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=S,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kd(n){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);An(d,r.memoizedState)||(zt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function My(n,r,a){var l=Re,h=Rt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!An((Ze||h).memoizedState,a);v&&(h.memoizedState=a,zt=!0),h=h.queue;var w=Ly.bind(null,l,h,n);if(Dl(2048,8,w,[n]),h.getSnapshot!==r||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ka(9,Mc(),Py.bind(null,l,h,a,r),null),rt===null)throw Error(s(349));d||(Nr&124)!==0||Vy(l,r,a)}return a}function Vy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Dd(),Re.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Py(n,r,a,l){r.value=a,r.getSnapshot=l,Uy(r)&&By(n)}function Ly(n,r,a){return a(function(){Uy(r)&&By(n)})}function Uy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!An(n,a)}catch{return!0}}function By(n){var r=Ua(n,2);r!==null&&Dn(r,n,2)}function Md(n){var r=gn();if(typeof n=="function"){var a=n;if(n=a(),$s){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:n},r}function zy(n,r,a,l){return n.baseState=a,Od(n,Ze,typeof l=="function"?l:er)}function $2(n,r,a,l,h){if(Pc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,jy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function jy(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=G.T,v={};G.T=v;try{var w=a(h,l),S=G.S;S!==null&&S(v,w),qy(n,r,w)}catch(B){Vd(n,r,B)}finally{G.T=d}}else try{d=a(h,l),qy(n,r,d)}catch(B){Vd(n,r,B)}}function qy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(n,r,l)},function(l){return Vd(n,r,l)}):Hy(n,r,a)}function Hy(n,r,a){r.status="fulfilled",r.value=a,Fy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,jy(n,a)))}function Vd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Fy(r),r=r.next;while(r!==l)}n.action=null}function Fy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Gy(n,r){return r}function Yy(n,r){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Re;if(Fe){if(dt){t:{for(var h=dt,d=wi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=ii(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:r},a.queue=l,a=h_.bind(null,Re,l),l.dispatch=a,l=Md(!1),d=zd.bind(null,Re,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=$2.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function Ky(n){var r=Rt();return Qy(r,Ze,n)}function Qy(n,r,a){if(r=Od(n,r,Gy)[0],n=kc(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=xl(r)}catch(v){throw v===Tl?Ic:v}else l=r;r=Rt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Ka(9,Mc(),X2.bind(null,h,a),null)),[l,d,n]}function X2(n,r){n.action=r}function $y(n){var r=Rt(),a=Ze;if(a!==null)return Qy(r,a,n);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ka(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Dd(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Mc(){return{destroy:void 0,resource:void 0}}function Xy(){return Rt().memoizedState}function Vc(n,r,a,l){var h=gn();l=l===void 0?null:l,Re.flags|=n,h.memoizedState=Ka(1|r,Mc(),a,l)}function Dl(n,r,a,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Sd(l,Ze.memoizedState.deps)?h.memoizedState=Ka(r,d,a,l):(Re.flags|=n,h.memoizedState=Ka(1|r,d,a,l))}function Wy(n,r){Vc(8390656,8,n,r)}function Zy(n,r){Dl(2048,8,n,r)}function Jy(n,r){return Dl(4,2,n,r)}function e_(n,r){return Dl(4,4,n,r)}function t_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function n_(n,r,a){a=a!=null?a.concat([n]):null,Dl(4,4,t_.bind(null,r,n),a)}function Pd(){}function i_(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Sd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function r_(n,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Sd(r,l[1]))return l[0];if(l=n(),$s){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l}function Ld(n,r,a){return a===void 0||(Nr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=ov(),Re.lanes|=n,Ur|=n,a)}function s_(n,r,a,l){return An(a,r)?a:Fa.current!==null?(n=Ld(n,a,l),An(n,r)||(zt=!0),n):(Nr&42)===0?(zt=!0,n.memoizedState=a):(n=ov(),Re.lanes|=n,Ur|=n,r)}function a_(n,r,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=G.T,w={};G.T=w,zd(n,!1,r,a);try{var S=h(),B=G.S;if(B!==null&&B(w,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Y=Y2(S,l);Nl(n,r,Y,xn(n))}else Nl(n,r,l,xn(n))}catch($){Nl(n,r,{then:function(){},status:"rejected",reason:$},xn())}finally{re.p=d,G.T=v}}function W2(){}function Ud(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=o_(n).queue;a_(n,h,r,fe,a===null?W2:function(){return l_(n),a(l)})}function o_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function l_(n){var r=o_(n).next.queue;Nl(n,r,{},xn())}function Bd(){return tn($l)}function u_(){return Rt().memoizedState}function c_(){return Rt().memoizedState}function Z2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();n=xr(a);var l=Dr(r,n,a);l!==null&&(Dn(l,r,a),Sl(l,r,a)),r={cache:pd()},n.payload=r;return}r=r.return}}function J2(n,r,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(n)?f_(r,a):(a=sd(n,r,a,l),a!==null&&(Dn(a,n,l),d_(a,r,l)))}function h_(n,r,a){var l=xn();Nl(n,r,a,l)}function Nl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(n))f_(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(h.hasEagerState=!0,h.eagerState=w,An(w,v))return vc(n,r,h,0),rt===null&&_c(),!1}catch{}finally{}if(a=sd(n,r,h,l),a!==null)return Dn(a,n,l),d_(a,r,l),!0}return!1}function zd(n,r,a,l){if(l={lane:2,revertLane:_m(),action:l,hasEagerState:!1,eagerState:null,next:null},Pc(n)){if(r)throw Error(s(479))}else r=sd(n,a,l,2),r!==null&&Dn(r,n,2)}function Pc(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function f_(n,r){Ga=Dc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function d_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Jo(n,a)}}var Lc={readContext:tn,use:Oc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},m_={readContext:tn,use:Oc,useCallback:function(n,r){return gn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:Wy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Vc(4194308,4,t_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Vc(4194308,4,n,r)},useInsertionEffect:function(n,r){Vc(4,2,n,r)},useMemo:function(n,r){var a=gn();r=r===void 0?null:r;var l=n();if($s){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=gn();if(a!==void 0){var h=a(r);if($s){En(!0);try{a(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=J2.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var r=gn();return n={current:n},r.memoizedState=n},useState:function(n){n=Md(n);var r=n.queue,a=h_.bind(null,Re,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Pd,useDeferredValue:function(n,r){var a=gn();return Ld(a,n,r)},useTransition:function(){var n=Md(!1);return n=a_.bind(null,Re,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Re,h=gn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Pe&124)!==0||Vy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Wy(Ly.bind(null,l,d,n),[n]),l.flags|=2048,Ka(9,Mc(),Py.bind(null,l,d,a,r),null),a},useId:function(){var n=gn(),r=rt.identifierPrefix;if(Fe){var a=Wi,l=Xi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Nc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=K2++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Bd,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var r=gn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,Re,!0,a),a.dispatch=r,[n,r]},useMemoCache:Nd,useCacheRefresh:function(){return gn().memoizedState=Z2.bind(null,Re)}},p_={readContext:tn,use:Oc,useCallback:i_,useContext:tn,useEffect:Zy,useImperativeHandle:n_,useInsertionEffect:Jy,useLayoutEffect:e_,useMemo:r_,useReducer:kc,useRef:Xy,useState:function(){return kc(er)},useDebugValue:Pd,useDeferredValue:function(n,r){var a=Rt();return s_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=kc(er)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:xl(n),r]},useSyncExternalStore:My,useId:u_,useHostTransitionStatus:Bd,useFormState:Ky,useActionState:Ky,useOptimistic:function(n,r){var a=Rt();return zy(a,Ze,n,r)},useMemoCache:Nd,useCacheRefresh:c_},e1={readContext:tn,use:Oc,useCallback:i_,useContext:tn,useEffect:Zy,useImperativeHandle:n_,useInsertionEffect:Jy,useLayoutEffect:e_,useMemo:r_,useReducer:kd,useRef:Xy,useState:function(){return kd(er)},useDebugValue:Pd,useDeferredValue:function(n,r){var a=Rt();return Ze===null?Ld(a,n,r):s_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=kd(er)[0],r=Rt().memoizedState;return[typeof n=="boolean"?n:xl(n),r]},useSyncExternalStore:My,useId:u_,useHostTransitionStatus:Bd,useFormState:$y,useActionState:$y,useOptimistic:function(n,r){var a=Rt();return Ze!==null?zy(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:c_},Qa=null,Ol=0;function Uc(n){var r=Ol;return Ol+=1,Qa===null&&(Qa=[]),Ry(Qa,n,r)}function kl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Bc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function g_(n){var r=n._init;return r(n._payload)}function y_(n){function r(V,N){if(n){var U=V.deletions;U===null?(V.deletions=[N],V.flags|=16):U.push(N)}}function a(V,N){if(!n)return null;for(;N!==null;)r(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=$i(V,N),V.index=0,V.sibling=null,V}function d(V,N,U){return V.index=U,n?(U=V.alternate,U!==null?(U=U.index,U<N?(V.flags|=67108866,N):U):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function v(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function w(V,N,U,Q){return N===null||N.tag!==6?(N=od(U,V.mode,Q),N.return=V,N):(N=h(N,U),N.return=V,N)}function S(V,N,U,Q){var oe=U.type;return oe===W?Y(V,N,U.props.children,Q,U.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===T&&g_(oe)===N.type)?(N=h(N,U.props),kl(N,U),N.return=V,N):(N=bc(U.type,U.key,U.props,null,V.mode,Q),kl(N,U),N.return=V,N)}function B(V,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=ld(U,V.mode,Q),N.return=V,N):(N=h(N,U.children||[]),N.return=V,N)}function Y(V,N,U,Q,oe){return N===null||N.tag!==7?(N=js(U,V.mode,Q,oe),N.return=V,N):(N=h(N,U),N.return=V,N)}function $(V,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=od(""+N,V.mode,U),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return U=bc(N.type,N.key,N.props,null,V.mode,U),kl(U,N),U.return=V,U;case H:return N=ld(N,V.mode,U),N.return=V,N;case T:var Q=N._init;return N=Q(N._payload),$(V,N,U)}if(ht(N)||O(N))return N=js(N,V.mode,U,null),N.return=V,N;if(typeof N.then=="function")return $(V,Uc(N),U);if(N.$$typeof===he)return $(V,Sc(V,N),U);Bc(V,N)}return null}function z(V,N,U,Q){var oe=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return oe!==null?null:w(V,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===oe?S(V,N,U,Q):null;case H:return U.key===oe?B(V,N,U,Q):null;case T:return oe=U._init,U=oe(U._payload),z(V,N,U,Q)}if(ht(U)||O(U))return oe!==null?null:Y(V,N,U,Q,null);if(typeof U.then=="function")return z(V,N,Uc(U),Q);if(U.$$typeof===he)return z(V,N,Sc(V,U),Q);Bc(V,U)}return null}function j(V,N,U,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,w(N,V,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case R:return V=V.get(Q.key===null?U:Q.key)||null,S(N,V,Q,oe);case H:return V=V.get(Q.key===null?U:Q.key)||null,B(N,V,Q,oe);case T:var Ce=Q._init;return Q=Ce(Q._payload),j(V,N,U,Q,oe)}if(ht(Q)||O(Q))return V=V.get(U)||null,Y(N,V,Q,oe,null);if(typeof Q.then=="function")return j(V,N,U,Uc(Q),oe);if(Q.$$typeof===he)return j(V,N,U,Sc(N,Q),oe);Bc(N,Q)}return null}function be(V,N,U,Q){for(var oe=null,Ce=null,ue=N,_e=N=0,qt=null;ue!==null&&_e<U.length;_e++){ue.index>_e?(qt=ue,ue=null):qt=ue.sibling;var ze=z(V,ue,U[_e],Q);if(ze===null){ue===null&&(ue=qt);break}n&&ue&&ze.alternate===null&&r(V,ue),N=d(ze,N,_e),Ce===null?oe=ze:Ce.sibling=ze,Ce=ze,ue=qt}if(_e===U.length)return a(V,ue),Fe&&Hs(V,_e),oe;if(ue===null){for(;_e<U.length;_e++)ue=$(V,U[_e],Q),ue!==null&&(N=d(ue,N,_e),Ce===null?oe=ue:Ce.sibling=ue,Ce=ue);return Fe&&Hs(V,_e),oe}for(ue=l(ue);_e<U.length;_e++)qt=j(ue,V,_e,U[_e],Q),qt!==null&&(n&&qt.alternate!==null&&ue.delete(qt.key===null?_e:qt.key),N=d(qt,N,_e),Ce===null?oe=qt:Ce.sibling=qt,Ce=qt);return n&&ue.forEach(function(Kr){return r(V,Kr)}),Fe&&Hs(V,_e),oe}function ye(V,N,U,Q){if(U==null)throw Error(s(151));for(var oe=null,Ce=null,ue=N,_e=N=0,qt=null,ze=U.next();ue!==null&&!ze.done;_e++,ze=U.next()){ue.index>_e?(qt=ue,ue=null):qt=ue.sibling;var Kr=z(V,ue,ze.value,Q);if(Kr===null){ue===null&&(ue=qt);break}n&&ue&&Kr.alternate===null&&r(V,ue),N=d(Kr,N,_e),Ce===null?oe=Kr:Ce.sibling=Kr,Ce=Kr,ue=qt}if(ze.done)return a(V,ue),Fe&&Hs(V,_e),oe;if(ue===null){for(;!ze.done;_e++,ze=U.next())ze=$(V,ze.value,Q),ze!==null&&(N=d(ze,N,_e),Ce===null?oe=ze:Ce.sibling=ze,Ce=ze);return Fe&&Hs(V,_e),oe}for(ue=l(ue);!ze.done;_e++,ze=U.next())ze=j(ue,V,_e,ze.value,Q),ze!==null&&(n&&ze.alternate!==null&&ue.delete(ze.key===null?_e:ze.key),N=d(ze,N,_e),Ce===null?oe=ze:Ce.sibling=ze,Ce=ze);return n&&ue.forEach(function(tA){return r(V,tA)}),Fe&&Hs(V,_e),oe}function et(V,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var oe=U.key;N!==null;){if(N.key===oe){if(oe=U.type,oe===W){if(N.tag===7){a(V,N.sibling),Q=h(N,U.props.children),Q.return=V,V=Q;break e}}else if(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===T&&g_(oe)===N.type){a(V,N.sibling),Q=h(N,U.props),kl(Q,U),Q.return=V,V=Q;break e}a(V,N);break}else r(V,N);N=N.sibling}U.type===W?(Q=js(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=bc(U.type,U.key,U.props,null,V.mode,Q),kl(Q,U),Q.return=V,V=Q)}return v(V);case H:e:{for(oe=U.key;N!==null;){if(N.key===oe)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(V,N.sibling),Q=h(N,U.children||[]),Q.return=V,V=Q;break e}else{a(V,N);break}else r(V,N);N=N.sibling}Q=ld(U,V.mode,Q),Q.return=V,V=Q}return v(V);case T:return oe=U._init,U=oe(U._payload),et(V,N,U,Q)}if(ht(U))return be(V,N,U,Q);if(O(U)){if(oe=O(U),typeof oe!="function")throw Error(s(150));return U=oe.call(U),ye(V,N,U,Q)}if(typeof U.then=="function")return et(V,N,Uc(U),Q);if(U.$$typeof===he)return et(V,N,Sc(V,U),Q);Bc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(V,N.sibling),Q=h(N,U),Q.return=V,V=Q):(a(V,N),Q=od(U,V.mode,Q),Q.return=V,V=Q),v(V)):a(V,N)}return function(V,N,U,Q){try{Ol=0;var oe=et(V,N,U,Q);return Qa=null,oe}catch(ue){if(ue===Tl||ue===Ic)throw ue;var Ce=Sn(29,ue,null,V.mode);return Ce.lanes=Q,Ce.return=V,Ce}finally{}}}var $a=y_(!0),__=y_(!1),Kn=Z(null),bi=null;function Or(n){var r=n.alternate;te(Vt,Vt.current&1),te(Kn,n),bi===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(bi=n)}function v_(n){if(n.tag===22){if(te(Vt,Vt.current),te(Kn,n),bi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(bi=n)}}else kr()}function kr(){te(Vt,Vt.current),te(Kn,Kn.current)}function tr(n){se(Kn),bi===n&&(bi=null),se(Vt)}var Vt=Z(0);function zc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function jd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var qd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=xn(),h=xr(l);h.payload=r,a!=null&&(h.callback=a),r=Dr(n,h,l),r!==null&&(Dn(r,n,l),Sl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=xn(),h=xr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Dr(n,h,l),r!==null&&(Dn(r,n,l),Sl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=xn(),l=xr(a);l.tag=2,r!=null&&(l.callback=r),r=Dr(n,l,a),r!==null&&(Dn(r,n,a),Sl(r,n,a))}};function w_(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function b_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&qd.enqueueReplaceState(r,r.state,null)}function Xs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=b({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function E_(n){jc(n)}function T_(n){console.error(n)}function A_(n){jc(n)}function qc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function S_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hd(n,r,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){qc(n,r)},a}function R_(n){return n=xr(n),n.tag=3,n}function I_(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){S_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){S_(r,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function t1(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&wl(r,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return bi===null?dm():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_d?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),pm(n,l,h)),!1;case 22:return a.flags|=65536,l===_d?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),pm(n,l,h)),!1}throw Error(s(435,a.tag))}return pm(n,l,h),dm(),!1}if(Fe)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==hd&&(n=Error(s(422),{cause:l}),vl(Hn(n,a)))):(l!==hd&&(r=Error(s(423),{cause:l}),vl(Hn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Hn(l,a),h=Hd(n.stateNode,l,h),bd(n,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),zl===null?zl=[d]:zl.push(d),mt!==4&&(mt=2),r===null)return!0;l=Hn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Hd(a.stateNode,l,n),bd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=R_(h),I_(h,n,a,l),bd(a,h),!1}a=a.return}while(a!==null);return!1}var C_=Error(s(461)),zt=!1;function Qt(n,r,a,l){r.child=n===null?__(r,null,a,l):$a(r,n.child,a,l)}function x_(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Ks(r),l=Rd(n,r,a,v,d,h),w=Id(),n!==null&&!zt?(Cd(n,r,h),nr(n,r,h)):(Fe&&w&&ud(r),r.flags|=1,Qt(n,r,l,h),r.child)}function D_(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!ad(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,N_(n,r,d,l,h)):(n=bc(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Wd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(v,l)&&n.ref===r.ref)return nr(n,r,h)}return r.flags|=1,n=$i(d,l),n.ref=r.ref,n.return=r,r.child=n}function N_(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(pl(d,l)&&n.ref===r.ref)if(zt=!1,r.pendingProps=l=d,Wd(n,h))(n.flags&131072)!==0&&(zt=!0);else return r.lanes=n.lanes,nr(n,r,h)}return Fd(n,r,a,l,h)}function O_(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return k_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rc(r,d!==null?d.cachePool:null),d!==null?Ny(r,d):Td(),v_(r);else return r.lanes=r.childLanes=536870912,k_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Rc(r,d.cachePool),Ny(r,d),kr(),r.memoizedState=null):(n!==null&&Rc(r,null),Td(),kr());return Qt(n,r,h,a),r.child}function k_(n,r,a,l){var h=yd();return h=h===null?null:{parent:Mt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&Rc(r,null),Td(),v_(r),n!==null&&wl(n,r,l,!0),null}function Hc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Fd(n,r,a,l,h){return Ks(r),a=Rd(n,r,a,l,void 0,h),l=Id(),n!==null&&!zt?(Cd(n,r,h),nr(n,r,h)):(Fe&&l&&ud(r),r.flags|=1,Qt(n,r,a,h),r.child)}function M_(n,r,a,l,h,d){return Ks(r),r.updateQueue=null,a=ky(r,l,a,h),Oy(n),l=Id(),n!==null&&!zt?(Cd(n,r,d),nr(n,r,d)):(Fe&&l&&ud(r),r.flags|=1,Qt(n,r,a,d),r.child)}function V_(n,r,a,l,h){if(Ks(r),r.stateNode===null){var d=Ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},vd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):Ba,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(jd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&qd.enqueueReplaceState(d,d.state,null),Il(r,l,d,h),Rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var w=r.memoizedProps,S=Xs(a,w);d.props=S;var B=d.context,Y=a.contextType;v=Ba,typeof Y=="object"&&Y!==null&&(v=tn(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||B!==v)&&b_(r,d,l,v),Cr=!1;var z=r.memoizedState;d.state=z,Il(r,l,d,h),Rl(),B=r.memoizedState,w||z!==B||Cr?(typeof $=="function"&&(jd(r,a,$,l),B=r.memoizedState),(S=Cr||w_(r,a,S,l,z,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=v,l=S):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,wd(n,r),v=r.memoizedProps,Y=Xs(a,v),d.props=Y,$=r.pendingProps,z=d.context,B=a.contextType,S=Ba,typeof B=="object"&&B!==null&&(S=tn(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||z!==S)&&b_(r,d,l,S),Cr=!1,z=r.memoizedState,d.state=z,Il(r,l,d,h),Rl();var j=r.memoizedState;v!==$||z!==j||Cr||n!==null&&n.dependencies!==null&&Ac(n.dependencies)?(typeof w=="function"&&(jd(r,a,w,l),j=r.memoizedState),(Y=Cr||w_(r,a,Y,l,z,j,S)||n!==null&&n.dependencies!==null&&Ac(n.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,S)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=S,l=Y):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&z===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Hc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=$a(r,n.child,null,h),r.child=$a(r,null,a,h)):Qt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=nr(n,r,h),n}function P_(n,r,a,l){return _l(),r.flags|=256,Qt(n,r,a,l),r.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(n){return{baseLanes:n,cachePool:Ty()}}function Kd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Qn),n}function L_(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(h?Or(r):kr(),Fe){var w=dt,S;if(S=w){e:{for(S=w,w=wi;S.nodeType!==8;){if(!w){w=null;break e}if(S=ii(S.nextSibling),S===null){w=null;break e}}w=S}w!==null?(r.memoizedState={dehydrated:w,treeContext:qs!==null?{id:Xi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},S=Sn(18,null,null,0),S.stateNode=w,S.return=r,r.child=S,hn=r,dt=null,S=!0):S=!1}S||Gs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Dm(w)?r.lanes=32:r.lanes=536870912,null;tr(r)}return w=l.children,l=l.fallback,h?(kr(),h=r.mode,w=Fc({mode:"hidden",children:w},h),l=js(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=Yd(a),h.childLanes=Kd(n,v,a),r.memoizedState=Gd,l):(Or(r),Qd(r,w))}if(S=n.memoizedState,S!==null&&(w=S.dehydrated,w!==null)){if(d)r.flags&256?(Or(r),r.flags&=-257,r=$d(n,r,a)):r.memoizedState!==null?(kr(),r.child=n.child,r.flags|=128,r=null):(kr(),h=l.fallback,w=r.mode,l=Fc({mode:"visible",children:l.children},w),h=js(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,$a(r,n.child,null,a),l=r.child,l.memoizedState=Yd(a),l.childLanes=Kd(n,v,a),r.memoizedState=Gd,r=h);else if(Or(r),Dm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),r=$d(n,r,a)}else if(zt||wl(n,r,a,!1),v=(a&n.childLanes)!==0,zt||v){if(v=rt,v!==null&&(l=a&-a,l=(l&42)!==0?1:wr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,Ua(n,l),Dn(v,n,l),C_;w.data==="$?"||dm(),r=$d(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=S.treeContext,dt=ii(w.nextSibling),hn=r,Fe=!0,Fs=null,wi=!1,n!==null&&(Gn[Yn++]=Xi,Gn[Yn++]=Wi,Gn[Yn++]=qs,Xi=n.id,Wi=n.overflow,qs=r),r=Qd(r,l.children),r.flags|=4096);return r}return h?(kr(),h=l.fallback,w=r.mode,S=n.child,B=S.sibling,l=$i(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,B!==null?h=$i(B,h):(h=js(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=n.child.memoizedState,w===null?w=Yd(a):(S=w.cachePool,S!==null?(B=Mt._currentValue,S=S.parent!==B?{parent:B,pool:B}:S):S=Ty(),w={baseLanes:w.baseLanes|a,cachePool:S}),h.memoizedState=w,h.childLanes=Kd(n,v,a),r.memoizedState=Gd,l):(Or(r),a=n.child,n=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Qd(n,r){return r=Fc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Fc(n,r){return n=Sn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $d(n,r,a){return $a(r,n.child,null,a),n=Qd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function U_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),dd(n.return,r,a)}function Xd(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function B_(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Qt(n,r,l.children,a),l=Vt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&U_(n,a,r);else if(n.tag===19)U_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Vt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&zc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Xd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&zc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Xd(r,!0,a,null,d);break;case"together":Xd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function nr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ur|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(wl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=$i(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=$i(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Wd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ac(n)))}function n1(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Ir(r,Mt,n.memoizedState.cache),_l();break;case 27:case 5:vr(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Ir(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(r),r.flags|=128,null):(a&r.child.childLanes)!==0?L_(n,r,a):(Or(r),n=nr(n,r,a),n!==null?n.sibling:null);Or(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(wl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return B_(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Vt,Vt.current),l)break;return null;case 22:case 23:return r.lanes=0,O_(n,r,a);case 24:Ir(r,Mt,n.memoizedState.cache)}return nr(n,r,a)}function z_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)zt=!0;else{if(!Wd(n,a)&&(r.flags&128)===0)return zt=!1,n1(n,r,a);zt=(n.flags&131072)!==0}else zt=!1,Fe&&(r.flags&1048576)!==0&&gy(r,Tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")ad(l)?(n=Xs(l,n),r.tag=1,r=V_(null,r,l,n,a)):(r.tag=0,r=Fd(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===qe){r.tag=11,r=x_(null,r,l,n,a);break e}else if(h===M){r.tag=14,r=D_(null,r,l,n,a);break e}}throw r=pt(l)||l,Error(s(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Xs(l,r.pendingProps),V_(n,r,l,h,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,wd(n,r),Il(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ir(r,Mt,l),l!==d.cache&&md(r,[Mt],a,!0),Rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=P_(n,r,l,a);break e}else if(l!==h){h=Hn(Error(s(424)),r),vl(h),r=P_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=ii(n.firstChild),hn=r,Fe=!0,Fs=null,wi=!0,a=__(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_l(),l===h){r=nr(n,r,a);break e}Qt(n,r,l,a)}r=r.child}return r;case 26:return Hc(n,r),n===null?(a=Fv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=rh(Te.current).createElement(a),l[Nt]=r,l[Tt]=n,Xt(l,a,n),gt(l),r.stateNode=l):r.memoizedState=Fv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return vr(r),n===null&&Fe&&(l=r.stateNode=jv(r.type,r.pendingProps,Te.current),hn=r,wi=!0,h=dt,qr(r.type)?(Nm=h,dt=ii(l.firstChild)):dt=h),Qt(n,r,r.pendingProps.children,a),Hc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((h=l=dt)&&(l=D1(l,r.type,r.pendingProps,wi),l!==null?(r.stateNode=l,hn=r,dt=ii(l.firstChild),wi=!1,h=!0):h=!1),h||Gs(r)),vr(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,Im(h,d)?l=null:v!==null&&Im(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Rd(n,r,Q2,null,null,a),$l._currentValue=h),Hc(n,r),Qt(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=dt)&&(a=N1(a,r.pendingProps,wi),a!==null?(r.stateNode=a,hn=r,dt=null,n=!0):n=!1),n||Gs(r)),null;case 13:return L_(n,r,a);case 4:return it(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=$a(r,null,l,a):Qt(n,r,l,a),r.child;case 11:return x_(n,r,r.type,r.pendingProps,a);case 7:return Qt(n,r,r.pendingProps,a),r.child;case 8:return Qt(n,r,r.pendingProps.children,a),r.child;case 12:return Qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ir(r,r.type,l.value),Qt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ks(r),h=tn(h),l=l(h),r.flags|=1,Qt(n,r,l,a),r.child;case 14:return D_(n,r,r.type,r.pendingProps,a);case 15:return N_(n,r,r.type,r.pendingProps,a);case 19:return B_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Fc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=$i(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return O_(n,r,a);case 24:return Ks(r),l=tn(Mt),n===null?(h=yd(),h===null&&(h=rt,d=pd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},vd(r),Ir(r,Mt,h)):((n.lanes&a)!==0&&(wd(n,r),Il(r,null,null,a),Rl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ir(r,Mt,l)):(l=d.cache,Ir(r,Mt,l),l!==h.cache&&md(r,[Mt],a,!0))),Qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ir(n){n.flags|=4}function j_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!$v(r)){if(r=Kn.current,r!==null&&((Pe&4194048)===Pe?bi!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||r!==bi))throw Al=_d,Ay;n.flags|=8192}}function Gc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Wo():536870912,n.lanes|=r,Ja|=r)}function Ml(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function i1(n,r,a){var l=r.pendingProps;switch(cd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(Mt),li(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(yl(r)?ir(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vy())),ut(r),null;case 26:return a=r.memoizedState,n===null?(ir(r),a!==null?(ut(r),j_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ir(r),ut(r),j_(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==l&&ir(r),ut(r),r.flags&=-16777217),null;case 27:Pi(r),a=Te.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=de.current,yl(r)?yy(r):(n=jv(h,l,a),r.stateNode=n,ir(r))}return ut(r),null;case 5:if(Pi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=de.current,yl(r))yy(r);else{switch(h=rh(Te.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Nt]=r,n[Tt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ir(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&ir(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Te.current,yl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Nt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(n.nodeValue,a)),n||Gs(r)}else n=rh(n).createTextNode(l),n[Nt]=r,r.stateNode=n}return ut(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=yl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=r}else _l(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=vy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(tr(r),r):(tr(r),null)}if(tr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Gc(r,r.updateQueue),ut(r),null;case 4:return li(),n===null&&Em(r.stateNode.containerInfo),ut(r),null;case 10:return Ji(r.type),ut(r),null;case 19:if(se(Vt),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Ml(h,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=zc(n),d!==null){for(r.flags|=128,Ml(h,!1),n=d.updateQueue,r.updateQueue=n,Gc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)py(a,n),a=a.sibling;return te(Vt,Vt.current&1|2),r.child}n=n.sibling}h.tail!==null&&Ln()>Qc&&(r.flags|=128,l=!0,Ml(h,!1),r.lanes=4194304)}else{if(!l)if(n=zc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Gc(r,n),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(r),null}else 2*Ln()-h.renderingStartTime>Qc&&a!==536870912&&(r.flags|=128,l=!0,Ml(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Ln(),r.sibling=null,n=Vt.current,te(Vt,l?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return tr(r),Ad(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Gc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&se(Qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(Mt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function r1(n,r){switch(cd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ji(Mt),li(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Pi(r),null;case 13:if(tr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_l()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return se(Vt),null;case 4:return li(),null;case 10:return Ji(r.type),null;case 22:case 23:return tr(r),Ad(),n!==null&&se(Qs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ji(Mt),null;case 25:return null;default:return null}}function q_(n,r){switch(cd(r),r.tag){case 3:Ji(Mt),li();break;case 26:case 27:case 5:Pi(r);break;case 4:li();break;case 13:tr(r);break;case 19:se(Vt);break;case 10:Ji(r.type);break;case 22:case 23:tr(r),Ad(),n!==null&&se(Qs);break;case 24:Ji(Mt)}}function Vl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){nt(r,r.return,w)}}function Mr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=r;var S=a,B=w;try{B()}catch(Y){nt(h,S,Y)}}}l=l.next}while(l!==d)}}catch(Y){nt(r,r.return,Y)}}function H_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Dy(r,a)}catch(l){nt(n,n.return,l)}}}function F_(n,r,a){a.props=Xs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function Pl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){nt(n,r,h)}}function Ei(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(n,r,h)}else a.current=null}function G_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(n,n.return,h)}}function Zd(n,r,a){try{var l=n.stateNode;S1(l,n.type,a,r),l[Tt]=r}catch(h){nt(n,n.return,h)}}function Y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&qr(n.type)||n.tag===4}function Jd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function em(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ih));else if(l!==4&&(l===27&&qr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(em(n,r,a),n=n.sibling;n!==null;)em(n,r,a),n=n.sibling}function Yc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&qr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Yc(n,r,a),n=n.sibling;n!==null;)Yc(n,r,a),n=n.sibling}function K_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Xt(r,l,a),r[Nt]=n,r[Tt]=a}catch(d){nt(n,n.return,d)}}var rr=!1,_t=!1,tm=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function s1(n,r){if(n=n.containerInfo,Sm=ch,n=sy(n),Jf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,S=-1,B=0,Y=0,$=n,z=null;t:for(;;){for(var j;$!==a||h!==0&&$.nodeType!==3||(w=v+h),$!==d||l!==0&&$.nodeType!==3||(S=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(j=$.firstChild)!==null;)z=$,$=j;for(;;){if($===n)break t;if(z===a&&++B===h&&(w=v),z===d&&++Y===l&&(S=v),(j=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=j}a=w===-1||S===-1?null:{start:w,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:n,selectionRange:a},ch=!1,jt=r;jt!==null;)if(r=jt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,jt=n;else for(;jt!==null;){switch(r=jt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Xs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){nt(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)xm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,jt=n;break}jt=r.return}}function $_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(n,a),l&4&&Vl(5,a);break;case 1:if(Vr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){nt(a,a.return,v)}else{var h=Xs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&H_(a),l&512&&Pl(a,a.return);break;case 3:if(Vr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dy(n,r)}catch(v){nt(a,a.return,v)}}break;case 27:r===null&&l&4&&K_(a);case 26:case 5:Vr(n,a),r===null&&l&4&&G_(a),l&512&&Pl(a,a.return);break;case 12:Vr(n,a);break;case 13:Vr(n,a),l&4&&Z_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=m1.bind(null,a),O1(n,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){r=r!==null&&r.memoizedState!==null||_t,h=rr;var d=_t;rr=l,(_t=r)&&!d?Pr(n,a,(a.subtreeFlags&8772)!==0):Vr(n,a),rr=h,_t=d}break;case 30:break;default:Vr(n,a)}}function X_(n){var r=n.alternate;r!==null&&(n.alternate=null,X_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Tr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,yn=!1;function sr(n,r,a){for(a=a.child;a!==null;)W_(n,r,a),a=a.sibling}function W_(n,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:_t||Ei(a,r),sr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||Ei(a,r);var l=lt,h=yn;qr(a.type)&&(lt=a.stateNode,yn=!1),sr(n,r,a),Gl(a.stateNode),lt=l,yn=h;break;case 5:_t||Ei(a,r);case 6:if(l=lt,h=yn,lt=null,sr(n,r,a),lt=l,yn=h,lt!==null)if(yn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:lt!==null&&(yn?(n=lt,Bv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Jl(n)):Bv(lt,a.stateNode));break;case 4:l=lt,h=yn,lt=a.stateNode.containerInfo,yn=!0,sr(n,r,a),lt=l,yn=h;break;case 0:case 11:case 14:case 15:_t||Mr(2,a,r),_t||Mr(4,a,r),sr(n,r,a);break;case 1:_t||(Ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&F_(a,r,l)),sr(n,r,a);break;case 21:sr(n,r,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,sr(n,r,a),_t=l;break;default:sr(n,r,a)}}function Z_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jl(n)}catch(a){nt(r,r.return,a)}}function a1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Q_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Q_),r;default:throw Error(s(435,n.tag))}}function nm(n,r){var a=a1(n);r.forEach(function(l){var h=p1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(qr(w.type)){lt=w.stateNode,yn=!1;break e}break;case 5:lt=w.stateNode,yn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,yn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));W_(d,v,h),lt=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)J_(r,n),r=r.sibling}var ni=null;function J_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(r,n),In(n),l&4&&(Mr(3,n,n.return),Vl(3,n),Mr(5,n,n.return));break;case 1:Rn(r,n),In(n),l&512&&(_t||a===null||Ei(a,a.return)),l&64&&rr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(Rn(r,n),In(n),l&512&&(_t||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ss]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,l,a),d[Nt]=n,gt(d),l=d;break e;case"link":var v=Kv("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Kv("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=h.createElement(l),Xt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=n,gt(d),l=d}n.stateNode=l}else Qv(h,n.type,n.stateNode);else n.stateNode=Yv(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Qv(h,n.type,n.stateNode):Yv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Zd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,n),In(n),l&512&&(_t||a===null||Ei(a,a.return)),a!==null&&l&4&&Zd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,n),In(n),l&512&&(_t||a===null||Ei(a,a.return)),n.flags&32){h=n.stateNode;try{Bn(h,"")}catch(j){nt(n,n.return,j)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Zd(n,h,a!==null?a.memoizedProps:h)),l&1024&&(tm=!0);break;case 6:if(Rn(r,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(j){nt(n,n.return,j)}}break;case 3:if(oh=null,h=ni,ni=sh(r.containerInfo),Rn(r,n),ni=h,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Jl(r.containerInfo)}catch(j){nt(n,n.return,j)}tm&&(tm=!1,ev(n));break;case 4:l=ni,ni=sh(n.stateNode.containerInfo),Rn(r,n),In(n),ni=l;break;case 12:Rn(r,n),In(n);break;case 13:Rn(r,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lm=Ln()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nm(n,l)));break;case 22:h=n.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,B=rr,Y=_t;if(rr=B||h,_t=Y||S,Rn(r,n),_t=Y,rr=B,In(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||S||rr||_t||Ws(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){S=a=r;try{if(d=S.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=S.stateNode;var $=S.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){nt(S,S.return,j)}}}else if(r.tag===6){if(a===null){S=r;try{S.stateNode.nodeValue=h?"":S.memoizedProps}catch(j){nt(S,S.return,j)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nm(n,a))));break;case 19:Rn(r,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nm(n,l)));break;case 30:break;case 21:break;default:Rn(r,n),In(n)}}function In(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Jd(n);Yc(n,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Bn(v,""),a.flags&=-33);var w=Jd(n);Yc(n,w,v);break;case 3:case 4:var S=a.stateNode.containerInfo,B=Jd(n);em(n,B,S);break;default:throw Error(s(161))}}catch(Y){nt(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ev(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Vr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$_(n,r.alternate,r),r=r.sibling}function Ws(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Mr(4,r,r.return),Ws(r);break;case 1:Ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&F_(r,r.return,a),Ws(r);break;case 27:Gl(r.stateNode);case 26:case 5:Ei(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}n=n.sibling}}function Pr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Pr(h,d,a),Vl(4,d);break;case 1:if(Pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){nt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var S=h.shared.hiddenCallbacks;if(S!==null)for(h.shared.hiddenCallbacks=null,h=0;h<S.length;h++)xy(S[h],w)}catch(B){nt(l,l.return,B)}}a&&v&64&&H_(d),Pl(d,d.return);break;case 27:K_(d);case 26:case 5:Pr(h,d,a),a&&l===null&&v&4&&G_(d),Pl(d,d.return);break;case 12:Pr(h,d,a);break;case 13:Pr(h,d,a),a&&v&4&&Z_(h,d);break;case 22:d.memoizedState===null&&Pr(h,d,a),Pl(d,d.return);break;case 30:break;default:Pr(h,d,a)}r=r.sibling}}function im(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bl(a))}function rm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&bl(n))}function Ti(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(n,r,a,l),r=r.sibling}function tv(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(n,r,a,l),h&2048&&Vl(9,r);break;case 1:Ti(n,r,a,l);break;case 3:Ti(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&bl(n)));break;case 12:if(h&2048){Ti(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(S){nt(r,r.return,S)}}else Ti(n,r,a,l);break;case 13:Ti(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ti(n,r,a,l):Ll(n,r):d._visibility&2?Ti(n,r,a,l):(d._visibility|=2,Xa(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&im(v,r);break;case 24:Ti(n,r,a,l),h&2048&&rm(r.alternate,r);break;default:Ti(n,r,a,l)}}function Xa(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,w=a,S=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Xa(d,v,w,S,h),Vl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Xa(d,v,w,S,h):Ll(d,v):(Y._visibility|=2,Xa(d,v,w,S,h)),h&&B&2048&&im(v.alternate,v);break;case 24:Xa(d,v,w,S,h),h&&B&2048&&rm(v.alternate,v);break;default:Xa(d,v,w,S,h)}r=r.sibling}}function Ll(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&im(l.alternate,l);break;case 24:Ll(a,l),h&2048&&rm(l.alternate,l);break;default:Ll(a,l)}r=r.sibling}}var Ul=8192;function Wa(n){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)nv(n),n=n.sibling}function nv(n){switch(n.tag){case 26:Wa(n),n.flags&Ul&&n.memoizedState!==null&&G1(ni,n.memoizedState,n.memoizedProps);break;case 5:Wa(n);break;case 3:case 4:var r=ni;ni=sh(n.stateNode.containerInfo),Wa(n),ni=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ul,Ul=16777216,Wa(n),Ul=r):Wa(n));break;default:Wa(n)}}function iv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Bl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,sv(l,n)}iv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rv(n),n=n.sibling}function rv(n){switch(n.tag){case 0:case 11:case 15:Bl(n),n.flags&2048&&Mr(9,n,n.return);break;case 3:Bl(n);break;case 12:Bl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Kc(n)):Bl(n);break;default:Bl(n)}}function Kc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,sv(l,n)}iv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Mr(8,r,r.return),Kc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(r));break;default:Kc(r)}n=n.sibling}}function sv(n,r){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=n;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(X_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var o1={getCacheForType:function(n){var r=tn(Mt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},l1=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,xe=null,Pe=0,Xe=0,Cn=null,Lr=!1,Za=!1,sm=!1,ar=0,mt=0,Ur=0,Zs=0,am=0,Qn=0,Ja=0,zl=null,_n=null,om=!1,lm=0,Qc=1/0,$c=null,Br=null,$t=0,zr=null,eo=null,to=0,um=0,cm=null,av=null,jl=0,hm=null;function xn(){if(($e&2)!==0&&Pe!==0)return Pe&-Pe;if(G.T!==null){var n=qa;return n!==0?n:_m()}return br()}function ov(){Qn===0&&(Qn=(Pe&536870912)===0||Fe?Xo():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),Qn}function Dn(n,r,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(no(n,0),jr(n,Pe,Qn,!1)),Ui(n,a),(($e&2)===0||n!==rt)&&(n===rt&&(($e&2)===0&&(Zs|=a),mt===4&&jr(n,Pe,Qn,!1)),Ai(n))}function lv(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||As(n,r),h=l?h1(n,r):mm(n,r,!0),d=l;do{if(h===0){Za&&!l&&jr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!u1(a)){h=mm(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=n;h=zl;var S=w.current.memoizedState.isDehydrated;if(S&&(no(w,v).flags|=256),v=mm(w,v,!1),v!==2){if(sm&&!S){w.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=_n,_n=h,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){no(n,0),jr(n,r,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:jr(l,r,Qn,!Lr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=lm+300-Ln(),10<h)){if(jr(l,r,Qn,!Lr),va(l,0,!0)!==0)break e;l.timeoutHandle=Lv(uv.bind(null,l,a,_n,$c,om,r,Qn,Zs,Ja,Lr,d,2,-0,0),h);break e}uv(l,a,_n,$c,om,r,Qn,Zs,Ja,Lr,d,0,-0,0)}}break}while(!0);Ai(n)}function uv(n,r,a,l,h,d,v,w,S,B,Y,$,z,j){if(n.timeoutHandle=-1,$=r.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:F1},nv(r),$=Y1(),$!==null)){n.cancelPendingCommit=$(gv.bind(null,n,r,d,a,l,h,v,w,S,Y,1,z,j)),jr(n,d,v,!B);return}gv(n,r,d,a,l,h,v,w,S)}function u1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(n,r,a,l){r&=~am,r&=~Zs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ui(n,a,r)}function Xc(){return($e&6)===0?(ql(0),!1):!0}function fm(){if(xe!==null){if(Xe===0)var n=xe.return;else n=xe,Zi=Ys=null,xd(n),Qa=null,Ol=0,n=xe;for(;n!==null;)q_(n.alternate,n),n=n.return;xe=null}}function no(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,I1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),fm(),rt=n,xe=a=$i(n.current,null),Pe=r,Xe=0,Cn=null,Lr=!1,Za=As(n,r),sm=!1,Ja=Qn=am=Zs=Ur=mt=0,_n=zl=null,om=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=n[h],l&=~d}return ar=r,_c(),a}function cv(n,r){Re=null,G.H=Lc,r===Tl||r===Ic?(r=Iy(),Xe=3):r===Ay?(r=Iy(),Xe=4):Xe=r===C_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,xe===null&&(mt=1,qc(n,Hn(r,n.current)))}function hv(){var n=G.H;return G.H=Lc,n===null?Lc:n}function fv(){var n=G.A;return G.A=o1,n}function dm(){mt=4,Lr||(Pe&4194048)!==Pe&&Kn.current!==null||(Za=!0),(Ur&134217727)===0&&(Zs&134217727)===0||rt===null||jr(rt,Pe,Qn,!1)}function mm(n,r,a){var l=$e;$e|=2;var h=hv(),d=fv();(rt!==n||Pe!==r)&&($c=null,no(n,r)),r=!1;var v=mt;e:do try{if(Xe!==0&&xe!==null){var w=xe,S=Cn;switch(Xe){case 8:fm(),v=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var B=Xe;if(Xe=0,Cn=null,io(n,w,S,B),a&&Za){v=0;break e}break;default:B=Xe,Xe=0,Cn=null,io(n,w,S,B)}}c1(),v=mt;break}catch(Y){cv(n,Y)}while(!0);return r&&n.shellSuspendCounter++,Zi=Ys=null,$e=l,G.H=h,G.A=d,xe===null&&(rt=null,Pe=0,_c()),v}function c1(){for(;xe!==null;)dv(xe)}function h1(n,r){var a=$e;$e|=2;var l=hv(),h=fv();rt!==n||Pe!==r?($c=null,Qc=Ln()+500,no(n,r)):Za=As(n,r);e:do try{if(Xe!==0&&xe!==null){r=xe;var d=Cn;t:switch(Xe){case 1:Xe=0,Cn=null,io(n,r,d,1);break;case 2:case 9:if(Sy(d)){Xe=0,Cn=null,mv(r);break}r=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Ai(n)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Sy(d)?(Xe=0,Cn=null,mv(r)):(Xe=0,Cn=null,io(n,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var w=xe;if(!v||$v(v)){Xe=0,Cn=null;var S=w.sibling;if(S!==null)xe=S;else{var B=w.return;B!==null?(xe=B,Wc(B)):xe=null}break t}}Xe=0,Cn=null,io(n,r,d,5);break;case 6:Xe=0,Cn=null,io(n,r,d,6);break;case 8:fm(),mt=6;break e;default:throw Error(s(462))}}f1();break}catch(Y){cv(n,Y)}while(!0);return Zi=Ys=null,G.H=l,G.A=h,$e=a,xe!==null?0:(rt=null,Pe=0,_c(),mt)}function f1(){for(;xe!==null&&!Yo();)dv(xe)}function dv(n){var r=z_(n.alternate,n,ar);n.memoizedProps=n.pendingProps,r===null?Wc(n):xe=r}function mv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=M_(a,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=M_(a,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:xd(r);default:q_(a,r),r=xe=py(r,ar),r=z_(a,r,ar)}n.memoizedProps=n.pendingProps,r===null?Wc(n):xe=r}function io(n,r,a,l){Zi=Ys=null,xd(r),Qa=null,Ol=0;var h=r.return;try{if(t1(n,h,r,a,Pe)){mt=1,qc(n,Hn(a,n.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;mt=1,qc(n,Hn(a,n.current)),xe=null;return}r.flags&32768?(Fe||l===1?n=!0:Za||(Pe&536870912)!==0?n=!1:(Lr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pv(r,n)):Wc(r)}function Wc(n){var r=n;do{if((r.flags&32768)!==0){pv(r,Lr);return}n=r.return;var a=i1(r.alternate,r,ar);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);mt===0&&(mt=5)}function pv(n,r){do{var a=r1(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);mt=6,xe=null}function gv(n,r,a,l,h,d,v,w,S){n.cancelPendingCommit=null;do Zc();while($t!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=rd,Zo(n,a,d,v,w,S),n===rt&&(xe=rt=null,Pe=0),eo=r,zr=n,to=a,um=d,cm=h,av=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,g1(ws,function(){return bv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=re.p,re.p=2,v=$e,$e|=4;try{s1(n,r,a)}finally{$e=v,re.p=h,G.T=l}}$t=1,yv(),_v(),vv()}}function yv(){if($t===1){$t=0;var n=zr,r=eo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=$e;$e|=4;try{J_(r,n);var d=Rm,v=sy(n.containerInfo),w=d.focusedElem,S=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&ry(w.ownerDocument.documentElement,w)){if(S!==null&&Jf(w)){var B=S.start,Y=S.end;if(Y===void 0&&(Y=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(Y,w.value.length);else{var $=w.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var j=z.getSelection(),be=w.textContent.length,ye=Math.min(S.start,be),et=S.end===void 0?ye:Math.min(S.end,be);!j.extend&&ye>et&&(v=et,et=ye,ye=v);var V=iy(w,ye),N=iy(w,et);if(V&&N&&(j.rangeCount!==1||j.anchorNode!==V.node||j.anchorOffset!==V.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var U=$.createRange();U.setStart(V.node,V.offset),j.removeAllRanges(),ye>et?(j.addRange(U),j.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),j.addRange(U))}}}}for($=[],j=w;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<$.length;w++){var Q=$[w];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ch=!!Sm,Rm=Sm=null}finally{$e=h,re.p=l,G.T=a}}n.current=r,$t=2}}function _v(){if($t===2){$t=0;var n=zr,r=eo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=re.p;re.p=2;var h=$e;$e|=4;try{$_(n,r.alternate,r)}finally{$e=h,re.p=l,G.T=a}}$t=3}}function vv(){if($t===4||$t===3){$t=0,Ku();var n=zr,r=eo,a=to,l=av;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,eo=zr=null,wv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Br=null),wa(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,h=re.p,re.p=2,G.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{G.T=r,re.p=h}}(to&3)!==0&&Zc(),Ai(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===hm?jl++:(jl=0,hm=n):jl=0,ql(0)}}function wv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,bl(r)))}function Zc(n){return yv(),_v(),vv(),bv()}function bv(){if($t!==5)return!1;var n=zr,r=um;um=0;var a=wa(to),l=G.T,h=re.p;try{re.p=32>a?32:a,G.T=null,a=cm,cm=null;var d=zr,v=to;if($t=0,eo=zr=null,to=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,rv(d.current),tv(d,d.current,v,a),$e=w,ql(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{re.p=h,G.T=l,wv(n,r)}}function Ev(n,r,a){r=Hn(a,r),r=Hd(n.stateNode,r,2),n=Dr(n,r,2),n!==null&&(Ui(n,2),Ai(n))}function nt(n,r,a){if(n.tag===3)Ev(n,n,a);else for(;r!==null;){if(r.tag===3){Ev(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){n=Hn(a,n),a=R_(2),l=Dr(r,a,2),l!==null&&(I_(a,l,r,n),Ui(l,2),Ai(l));break}}r=r.return}}function pm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new l1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(sm=!0,h.add(a),n=d1.bind(null,n,r,a),r.then(n,n))}function d1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Pe&a)===a&&(mt===4||mt===3&&(Pe&62914560)===Pe&&300>Ln()-lm?($e&2)===0&&no(n,0):am|=a,Ja===Pe&&(Ja=0)),Ai(n)}function Tv(n,r){r===0&&(r=Wo()),n=Ua(n,r),n!==null&&(Ui(n,r),Ai(n))}function m1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Tv(n,a)}function p1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Tv(n,a)}function g1(n,r){return _s(n,r)}var Jc=null,ro=null,gm=!1,eh=!1,ym=!1,Js=0;function Ai(n){n!==ro&&n.next===null&&(ro===null?Jc=ro=n:ro=ro.next=n),eh=!0,gm||(gm=!0,_1())}function ql(n,r){if(!ym&&eh){ym=!0;do for(var a=!1,l=Jc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=h&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Iv(l,d))}else d=Pe,d=va(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||As(l,d)||(a=!0,Iv(l,d));l=l.next}while(a);ym=!1}}function y1(){Av()}function Av(){eh=gm=!1;var n=0;Js!==0&&(R1()&&(n=Js),Js=0);for(var r=Ln(),a=null,l=Jc;l!==null;){var h=l.next,d=Sv(l,r);d===0?(l.next=null,a===null?Jc=h:a.next=h,h===null&&(ro=a)):(a=l,(n!==0||(d&3)!==0)&&(eh=!0)),l=h}ql(n)}function Sv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-en(d),w=1<<v,S=h[v];S===-1?((w&a)===0||(w&l)!==0)&&(h[v]=$o(w,r)):S<=r&&(n.expiredLanes|=w),d&=~w}if(r=rt,a=Pe,a=va(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&vs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||As(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&vs(l),wa(a)){case 2:case 8:a=ya;break;case 32:a=ws;break;case 268435456:a=_a;break;default:a=ws}return l=Rv.bind(null,n),a=_s(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&vs(l),n.callbackPriority=2,n.callbackNode=null,2}function Rv(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Zc()&&n.callbackNode!==a)return null;var l=Pe;return l=va(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(lv(n,l,r),Sv(n,Ln()),n.callbackNode!=null&&n.callbackNode===a?Rv.bind(null,n):null)}function Iv(n,r){if(Zc())return null;lv(n,r,!0)}function _1(){C1(function(){($e&6)!==0?_s(Ko,y1):Av()})}function _m(){return Js===0&&(Js=Xo()),Js}function Cv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ra(""+n)}function xv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function v1(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Cv((h[Tt]||null).action),v=l.submitter;v&&(r=(r=v[Tt]||null)?Cv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new Ia("action","action",null,l,h);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var S=v?xv(h,v):new FormData(h);Ud(a,{pending:!0,data:S,method:h.method,action:d},null,S)}}else typeof d=="function"&&(w.preventDefault(),S=v?xv(h,v):new FormData(h),Ud(a,{pending:!0,data:S,method:h.method,action:d},d,S))},currentTarget:h}]})}}for(var vm=0;vm<id.length;vm++){var wm=id[vm],w1=wm.toLowerCase(),b1=wm[0].toUpperCase()+wm.slice(1);ti(w1,"on"+b1)}ti(ly,"onAnimationEnd"),ti(uy,"onAnimationIteration"),ti(cy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(U2,"onTransitionRun"),ti(B2,"onTransitionStart"),ti(z2,"onTransitionCancel"),ti(hy,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Dv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],S=w.instance,B=w.currentTarget;if(w=w.listener,S!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch(Y){jc(Y)}h.currentTarget=null,d=S}else for(v=0;v<l.length;v++){if(w=l[v],S=w.instance,B=w.currentTarget,w=w.listener,S!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=B;try{d(h)}catch(Y){jc(Y)}h.currentTarget=null,d=S}}}}function De(n,r){var a=r[el];a===void 0&&(a=r[el]=new Set);var l=n+"__bubble";a.has(l)||(Nv(r,n,2,!1),a.add(l))}function bm(n,r,a){var l=0;r&&(l|=4),Nv(a,n,l,r)}var th="_reactListening"+Math.random().toString(36).slice(2);function Em(n){if(!n[th]){n[th]=!0,tl.forEach(function(a){a!=="selectionchange"&&(E1.has(a)||bm(a,!1,n),bm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[th]||(r[th]=!0,bm("selectionchange",!1,r))}}function Nv(n,r,a,l){switch(tw(r)){case 2:var h=$1;break;case 8:h=X1;break;default:h=Pm}a=h.bind(null,r,a,n),h=void 0,!jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Tm(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=Bi(w),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=d=v;continue e}w=w.parentNode}}l=l.return}ic(function(){var B=d,Y=zn(a),$=[];e:{var z=fy.get(n);if(z!==void 0){var j=Ia,be=n;switch(n){case"keypress":if(pi(a)===0)break e;case"keydown":case"keyup":j=ka;break;case"focusin":be="focus",j=Da;break;case"focusout":be="blur",j=Da;break;case"beforeblur":case"afterblur":j=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=hc;break;case ly:case uy:case cy:j=Na;break;case hy:j=dc;break;case"scroll":case"scrollend":j=rc;break;case"wheel":j=Ma;break;case"copy":case"cut":case"paste":j=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=dl;break;case"toggle":case"beforetoggle":j=pc}var ye=(r&4)!==0,et=!ye&&(n==="scroll"||n==="scrollend"),V=ye?z!==null?z+"Capture":null:z;ye=[];for(var N=B,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=Os(N,V),Q!=null&&ye.push(Fl(N,Q,U))),et)break;N=N.return}0<ye.length&&(z=new j(z,be,null,a,Y),$.push({event:z,listeners:ye}))}}if((r&7)===0){e:{if(z=n==="mouseover"||n==="pointerover",j=n==="mouseout"||n==="pointerout",z&&a!==Hi&&(be=a.relatedTarget||a.fromElement)&&(Bi(be)||be[Un]))break e;if((j||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,j?(be=a.relatedTarget||a.toElement,j=B,be=be?Bi(be):null,be!==null&&(et=u(be),ye=be.tag,be!==et||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(j=null,be=B),j!==be)){if(ye=qn,Q="onMouseLeave",V="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ye=dl,Q="onPointerLeave",V="onPointerEnter",N="pointer"),et=j==null?z:hi(j),U=be==null?z:hi(be),z=new ye(Q,N+"leave",j,a,Y),z.target=et,z.relatedTarget=U,Q=null,Bi(Y)===B&&(ye=new ye(V,N+"enter",be,a,Y),ye.target=U,ye.relatedTarget=et,Q=ye),et=Q,j&&be)t:{for(ye=j,V=be,N=0,U=ye;U;U=so(U))N++;for(U=0,Q=V;Q;Q=so(Q))U++;for(;0<N-U;)ye=so(ye),N--;for(;0<U-N;)V=so(V),U--;for(;N--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=so(ye),V=so(V)}ye=null}else ye=null;j!==null&&Ov($,z,j,ye,!1),be!==null&&et!==null&&Ov($,et,be,ye,!0)}}e:{if(z=B?hi(B):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var oe=Wg;else if(kt(z))if(Zg)oe=V2;else{oe=k2;var Ce=O2}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?B&&al(B.elementType)&&(oe=Wg):oe=M2;if(oe&&(oe=oe(n,B))){Qi($,oe,a,Y);break e}Ce&&Ce(n,z,B),n==="focusout"&&B&&z.type==="number"&&B.memoizedProps.value!=null&&Sr(z,"number",z.value)}switch(Ce=B?hi(B):window,n){case"focusin":(kt(Ce)||Ce.contentEditable==="true")&&(Va=Ce,ed=B,gl=null);break;case"focusout":gl=ed=Va=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,ay($,a,Y);break;case"selectionchange":if(L2)break;case"keydown":case"keyup":ay($,a,Y)}var ue;if(_i)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?q(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(ue=ll()):(mi=Y,Rr="value"in mi?mi.value:mi.textContent,Me=!0)),Ce=nh(B,_e),0<Ce.length&&(_e=new hl(_e,n,null,a,Y),$.push({event:_e,listeners:Ce}),ue?_e.data=ue:(ue=ne(a),ue!==null&&(_e.data=ue)))),(ue=p?Ot(n,a):Ve(n,a))&&(_e=nh(B,"onBeforeInput"),0<_e.length&&(Ce=new hl("onBeforeInput","beforeinput",null,a,Y),$.push({event:Ce,listeners:_e}),Ce.data=ue)),v1($,n,B,a,Y)}Dv($,r)})}function Fl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function nh(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Os(n,a),h!=null&&l.unshift(Fl(n,h,d)),h=Os(n,r),h!=null&&l.push(Fl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function so(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ov(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,S=w.alternate,B=w.stateNode;if(w=w.tag,S!==null&&S===l)break;w!==5&&w!==26&&w!==27||B===null||(S=B,h?(B=Os(a,d),B!=null&&v.unshift(Fl(a,B,S))):h||(B=Os(a,d),B!=null&&v.push(Fl(a,B,S)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var T1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function kv(n){return(typeof n=="string"?n:""+n).replace(T1,`
`).replace(A1,"")}function Mv(n,r){return r=kv(r),kv(n)===r}function ih(){}function Je(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Bn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Bn(n,""+l);break;case"className":fi(n,"class",l);break;case"tabIndex":fi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(n,a,l);break;case"style":sl(n,l,d);break;case"data":if(r!=="object"){fi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ra(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",h.name,h,null),Je(n,r,"formEncType",h.formEncType,h,null),Je(n,r,"formMethod",h.formMethod,h,null),Je(n,r,"formTarget",h.formTarget,h,null)):(Je(n,r,"encType",h.encType,h,null),Je(n,r,"method",h.method,h,null),Je(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ra(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ih);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ra(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),Ar(n,"popover",l);break;case"xlinkActuate":Yt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kf.get(a)||a,Ar(n,a,l))}}function Am(n,r,a,l,h,d){switch(a){case"style":sl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Bn(n,l):(typeof l=="number"||typeof l=="bigint")&&Bn(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ar(n,a,l)}}}function Xt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,d,v,a,null)}}h&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":De("invalid",n);var w=d=v=h=null,S=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":S=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Je(n,r,l,Y,a,null)}}xs(n,d,w,S,B,v,h,!1),Sa(n);return;case"select":De("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Je(n,r,h,w,a,null)}r=d,a=v,n.multiple=!!l,r!=null?qi(n,!!l,r,!1):a!=null&&qi(n,!!l,a,!0);return;case"textarea":De("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(n,r,v,w,a,null)}Ds(n,l,h,d),Sa(n);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,S,l,a,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<Hl.length;l++)De(Hl[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,B,l,a,null)}return;default:if(al(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Am(n,r,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(n,r,w,l,a,null))}function S1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,w=null,S=null,B=null,Y=null;for(j in a){var $=a[j];if(a.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":S=$;default:l.hasOwnProperty(j)||Je(n,r,j,null,l,$)}}for(var z in l){var j=l[z];if($=a[z],l.hasOwnProperty(z)&&(j!=null||$!=null))switch(z){case"type":d=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":w=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:j!==$&&Je(n,r,z,j,l,$)}}Tn(n,v,w,S,B,Y,d,h);return;case"select":j=v=w=z=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":j=S;default:l.hasOwnProperty(d)||Je(n,r,d,null,l,S)}for(h in l)if(d=l[h],S=a[h],l.hasOwnProperty(h)&&(d!=null||S!=null))switch(h){case"value":z=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==S&&Je(n,r,h,d,l,S)}r=w,a=v,l=j,z!=null?qi(n,!!a,z,!1):!!l!=!!a&&(r!=null?qi(n,!!a,r,!0):qi(n,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(n,r,w,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(n,r,v,h,l,d)}We(n,z,j);return;case"option":for(var be in a)if(z=a[be],a.hasOwnProperty(be)&&z!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:Je(n,r,be,null,l,z)}for(S in l)if(z=l[S],j=a[S],l.hasOwnProperty(S)&&z!==j&&(z!=null||j!=null))switch(S){case"selected":n.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(n,r,S,z,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)z=a[ye],a.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&Je(n,r,ye,null,l,z);for(B in l)if(z=l[B],j=a[B],l.hasOwnProperty(B)&&z!==j&&(z!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,r));break;default:Je(n,r,B,z,l,j)}return;default:if(al(r)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!l.hasOwnProperty(et)&&Am(n,r,et,void 0,l,z);for(Y in l)z=l[Y],j=a[Y],!l.hasOwnProperty(Y)||z===j||z===void 0&&j===void 0||Am(n,r,Y,z,l,j);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&Je(n,r,V,null,l,z);for($ in l)z=l[$],j=a[$],!l.hasOwnProperty($)||z===j||z==null&&j==null||Je(n,r,$,z,l,j)}var Sm=null,Rm=null;function rh(n){return n.nodeType===9?n:n.ownerDocument}function Vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Im(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function R1(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var Lv=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(n){return Uv.resolve(null).then(n).catch(x1)}:Lv;function x1(n){setTimeout(function(){throw n})}function qr(n){return n==="head"}function Bv(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Gl(v.documentElement),a&2&&Gl(v.body),a&4)for(a=v.head,Gl(a),v=a.firstChild;v;){var w=v.nextSibling,S=v.nodeName;v[Ss]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(h===0){n.removeChild(d),Jl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Jl(r)}function xm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function D1(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ss])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ii(n.nextSibling),n===null)break}return null}function N1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ii(n.nextSibling),n===null))return null;return n}function Dm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function O1(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Nm=null;function zv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function jv(n,r,a){switch(r=rh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Gl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Tr(n)}var $n=new Map,qv=new Set;function sh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var or=re.d;re.d={f:k1,r:M1,D:V1,C:P1,L:L1,m:U1,X:z1,S:B1,M:j1};function k1(){var n=or.f(),r=Xc();return n||r}function M1(n){var r=ci(n);r!==null&&r.tag===5&&r.type==="form"?l_(r):or.r(n)}var ao=typeof document>"u"?null:document;function Hv(n,r,a){var l=ao;if(l&&typeof r=="string"&&r){var h=At(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qv.has(h)||(qv.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Xt(r,"link",n),gt(r),l.head.appendChild(r)))}}function V1(n){or.D(n),Hv("dns-prefetch",n,null)}function P1(n,r){or.C(n,r),Hv("preconnect",n,r)}function L1(n,r,a){or.L(n,r,a);var l=ao;if(l&&n&&r){var h='link[rel="preload"][as="'+At(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+At(a.imageSizes)+'"]')):h+='[href="'+At(n)+'"]';var d=h;switch(r){case"style":d=oo(n);break;case"script":d=lo(n)}$n.has(d)||(n=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Yl(d))||r==="script"&&l.querySelector(Kl(d))||(r=l.createElement("link"),Xt(r,"link",n),gt(r),l.head.appendChild(r)))}}function U1(n,r){or.m(n,r);var a=ao;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+At(l)+'"][href="'+At(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(n)}if(!$n.has(d)&&(n=b({rel:"modulepreload",href:n},r),$n.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(d)))return}l=a.createElement("link"),Xt(l,"link",n),gt(l),a.head.appendChild(l)}}}function B1(n,r,a){or.S(n,r,a);var l=ao;if(l&&n){var h=ln(l).hoistableStyles,d=oo(n);r=r||"default";var v=h.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Yl(d)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(d))&&Om(n,a);var S=v=l.createElement("link");gt(S),Xt(S,"link",n),S._p=new Promise(function(B,Y){S.onload=B,S.onerror=Y}),S.addEventListener("load",function(){w.loading|=1}),S.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ah(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(d,v)}}}function z1(n,r){or.X(n,r);var a=ao;if(a&&n){var l=ln(a).hoistableScripts,h=lo(n),d=l.get(h);d||(d=a.querySelector(Kl(h)),d||(n=b({src:n,async:!0},r),(r=$n.get(h))&&km(n,r),d=a.createElement("script"),gt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function j1(n,r){or.M(n,r);var a=ao;if(a&&n){var l=ln(a).hoistableScripts,h=lo(n),d=l.get(h);d||(d=a.querySelector(Kl(h)),d||(n=b({src:n,async:!0,type:"module"},r),(r=$n.get(h))&&km(n,r),d=a.createElement("script"),gt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fv(n,r,a,l){var h=(h=Te.current)?sh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=oo(a.href),a=ln(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=oo(a.href);var d=ln(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Yl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),d||q1(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=lo(a),a=ln(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function oo(n){return'href="'+At(n)+'"'}function Yl(n){return'link[rel="stylesheet"]['+n+"]"}function Gv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function q1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),gt(r),n.head.appendChild(r))}function lo(n){return'[src="'+At(n)+'"]'}function Kl(n){return"script[async]"+n}function Yv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+At(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Xt(l,"style",h),ah(l,a.precedence,n),r.instance=l;case"stylesheet":h=oo(a.href);var d=n.querySelector(Yl(h));if(d)return r.state.loading|=4,r.instance=d,gt(d),d;l=Gv(a),(h=$n.get(h))&&Om(l,h),d=(n.ownerDocument||n).createElement("link"),gt(d);var v=d;return v._p=new Promise(function(w,S){v.onload=w,v.onerror=S}),Xt(d,"link",l),r.state.loading|=4,ah(d,a.precedence,n),r.instance=d;case"script":return d=lo(a.src),(h=n.querySelector(Kl(d)))?(r.instance=h,gt(h),h):(l=a,(h=$n.get(d))&&(l=b({},a),km(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),gt(h),Xt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ah(l,a.precedence,n));return r.instance}function ah(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function km(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var oh=null;function Kv(n,r,a){if(oh===null){var l=new Map,h=oh=new Map;h.set(a,l)}else h=oh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Ss]||d[Nt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function Qv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function H1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $v(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ql=null;function F1(){}function G1(n,r,a){if(Ql===null)throw Error(s(475));var l=Ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=oo(a.href),d=n.querySelector(Yl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=lh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,gt(d);return}d=n.ownerDocument||n,a=Gv(a),(h=$n.get(h))&&Om(a,h),d=d.createElement("link"),gt(d);var v=d;v._p=new Promise(function(w,S){v.onload=w,v.onerror=S}),Xt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=lh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function Y1(){if(Ql===null)throw Error(s(475));var n=Ql;return n.stylesheets&&n.count===0&&Mm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Mm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function lh(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uh=null;function Mm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uh=new Map,r.forEach(K1,n),uh=null,lh.call(n))}function K1(n,r){if(!(r.state.loading&4)){var a=uh.get(n);if(a)var l=a.get(null);else{a=new Map,uh.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=lh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var $l={$$typeof:he,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Q1(n,r,a,l,h,d,v,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Xv(n,r,a,l,h,d,v,w,S,B,Y,$){return n=new Q1(n,r,a,v,w,S,B,$),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),n.current=d,d.stateNode=n,r=pd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},vd(d),n}function Wv(n){return n?(n=Ba,n):Ba}function Zv(n,r,a,l,h,d){h=Wv(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(n,l,r),a!==null&&(Dn(a,n,r),Sl(a,n,r))}function Jv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Vm(n,r){Jv(n,r),(n=n.alternate)&&Jv(n,r)}function ew(n){if(n.tag===13){var r=Ua(n,67108864);r!==null&&Dn(r,n,67108864),Vm(n,67108864)}}var ch=!0;function $1(n,r,a,l){var h=G.T;G.T=null;var d=re.p;try{re.p=2,Pm(n,r,a,l)}finally{re.p=d,G.T=h}}function X1(n,r,a,l){var h=G.T;G.T=null;var d=re.p;try{re.p=8,Pm(n,r,a,l)}finally{re.p=d,G.T=h}}function Pm(n,r,a,l){if(ch){var h=Lm(l);if(h===null)Tm(n,r,l,hh,a),nw(n,l);else if(Z1(h,n,r,a,l))l.stopPropagation();else if(nw(n,l),r&4&&-1<W1.indexOf(n)){for(;h!==null;){var d=ci(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Zn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var S=1<<31-en(v);w.entanglements[1]|=S,v&=~S}Ai(d),($e&6)===0&&(Qc=Ln()+500,ql(0))}}break;case 13:w=Ua(d,2),w!==null&&Dn(w,d,2),Xc(),Vm(d,2)}if(d=Lm(l),d===null&&Tm(n,r,l,hh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Tm(n,r,l,null,a)}}function Lm(n){return n=zn(n),Um(n)}var hh=null;function Um(n){if(hh=null,n=Bi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return hh=n,null}function tw(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jf()){case Ko:return 2;case ya:return 8;case ws:case qf:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Bm=!1,Hr=null,Fr=null,Gr=null,Xl=new Map,Wl=new Map,Yr=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nw(n,r){switch(n){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Zl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ci(r),r!==null&&ew(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Z1(n,r,a,l,h){switch(r){case"focusin":return Hr=Zl(Hr,n,r,a,l,h),!0;case"dragenter":return Fr=Zl(Fr,n,r,a,l,h),!0;case"mouseover":return Gr=Zl(Gr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Wl.set(d,Zl(Wl.get(d)||null,n,r,a,l,h)),!0}return!1}function iw(n){var r=Bi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,Xu(n.priority,function(){if(a.tag===13){var l=xn();l=wr(l);var h=Ua(a,l);h!==null&&Dn(h,a,l),Vm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Lm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Hi=l,a.target.dispatchEvent(l),Hi=null}else return r=ci(a),r!==null&&ew(r),n.blockedOn=a,!1;r.shift()}return!0}function rw(n,r,a){fh(n)&&a.delete(r)}function J1(){Bm=!1,Hr!==null&&fh(Hr)&&(Hr=null),Fr!==null&&fh(Fr)&&(Fr=null),Gr!==null&&fh(Gr)&&(Gr=null),Xl.forEach(rw),Wl.forEach(rw)}function dh(n,r){n.blockedOn===r&&(n.blockedOn=null,Bm||(Bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,J1)))}var mh=null;function sw(n){mh!==n&&(mh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){mh===n&&(mh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Um(l||a)===null)continue;break}var d=ci(a);d!==null&&(n.splice(r,3),r-=3,Ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Jl(n){function r(S){return dh(S,n)}Hr!==null&&dh(Hr,n),Fr!==null&&dh(Fr,n),Gr!==null&&dh(Gr,n),Xl.forEach(r),Wl.forEach(r);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)iw(a),a.blockedOn===null&&Yr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||sw(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)w=v.formAction;else if(Um(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),sw(a)}}}function zm(n){this._internalRoot=n}ph.prototype.render=zm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();Zv(a,l,n,r,null,null)},ph.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Zv(n.current,2,null,n,null,null),Xc(),r[Un]=null}};function ph(n){this._internalRoot=n}ph.prototype.unstable_scheduleHydration=function(n){if(n){var r=br();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Yr.length&&r!==0&&r<Yr[a].priority;a++);Yr.splice(a,0,n),a===0&&iw(n)}};var aw=e.version;if(aw!=="19.1.1")throw Error(s(527,aw,"19.1.1"));re.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var eA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{ft=gh.inject(eA),Qe=gh}catch{}}return tu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=E_,d=T_,v=A_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Xv(n,1,!1,null,null,a,l,h,d,v,w,null),n[Un]=r.current,Em(n),new zm(r)},tu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=E_,v=T_,w=A_,S=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=Xv(n,1,!0,r,a??null,l,h,d,v,w,S,B),r.context=Wv(null),a=r.current,l=xn(),l=wr(l),h=xr(l),h.callback=null,Dr(a,h,l),a=l,r.current.lanes=a,Ui(r,a),Ai(r),n[Un]=r.current,Em(n),new ph(r)},tu.version="19.1.1",tu}var gw;function cA(){if(gw)return Hm.exports;gw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=uA(),Hm.exports}var hA=cA();const yh={"auth/invalid-email":"El correo electrnico no es vlido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contrasea es incorrecta.","auth/email-already-in-use":"El correo ya est registrado.","auth/weak-password":"La contrasea es demasiado dbil.","auth/missing-password":"Debes ingresar una contrasea.","auth/too-many-requests":"Demasiados intentos. Intenta ms tarde.","auth/network-request-failed":"Error de red. Verifica tu conexin.","auth/invalid-credential":"Las credenciales ingresadas no son vlidas."};function nu(i){return i?typeof i=="string"&&yh[i]?yh[i]:i.code&&yh[i.code]?yh[i.code]:i.message||"Error desconocido.":"Error desconocido."}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function lb(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function fA(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yw(i,e){return i.get(lb(i,e))}function dA(i,e,t){fA(i,e),e.set(i,t)}function mA(i,e,t){return i.set(lb(i,e),t),t}const pA=100,pe={},gA=()=>{pe.previousActiveElement instanceof HTMLElement?(pe.previousActiveElement.focus(),pe.previousActiveElement=null):document.body&&document.body.focus()},yA=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;pe.restoreFocusTimeout=setTimeout(()=>{gA(),e()},pA),window.scrollTo(t,s)}),ub="swal2-",_A=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],F=_A.reduce((i,e)=>(i[e]=ub+e,i),{}),vA=["success","warning","info","question","error"],Ph=vA.reduce((i,e)=>(i[e]=ub+e,i),{}),cb="SweetAlert2:",Vp=i=>i.charAt(0).toUpperCase()+i.slice(1),mn=i=>{console.warn(`${cb} ${typeof i=="object"?i.join(" "):i}`)},da=i=>{console.error(`${cb} ${i}`)},_w=[],wA=i=>{_w.includes(i)||(_w.push(i),mn(i))},hb=(i,e=null)=>{wA(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},df=i=>typeof i=="function"?i():i,Pp=i=>i&&typeof i.toPromise=="function",Cu=i=>Pp(i)?i.toPromise():Promise.resolve(i),Lp=i=>i&&Promise.resolve(i)===i,pn=()=>document.body.querySelector(`.${F.container}`),xu=i=>{const e=pn();return e?e.querySelector(i):null},Vn=i=>xu(`.${i}`),je=()=>Vn(F.popup),ko=()=>Vn(F.icon),bA=()=>Vn(F["icon-content"]),fb=()=>Vn(F.title),Up=()=>Vn(F["html-container"]),db=()=>Vn(F.image),Bp=()=>Vn(F["progress-steps"]),mf=()=>Vn(F["validation-message"]),ki=()=>xu(`.${F.actions} .${F.confirm}`),Mo=()=>xu(`.${F.actions} .${F.cancel}`),ma=()=>xu(`.${F.actions} .${F.deny}`),EA=()=>Vn(F["input-label"]),Vo=()=>xu(`.${F.loader}`),Du=()=>Vn(F.actions),mb=()=>Vn(F.footer),pf=()=>Vn(F["timer-progress-bar"]),zp=()=>Vn(F.close),TA=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,jp=()=>{const i=je();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,f)=>{const m=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(f.getAttribute("tabindex")||"0");return m>g?1:m<g?-1:0}),s=i.querySelectorAll(TA),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>bn(u))},qp=()=>hr(document.body,F.shown)&&!hr(document.body,F["toast-shown"])&&!hr(document.body,F["no-backdrop"]),gf=()=>{const i=je();return i?hr(i,F.toast):!1},AA=()=>{const i=je();return i?i.hasAttribute("data-loading"):!1},Pn=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(f=>{i.appendChild(f)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(f=>{f instanceof HTMLVideoElement||f instanceof HTMLAudioElement?i.appendChild(f.cloneNode(!0)):i.appendChild(f)})}},hr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},SA=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(F).includes(t)&&!Object.values(Ph).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},Mn=(i,e,t)=>{if(SA(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){mn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ge(i,s)}},yf=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${F.popup} > .${F[e]}`);case"checkbox":return i.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return i.querySelector(`.${F.popup} > .${F.radio} input:checked`)||i.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return i.querySelector(`.${F.popup} > .${F.range} input`);default:return i.querySelector(`.${F.popup} > .${F.input}`)}},pb=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},gb=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},Ge=(i,e)=>{gb(i,e,!0)},Xn=(i,e)=>{gb(i,e,!1)},Jr=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&hr(o,e))return o}},ra=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},Gt=(i,e="flex")=>{i&&(i.style.display=e)},an=i=>{i&&(i.style.display="none")},Hp=(i,e="block")=>{i&&new MutationObserver(()=>{Nu(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},vw=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},Nu=(i,e,t="flex")=>{e?Gt(i,t):an(i)},bn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),RA=()=>!bn(ki())&&!bn(ma())&&!bn(Mo()),op=i=>i.scrollHeight>i.clientHeight,IA=(i,e)=>{let t=i;for(;t&&t!==e;){if(op(t))return!0;t=t.parentElement}return!1},yb=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},Fp=(i,e=!1)=>{const t=pf();t&&bn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},CA=()=>{const i=pf();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},xA=()=>typeof window>"u"||typeof document>"u",DA=`
 <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">
   <button type="button" class="${F.close}"></button>
   <ul class="${F["progress-steps"]}"></ul>
   <div class="${F.icon}"></div>
   <img class="${F.image}" />
   <h2 class="${F.title}" id="${F.title}"></h2>
   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>
   <input class="${F.input}" id="${F.input}" />
   <input type="file" class="${F.file}" />
   <div class="${F.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${F.select}" id="${F.select}"></select>
   <div class="${F.radio}"></div>
   <label class="${F.checkbox}">
     <input type="checkbox" id="${F.checkbox}" />
     <span class="${F.label}"></span>
   </label>
   <textarea class="${F.textarea}" id="${F.textarea}"></textarea>
   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>
   <div class="${F.actions}">
     <div class="${F.loader}"></div>
     <button type="button" class="${F.confirm}"></button>
     <button type="button" class="${F.deny}"></button>
     <button type="button" class="${F.cancel}"></button>
   </div>
   <div class="${F.footer}"></div>
   <div class="${F["timer-progress-bar-container"]}">
     <div class="${F["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),NA=()=>{const i=pn();return i?(i.remove(),Xn([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0):!1},ea=()=>{pe.currentInstance.resetValidationMessage()},OA=()=>{const i=je(),e=Jr(i,F.input),t=Jr(i,F.file),s=i.querySelector(`.${F.range} input`),o=i.querySelector(`.${F.range} output`),u=Jr(i,F.select),f=i.querySelector(`.${F.checkbox} input`),m=Jr(i,F.textarea);e.oninput=ea,t.onchange=ea,u.onchange=ea,f.onchange=ea,m.oninput=ea,s.oninput=()=>{ea(),o.value=s.value},s.onchange=()=>{ea(),o.value=s.value}},kA=i=>typeof i=="string"?document.querySelector(i):i,MA=i=>{const e=je();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},VA=i=>{window.getComputedStyle(i).direction==="rtl"&&Ge(pn(),F.rtl)},PA=i=>{const e=NA();if(xA()){da("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=F.container,e&&Ge(t,F["no-transition"]),Pn(t,DA),t.dataset.swal2Theme=i.theme;const s=kA(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),MA(i),VA(s),OA()},Gp=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?LA(i,e):i&&Pn(e,i)},LA=(i,e)=>{i.jquery?UA(e,i):Pn(e,i.toString())},UA=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},BA=(i,e)=>{const t=Du(),s=Vo();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?an(t):Gt(t),Mn(t,e,"actions"),zA(t,s,e),Pn(s,e.loaderHtml||""),Mn(s,e,"loader"))};function zA(i,e,t){const s=ki(),o=ma(),u=Mo();!s||!o||!u||(Qm(s,"confirm",t),Qm(o,"deny",t),Qm(u,"cancel",t),jA(s,o,u,t),t.reverseButtons&&(t.toast?(i.insertBefore(u,s),i.insertBefore(o,s)):(i.insertBefore(u,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function jA(i,e,t,s){if(!s.buttonsStyling){Xn([i,e,t],F.styled);return}Ge([i,e,t],F.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),Km(i),Km(e),Km(t)}function Km(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Qm(i,e,t){const s=Vp(e);Nu(i,t[`show${s}Button`],"inline-block"),Pn(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=F[e],Mn(i,t,`${e}Button`)}const qA=(i,e)=>{const t=zp();t&&(Pn(t,e.closeButtonHtml||""),Mn(t,e,"closeButton"),Nu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},HA=(i,e)=>{const t=pn();t&&(FA(t,e.backdrop),GA(t,e.position),YA(t,e.grow),Mn(t,e,"container"))};function FA(i,e){typeof e=="string"?i.style.background=e:e||Ge([document.documentElement,document.body],F["no-backdrop"])}function GA(i,e){e&&(e in F?Ge(i,F[e]):(mn('The "position" parameter is not valid, defaulting to "center"'),Ge(i,F.center)))}function YA(i,e){e&&Ge(i,F[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const KA=["input","file","range","select","radio","checkbox","textarea"],QA=(i,e)=>{const t=je();if(!t)return;const s=st.innerParams.get(i),o=!s||e.input!==s.input;KA.forEach(u=>{const f=Jr(t,F[u]);f&&(WA(u,e.inputAttributes),f.className=F[u],o&&an(f))}),e.input&&(o&&$A(e),ZA(e))},$A=i=>{if(!i.input)return;if(!vt[i.input]){da(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${i.input}"`);return}const e=_b(i.input);if(!e)return;const t=vt[i.input](e,i);Gt(e),i.inputAutoFocus&&setTimeout(()=>{pb(t)})},XA=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},WA=(i,e)=>{const t=je();if(!t)return;const s=yf(t,i);if(s){XA(s);for(const o in e)s.setAttribute(o,e[o])}},ZA=i=>{if(!i.input)return;const e=_b(i.input);e&&Mn(e,i,"input")},Yp=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},Ou=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=F["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&Ge(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},_b=i=>{const e=je();if(e)return Jr(e,F[i]||F.input)},Lh=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Lp(e)||mn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(i,e)=>(Lh(i,e.inputValue),Ou(i,i,e),Yp(i,e),i.type=e.input,i);vt.file=(i,e)=>(Ou(i,i,e),Yp(i,e),i);vt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return Lh(t,e.inputValue),t.type=e.input,Lh(s,e.inputValue),Ou(t,i,e),i};vt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Pn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return Ou(i,i,e),i};vt.radio=i=>(i.textContent="",i);vt.checkbox=(i,e)=>{const t=yf(je(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Pn(s,e.inputPlaceholder||e.inputLabel),t};vt.textarea=(i,e)=>{Lh(i,e.inputValue),Yp(i,e),Ou(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(je()).width),o=()=>{if(!document.body.contains(i))return;const u=i.offsetWidth+t(i);u>s?je().style.width=`${u}px`:ra(je(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const JA=(i,e)=>{const t=Up();t&&(Hp(t),Mn(t,e,"htmlContainer"),e.html?(Gp(e.html,t),Gt(t,"block")):e.text?(t.textContent=e.text,Gt(t,"block")):an(t),QA(i,e))},eS=(i,e)=>{const t=mb();t&&(Hp(t),Nu(t,e.footer,"block"),e.footer&&Gp(e.footer,t),Mn(t,e,"footer"))},tS=(i,e)=>{const t=st.innerParams.get(i),s=ko();if(!s)return;if(t&&e.icon===t.icon){bw(s,e),ww(s,e);return}if(!e.icon&&!e.iconHtml){an(s);return}if(e.icon&&Object.keys(Ph).indexOf(e.icon)===-1){da(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),an(s);return}Gt(s),bw(s,e),ww(s,e),Ge(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",vb)},ww=(i,e)=>{for(const[t,s]of Object.entries(Ph))e.icon!==t&&Xn(i,s);Ge(i,e.icon&&Ph[e.icon]),rS(i,e),vb(),Mn(i,e,"icon")},vb=()=>{const i=je();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},nS=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,iS=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,bw=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=Ew(e.iconHtml):e.icon==="success"?(s=nS(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=iS:e.icon&&(s=Ew({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Pn(i,s)},rS=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])vw(i,t,"background-color",e.iconColor);vw(i,".swal2-success-ring","border-color",e.iconColor)}},Ew=i=>`<div class="${F["icon-content"]}">${i}</div>`,sS=(i,e)=>{const t=db();if(t){if(!e.imageUrl){an(t);return}Gt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ra(t,"width",e.imageWidth),ra(t,"height",e.imageHeight),t.className=F.image,Mn(t,e,"image")}};let Kp=!1,wb=0,bb=0,Eb=0,Tb=0;const aS=i=>{i.addEventListener("mousedown",Uh),document.body.addEventListener("mousemove",Bh),i.addEventListener("mouseup",zh),i.addEventListener("touchstart",Uh),document.body.addEventListener("touchmove",Bh),i.addEventListener("touchend",zh)},oS=i=>{i.removeEventListener("mousedown",Uh),document.body.removeEventListener("mousemove",Bh),i.removeEventListener("mouseup",zh),i.removeEventListener("touchstart",Uh),document.body.removeEventListener("touchmove",Bh),i.removeEventListener("touchend",zh)},Uh=i=>{const e=je();if(i.target===e||ko().contains(i.target)){Kp=!0;const t=Ab(i);wb=t.clientX,bb=t.clientY,Eb=parseInt(e.style.insetInlineStart)||0,Tb=parseInt(e.style.insetBlockStart)||0,Ge(e,"swal2-dragging")}},Bh=i=>{const e=je();if(Kp){let{clientX:t,clientY:s}=Ab(i);e.style.insetInlineStart=`${Eb+(t-wb)}px`,e.style.insetBlockStart=`${Tb+(s-bb)}px`}},zh=()=>{const i=je();Kp=!1,Xn(i,"swal2-dragging")},Ab=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},lS=(i,e)=>{const t=pn(),s=je();if(!(!t||!s)){if(e.toast){ra(t,"width",e.width),s.style.width="100%";const o=Vo();o&&s.insertBefore(o,ko())}else ra(s,"width",e.width);ra(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),an(mf()),uS(s,e),e.draggable&&!e.toast?(Ge(s,F.draggable),aS(s)):(Xn(s,F.draggable),oS(s))}},uS=(i,e)=>{const t=e.showClass||{};i.className=`${F.popup} ${bn(i)?t.popup:""}`,e.toast?(Ge([document.documentElement,document.body],F["toast-shown"]),Ge(i,F.toast)):Ge(i,F.modal),Mn(i,e,"popup"),typeof e.customClass=="string"&&Ge(i,e.customClass),e.icon&&Ge(i,F[`icon-${e.icon}`])},cS=(i,e)=>{const t=Bp();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){an(t);return}Gt(t),t.textContent="",o>=s.length&&mn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,f)=>{const m=hS(u);if(t.appendChild(m),f===o&&Ge(m,F["active-progress-step"]),f!==s.length-1){const g=fS(e);t.appendChild(g)}})},hS=i=>{const e=document.createElement("li");return Ge(e,F["progress-step"]),Pn(e,i),e},fS=i=>{const e=document.createElement("li");return Ge(e,F["progress-step-line"]),i.progressStepsDistance&&ra(e,"width",i.progressStepsDistance),e},dS=(i,e)=>{const t=fb();t&&(Hp(t),Nu(t,e.title||e.titleText,"block"),e.title&&Gp(e.title,t),e.titleText&&(t.innerText=e.titleText),Mn(t,e,"title"))},Sb=(i,e)=>{lS(i,e),HA(i,e),cS(i,e),tS(i,e),sS(i,e),dS(i,e),qA(i,e),JA(i,e),BA(i,e),eS(i,e);const t=je();typeof e.didRender=="function"&&t&&e.didRender(t),pe.eventEmitter.emit("didRender",t)},mS=()=>bn(je()),Rb=()=>{var i;return(i=ki())===null||i===void 0?void 0:i.click()},pS=()=>{var i;return(i=ma())===null||i===void 0?void 0:i.click()},gS=()=>{var i;return(i=Mo())===null||i===void 0?void 0:i.click()},Po=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ib=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},yS=(i,e,t)=>{Ib(i),e.toast||(i.keydownHandler=s=>vS(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:je(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},lp=(i,e)=>{var t;const s=jp();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=je())===null||t===void 0||t.focus()},Cb=["ArrowRight","ArrowDown"],_S=["ArrowLeft","ArrowUp"],vS=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?wS(e,i):e.key==="Tab"?bS(e):[...Cb,..._S].includes(e.key)?ES(e.key):e.key==="Escape"&&TS(e,i,t)))},wS=(i,e)=>{if(!df(e.allowEnterKey))return;const t=yf(je(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;Rb(),i.preventDefault()}},bS=i=>{const e=i.target,t=jp();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?lp(s,-1):lp(s,1),i.stopPropagation(),i.preventDefault()},ES=i=>{const e=Du(),t=ki(),s=ma(),o=Mo();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const f=Cb.includes(i)?"nextElementSibling":"previousElementSibling";let m=document.activeElement;if(m){for(let g=0;g<e.children.length;g++){if(m=m[f],!m)return;if(m instanceof HTMLButtonElement&&bn(m))break}m instanceof HTMLButtonElement&&m.focus()}},TS=(i,e,t)=>{i.preventDefault(),df(e.allowEscapeKey)&&t(Po.esc)};var To={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const AS=()=>{const i=pn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},xb=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Db=typeof window<"u"&&!!window.GestureEvent,SS=()=>{if(Db&&!hr(document.body,F.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Ge(document.body,F.iosfix),RS()}},RS=()=>{const i=pn();if(!i)return;let e;i.ontouchstart=t=>{e=IS(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},IS=i=>{const e=i.target,t=pn(),s=Up();return!t||!s||CS(i)||xS(i)?!1:e===t||!op(t)&&e instanceof HTMLElement&&!IA(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(op(s)&&s.contains(e))},CS=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",xS=i=>i.touches&&i.touches.length>1,DS=()=>{if(hr(document.body,F.iosfix)){const i=parseInt(document.body.style.top,10);Xn(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},NS=()=>{const i=document.createElement("div");i.className=F["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let po=null;const OS=i=>{po===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(po=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${po+NS()}px`)},kS=()=>{po!==null&&(document.body.style.paddingRight=`${po}px`,po=null)};function Nb(i,e,t,s){gf()?Tw(i,s):(yA(t).then(()=>Tw(i,s)),Ib(pe)),Db?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),qp()&&(kS(),DS(),xb()),MS()}function MS(){Xn([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}function es(i){i=PS(i);const e=To.swalPromiseResolve.get(this),t=VS(this);this.isAwaitingPromise?i.isDismissed||(ku(this),e(i)):t&&e(i)}const VS=i=>{const e=je();if(!e)return!1;const t=st.innerParams.get(i);if(!t||hr(e,t.hideClass.popup))return!1;Xn(e,t.showClass.popup),Ge(e,t.hideClass.popup);const s=pn();return Xn(s,t.showClass.backdrop),Ge(s,t.hideClass.backdrop),LS(i,e,t),!0};function Ob(i){const e=To.swalPromiseReject.get(this);ku(this),e&&e(i)}const ku=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,st.innerParams.get(i)||i._destroy())},PS=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),LS=(i,e,t)=>{var s;const o=pn(),u=yb(e);typeof t.willClose=="function"&&t.willClose(e),(s=pe.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?US(i,e,o,t.returnFocus,t.didClose):Nb(i,o,t.returnFocus,t.didClose)},US=(i,e,t,s,o)=>{pe.swalCloseEventFinishedCallback=Nb.bind(null,i,t,s,o);const u=function(f){if(f.target===e){var m;(m=pe.swalCloseEventFinishedCallback)===null||m===void 0||m.call(pe),delete pe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},Tw=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=pe.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Ao=i=>{let e=je();if(e||new sa,e=je(),!e)return;const t=Vo();gf()?an(ko()):BS(e,i),Gt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},BS=(i,e)=>{const t=Du(),s=Vo();!t||!s||(!e&&bn(ki())&&(e=ki()),Gt(t),e&&(an(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ge([i,t],F.loading))},zS=(i,e)=>{e.input==="select"||e.input==="radio"?GS(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Pp(e.inputValue)||Lp(e.inputValue))&&(Ao(ki()),YS(i,e))},jS=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return qS(t);case"radio":return HS(t);case"file":return FS(t);default:return e.inputAutoTrim?t.value.trim():t.value}},qS=i=>i.checked?1:0,HS=i=>i.checked?i.value:null,FS=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,GS=(i,e)=>{const t=je();if(!t)return;const s=o=>{e.input==="select"?KS(t,jh(o),e):e.input==="radio"&&QS(t,jh(o),e)};Pp(e.inputOptions)||Lp(e.inputOptions)?(Ao(ki()),Cu(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):da(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},YS=(i,e)=>{const t=i.getInput();t&&(an(t),Cu(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Gt(t),t.focus(),i.hideLoading()}).catch(s=>{da(`Error in inputValue promise: ${s}`),t.value="",Gt(t),t.focus(),i.hideLoading()}))};function KS(i,e,t){const s=Jr(i,F.select);if(!s)return;const o=(u,f,m)=>{const g=document.createElement("option");g.value=m,Pn(g,f),g.selected=kb(m,t.inputValue),u.appendChild(g)};e.forEach(u=>{const f=u[0],m=u[1];if(Array.isArray(m)){const g=document.createElement("optgroup");g.label=f,g.disabled=!1,s.appendChild(g),m.forEach(y=>o(g,y[1],y[0]))}else o(s,m,f)}),s.focus()}function QS(i,e,t){const s=Jr(i,F.radio);if(!s)return;e.forEach(u=>{const f=u[0],m=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=F.radio,g.value=f,kb(f,t.inputValue)&&(g.checked=!0);const b=document.createElement("span");Pn(b,m),b.className=F.label,y.appendChild(g),y.appendChild(b),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const jh=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=jh(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=jh(s)),e.push([t,s])}),e},kb=(i,e)=>!!e&&e.toString()===i.toString(),$S=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.input?Mb(i,"confirm"):$p(i,!0)},XS=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?Mb(i,"deny"):Qp(i,!1)},WS=(i,e)=>{i.disableButtons(),e(Po.cancel)},Mb=(i,e)=>{const t=st.innerParams.get(i);if(!t.input){da(`The "input" parameter is needed to be set when using returnInputValueOn${Vp(e)}`);return}const s=i.getInput(),o=jS(i,t);t.inputValidator?ZS(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?Qp(i,o):$p(i,o)},ZS=(i,e,t)=>{const s=st.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Cu(s.inputValidator(e,s.validationMessage))).then(u=>{i.enableButtons(),i.enableInput(),u?i.showValidationMessage(u):t==="deny"?Qp(i,e):$p(i,e)})},Qp=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnDeny&&Ao(ma()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),ku(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Vb(i||void 0,o))):i.close({isDenied:!0,value:e})},Aw=(i,e)=>{i.close({isConfirmed:!0,value:e})},Vb=(i,e)=>{i.rejectPromise(e)},$p=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Ao(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Cu(t.preConfirm(e,t.validationMessage))).then(o=>{bn(mf())||o===!1?(i.hideLoading(),ku(i)):Aw(i,typeof o>"u"?e:o)}).catch(o=>Vb(i||void 0,o))):Aw(i,e)};function qh(){const i=st.innerParams.get(this);if(!i)return;const e=st.domCache.get(this);an(e.loader),gf()?i.icon&&Gt(ko()):JS(e),Xn([e.popup,e.actions],F.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const JS=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?Gt(e[0],"inline-block"):RA()&&an(i.actions)};function Pb(){const i=st.innerParams.get(this),e=st.domCache.get(this);return e?yf(e.popup,i.input):null}function Lb(i,e,t){const s=st.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function Ub(i,e){const t=je();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${F.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function Bb(){Lb(this,["confirmButton","denyButton","cancelButton"],!1)}function zb(){Lb(this,["confirmButton","denyButton","cancelButton"],!0)}function jb(){Ub(this.getInput(),!1)}function qb(){Ub(this.getInput(),!0)}function Hb(i){const e=st.domCache.get(this),t=st.innerParams.get(this);Pn(e.validationMessage,i),e.validationMessage.className=F["validation-message"],t.customClass&&t.customClass.validationMessage&&Ge(e.validationMessage,t.customClass.validationMessage),Gt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",F["validation-message"]),pb(s),Ge(s,F.inputerror))}function Fb(){const i=st.domCache.get(this);i.validationMessage&&an(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Xn(e,F.inputerror))}const go={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},eR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],tR={allowEnterKey:void 0},nR=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Gb=i=>Object.prototype.hasOwnProperty.call(go,i),Yb=i=>eR.indexOf(i)!==-1,Kb=i=>tR[i],iR=i=>{Gb(i)||mn(`Unknown parameter "${i}"`)},rR=i=>{nR.includes(i)&&mn(`The parameter "${i}" is incompatible with toasts`)},sR=i=>{const e=Kb(i);e&&hb(i,e)},Qb=i=>{i.backdrop===!1&&i.allowOutsideClick&&mn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&mn(`Invalid theme "${i.theme}"`);for(const e in i)iR(e),i.toast&&rR(e),sR(e)};function $b(i){const e=pn(),t=je(),s=st.innerParams.get(this);if(!t||hr(t,s.hideClass.popup)){mn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=aR(i),u=Object.assign({},s,o);Qb(u),e.dataset.swal2Theme=u.theme,Sb(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const aR=i=>{const e={};return Object.keys(i).forEach(t=>{Yb(t)?e[t]=i[t]:mn(`Invalid parameter to update: ${t}`)}),e};function Xb(){const i=st.domCache.get(this),e=st.innerParams.get(this);if(!e){Wb(this);return}i.popup&&pe.swalCloseEventFinishedCallback&&(pe.swalCloseEventFinishedCallback(),delete pe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),pe.eventEmitter.emit("didDestroy"),oR(this)}const oR=i=>{Wb(i),delete i.params,delete pe.keydownHandler,delete pe.keydownTarget,delete pe.currentInstance},Wb=i=>{i.isAwaitingPromise?($m(st,i),i.isAwaitingPromise=!0):($m(To,i),$m(st,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},$m=(i,e)=>{for(const t in i)i[t].delete(e)};var lR=Object.freeze({__proto__:null,_destroy:Xb,close:es,closeModal:es,closePopup:es,closeToast:es,disableButtons:zb,disableInput:qb,disableLoading:qh,enableButtons:Bb,enableInput:jb,getInput:Pb,handleAwaitingPromise:ku,hideLoading:qh,rejectPromise:Ob,resetValidationMessage:Fb,showValidationMessage:Hb,update:$b});const uR=(i,e,t)=>{i.toast?cR(i,e,t):(fR(e),dR(e),mR(i,e,t))},cR=(i,e,t)=>{e.popup.onclick=()=>{i&&(hR(i)||i.timer||i.input)||t(Po.close)}},hR=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let Hh=!1;const fR=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(Hh=!0)}}},dR=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(Hh=!0)}}},mR=(i,e,t)=>{e.container.onclick=s=>{if(Hh){Hh=!1;return}s.target===e.container&&df(i.allowOutsideClick)&&t(Po.backdrop)}},pR=i=>typeof i=="object"&&i.jquery,Sw=i=>i instanceof Element||pR(i),gR=i=>{const e={};return typeof i[0]=="object"&&!Sw(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||Sw(o)?e[t]=o:o!==void 0&&da(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function yR(...i){return new this(...i)}function _R(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const vR=()=>pe.timeout&&pe.timeout.getTimerLeft(),Zb=()=>{if(pe.timeout)return CA(),pe.timeout.stop()},Jb=()=>{if(pe.timeout){const i=pe.timeout.start();return Fp(i),i}},wR=()=>{const i=pe.timeout;return i&&(i.running?Zb():Jb())},bR=i=>{if(pe.timeout){const e=pe.timeout.increase(i);return Fp(e,!0),e}},ER=()=>!!(pe.timeout&&pe.timeout.isRunning());let Rw=!1;const up={};function TR(i="data-swal-template"){up[i]=this,Rw||(document.body.addEventListener("click",AR),Rw=!0)}const AR=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in up){const s=e.getAttribute(t);if(s){up[t].fire({template:s});return}}};class SR{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}pe.eventEmitter=new SR;const RR=(i,e)=>{pe.eventEmitter.on(i,e)},IR=(i,e)=>{pe.eventEmitter.once(i,e)},CR=(i,e)=>{if(!i){pe.eventEmitter.reset();return}e?pe.eventEmitter.removeListener(i,e):pe.eventEmitter.removeAllListeners(i)};var xR=Object.freeze({__proto__:null,argsToParams:gR,bindClickHandler:TR,clickCancel:gS,clickConfirm:Rb,clickDeny:pS,enableLoading:Ao,fire:yR,getActions:Du,getCancelButton:Mo,getCloseButton:zp,getConfirmButton:ki,getContainer:pn,getDenyButton:ma,getFocusableElements:jp,getFooter:mb,getHtmlContainer:Up,getIcon:ko,getIconContent:bA,getImage:db,getInputLabel:EA,getLoader:Vo,getPopup:je,getProgressSteps:Bp,getTimerLeft:vR,getTimerProgressBar:pf,getTitle:fb,getValidationMessage:mf,increaseTimer:bR,isDeprecatedParameter:Kb,isLoading:AA,isTimerRunning:ER,isUpdatableParameter:Yb,isValidParameter:Gb,isVisible:mS,mixin:_R,off:CR,on:RR,once:IR,resumeTimer:Jb,showLoading:Ao,stopTimer:Zb,toggleTimer:wR});class DR{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const eE=["swal-title","swal-html","swal-footer"],NR=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return BR(t),Object.assign(OR(t),kR(t),MR(t),VR(t),PR(t),LR(t),UR(t,eE))},OR=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{aa(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof go[o]=="boolean"?e[o]=u!=="false":typeof go[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},kR=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},MR=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{aa(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${Vp(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},VR=i=>{const e={},t=i.querySelector("swal-image");return t&&(aa(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},PR=i=>{const e={},t=i.querySelector("swal-icon");return t&&(aa(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},LR=i=>{const e={},t=i.querySelector("swal-input");t&&(aa(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{aa(o,["value"]);const u=o.getAttribute("value");if(!u)return;const f=o.innerHTML;e.inputOptions[u]=f})),e},UR=(i,e)=>{const t={};for(const s in e){const o=e[s],u=i.querySelector(o);u&&(aa(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},BR=i=>{const e=eE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||mn(`Unrecognized element <${s}>`)})},aa=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&mn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},tE=10,zR=i=>{const e=pn(),t=je();typeof i.willOpen=="function"&&i.willOpen(t),pe.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;HR(e,t,i),setTimeout(()=>{jR(e,t)},tE),qp()&&(qR(e,i.scrollbarPadding,o),AS()),!gf()&&!pe.previousActiveElement&&(pe.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),pe.eventEmitter.emit("didOpen",t),Xn(e,F["no-transition"])},Fh=i=>{const e=je();if(i.target!==e)return;const t=pn();e.removeEventListener("animationend",Fh),e.removeEventListener("transitionend",Fh),t.style.overflowY="auto"},jR=(i,e)=>{yb(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",Fh),e.addEventListener("transitionend",Fh)):i.style.overflowY="auto"},qR=(i,e,t)=>{SS(),e&&t!=="hidden"&&OS(t),setTimeout(()=>{i.scrollTop=0})},HR=(i,e,t)=>{Ge(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Gt(e,"grid"),setTimeout(()=>{Ge(e,t.showClass.popup),e.style.removeProperty("opacity")},tE)):Gt(e,"grid"),Ge([document.documentElement,document.body],F.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ge([document.documentElement,document.body],F["height-auto"])};var Iw={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function FR(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=Iw.email),i.input==="url"&&(i.inputValidator=Iw.url))}function GR(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(mn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function YR(i){FR(i),i.showLoaderOnConfirm&&!i.preConfirm&&mn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),GR(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),PA(i)}let Si;var _h=new WeakMap;class Et{constructor(...e){if(dA(this,_h,void 0),typeof window>"u")return;Si=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,mA(_h,this,this._main(Si.params))}_main(e,t={}){if(Qb(Object.assign({},t,e)),pe.currentInstance){const u=To.swalPromiseResolve.get(pe.currentInstance),{isAwaitingPromise:f}=pe.currentInstance;pe.currentInstance._destroy(),f||u({isDismissed:!0}),qp()&&xb()}pe.currentInstance=Si;const s=QR(e,t);YR(s),Object.freeze(s),pe.timeout&&(pe.timeout.stop(),delete pe.timeout),clearTimeout(pe.restoreFocusTimeout);const o=$R(Si);return Sb(Si,s),st.innerParams.set(Si,s),KR(Si,o,s)}then(e){return yw(_h,this).then(e)}finally(e){return yw(_h,this).finally(e)}}const KR=(i,e,t)=>new Promise((s,o)=>{const u=f=>{i.close({isDismissed:!0,dismiss:f})};To.swalPromiseResolve.set(i,s),To.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{$S(i)},e.denyButton.onclick=()=>{XS(i)},e.cancelButton.onclick=()=>{WS(i,u)},e.closeButton.onclick=()=>{u(Po.close)},uR(t,e,u),yS(pe,t,u),zS(i,t),zR(t),XR(pe,t,u),WR(e,t),setTimeout(()=>{e.container.scrollTop=0})}),QR=(i,e)=>{const t=NR(i),s=Object.assign({},go,e,t,i);return s.showClass=Object.assign({},go.showClass,s.showClass),s.hideClass=Object.assign({},go.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},$R=i=>{const e={popup:je(),container:pn(),actions:Du(),confirmButton:ki(),denyButton:ma(),cancelButton:Mo(),loader:Vo(),closeButton:zp(),validationMessage:mf(),progressSteps:Bp()};return st.domCache.set(i,e),e},XR=(i,e,t)=>{const s=pf();an(s),e.timer&&(i.timeout=new DR(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(Gt(s),Mn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&Fp(e.timer)})))},WR=(i,e)=>{if(!e.toast){if(!df(e.allowEnterKey)){hb("allowEnterKey"),eI();return}ZR(i)||JR(i,e)||lp(-1,1)}},ZR=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&bn(t))return t.focus(),!0;return!1},JR=(i,e)=>e.focusDeny&&bn(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&bn(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&bn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,eI=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Et.prototype.disableButtons=zb;Et.prototype.enableButtons=Bb;Et.prototype.getInput=Pb;Et.prototype.disableInput=qb;Et.prototype.enableInput=jb;Et.prototype.hideLoading=qh;Et.prototype.disableLoading=qh;Et.prototype.showValidationMessage=Hb;Et.prototype.resetValidationMessage=Fb;Et.prototype.close=es;Et.prototype.closePopup=es;Et.prototype.closeModal=es;Et.prototype.closeToast=es;Et.prototype.rejectPromise=Ob;Et.prototype.update=$b;Et.prototype._destroy=Xb;Object.assign(Et,xR);Object.keys(lR).forEach(i=>{Et[i]=function(...e){return Si&&Si[i]?Si[i](...e):null}});Et.DismissReason=Po;Et.version="11.22.4";const sa=Et;sa.default=sa;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function iu(i){sa.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const tI=()=>{};var Cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},nI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,H=y&63;g||(H=64,f||(R=64)),s.push(t[b],t[A],t[R],t[H])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new iI;const R=u<<2|m>>4;if(s.push(R),y!==64){const H=m<<4&240|y>>2;if(s.push(H),A!==64){const W=y<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(i){const e=nE(i);return iE.encodeByteArray(e,!0)},Gh=function(i){return rI(i).replace(/\./g,"")},rE=function(i){try{return iE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=()=>sI().__FIREBASE_DEFAULTS__,oI=()=>{if(typeof process>"u"||typeof Cw>"u")return;const i=Cw.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rE(i[1]);return e&&JSON.parse(e)},_f=()=>{try{return tI()||aI()||oI()||lI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sE=i=>_f()?.emulatorHosts?.[i],uI=i=>{const e=sE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},aE=()=>_f()?.config,oE=i=>_f()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Gh(JSON.stringify(t)),Gh(JSON.stringify(f)),""].join(".")}const cu={};function fI(){const i={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?i.emulator.push(e):i.prod.push(e);return i}function dI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let xw=!1;function uE(i,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||cu[i]===e||cu[i]||xw)return;cu[i]=e;function t(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=fI().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,H){R.setAttribute("width","24"),R.setAttribute("id",H),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{xw=!0,f()},R}function b(R,H){R.setAttribute("id",H),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=dI(s),H=t("text"),W=document.getElementById(H)||document.createElement("span"),ee=t("learnmore"),J=document.getElementById(ee)||document.createElement("a"),ge=t("preprendIcon"),le=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const he=R.element;m(he),b(J,ee);const qe=y();g(le,ge),he.append(le,W,J,qe),document.body.appendChild(he)}u?(W.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function pI(){const i=_f()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vI(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function wI(){return!pI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function EI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="FirebaseError";class yr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=TI,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?AI(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yr(o,m,s)}}function AI(i,e){return i.replace(SI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SI=/\{\$([^}]+)}/g;function RI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Dw(u)&&Dw(f)){if(!oa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Dw(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function su(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function II(i,e){const t=new CI(i,e);return t.subscribe.bind(t)}class CI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");xI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i){return i&&i._delegate?i._delegate:i}class la{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new cI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NI(i){return i===ta?void 0:i}function OI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const MI={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},VI=Ne.INFO,PI={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},LI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=PI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=VI,this._logHandler=LI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const UI=(i,e)=>e.some(t=>i instanceof t);let Nw,Ow;function BI(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zI(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,cp=new WeakMap,hE=new WeakMap,Wm=new WeakMap,Wp=new WeakMap;function jI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(ns(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&cE.set(t,i)}).catch(()=>{}),Wp.set(e,i),e}function qI(i){if(cp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});cp.set(i,e)}let hp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return cp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||hE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HI(i){hp=i(hp)}function FI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Zm(this),e,...t);return hE.set(s,e.sort?e.sort():[e]),ns(s)}:zI().includes(i)?function(...e){return i.apply(Zm(this),e),ns(cE.get(this))}:function(...e){return ns(i.apply(Zm(this),e))}}function GI(i){return typeof i=="function"?FI(i):(i instanceof IDBTransaction&&qI(i),UI(i,BI())?new Proxy(i,hp):i)}function ns(i){if(i instanceof IDBRequest)return jI(i);if(Wm.has(i))return Wm.get(i);const e=GI(i);return e!==i&&(Wm.set(i,e),Wp.set(e,i)),e}const Zm=i=>Wp.get(i);function YI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ns(f.result),g.oldVersion,g.newVersion,ns(f.transaction),g)}),t&&f.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const KI=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Jm=new Map;function kw(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=QI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KI.includes(t)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return Jm.set(e,u),u}HI(i=>({...i,get:(e,t,s)=>kw(e,t)||i.get(e,t,s),has:(e,t)=>!!kw(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XI(i){return i.getComponent()?.type==="VERSION"}const fp="@firebase/app",Mw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Xp("@firebase/app"),WI="@firebase/app-compat",ZI="@firebase/analytics-compat",JI="@firebase/analytics",eC="@firebase/app-check-compat",tC="@firebase/app-check",nC="@firebase/auth",iC="@firebase/auth-compat",rC="@firebase/database",sC="@firebase/data-connect",aC="@firebase/database-compat",oC="@firebase/functions",lC="@firebase/functions-compat",uC="@firebase/installations",cC="@firebase/installations-compat",hC="@firebase/messaging",fC="@firebase/messaging-compat",dC="@firebase/performance",mC="@firebase/performance-compat",pC="@firebase/remote-config",gC="@firebase/remote-config-compat",yC="@firebase/storage",_C="@firebase/storage-compat",vC="@firebase/firestore",wC="@firebase/ai",bC="@firebase/firestore-compat",EC="firebase",TC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",AC={[fp]:"fire-core",[WI]:"fire-core-compat",[JI]:"fire-analytics",[ZI]:"fire-analytics-compat",[tC]:"fire-app-check",[eC]:"fire-app-check-compat",[nC]:"fire-auth",[iC]:"fire-auth-compat",[rC]:"fire-rtdb",[sC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[oC]:"fire-fn",[lC]:"fire-fn-compat",[uC]:"fire-iid",[cC]:"fire-iid-compat",[hC]:"fire-fcm",[fC]:"fire-fcm-compat",[dC]:"fire-perf",[mC]:"fire-perf-compat",[pC]:"fire-rc",[gC]:"fire-rc-compat",[yC]:"fire-gcs",[_C]:"fire-gcs-compat",[vC]:"fire-fst",[bC]:"fire-fst-compat",[wC]:"fire-vertex","fire-js":"fire-js",[EC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,SC=new Map,mp=new Map;function Vw(i,e){try{i.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function So(i){const e=i.name;if(mp.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,i);for(const t of yu.values())Vw(t,i);for(const t of SC.values())Vw(t,i);return!0}function Zp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Mu("app","Firebase",RC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=TC;function fE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:dp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(t||(t=aE()),!t)throw is.create("no-options");const u=yu.get(o);if(u){if(oa(t,u.options)&&oa(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new kI(o);for(const g of mp.values())f.addComponent(g);const m=new IC(t,s,f);return yu.set(o,m),m}function dE(i=dp){const e=yu.get(i);if(!e&&i===dp&&aE())return fE();if(!e)throw is.create("no-app",{appName:i});return e}function Pw(){return Array.from(yu.values())}function rs(i,e,t){let s=AC[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(f.join(" "));return}So(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",xC=1,_u="firebase-heartbeat-store";let ep=null;function mE(){return ep||(ep=YI(CC,xC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(i=>{throw is.create("idb-open",{originalErrorMessage:i.message})})),ep}async function DC(i){try{const t=(await mE()).transaction(_u),s=await t.objectStore(_u).get(pE(i));return await t.done,s}catch(e){if(e instanceof yr)fr.warn(e.message);else{const t=is.create("idb-get",{originalErrorMessage:e?.message});fr.warn(t.message)}}}async function Lw(i,e){try{const s=(await mE()).transaction(_u,"readwrite");await s.objectStore(_u).put(e,pE(i)),await s.done}catch(t){if(t instanceof yr)fr.warn(t.message);else{const s=is.create("idb-set",{originalErrorMessage:t?.message});fr.warn(s.message)}}}function pE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,OC=30;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>OC){const o=PC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uw(),{heartbeatsToSend:t,unsentEntries:s}=MC(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fr.warn(e),""}}}function Uw(){return new Date().toISOString().substring(0,10)}function MC(i,e=NC){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Bw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Bw(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class VC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?EI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bw(i){return Gh(JSON.stringify({version:2,heartbeats:i})).length}function PC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){So(new la("platform-logger",e=>new $I(e),"PRIVATE")),So(new la("heartbeat",e=>new kC(e),"PRIVATE")),rs(fp,Mw,i),rs(fp,Mw,"esm2020"),rs("fire-js","")}LC("");var UC="firebase",BC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(UC,BC,"app");function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zC=gE,yE=new Mu("auth","Firebase",gE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Xp("@firebase/auth");function jC(i,...e){Yh.logLevel<=Ne.WARN&&Yh.warn(`Auth (${Uo}): ${i}`,...e)}function Rh(i,...e){Yh.logLevel<=Ne.ERROR&&Yh.error(`Auth (${Uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw eg(i,...e)}function si(i,...e){return eg(i,...e)}function Jp(i,e,t){const s={...zC(),[e]:t};return new Mu("auth","Firebase",s).create(e,{appName:i.name})}function Ii(i){return Jp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _E(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Wn(i,"argument-error"),Jp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return yE.create(i,...e)}function we(i,e,...t){if(!i)throw eg(e,...t)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rh(e),new Error(e)}function dr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){return typeof self<"u"&&self.location?.href||""}function qC(){return zw()==="http:"||zw()==="https:"}function zw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qC()||yI()||"connection"in navigator)?navigator.onLine:!0}function FC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,dr(t>e,"Short delay should be less than long delay!"),this.isMobile=mI()||_I()}get(){return HC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i,e){dr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KC=new Pu(3e4,6e4);function _r(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Vi(i,e,t,s,o={}){return wE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Vu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return gI()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(y.credentials="include"),vE.fetch()(await bE(i,i.config.apiHost,t,m),y)})}async function wE(i,e,t){i._canInitEmulator=!1;const s={...GC,...e};try{const o=new $C(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw vh(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw vh(i,"user-disabled",f);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Jp(i,b,y);Wn(i,b)}}catch(o){if(o instanceof yr)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function Lu(i,e,t,s,o={}){const u=await Vi(i,e,t,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function bE(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?tg(i.config,o):`${i.config.apiScheme}://${o}`;return YC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function QC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),KC.get())})}}function vh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=si(i,e,s);return o.customData._tokenResponse=t,o}function jw(i){return i!==void 0&&i.enterprise!==void 0}class XC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WC(i,e){return Vi(i,"GET","/v2/recaptchaConfig",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(i,e){return Vi(i,"POST","/v1/accounts:delete",e)}async function Kh(i,e){return Vi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JC(i,e=!1){const t=Dt(i),s=await t.getIdToken(e),o=ng(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:hu(tp(o.auth_time)),issuedAtTime:hu(tp(o.iat)),expirationTime:hu(tp(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tp(i){return Number(i)*1e3}function ng(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=rE(t);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qw(i){const e=ng(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof yr&&ex(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ex({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(i){const e=i.auth,t=await i.getIdToken(),s=await Ro(i,Kh(e,{idToken:t}));we(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?EE(o.providerUserInfo):[],f=ix(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function nx(i){const e=Dt(i);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ix(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function EE(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(i,e){const t=await wE(i,{},async()=>{const s=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await bE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),vE.fetch()(f,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sx(i,e){return Vi(i,"POST","/v2/accounts:revokeToken",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=qw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await rx(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new yo;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JC(this,e)}reload(){return nx(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Ro(this,ZC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:H,providerData:W,stsTokenManager:ee}=t;we(A&&ee,e,"internal-error");const J=yo.fromJSON(this.name,ee);we(typeof A=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof H=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(g,e.name),Qr(y,e.name),Qr(b,e.name);const ge=new ri({uid:A,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:H,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:J,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(ge.providerData=W.map(le=>({...le}))),g&&(ge._redirectEventId=g),ge}static async _fromIdTokenResponse(e,t,s=!1){const o=new yo;o.updateFromServerResponse(t);const u=new ri({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Qh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?EE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new yo;m.updateFromIdToken(s);const g=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;function cr(i){dr(i instanceof Function,"Expected a class definition");let e=Hw.get(i);return e?(dr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Hw.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TE.type="NONE";const Fw=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(i,e,t){return`firebase:${i}:${e}:${t}`}class _o{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ih("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new _o(cr(Fw),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||cr(Fw);const f=Ih(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const R=await Kh(e,{idToken:b}).catch(()=>{});if(!R)break;A=await ri._fromGetAccountInfoResponse(e,R,b)}else A=ri._fromJSON(e,b);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new _o(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new _o(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(DE(e))return"Webos";if(SE(e))return"Safari";if((e.includes("chrome/")||RE(e))&&!e.includes("edge/"))return"Chrome";if(CE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function AE(i=on()){return/firefox\//i.test(i)}function SE(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RE(i=on()){return/crios\//i.test(i)}function IE(i=on()){return/iemobile/i.test(i)}function CE(i=on()){return/android/i.test(i)}function xE(i=on()){return/blackberry/i.test(i)}function DE(i=on()){return/webos/i.test(i)}function ig(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ax(i=on()){return ig(i)&&!!window.navigator?.standalone}function ox(){return vI()&&document.documentMode===10}function NE(i=on()){return ig(i)||CE(i)||DE(i)||xE(i)||/windows phone/i.test(i)||IE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i,e=[]){let t;switch(i){case"Browser":t=Gw(on());break;case"Worker":t=`${Gw(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(i,e={}){return Vi(i,"GET","/v2/passwordPolicy",_r(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=6;class hx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??cx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new lx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Ii(this));const t=e?Dt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ux(this),t=new hx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await sx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(t);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oi(i){return Dt(i)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dx(i){vf=i}function kE(i){return vf.loadJS(i)}function mx(){return vf.recaptchaEnterpriseScript}function px(){return vf.gapiScript}function gx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class yx{constructor(){this.enterprise=new _x}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _x{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vx="recaptcha-enterprise",ME="NO_RECAPTCHA";class wx{constructor(e){this.type=vx,this.auth=oi(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{WC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new XC(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;jw(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(ME)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&jw(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=mx();g.length!==0&&(g+=m),kE(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Kw(i,e,t,s=!1,o=!1){const u=new wx(i);let f;if(o)f=ME;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function $h(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Kw(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Kw(i,e,t,t==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i,e){const t=Zp(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(oa(u,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function Ex(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(cr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Tx(i,e,t){const s=oi(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=VE(e),{host:f,port:m}=Ax(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(oa(y,s.config.emulator)&&oa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(lE(`${u}//${f}${g}`),uE("Auth",!0)):Sx()}function VE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Ax(i){const e=VE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Qw(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Qw(f)}}}function Qw(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Sx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function Rx(i,e){return Vi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(i,e){return Lu(i,"POST","/v1/accounts:signInWithPassword",_r(i,e))}async function Cx(i,e){return Vi(i,"POST","/v1/accounts:sendOobCode",_r(i,e))}async function xx(i,e){return Cx(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(i,e){return Lu(i,"POST","/v1/accounts:signInWithEmailLink",_r(i,e))}async function Nx(i,e){return Lu(i,"POST","/v1/accounts:signInWithEmailLink",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends rg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new vu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new vu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,t,"signInWithPassword",Ix);case"emailLink":return Dx(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $h(e,s,"signUpPassword",Rx);case"emailLink":return Nx(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e){return Lu(i,"POST","/v1/accounts:signInWithIdp",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="http://localhost";class ua extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const f=new ua(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vo(e,t)}buildRequest(){const e={requestUri:Ox,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mx(i){const e=ru(su(i)).link,t=e?ru(su(e)).deep_link_id:null,s=ru(su(i)).deep_link_id;return(s?ru(su(s)).link:null)||s||t||e||i}class sg{constructor(e){const t=ru(su(e)),s=t.apiKey??null,o=t.oobCode??null,u=kx(t.mode??null);we(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Mx(e);try{return new sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=sg.parseLink(t);return we(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends wf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Uu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ua._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return lr.credential(t,s)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Uu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Uu{constructor(){super("twitter.com")}static credential(e,t){return ua._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(i,e){return Lu(i,"POST","/v1/accounts:signUp",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),f=$w(s);return new ca({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=$w(s);return new ca({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function $w(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends yr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Xh(e,t,s,o)}}function PE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(i,u,e,s):u})}async function Px(i,e,t=!1){const s=await Ro(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ca._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(i,e,t=!1){const{auth:s}=i;if(wn(s.app))return Promise.reject(Ii(s));const o="reauthenticate";try{const u=await Ro(i,PE(s,o,e,i),t);we(u.idToken,s,"internal-error");const f=ng(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(i.uid===m,s,"user-mismatch"),ca._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(i,e,t=!1){if(wn(i.app))return Promise.reject(Ii(i));const s="signIn",o=await PE(i,s,e),u=await ca._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function Ux(i,e){return LE(oi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(i){const e=oi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bx(i,e,t){const s=oi(i);await $h(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xx)}async function zx(i,e,t){if(wn(i.app))return Promise.reject(Ii(i));const s=oi(i),f=await $h(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vx).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&UE(i),g}),m=await ca._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function jx(i,e,t){return wn(i.app)?Promise.reject(Ii(i)):Ux(Dt(i),Bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(i,e){return Vi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Dt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await Ro(s,qx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function Fx(i,e,t,s){return Dt(i).onIdTokenChanged(e,t,s)}function Gx(i,e,t){return Dt(i).beforeAuthStateChanged(e,t)}function Yx(i,e,t,s){return Dt(i).onAuthStateChanged(e,t,s)}function Kx(i){return Dt(i).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=1e3,$x=10;class zE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);ox()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$x):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zE.type="LOCAL";const Xx=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jE.type="SESSION";const qE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new bf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(t.origin,u)),g=await Wx(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=ag("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function Jx(i){Ci().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function eD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tD(){return navigator?.serviceWorker?.controller||null}function nD(){return HE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebaseLocalStorageDb",iD=1,Zh="firebaseLocalStorage",GE="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ef(i,e){return i.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function rD(){const i=indexedDB.deleteDatabase(FE);return new Bu(i).toPromise()}function yp(){const i=indexedDB.open(FE,iD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zh,{keyPath:GE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await rD(),e(await yp()))})})}async function Xw(i,e,t){const s=Ef(i,!0).put({[GE]:e,value:t});return new Bu(s).toPromise()}async function sD(i,e){const t=Ef(i,!1).get(e),s=await new Bu(t).toPromise();return s===void 0?null:s.value}function Ww(i,e){const t=Ef(i,!0).delete(e);return new Bu(t).toPromise()}const aD=800,oD=3;class YE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>oD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bf._getInstance(nD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eD(),!this.activeServiceWorker)return;this.sender=new Zx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await Xw(e,Wh,"1"),await Ww(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xw(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>sD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ww(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ef(o,!1).getAll();return new Bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YE.type="LOCAL";const lD=YE;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){return e?cr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uD(i){return LE(i.auth,new lg(i),i.bypassAuthState)}function cD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),Lx(t,new lg(i),i.bypassAuthState)}async function hD(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),Px(t,new lg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uD;case"linkViaPopup":case"linkViaRedirect":return hD;case"reauthViaPopup":case"reauthViaRedirect":return cD;default:Wn(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Pu(2e3,1e4);async function dD(i,e,t){if(wn(i.app))return Promise.reject(si(i,"operation-not-supported-in-this-environment"));const s=oi(i);_E(i,e,wf);const o=og(s,t);return new na(s,"signInViaPopup",e,o).executeNotNull()}class na extends KE{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fD.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="pendingRedirect",Ch=new Map;class pD extends KE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await gD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gD(i,e){const t=$E(e),s=QE(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function yD(i,e){return QE(i)._set($E(e),"true")}function _D(i,e){Ch.set(i._key(),e)}function QE(i){return cr(i._redirectPersistence)}function $E(i){return Ih(mD,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(i,e,t){return wD(i,e,t)}async function wD(i,e,t){if(wn(i.app))return Promise.reject(Ii(i));const s=oi(i);_E(i,e,wf),await s._initializationPromise;const o=og(s,t);return await yD(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function bD(i,e){return await oi(i)._initializationPromise,XE(i,e,!1)}async function XE(i,e,t=!1){if(wn(i.app))return Promise.reject(Ii(i));const s=oi(i),o=og(s,e),f=await new pD(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=600*1e3;class TD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!WE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ED&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function WE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function AD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(i,e={}){return Vi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ID=/^https?/;async function CD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await SD(i);for(const t of e)try{if(xD(t))return}catch{}Wn(i,"unauthorized-domain")}function xD(i){const e=pp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!ID.test(t))return!1;if(RD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Pu(3e4,6e4);function Jw(){const i=Ci().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ND(i){return new Promise((e,t)=>{function s(){Jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jw(),t(si(i,"network-request-failed"))},timeout:DD.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const o=gx("iframefcb");return Ci()[o]=()=>{gapi.load?s():t(si(i,"network-request-failed"))},kE(`${px()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw xh=null,e})}let xh=null;function OD(i){return xh=xh||ND(i),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Pu(5e3,15e3),MD="__/auth/iframe",VD="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UD(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?tg(e,VD):`https://${i.config.authDomain}/${MD}`,s={apiKey:e.apiKey,appName:i.name,v:Uo},o=LD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Vu(s).slice(1)}`}async function BD(i){const e=await OD(i),t=Ci().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:UD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=si(i,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},kD.get());function g(){Ci().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jD=500,qD=600,HD="_blank",FD="http://localhost";class e0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GD(i,e,t,s=jD,o=qD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...zD,width:s.toString(),height:o.toString(),top:u,left:f},y=on().toLowerCase();t&&(m=RE(y)?HD:t),AE(y)&&(e=e||FD,g.scrollbars="yes");const b=Object.entries(g).reduce((R,[H,W])=>`${R}${H}=${W},`,"");if(ax(y)&&m!=="_self")return YD(e||"",m),new e0(null);const A=window.open(e||"",m,b);we(A,i,"popup-blocked");try{A.focus()}catch{}return new e0(A)}function YD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="__/auth/handler",QD="emulator/auth/handler",$D=encodeURIComponent("fac");async function t0(i,e,t,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Uo,eventId:o};if(e instanceof wf){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",RI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof Uu){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),y=g?`#${$D}=${encodeURIComponent(g)}`:"";return`${XD(i)}?${Vu(m).slice(1)}${y}`}function XD({config:i}){return i.emulator?tg(i,QD):`https://${i.authDomain}/${KD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=XE,this._overrideRedirectResult=_D}async _openPopup(e,t,s,o){dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await t0(e,t,s,pp(),o);return GD(e,u,ag())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await t0(e,t,s,pp(),o);return Jx(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await BD(e),s=new TD(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(np,{type:np},o=>{const u=o?.[0]?.[np];u!==void 0&&t(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NE()||SE()||ig()}}const ZD=WD;var n0="@firebase/auth",i0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tN(i){So(new la("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(i)},y=new fx(s,o,u,g);return Ex(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),So(new la("auth-internal",e=>{const t=oi(e.getProvider("auth").getImmediate());return(s=>new JD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(n0,i0,eN(i)),rs(n0,i0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=300,iN=oE("authIdTokenMaxAge")||nN;let r0=null;const rN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>iN)return;const o=t?.token;r0!==o&&(r0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sN(i=dE()){const e=Zp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=bx(i,{popupRedirectResolver:ZD,persistence:[lD,Xx,qE]}),s=oE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rN(u.toString());Gx(t,f,()=>f(t.currentUser)),Fx(t,m=>f(m))}}const o=sE("auth");return o&&Tx(t,`http://${o}`),t}function aN(){return document.getElementsByTagName("head")?.[0]??document}dx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=si("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",aN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tN("Browser");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,ZE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,T){function x(){}x.prototype=T.prototype,M.D=T.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(k,I,O){for(var C=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)C[pt-2]=arguments[pt];return T.prototype[I].apply(k,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,T,x){x||(x=0);var k=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)k[I]=T.charCodeAt(x++)|T.charCodeAt(x++)<<8|T.charCodeAt(x++)<<16|T.charCodeAt(x++)<<24;else for(I=0;16>I;++I)k[I]=T[x++]|T[x++]<<8|T[x++]<<16|T[x++]<<24;T=M.g[0],x=M.g[1],I=M.g[2];var O=M.g[3],C=T+(O^x&(I^O))+k[0]+3614090360&4294967295;T=x+(C<<7&4294967295|C>>>25),C=O+(I^T&(x^I))+k[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=I+(x^O&(T^x))+k[2]+606105819&4294967295,I=O+(C<<17&4294967295|C>>>15),C=x+(T^I&(O^T))+k[3]+3250441966&4294967295,x=I+(C<<22&4294967295|C>>>10),C=T+(O^x&(I^O))+k[4]+4118548399&4294967295,T=x+(C<<7&4294967295|C>>>25),C=O+(I^T&(x^I))+k[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=I+(x^O&(T^x))+k[6]+2821735955&4294967295,I=O+(C<<17&4294967295|C>>>15),C=x+(T^I&(O^T))+k[7]+4249261313&4294967295,x=I+(C<<22&4294967295|C>>>10),C=T+(O^x&(I^O))+k[8]+1770035416&4294967295,T=x+(C<<7&4294967295|C>>>25),C=O+(I^T&(x^I))+k[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=I+(x^O&(T^x))+k[10]+4294925233&4294967295,I=O+(C<<17&4294967295|C>>>15),C=x+(T^I&(O^T))+k[11]+2304563134&4294967295,x=I+(C<<22&4294967295|C>>>10),C=T+(O^x&(I^O))+k[12]+1804603682&4294967295,T=x+(C<<7&4294967295|C>>>25),C=O+(I^T&(x^I))+k[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=I+(x^O&(T^x))+k[14]+2792965006&4294967295,I=O+(C<<17&4294967295|C>>>15),C=x+(T^I&(O^T))+k[15]+1236535329&4294967295,x=I+(C<<22&4294967295|C>>>10),C=T+(I^O&(x^I))+k[1]+4129170786&4294967295,T=x+(C<<5&4294967295|C>>>27),C=O+(x^I&(T^x))+k[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=I+(T^x&(O^T))+k[11]+643717713&4294967295,I=O+(C<<14&4294967295|C>>>18),C=x+(O^T&(I^O))+k[0]+3921069994&4294967295,x=I+(C<<20&4294967295|C>>>12),C=T+(I^O&(x^I))+k[5]+3593408605&4294967295,T=x+(C<<5&4294967295|C>>>27),C=O+(x^I&(T^x))+k[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=I+(T^x&(O^T))+k[15]+3634488961&4294967295,I=O+(C<<14&4294967295|C>>>18),C=x+(O^T&(I^O))+k[4]+3889429448&4294967295,x=I+(C<<20&4294967295|C>>>12),C=T+(I^O&(x^I))+k[9]+568446438&4294967295,T=x+(C<<5&4294967295|C>>>27),C=O+(x^I&(T^x))+k[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=I+(T^x&(O^T))+k[3]+4107603335&4294967295,I=O+(C<<14&4294967295|C>>>18),C=x+(O^T&(I^O))+k[8]+1163531501&4294967295,x=I+(C<<20&4294967295|C>>>12),C=T+(I^O&(x^I))+k[13]+2850285829&4294967295,T=x+(C<<5&4294967295|C>>>27),C=O+(x^I&(T^x))+k[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=I+(T^x&(O^T))+k[7]+1735328473&4294967295,I=O+(C<<14&4294967295|C>>>18),C=x+(O^T&(I^O))+k[12]+2368359562&4294967295,x=I+(C<<20&4294967295|C>>>12),C=T+(x^I^O)+k[5]+4294588738&4294967295,T=x+(C<<4&4294967295|C>>>28),C=O+(T^x^I)+k[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=I+(O^T^x)+k[11]+1839030562&4294967295,I=O+(C<<16&4294967295|C>>>16),C=x+(I^O^T)+k[14]+4259657740&4294967295,x=I+(C<<23&4294967295|C>>>9),C=T+(x^I^O)+k[1]+2763975236&4294967295,T=x+(C<<4&4294967295|C>>>28),C=O+(T^x^I)+k[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=I+(O^T^x)+k[7]+4139469664&4294967295,I=O+(C<<16&4294967295|C>>>16),C=x+(I^O^T)+k[10]+3200236656&4294967295,x=I+(C<<23&4294967295|C>>>9),C=T+(x^I^O)+k[13]+681279174&4294967295,T=x+(C<<4&4294967295|C>>>28),C=O+(T^x^I)+k[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=I+(O^T^x)+k[3]+3572445317&4294967295,I=O+(C<<16&4294967295|C>>>16),C=x+(I^O^T)+k[6]+76029189&4294967295,x=I+(C<<23&4294967295|C>>>9),C=T+(x^I^O)+k[9]+3654602809&4294967295,T=x+(C<<4&4294967295|C>>>28),C=O+(T^x^I)+k[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=I+(O^T^x)+k[15]+530742520&4294967295,I=O+(C<<16&4294967295|C>>>16),C=x+(I^O^T)+k[2]+3299628645&4294967295,x=I+(C<<23&4294967295|C>>>9),C=T+(I^(x|~O))+k[0]+4096336452&4294967295,T=x+(C<<6&4294967295|C>>>26),C=O+(x^(T|~I))+k[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=I+(T^(O|~x))+k[14]+2878612391&4294967295,I=O+(C<<15&4294967295|C>>>17),C=x+(O^(I|~T))+k[5]+4237533241&4294967295,x=I+(C<<21&4294967295|C>>>11),C=T+(I^(x|~O))+k[12]+1700485571&4294967295,T=x+(C<<6&4294967295|C>>>26),C=O+(x^(T|~I))+k[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=I+(T^(O|~x))+k[10]+4293915773&4294967295,I=O+(C<<15&4294967295|C>>>17),C=x+(O^(I|~T))+k[1]+2240044497&4294967295,x=I+(C<<21&4294967295|C>>>11),C=T+(I^(x|~O))+k[8]+1873313359&4294967295,T=x+(C<<6&4294967295|C>>>26),C=O+(x^(T|~I))+k[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=I+(T^(O|~x))+k[6]+2734768916&4294967295,I=O+(C<<15&4294967295|C>>>17),C=x+(O^(I|~T))+k[13]+1309151649&4294967295,x=I+(C<<21&4294967295|C>>>11),C=T+(I^(x|~O))+k[4]+4149444226&4294967295,T=x+(C<<6&4294967295|C>>>26),C=O+(x^(T|~I))+k[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=I+(T^(O|~x))+k[2]+718787259&4294967295,I=O+(C<<15&4294967295|C>>>17),C=x+(O^(I|~T))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+T&4294967295,M.g[1]=M.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+I&4294967295,M.g[3]=M.g[3]+O&4294967295}s.prototype.u=function(M,T){T===void 0&&(T=M.length);for(var x=T-this.blockSize,k=this.B,I=this.h,O=0;O<T;){if(I==0)for(;O<=x;)o(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<T;)if(k[I++]=M.charCodeAt(O++),I==this.blockSize){o(this,k),I=0;break}}else for(;O<T;)if(k[I++]=M[O++],I==this.blockSize){o(this,k),I=0;break}}this.h=I,this.o+=T},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var T=1;T<M.length-8;++T)M[T]=0;var x=8*this.o;for(T=M.length-8;T<M.length;++T)M[T]=x&255,x/=256;for(this.u(M),M=Array(16),T=x=0;4>T;++T)for(var k=0;32>k;k+=8)M[x++]=this.g[T]>>>k&255;return M};function u(M,T){var x=m;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=T(M)}function f(M,T){this.h=T;for(var x=[],k=!0,I=M.length-1;0<=I;I--){var O=M[I]|0;k&&O==T||(x[I]=O,k=!1)}this.g=x}var m={};function g(M){return-128<=M&&128>M?u(M,function(T){return new f([T|0],0>T?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return J(y(-M));for(var T=[],x=1,k=0;M>=x;k++)T[k]=M/x|0,x*=4294967296;return new f(T,0)}function b(M,T){if(M.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M.charAt(0)=="-")return J(b(M.substring(1),T));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(T,8)),k=A,I=0;I<M.length;I+=8){var O=Math.min(8,M.length-I),C=parseInt(M.substring(I,I+O),T);8>O?(O=y(Math.pow(T,O)),k=k.j(O).add(y(C))):(k=k.j(x),k=k.add(y(C)))}return k}var A=g(0),R=g(1),H=g(16777216);i=f.prototype,i.m=function(){if(ee(this))return-J(this).m();for(var M=0,T=1,x=0;x<this.g.length;x++){var k=this.i(x);M+=(0<=k?k:4294967296+k)*T,T*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(W(this))return"0";if(ee(this))return"-"+J(this).toString(M);for(var T=y(Math.pow(M,6)),x=this,k="";;){var I=qe(x,T).g;x=ge(x,I.j(T));var O=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=I,W(x))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function W(M){if(M.h!=0)return!1;for(var T=0;T<M.g.length;T++)if(M.g[T]!=0)return!1;return!0}function ee(M){return M.h==-1}i.l=function(M){return M=ge(this,M),ee(M)?-1:W(M)?0:1};function J(M){for(var T=M.g.length,x=[],k=0;k<T;k++)x[k]=~M.g[k];return new f(x,~M.h).add(R)}i.abs=function(){return ee(this)?J(this):this},i.add=function(M){for(var T=Math.max(this.g.length,M.g.length),x=[],k=0,I=0;I<=T;I++){var O=k+(this.i(I)&65535)+(M.i(I)&65535),C=(O>>>16)+(this.i(I)>>>16)+(M.i(I)>>>16);k=C>>>16,O&=65535,C&=65535,x[I]=C<<16|O}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ge(M,T){return M.add(J(T))}i.j=function(M){if(W(this)||W(M))return A;if(ee(this))return ee(M)?J(this).j(J(M)):J(J(this).j(M));if(ee(M))return J(this.j(J(M)));if(0>this.l(H)&&0>M.l(H))return y(this.m()*M.m());for(var T=this.g.length+M.g.length,x=[],k=0;k<2*T;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var I=0;I<M.g.length;I++){var O=this.i(k)>>>16,C=this.i(k)&65535,pt=M.i(I)>>>16,ht=M.i(I)&65535;x[2*k+2*I]+=C*ht,le(x,2*k+2*I),x[2*k+2*I+1]+=O*ht,le(x,2*k+2*I+1),x[2*k+2*I+1]+=C*pt,le(x,2*k+2*I+1),x[2*k+2*I+2]+=O*pt,le(x,2*k+2*I+2)}for(k=0;k<T;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=T;k<2*T;k++)x[k]=0;return new f(x,0)};function le(M,T){for(;(M[T]&65535)!=M[T];)M[T+1]+=M[T]>>>16,M[T]&=65535,T++}function he(M,T){this.g=M,this.h=T}function qe(M,T){if(W(T))throw Error("division by zero");if(W(M))return new he(A,A);if(ee(M))return T=qe(J(M),T),new he(J(T.g),J(T.h));if(ee(T))return T=qe(M,J(T)),new he(J(T.g),T.h);if(30<M.g.length){if(ee(M)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var x=R,k=T;0>=k.l(M);)x=Ee(x),k=Ee(k);var I=Be(x,1),O=Be(k,1);for(k=Be(k,2),x=Be(x,2);!W(k);){var C=O.add(k);0>=C.l(M)&&(I=I.add(x),O=C),k=Be(k,1),x=Be(x,1)}return T=ge(M,I.j(T)),new he(I,T)}for(I=A;0<=M.l(T);){for(x=Math.max(1,Math.floor(M.m()/T.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=y(x),C=O.j(T);ee(C)||0<C.l(M);)x-=k,O=y(x),C=O.j(T);W(O)&&(O=R),I=I.add(O),M=ge(M,C)}return new he(I,M)}i.A=function(M){return qe(this,M).h},i.and=function(M){for(var T=Math.max(this.g.length,M.g.length),x=[],k=0;k<T;k++)x[k]=this.i(k)&M.i(k);return new f(x,this.h&M.h)},i.or=function(M){for(var T=Math.max(this.g.length,M.g.length),x=[],k=0;k<T;k++)x[k]=this.i(k)|M.i(k);return new f(x,this.h|M.h)},i.xor=function(M){for(var T=Math.max(this.g.length,M.g.length),x=[],k=0;k<T;k++)x[k]=this.i(k)^M.i(k);return new f(x,this.h^M.h)};function Ee(M){for(var T=M.g.length+1,x=[],k=0;k<T;k++)x[k]=M.i(k)<<1|M.i(k-1)>>>31;return new f(x,M.h)}function Be(M,T){var x=T>>5;T%=32;for(var k=M.g.length-x,I=[],O=0;O<k;O++)I[O]=0<T?M.i(O+x)>>>T|M.i(O+x+1)<<32-T:M.i(O+x);return new f(I,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,ss=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,au,eT,Dh,_p,tT,nT,iT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in _))break e;_=_[L]}c=c[c.length-1],E=_[c],p=p(E),p!=E&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,E=!1,L={next:function(){if(!E&&_<c.length){var q=_++;return{value:p(q,c[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function b(c,p,_){return c.call.apply(c.bind,arguments)}function A(c,p,_){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,R.apply(null,arguments)}function H(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function W(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(E,L,q){for(var ne=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ne[Me-2]=arguments[Me];return p.prototype[L].apply(E,ne)}}function ee(c){const p=c.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=c[E];return _}return[]}function J(c,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(g(E)){const L=c.length||0,q=E.length||0;c.length=L+q;for(let ne=0;ne<q;ne++)c[L+ne]=E[ne]}else c.push(E)}}class ge{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function le(c){return/^[\s\xa0]*$/.test(c)}function he(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function qe(c){return qe[" "](c),c}qe[" "]=function(){};var Ee=he().indexOf("Gecko")!=-1&&!(he().toLowerCase().indexOf("webkit")!=-1&&he().indexOf("Edge")==-1)&&!(he().indexOf("Trident")!=-1||he().indexOf("MSIE")!=-1)&&he().indexOf("Edge")==-1;function Be(c,p,_){for(const E in c)p.call(_,c[E],E,c)}function M(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function T(c){const p={};for(const _ in c)p[_]=c[_];return p}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,p){let _,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(_ in E)c[_]=E[_];for(let q=0;q<x.length;q++)_=x[q],Object.prototype.hasOwnProperty.call(E,_)&&(c[_]=E[_])}}function I(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function O(c){m.setTimeout(()=>{throw c},0)}function C(){var c=He;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class pt{constructor(){this.h=this.g=null}add(p,_){const E=ht.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var ht=new ge(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,He=new pt,D=()=>{const c=m.Promise.resolve(void 0);re=()=>{c.then(Z)}};var Z=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){O(_)}var p=ht;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}fe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var de=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Ie(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(Ee){e:{try{qe(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}W(Ie,te);var Te={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),it=0;function li(c,p,_,E,L){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=L,this.key=++it,this.da=this.fa=!1}function vr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pi(c){this.src=c,this.g={},this.h=0}Pi.prototype.add=function(c,p,_,E,L){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var ne=_s(c,p,E,L);return-1<ne?(p=c[ne],_||(p.fa=!1)):(p=new li(p,this.src,q,!!E,L),p.fa=_,c.push(p)),p};function ys(c,p){var _=p.type;if(_ in c.g){var E=c.g[_],L=Array.prototype.indexOf.call(E,p,void 0),q;(q=0<=L)&&Array.prototype.splice.call(E,L,1),q&&(vr(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function _s(c,p,_,E){for(var L=0;L<c.length;++L){var q=c[L];if(!q.da&&q.listener==p&&q.capture==!!_&&q.ha==E)return L}return-1}var vs="closure_lm_"+(1e6*Math.random()|0),Yo={};function Ku(c,p,_,E,L){if(Array.isArray(p)){for(var q=0;q<p.length;q++)Ku(c,p[q],_,E,L);return null}return _=Qu(_),c&&c[Lt]?c.K(p,_,y(E)?!!E.capture:!1,L):Ln(c,p,_,!1,E,L)}function Ln(c,p,_,E,L,q){if(!p)throw Error("Invalid event type");var ne=y(L)?!!L.capture:!!L,Me=_a(c);if(Me||(c[vs]=Me=new Pi(c)),_=Me.add(p,_,E,ne,q),_.proxy)return _;if(E=jf(),_.proxy=E,E.src=c,E.listener=_,c.addEventListener)de||(L=ne),L===void 0&&(L=!1),c.addEventListener(p.toString(),E,L);else if(c.attachEvent)c.attachEvent(ws(p.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jf(){function c(_){return p.call(c.src,c.listener,_)}const p=qf;return c}function Ko(c,p,_,E,L){if(Array.isArray(p))for(var q=0;q<p.length;q++)Ko(c,p[q],_,E,L);else E=y(E)?!!E.capture:!!E,_=Qu(_),c&&c[Lt]?(c=c.i,p=String(p).toString(),p in c.g&&(q=c.g[p],_=_s(q,_,E,L),-1<_&&(vr(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[p],c.h--)))):c&&(c=_a(c))&&(p=c.g[p.toString()],c=-1,p&&(c=_s(p,_,E,L)),(_=-1<c?p[c]:null)&&ya(_))}function ya(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Lt])ys(p.i,c);else{var _=c.type,E=c.proxy;p.removeEventListener?p.removeEventListener(_,E,c.capture):p.detachEvent?p.detachEvent(ws(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=_a(p))?(ys(_,c),_.h==0&&(_.src=null,p[vs]=null)):vr(c)}}}function ws(c){return c in Yo?Yo[c]:Yo[c]="on"+c}function qf(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var _=c.listener,E=c.ha||c.src;c.fa&&ya(c),c=_.call(E,p)}return c}function _a(c){return c=c[vs],c instanceof Pi?c:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qu(c){return typeof c=="function"?c:(c[Qo]||(c[Qo]=function(p){return c.handleEvent(p)}),c[Qo])}function ft(){se.call(this),this.i=new Pi(this),this.M=this,this.F=null}W(ft,se),ft.prototype[Lt]=!0,ft.prototype.removeEventListener=function(c,p,_,E){Ko(this,c,p,_,E)};function Qe(c,p){var _,E=c.F;if(E)for(_=[];E;E=E.F)_.push(E);if(c=c.M,E=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var L=p;p=new te(E,c),k(p,L)}if(L=!0,_)for(var q=_.length-1;0<=q;q--){var ne=p.g=_[q];L=En(ne,E,!0,p)&&L}if(ne=p.g=c,L=En(ne,E,!0,p)&&L,L=En(ne,E,!1,p)&&L,_)for(q=0;q<_.length;q++)ne=p.g=_[q],L=En(ne,E,!1,p)&&L}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],E=0;E<_.length;E++)vr(_[E]);delete c.g[p],c.h--}}this.F=null},ft.prototype.K=function(c,p,_,E){return this.i.add(String(c),p,!1,_,E)},ft.prototype.L=function(c,p,_,E){return this.i.add(String(c),p,!0,_,E)};function En(c,p,_,E){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,q=0;q<p.length;++q){var ne=p[q];if(ne&&!ne.da&&ne.capture==_){var Me=ne.listener,Ot=ne.ha||ne.src;ne.fa&&ys(c.i,ne),L=Me.call(Ot,E)!==!1&&L}}return L&&!E.defaultPrevented}function en(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function $u(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,$u(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Hf extends se{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){se.call(this),this.h=c,this.g={}}W(bs,se);var Es=[];function Ts(c){Be(c.g,function(p,_){this.g.hasOwnProperty(_)&&ya(p)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Ts(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=m.JSON.stringify,va=m.JSON.parse,As=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Wo(){}var Li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){te.call(this,"d")}W(Ui,te);function Zo(){te.call(this,"c")}W(Zo,te);var ui={},Jo=null;function wr(){return Jo=Jo||new ft}ui.La="serverreachability";function wa(c){te.call(this,ui.La,c)}W(wa,te);function br(c){const p=wr();Qe(p,new wa(p))}ui.STAT_EVENT="statevent";function Xu(c,p){te.call(this,ui.STAT_EVENT,c),this.stat=p}W(Xu,te);function ot(c){const p=wr();Qe(p,new Xu(p,c))}ui.Ma="timingevent";function Nt(c,p){te.call(this,ui.Ma,c),this.size=p}W(Nt,te);function Tt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function el(c,p,_,E,L,q){c.info(function(){if(c.g)if(q)for(var ne="",Me=q.split("&"),Ot=0;Ot<Me.length;Ot++){var Ve=Me[Ot].split("=");if(1<Ve.length){var Bt=Ve[0];Ve=Ve[1];var kt=Bt.split("_");ne=2<=kt.length&&kt[1]=="type"?ne+(Bt+"="+Ve+"&"):ne+(Bt+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+_+`
`+ne})}function Ff(c,p,_,E,L,q,ne){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+_+`
`+q+" "+ne})}function Er(c,p,_,E){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ss(c,_)+(E?" "+E:"")})}function Wu(c,p){c.info(function(){return"TIMEOUT: "+p})}Un.prototype.info=function(){};function Ss(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var E=_[c];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return Zn(_)}catch{return p}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}W(hi,$o),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function ln(c,p,_,E){this.j=c,this.i=p,this.l=_,this.R=E||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var tl={},ba={};function Jn(c,p,_){c.L=1,c.v=Ds(Tn(p)),c.m=_,c.P=!0,zi(c,null)}function zi(c,p){c.F=Date.now(),Rs(c),c.A=Tn(c.v);var _=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),ol(_.i,"t",E),c.C=0,_=c.j.J,c.h=new gt,c.g=dc(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Hf(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,E=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Es[0]=L.toString()),L=Es);for(var q=0;q<L.length;q++){var ne=Ku(_,L[q],E||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),br(),el(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const p=this.M;p&&qn(c)==3?p.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const kt=qn(this.g);var p=this.g.Ba();const Qi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||kt!=4||p==7||(p==8||0>=Qi?br(3):br(2)),Ar(this);var _=this.g.Z();this.X=_;t:if(Zu(this)){var E=sc(this.g);c="";var L=E.length,q=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),fi(this);var ne="";break t}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(E[p],{stream:!(q&&p==L-1)});E.length=0,this.h.g+=c,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,Ff(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Ot=this.g;if((Me=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)Er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,_);else{this.o=!1,this.s=3,ot(12),Yt(this),fi(this);break e}}if(this.P){_=!0;let Kt;for(;!this.J&&this.C<ne.length;)if(Kt=Ju(this,ne),Kt==ba){kt==4&&(this.s=4,ot(14),_=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==tl){this.s=4,ot(15),Er(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else Er(this.i,this.l,Kt,null),Is(this,Kt);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ne.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Er(this.i,this.l,ne,"[Invalid Chunked Response]"),Yt(this),fi(this);else if(0<ne.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Us(Bt),Bt.M=!0,ot(11))}}else Er(this.i,this.l,ne,null),Is(this,ne);kt==4&&Yt(this),this.o&&!this.J&&(kt==4?cc(this.j,this):(this.o=!1,Rs(this)))}else $f(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Yt(this),fi(this)}}}catch{}finally{}};function Zu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ju(c,p){var _=c.C,E=p.indexOf(`
`,_);return E==-1?ba:(_=Number(p.substring(_,E)),isNaN(_)?tl:(E+=1,E+_>p.length?ba:(p=p.slice(E,E+_),c.C=E+_,p)))}ln.prototype.cancel=function(){this.J=!0,Yt(this)};function Rs(c){c.S=Date.now()+c.I,ec(c,c.I)}function ec(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(R(c.ba,c),p)}function Ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wu(this.i,this.A),this.L!=2&&(br(),ot(17)),Yt(this),this.s=2,fi(this)):ec(this,this.S-c)};function fi(c){c.j.G==0||c.J||cc(c.j,c)}function Yt(c){Ar(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ts(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Is(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||nl(_.h,c))){if(!c.K&&nl(_.h,c)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ka(_),Na(_);else break e;fl(_),ot(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(R(_.Za,_),6e3));if(1>=Ta(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ki(_,11)}else if((c.K||_.g==c)&&ka(_),!le(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let Ve=L[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Bt=Ve[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const kt=Ve[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const Qi=Ve[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(E=1.5*Qi,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Kt=c.g;if(Kt){const vi=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var q=E.h;q.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Aa(q,q.h),q.h=null))}if(E.D){const ml=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(E.ya=ml,We(E.I,E.D,ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ne=c;if(E.qa=fc(E,E.J?E.ia:null,E.W),ne.K){un(E.h,ne);var Me=ne,Ot=E.L;Ot&&(Me.I=Ot),Me.B&&(Ar(Me),Rs(Me)),E.g=ne}else lc(E);0<_.i.length&&Oa(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Ki(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ki(_,7):cl(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}br(4)}catch{}}var tc=class{constructor(c,p){this.g=c,this.map=p}};function ji(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ta(c){return c.h?1:c.g?c.g.size:0}function nl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Aa(c,p){c.g?c.g.add(p):c.h=p}function un(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ji.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return ee(c.i)}function Gf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,E=0;E<_;E++)p.push(c[E]);return p}p=[],_=0;for(E in c)p[_++]=c[E];return p}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const E in c)p[_++]=E;return p}}}function rl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Sa(c),E=Gf(c),L=E.length,q=0;q<L;q++)p.call(void 0,E[q],_&&_[q],c)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var E=c[_].indexOf("="),L=null;if(0<=E){var q=c[_].substring(0,E);L=c[_].substring(E+1)}else q=c[_];p(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function At(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof At){this.h=c.h,xs(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.s),this.l=c.l;var p=c.i,_=new Hi;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),qi(this,_),this.m=c.m}else c&&(p=String(c).match(Cs))?(this.h=!1,xs(this,p[1]||"",!0),this.o=Bn(p[2]||""),this.g=Bn(p[3]||"",!0),Sr(this,p[4]),this.l=Bn(p[5]||"",!0),qi(this,p[6]||"",!0),this.m=Bn(p[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}At.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ns(p,sl,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ns(p,sl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ns(_,_.charAt(0)=="/"?Kf:al,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ns(_,Ra)),c.join("")};function Tn(c){return new At(c)}function xs(c,p,_){c.j=_?Bn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function qi(c,p,_){p instanceof Hi?(c.i=p,ic(c.i,c.h)):(_||(p=Ns(p,Qf)),c.i=new Hi(p,c.h))}function We(c,p,_){c.i.set(p,_)}function Ds(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,nc),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,al=/[#\?:]/g,Kf=/[#\?]/g,Qf=/[#\?@]/g,Ra=/#/g;function Hi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Yf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=Hi.prototype,i.add=function(c,p){zn(this),this.i=null,c=di(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Fi(c,p){zn(c),p=di(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Gi(c,p){return zn(c),p=di(c,p),c.g.has(p)}i.forEach=function(c,p){zn(this),this.g.forEach(function(_,E){_.forEach(function(L){c.call(p,L,E,this)},this)},this)},i.na=function(){zn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const L=c[E];for(let q=0;q<L.length;q++)_.push(p[E])}return _},i.V=function(c){zn(this);let p=[];if(typeof c=="string")Gi(this,c)&&(p=p.concat(this.g.get(di(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},i.set=function(c,p){return zn(this),this.i=null,c=di(this,c),Gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ol(c,p,_){Fi(c,p),0<_.length&&(c.i=null,c.g.set(di(c,p),ee(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const q=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var L=q;ne[E]!==""&&(L+="="+encodeURIComponent(String(ne[E]))),c.push(L)}}return this.i=c.join("&")};function di(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ic(c,p){p&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(_,E){var L=E.toLowerCase();E!=L&&(Fi(this,E),ol(this,L,_))},c)),c.j=p}function Os(c,p){const _=new Un;if(m.Image){const E=new Image;E.onload=H(jn,_,"TestLoadImage: loaded",!0,p,E),E.onerror=H(jn,_,"TestLoadImage: error",!1,p,E),E.onabort=H(jn,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=H(jn,_,"TestLoadImage: timeout",!1,p,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else p(!1)}function ei(c,p){const _=new Un,E=new AbortController,L=setTimeout(()=>{E.abort(),jn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:E.signal}).then(q=>{clearTimeout(L),q.ok?jn(_,"TestPingServer: ok",!0,p):jn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),jn(_,"TestPingServer: error",!1,p)})}function jn(c,p,_,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(_)}catch{}}function ks(){this.g=new As}function mi(c,p,_){const E=_||"";try{rl(c,function(L,q){let ne=L;y(L)&&(ne=Zn(L)),p.push(E+q+"="+encodeURIComponent(ne))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function Rr(c){this.l=c.Ub||null,this.j=c.eb||!1}W(Rr,$o),Rr.prototype.g=function(){return new Yi(this.l,this.j)},Rr.prototype.i=(function(c){return function(){return c}})({});function Yi(c,p){ft.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Yi,ft),i=Yi.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,gi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pi(this):gi(this),this.readyState==3&&ll(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,pi(this))},i.Qa=function(c){this.g&&(this.response=c,pi(this))},i.ga=function(){this.g&&pi(this)};function pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gi(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function gi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ul(c){let p="";return Be(c,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Ut(c,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=ul(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,p,_))}function Ye(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Ye,ft);var Ia=/^https?$/i,Ms=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Xo(this.o):Xo(ci),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){rc(this,q);return}if(c=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)_.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())_.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ms,p,void 0))||E||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){rc(this,q)}};function rc(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ca(c),yi(c)}function Ca(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},i.bb=function(){xa(this)};function xa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)en(c.Ea,0,c);else if(Qe(c,"readystatechange"),qn(c)==4){c.h=!1;try{const ne=c.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=ne===0){var L=String(c.D).match(Cs)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!Ia.test(L?L.toLowerCase():"")}_=E}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var q=2<qn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Ca(c)}}finally{yi(c)}}}}function yi(c,p){if(c.g){Vs(c);const _=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qe(c,"ready");try{_.onreadystatechange=E}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),va(p)}};function sc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $f(c){const p={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(le(c[E]))continue;var _=I(c[E]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=p[L]||[];p[L]=q,q.push(_)}M(p,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Da(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ps("baseRetryDelayMs",5e3,c),this.cb=Ps("retryDelaySeedMs",1e4,c),this.Wa=Ps("forwardChannelMaxRetries",2,c),this.wa=Ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(c&&c.concurrentRequestLimit),this.Da=new ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Da.prototype,i.la=8,i.G=1,i.connect=function(c,p,_,E){ot(0),this.W=c,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=fc(this,null,this.W),Oa(this)};function cl(c){if(ac(c),c.G==3){var p=c.U++,_=Tn(c.I);if(We(_,"SID",c.K),We(_,"RID",p),We(_,"TYPE","terminate"),Ls(c,_),p=new ln(c,c.j,p),p.L=2,p.v=Ds(Tn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=dc(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Rs(p)}hc(c)}function Na(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function ac(c){Na(c),c.u&&(m.clearTimeout(c.u),c.u=null),ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Oa(c){if(!Ea(c.h)&&!c.s){c.s=!0;var p=c.Ga;re||D(),fe||(re(),fe=!0),He.add(p,c),c.B=0}}function Xf(c,p){return Ta(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(R(c.Ga,c,p),dl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ln(this,this.j,c);let q=this.o;if(this.S&&(q?(q=T(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=oc(this,L,p),_=Tn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Ls(this,_),q&&(this.O?p="headers="+encodeURIComponent(String(ul(q)))+"&"+p:this.m&&Ut(_,this.m,q)),Aa(this.h,L),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",p),We(_,"SID","null"),L.T=!0,Jn(L,_,null)):Jn(L,_,p),this.G=2}}else this.G==3&&(c?hl(this,c):this.i.length==0||Ea(this.h)||hl(this))};function hl(c,p){var _;p?_=p.l:_=c.U++;const E=Tn(c.I);We(E,"SID",c.K),We(E,"RID",_),We(E,"AID",c.T),Ls(c,E),c.m&&c.o&&Ut(E,c.m,c.o),_=new ln(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=oc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Aa(c.h,_),Jn(_,E,p)}function Ls(c,p){c.H&&Be(c.H,function(_,E){We(p,E,_)}),c.l&&rl({},function(_,E){We(p,E,_)})}function oc(c,p,_){_=Math.min(c.i.length,_);var E=c.l?R(c.l.Na,c.l,c):null;e:{var L=c.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=L[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Me=!0;for(let Ot=0;Ot<_;Ot++){let Ve=L[Ot].g;const Bt=L[Ot].map;if(Ve-=q,0>Ve)q=Math.max(0,L[Ot].g-100),Me=!1;else try{mi(Bt,ne,"req"+Ve+"_")}catch{E&&E(Bt)}}if(Me){E=ne.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,E}function lc(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;re||D(),fe||(re(),fe=!0),He.add(p,c),c.v=0}}function fl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(R(c.Fa,c),dl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,uc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Na(this),uc(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function uc(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Tn(c.qa);We(p,"RID","rpc"),We(p,"SID",c.K),We(p,"AID",c.T),We(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(p,"TO",c.ja),We(p,"TYPE","xmlhttp"),Ls(c,p),c.m&&c.o&&Ut(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ds(Tn(p)),_.m=null,_.P=!0,zi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Na(this),fl(this),ot(19))};function ka(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function cc(c,p){var _=null;if(c.g==p){ka(c),Us(c),c.g=null;var E=2}else if(nl(c.h,p))_=p.D,un(c.h,p),E=1;else return;if(c.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;E=wr(),Qe(E,new Nt(E,_)),Oa(c)}else lc(c);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&Xf(c,p)||E==2&&fl(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),L){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function dl(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Ki(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),E=c.Xa;const L=!E;E=new At(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xs(E,"https"),Ds(E),L?Os(E.toString(),_):ei(E.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(p),hc(c),ac(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function hc(c){if(c.G=0,c.ka=[],c.l){const p=il(c.h);(p.length!=0||c.i.length!=0)&&(J(c.ka,p),J(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function fc(c,p,_){var E=_ instanceof At?Tn(_):new At(_);if(E.g!="")p&&(E.g=p+"."+E.g),Sr(E,E.s);else{var L=m.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var q=new At(null);E&&xs(q,E),p&&(q.g=p),L&&Sr(q,L),_&&(q.l=_),E=q}return _=c.D,p=c.ya,_&&p&&We(E,_,p),We(E,"VER",c.la),Ls(c,E),E}function dc(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ye(new Rr({eb:_})):new Ye(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}i=mc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ma(){}Ma.prototype.g=function(c,p){return new cn(c,p)};function cn(c,p){ft.call(this),this.g=new Da(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!le(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!le(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new _i(this)}W(cn,ft),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){cl(this.g)},cn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Zn(c),c=_);p.i.push(new tc(p.Ya++,c)),p.G==3&&Oa(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,cn.aa.N.call(this)};function pc(c){Ui.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}W(pc,Ui);function gc(){Zo.call(this),this.status=1}W(gc,Zo);function _i(c){this.g=c}W(_i,mc),_i.prototype.ua=function(){Qe(this.g,"a")},_i.prototype.ta=function(c){Qe(this.g,new pc(c))},_i.prototype.sa=function(c){Qe(this.g,new gc)},_i.prototype.ra=function(){Qe(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,iT=function(){return new Ma},nT=function(){return wr()},tT=ui,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Dh=Tr,Bi.COMPLETE="complete",eT=Bi,Wo.EventType=Li,Li.OPEN="a",Li.CLOSE="b",Li.ERROR="c",Li.MESSAGE="d",ft.prototype.listen=ft.prototype.K,au=Wo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,JE=Ye}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",o0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Xp("@firebase/firestore");function uo(){return ha.logLevel}function ae(i,...e){if(ha.logLevel<=Ne.DEBUG){const t=e.map(ug);ha.debug(`Firestore (${zo}): ${i}`,...t)}}function mr(i,...e){if(ha.logLevel<=Ne.ERROR){const t=e.map(ug);ha.error(`Firestore (${zo}): ${i}`,...t)}}function Io(i,...e){if(ha.logLevel<=Ne.WARN){const t=e.map(ug);ha.warn(`Firestore (${zo}): ${i}`,...t)}}function ug(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,rT(i,s,t)}function rT(i,e,t){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw mr(s),new Error(s)}function Ue(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||rT(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class lN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uN{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xi)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new sT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class cN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new cN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new l0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function vp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return ip(o)===ip(u)?Oe(o,u):ip(o)?1:-1}return Oe(i.length,e.length)}const mN=55296,pN=57343;function ip(i){const e=i.charCodeAt(0);return e>=mN&&e<=pN}function Co(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="__name__";class Ri{constructor(e,t,s){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&me(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Oe(e.length,t.length)}static compareSegments(e,t){const s=Ri.isNumericId(e),o=Ri.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const gN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ri{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return gN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Zt([u0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(tt.fromString(e))}static fromName(e){return new ce(tt.fromString(e).popFirst(5))}static empty(){return new ce(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i,e,t){if(!t)throw new ie(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yN(i,e,t,s){if(e===!0&&s===!0)throw new ie(K.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function c0(i){if(!ce.isDocumentKey(i))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function h0(i){if(ce.isDocumentKey(i))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function oT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":me(12329,{type:typeof i})}function pr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(i);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i,e){const t={typeString:i};return e&&(t.value=e),t}function zu(i,e){if(!oT(i))throw new ie(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ie(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=-62135596800,d0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*d0);return new at(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<f0)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-f0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:xt("string",at._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new at(0,0))}static max(){return new ve(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function _N(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new at(t+1,0):new at(t,s));return new ls(o,ce.empty(),e)}function vN(i){return new ls(i.readTime,i.key,wu)}class ls{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ls(ve.min(),ce.empty(),wu)}static max(){return new ls(ve.max(),ce.empty(),wu)}}function wN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(i.documentKey,e.documentKey),t!==0?t:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==bN)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,s)=>{t(e)}))}static reject(e){return new X(((t,s)=>{s(e)}))}static waitFor(e){return new X(((t,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&t()}),(g=>s(g)))})),f=!0,u===o&&t()}))}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next((o=>o?X.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new X(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((b=>{f[y]=b,++m,m===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,t){return new X(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function TN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Af.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function ju(i){return i==null}function Jh(i){return i===0&&1/i==-1/0}function AN(i){return typeof i=="number"&&Number.isInteger(i)&&!Jh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="";function SN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=m0(e)),e=RN(i.get(t),e);return m0(e)}function RN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case lT:t+="";break;default:t+=u}}return t}function m0(i){return i+lT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ms(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function uT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Pt(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cT("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const IN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(i){if(Ue(!!i,39018),typeof i=="string"){let e=0;const t=IN.exec(i);if(Ue(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function cs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="server_timestamp",fT="__type__",dT="__previous_value__",mT="__local_write_time__";function fg(i){return(i?.mapValue?.fields||{})[fT]?.stringValue===hT}function Sf(i){const e=i.mapValue.fields[dT];return fg(e)?Sf(e):e}function bu(i){const e=us(i.mapValue.fields[mT].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t,s,o,u,f,m,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const ef="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||ef}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__type__",xN="__max__",Eh={mapValue:{}},gT="__vector__",tf="value";function hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fg(i)?4:NN(i)?9007199254740991:DN(i)?10:11:me(28295,{value:i})}function Mi(i,e){if(i===e)return!0;const t=hs(i);if(t!==hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=us(o.timestampValue),m=us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=wt(o.doubleValue),m=wt(u.doubleValue);return f===m?Jh(f)===Jh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(p0(f)!==p0(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Mi(f[g],m[g])))return!1;return!0})(i,e);default:return me(52216,{left:i})}}function Tu(i,e){return(i.values||[]).find((t=>Mi(t,e)))!==void 0}function xo(i,e){if(i===e)return 0;const t=hs(i),s=hs(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=wt(u.integerValue||u.doubleValue),g=wt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return y0(i.timestampValue,e.timestampValue);case 4:return y0(bu(i),bu(e));case 5:return vp(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=cs(u),g=cs(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Oe(m[y],g[y]);if(b!==0)return b}return Oe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Oe(wt(u.latitude),wt(f.latitude));return m!==0?m:Oe(wt(u.longitude),wt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return _0(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[tf]?.arrayValue,b=g[tf]?.arrayValue,A=Oe(y?.values?.length||0,b?.values?.length||0);return A!==0?A:_0(y,b)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Eh.mapValue&&f===Eh.mapValue)return 0;if(u===Eh.mapValue)return 1;if(f===Eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const R=vp(g[A],b[A]);if(R!==0)return R;const H=xo(m[g[A]],y[b[A]]);if(H!==0)return H}return Oe(g.length,b.length)})(i.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function y0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const t=us(i),s=us(e),o=Oe(t.seconds,s.seconds);return o!==0?o:Oe(t.nanos,s.nanos)}function _0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=xo(t[o],s[o]);if(u)return u}return Oe(t.length,s.length)}function Do(i){return wp(i)}function wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=us(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return cs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ce.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=wp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${wp(t.fields[f])}`;return o+"}"})(i.mapValue):me(61005,{value:i})}function Nh(i){switch(hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(i);return e?16+Nh(e):16;case 5:return 2*i.stringValue.length;case 6:return cs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Nh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,f)=>{o+=u.length+Nh(f)})),o})(i.mapValue);default:throw me(13486,{value:i})}}function v0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bp(i){return!!i&&"integerValue"in i}function dg(i){return!!i&&"arrayValue"in i}function w0(i){return!!i&&"nullValue"in i}function b0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function DN(i){return(i?.mapValue?.fields||{})[pT]?.stringValue===gT}function fu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ms(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=fu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return{...i}}function NN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Zt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=fu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ms(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new fn(fu(this.value))}}function yT(i){const e=[];return ms(i.fields,((t,s)=>{const o=new Zt([t]);if(Oh(s)){const u=yT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,ve.min(),ve.min(),ve.min(),fn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,ve.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,ve.min(),ve.min(),fn.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,ve.min(),ve.min(),fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.position=e,this.inclusive=t}}function E0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ce.comparator(ce.fromName(f.referenceValue),t.key):s=xo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function T0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t="asc"){this.field=e,this.dir=t}}function ON(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{}class Ct extends _T{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new MN(e,t,s):t==="array-contains"?new LN(e,s):t==="in"?new UN(e,s):t==="not-in"?new BN(e,s):t==="array-contains-any"?new zN(e,s):new Ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VN(e,s):new PN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&hs(this.value)===hs(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends _T{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ai(e,t)}matches(e){return vT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vT(i){return i.op==="and"}function wT(i){return kN(i)&&vT(i)}function kN(i){for(const e of i.filters)if(e instanceof ai)return!1;return!0}function Ep(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(wT(i))return i.filters.map((e=>Ep(e))).join(",");{const e=i.filters.map((t=>Ep(t))).join(",");return`${i.op}(${e})`}}function bT(i,e){return i instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(i,e):i instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&bT(f,o.filters[m])),!0):!1})(i,e):void me(19439)}function ET(i){return i instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`})(i):i instanceof ai?(function(t){return t.op.toString()+" {"+t.getFilters().map(ET).join(" ,")+"}"})(i):"Filter"}class MN extends Ct{constructor(e,t,s){super(e,t,s),this.key=ce.fromName(s.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class VN extends Ct{constructor(e,t){super(e,"in",t),this.keys=TT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class PN extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=TT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function TT(i,e){return(e.arrayValue?.values||[]).map((t=>ce.fromName(t.referenceValue)))}class LN extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dg(t)&&Tu(t.arrayValue,this.value)}}class UN extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class BN extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class zN extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function A0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new jN(i,e,t,s,o,u,f)}function mg(i){const e=Ae(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Ep(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ju(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=t}return e.Te}function pg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ON(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!bT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!T0(i.startAt,e.startAt)&&T0(i.endAt,e.endAt)}function Tp(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qN(i,e,t,s,o,u,f,m){return new Ho(i,e,t,s,o,u,f,m)}function gg(i){return new Ho(i)}function S0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function AT(i){return i.collectionGroup!==null}function du(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Zt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Au(u,s))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new Au(Zt.keyField(),s))}return e.Ie}function Di(i){const e=Ae(i);return e.Ee||(e.Ee=HN(e,du(i))),e.Ee}function HN(i,e){if(i.limitType==="F")return A0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Au(o.field,u)}));const t=i.endAt?new nf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nf(i.startAt.position,i.startAt.inclusive):null;return A0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Ap(i,e){const t=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function rf(i,e,t){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Rf(i,e){return pg(Di(i),Di(e))&&i.limitType===e.limitType}function ST(i){return`${mg(Di(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>ET(o))).join(", ")}]`),ju(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Do(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Di(i))}; limitType=${i.limitType})`}function If(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ce.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=E0(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,du(s),o)||s.endAt&&!(function(f,m,g){const y=E0(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,du(s),o))})(i,e)}function FN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function RT(i){return(e,t)=>{let s=!1;for(const o of du(i)){const u=GN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function GN(i,e,t){const s=i.field.isKeyField()?ce.comparator(e.key,t.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?xo(g,y):me(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return me(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return uT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ct(ce.comparator);function gr(){return YN}const IT=new ct(ce.comparator);function ou(...i){let e=IT;for(const t of i)e=e.insert(t.key,t);return e}function CT(i){let e=IT;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ia(){return mu()}function xT(){return mu()}function mu(){return new pa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const KN=new ct(ce.comparator),QN=new Pt(ce.comparator);function ke(...i){let e=QN;for(const t of i)e=e.add(t);return e}const $N=new Pt(Oe);function XN(){return $N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function DT(i){return{integerValue:""+i}}function WN(i,e){return AN(e)?DT(e):yg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function ZN(i,e,t){return i instanceof Su?(function(o,u){const f={fields:{[fT]:{stringValue:hT},[mT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=Sf(u)),u&&(f.fields[dT]=u),{mapValue:f}})(t,e):i instanceof Ru?OT(i,e):i instanceof Iu?kT(i,e):(function(o,u){const f=NT(o,u),m=R0(f)+R0(o.Ae);return bp(f)&&bp(o.Ae)?DT(m):yg(o.serializer,m)})(i,e)}function JN(i,e,t){return i instanceof Ru?OT(i,e):i instanceof Iu?kT(i,e):t}function NT(i,e){return i instanceof sf?(function(s){return bp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Su extends Cf{}class Ru extends Cf{constructor(e){super(),this.elements=e}}function OT(i,e){const t=MT(e);for(const s of i.elements)t.some((o=>Mi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Iu extends Cf{constructor(e){super(),this.elements=e}}function kT(i,e){let t=MT(e);for(const s of i.elements)t=t.filter((o=>!Mi(o,s)));return{arrayValue:{values:t}}}class sf extends Cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function R0(i){return wt(i.integerValue||i.doubleValue)}function MT(i){return dg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.field=e,this.transform=t}}function tO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Ru&&o instanceof Ru||s instanceof Iu&&o instanceof Iu?Co(s.elements,o.elements,Mi):s instanceof sf&&o instanceof sf?Mi(s.Ae,o.Ae):s instanceof Su&&o instanceof Su})(i.transform,e.transform)}class nO{constructor(e,t){this.version=e,this.transformResults=t}}class dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xf{}function VT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new _g(i.key,dn.none()):new qu(i.key,i.data,dn.none());{const t=i.data,s=fn.empty();let o=new Pt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ps(i.key,s,new On(o.toArray()),dn.none())}}function iO(i,e,t){i instanceof qu?(function(o,u,f){const m=o.value.clone(),g=C0(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,t):i instanceof ps?(function(o,u,f){if(!kh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=C0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(PT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function pu(i,e,t,s){return i instanceof qu?(function(u,f,m,g){if(!kh(u.precondition,f))return m;const y=u.value.clone(),b=x0(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof ps?(function(u,f,m,g){if(!kh(u.precondition,f))return m;const y=x0(u.fieldTransforms,g,f),b=f.data;return b.setAll(PT(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,t,s):(function(u,f,m){return kh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,t)}function rO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=NT(s.transform,o||null);u!=null&&(t===null&&(t=fn.empty()),t.set(s.field,u))}return t||null}function I0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,((u,f)=>tO(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class qu extends xf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends xf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function PT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function C0(i,e,t){const s=new Map;Ue(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,JN(f,m,t[o]))}return s}function x0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,ZN(u,f,e))}return s}class _g extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LT extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&iO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=pu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=xT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const g=VT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((t,s)=>I0(t,s)))&&Co(this.baseMutations,e.baseMutations,((t,s)=>I0(t,s)))}}class vg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return KN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new vg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Le;function UT(i){switch(i){case K.OK:return me(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return me(15467,{code:i})}}function BT(i){if(i===void 0)return mr("GRPC error has no .code"),K.UNKNOWN;switch(i){case It.OK:return K.OK;case It.CANCELLED:return K.CANCELLED;case It.UNKNOWN:return K.UNKNOWN;case It.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case It.INTERNAL:return K.INTERNAL;case It.UNAVAILABLE:return K.UNAVAILABLE;case It.UNAUTHENTICATED:return K.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case It.NOT_FOUND:return K.NOT_FOUND;case It.ALREADY_EXISTS:return K.ALREADY_EXISTS;case It.PERMISSION_DENIED:return K.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case It.ABORTED:return K.ABORTED;case It.OUT_OF_RANGE:return K.OUT_OF_RANGE;case It.UNIMPLEMENTED:return K.UNIMPLEMENTED;case It.DATA_LOSS:return K.DATA_LOSS;default:return me(39323,{code:i})}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new ss([4294967295,4294967295],0);function D0(i){const e=lO().encode(i),t=new ZE;return t.update(e),new Uint8Array(t.digest())}function N0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([t,s],0),new ss([o,u],0)]}class wg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ss.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ss.fromNumber(s)));return o.compare(uO)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=D0(e),[s,o]=N0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new wg(u,o,t);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const t=D0(e),[s,o]=N0(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Df(ve.min(),o,new ct(Oe),gr(),ke())}}class Hu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Hu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class zT{constructor(e,t){this.targetId=e,this.Ce=t}}class jT{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class O0{constructor(){this.ve=0,this.Fe=k0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:me(38017,{changeType:u})}})),new Hu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=k0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cO{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Th(),this.He=Th(),this.Ye=new ct(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Tp(u))if(s===0){const f=new ce(u.path);this.et(t,f,Ft.newNoDocument(f,ve.min()))}else Ue(s===1,20013,{expectedCount:s});else{const f=this._t(t);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=cs(s).toUint8Array()}catch(g){if(g instanceof cT)return Io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new wg(f,o,u)}catch(g){return Io(g instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Tp(m.target)){const g=new ce(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ft.newNoDocument(g,e))}u.Be&&(t.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Df(e,t,this.Ye,this.je,s);return this.je=gr(),this.Je=Th(),this.He=Th(),this.Ye=new ct(Oe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new O0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Th(){return new ct(ce.comparator)}function k0(){return new ct(ce.comparator)}const hO={asc:"ASCENDING",desc:"DESCENDING"},fO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dO={and:"AND",or:"OR"};class mO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sp(i,e){return i.useProto3Json||ju(e)?e:{value:e}}function af(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function pO(i,e){return af(i,e.toTimestamp())}function kn(i){return Ue(!!i,49232),ve.fromTimestamp((function(t){const s=us(t);return new at(s.seconds,s.nanos)})(i))}function bg(i,e){return Rp(i,e).canonicalString()}function Rp(i,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function HT(i){const e=tt.fromString(i);return Ue($T(e),10190,{key:e.toString()}),e}function of(i,e){return bg(i.databaseId,e.path)}function gu(i,e){const t=HT(e);if(t.get(1)!==i.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ce(GT(t))}function FT(i,e){return bg(i.databaseId,e)}function gO(i){const e=HT(i);return e.length===4?tt.emptyPath():GT(e)}function Ip(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function GT(i){return Ue(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function M0(i,e,t){return{name:of(i,e),fields:t.value.mapValue.fields}}function yO(i,e){return"found"in e?(function(s,o){Ue(!!o.found,43571),o.found.name,o.found.updateTime;const u=gu(s,o.found.name),f=kn(o.found.updateTime),m=o.found.createTime?kn(o.found.createTime):ve.min(),g=new fn({mapValue:{fields:o.found.fields}});return Ft.newFoundDocument(u,f,m,g)})(i,e):"missing"in e?(function(s,o){Ue(!!o.missing,3894),Ue(!!o.readTime,22933);const u=gu(s,o.missing),f=kn(o.readTime);return Ft.newNoDocument(u,f)})(i,e):me(7234,{result:e})}function _O(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:me(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ue(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Ue(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?K.UNKNOWN:BT(y.code);return new ie(b,y.message||"")})(f);t=new jT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gu(i,s.document.name),u=kn(s.document.updateTime),f=s.document.createTime?kn(s.document.createTime):ve.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];t=new Mh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gu(i,s.document),u=s.readTime?kn(s.readTime):ve.min(),f=Ft.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Mh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gu(i,s.document),u=s.removedTargetIds||[];t=new Mh([],u,o,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new oO(o,u),m=s.targetId;t=new zT(m,f)}}return t}function YT(i,e){let t;if(e instanceof qu)t={update:M0(i,e.key,e.value)};else if(e instanceof _g)t={delete:of(i,e.key)};else if(e instanceof ps)t={update:M0(i,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof LT))return me(16599,{Vt:e.type});t={verify:of(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw me(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:pO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:me(27497)})(i,e.precondition)),t}function vO(i,e){return i&&i.length>0?(Ue(e!==void 0,14353),i.map((t=>(function(o,u){let f=o.updateTime?kn(o.updateTime):kn(u);return f.isEqual(ve.min())&&(f=kn(u)),new nO(f,o.transformResults||[])})(t,e)))):[]}function wO(i,e){return{documents:[FT(i,e.path)]}}function bO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=FT(i,o);const u=(function(y){if(y.length!==0)return QT(ai.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(R){return{field:ho(R.field),direction:AO(R.dir)}})(b)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Sp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function EO(i){let e=gO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ue(s===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=(function(A){const R=KT(A);return R instanceof ai&&wT(R)?R.getFilters():[R]})(t.where));let f=[];t.orderBy&&(f=(function(A){return A.map((R=>(function(W){return new Au(fo(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(R)))})(t.orderBy));let m=null;t.limit&&(m=(function(A){let R;return R=typeof A=="object"?A.value:A,ju(R)?null:R})(t.limit));let g=null;t.startAt&&(g=(function(A){const R=!!A.before,H=A.values||[];return new nf(H,R)})(t.startAt));let y=null;return t.endAt&&(y=(function(A){const R=!A.before,H=A.values||[];return new nf(H,R)})(t.endAt)),qN(e,o,f,u,m,"F",g,y)}function TO(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=fo(t.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(t.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=fo(t.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ct.create(fo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ai.create(t.compositeFilter.filters.map((s=>KT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(i):me(30097,{filter:i})}function AO(i){return hO[i]}function SO(i){return fO[i]}function RO(i){return dO[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Zt.fromServerFormat(i.fieldPath)}function QT(i){return i instanceof Ct?(function(t){if(t.op==="=="){if(b0(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b0(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(t.field),op:SO(t.op),value:t.value}}})(i):i instanceof ai?(function(t){const s=t.getFilters().map((o=>QT(o)));return s.length===1?s[0]:{compositeFilter:{op:RO(t.op),filters:s}}})(i):me(54877,{filter:i})}function IO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $T(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,s,o,u=ve.min(),f=ve.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.yt=e}}function xO(i){const e=EO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.Cn=new NO}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ls.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class NO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(XT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",OO=1048576;function L0([i,e],[t,s]){const o=Oe(i,t);return o===0?Oe(e,s):o}class kO{constructor(e){this.Ir=e,this.buffer=new Pt(L0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();L0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(P0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?ae(P0,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.Vr(3e5)}))}}class VO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Af.ce);const s=new kO(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(V0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,t)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),uo()<=Ne.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function PO(i,e){return new VO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.changes=new pa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&pu(s.mutation,o,On.empty(),at.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=ia();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let f=ou();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{t.set(f,m)}))}))}computeViews(e,t,s,o){let u=gr();const f=mu(),m=(function(){return mu()})();return t.forEach(((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof ps)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),pu(b.mutation,y,b.mutation.getFieldMask(),at.now())):f.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),t.forEach(((y,b)=>m.set(y,new UO(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=mu();let o=new ct(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let b=s.get(g)||On.empty();b=m.applyToLocalView(y,b),s.set(g,b);const A=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,A=xT();b.forEach((R=>{if(!u.has(R)){const H=VT(t.get(R),s.get(R));H!==null&&A.set(R,H),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return X.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(f){return ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):X.resolve(ia());let m=wu,g=u;return f.next((y=>X.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?X.resolve():this.remoteDocumentCache.getEntry(e,b).next((R=>{g=g.insert(b,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((b=>({batchId:m,changes:CT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((s=>{let o=ou();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=ou();return this.indexManager.getCollectionParents(e,u).next((m=>X.forEach(m,(g=>{const y=(function(A,R){return new Ho(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Ft.newInvalidDocument(b)))}));let m=ou();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&pu(b.mutation,y,On.empty(),at.now()),If(t,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:kn(o.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:xO(o.bundledQuery),readTime:kn(o.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.overlays=new ct(ce.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return X.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),X.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const o=ia(),u=t.length+1,f=new ce(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=ia(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=ia(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return X.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new aO(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.Qr=new Pt(Ht.$r),this.Ur=new Pt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ce(new tt([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ce(new tt([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ce.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ht.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new sO(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return X.resolve(f)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?hg:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(Oe);return t.forEach((o=>{const u=new Ht(o,0),f=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ce.isDocumentKey(u)||(u=u.child(""));const f=new Ht(new ce(u),0);let m=new Pt(Oe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),X.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ue(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(t.mutations,(o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.ri=e,this.docs=(function(){return new ct(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=gr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))})),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=gr();const f=t.path,m=new ce(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||wN(vN(b),s)<=0||(o.has(b.key)||If(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(e,t,s,o){me(9500)}ii(e,t){return X.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new GO(this)}getSize(e){return X.resolve(this.size)}}class GO extends LO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.persistence=e,this.si=new pa((t=>mg(t)),pg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Eg,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new No(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),X.waitFor(u).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),X.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Af(0),this.li=!1,this.li=!0,this.hi=new qO,this.referenceDelegate=e(this),this.Pi=new YO(this),this.indexManager=new DO,this.remoteDocumentCache=(function(o){return new FO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CO(t),this.Ii=new zO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new HO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new KO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class KO extends EN{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ri=new Eg,this.Vi=null}static mi(e){return new Tg(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const o=ce.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lf{constructor(e,t){this.persistence=e,this.pi=new pa((s=>SN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PO(this,t)}static mi(e,t){return new lf(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?X.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,t).next((m=>{m||(s++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nh(e.data.value)),t}br(e,t,s){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ag(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wI()?8:TN(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new QO;return this.Ss(e,t,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,f,m.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(uo()<=Ne.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(uo()<=Ne.DEBUG&&ae("QueryEngine","Query:",co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(uo()<=Ne.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(t))):X.resolve())}ys(e,t){if(S0(t))return X.resolve(null);let s=Di(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=rf(t,null,"F"),s=Di(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,m);return this.Cs(t,y,f,g.readTime)?this.ys(e,rf(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return S0(t)||o.isEqual(ve.min())?X.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(t,u);return this.Cs(t,f,s,o)?X.resolve(null):(uo()<=Ne.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(t)),this.vs(e,f,t,_N(o,wu)).next((m=>m)))}))}Ds(e,t){let s=new Pt(RT(e));return t.forEach(((o,u)=>{If(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return uo()<=Ne.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",co(t)),this.ps.getDocumentsMatchingQuery(e,t,ls.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",XO=3e8;class WO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Oe),this.xs=new pa((u=>mg(u)),pg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ZO(i,e,t,s){return new WO(i,e,t,s)}async function ZT(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function JO(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const A=y.batch,R=A.keys();let H=X.resolve();return R.forEach((W=>{H=H.next((()=>b.getEntry(g,W))).next((ee=>{const J=y.docVersions.get(W);Ue(J!==null,48541),ee.version.compareTo(J)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),b.addEntry(ee)))}))})),H.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function JT(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ek(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((b,A)=>{const R=o.get(A);if(!R)return;m.push(t.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(u,b.addedDocuments,A))));let H=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?H=H.withResumeToken(Jt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,s)),o=o.insert(A,H),(function(ee,J,ge){return ee.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=XO?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(R,H,b)&&m.push(t.Pi.updateTargetData(u,H))}));let g=gr(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(tk(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(ve.min())){const b=t.Pi.getLastRemoteSnapshotVersion(u).next((A=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return X.waitFor(m).next((()=>f.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function tk(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=gr();return t.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ae(Sg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function nk(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ik(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,X.resolve(o)):t.Pi.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Cp(i,e,t){const s=Ae(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;ae(Sg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function U0(i,e,t){const s=Ae(i);let o=ve.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const A=Ae(g),R=A.xs.get(b);return R!==void 0?X.resolve(A.Ms.get(R)):A.Pi.getTargetData(y,b)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,t?o:ve.min(),t?u:ke()))).next((m=>(rk(s,FN(e),m),{documents:m,Qs:u})))))}function rk(i,e,t){let s=i.Os.get(e)||ve.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class B0{constructor(){this.activeTargetIds=XN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this.Mo=new B0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="ConnectivityMonitor";class j0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function xp(){return Ah===null?Ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ef?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const f=xp(),m=this.zo(e,t.toUriEncodedString());ae(rp,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=Lo(y);return this.Jo(e,m,g,s,b).then((A=>(ae(rp,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Io(rp,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,t,s,o,u,f){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=ok[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class ck extends lk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const f=xp();return new Promise(((m,g)=>{const y=new JE;y.setWithCredentials(!0),y.listenOnce(eT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dh.NO_ERROR:const A=y.getResponseJson();ae(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Dh.TIMEOUT:ae(rn,`RPC '${e}' ${f} timed out`),g(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const R=y.getStatus();if(ae(rn,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const ee=(function(ge){const le=ge.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(le)>=0?le:K.UNKNOWN})(W.status);g(new ie(ee,W.message))}else g(new ie(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ie(K.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(rn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ae(rn,`RPC '${e}' ${f} sending request:`,o),y.send(t,"POST",b,s,15)}))}T_(e,t,s){const o=xp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=iT(),m=nT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const b=u.join("");ae(rn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const A=f.createWebChannel(b,g);this.I_(A);let R=!1,H=!1;const W=new uk({Yo:J=>{H?ae(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(R||(ae(rn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),ae(rn,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),ee=(J,ge,le)=>{J.listen(ge,(he=>{try{le(he)}catch(qe){setTimeout((()=>{throw qe}),0)}}))};return ee(A,au.EventType.OPEN,(()=>{H||(ae(rn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),ee(A,au.EventType.CLOSE,(()=>{H||(H=!0,ae(rn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(A))})),ee(A,au.EventType.ERROR,(J=>{H||(H=!0,Io(rn,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ie(K.UNAVAILABLE,"The operation could not be completed")))})),ee(A,au.EventType.MESSAGE,(J=>{if(!H){const ge=J.data[0];Ue(!!ge,16349);const le=ge,he=le?.error||le[0]?.error;if(he){ae(rn,`RPC '${e}' stream ${o} received error:`,he);const qe=he.status;let Ee=(function(T){const x=It[T];if(x!==void 0)return BT(x)})(qe),Be=he.message;Ee===void 0&&(Ee=K.INTERNAL,Be="Unknown error status: "+qe+" with message "+he.message),H=!0,W.a_(new ie(Ee,Be)),A.close()}else ae(rn,`RPC '${e}' stream ${o} received:`,ge),W.u_(ge)}})),ee(m,tT.STAT_EVENT,(J=>{J.stat===_p.PROXY?ae(rn,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===_p.NOPROXY&&ae(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(i){return new mO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class e2{constructor(e,t,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ie(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ae(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hk extends e2{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_O(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?kn(f.readTime):ve.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Ip(this.serializer),t.addTarget=(function(u,f){let m;const g=f.target;if(m=Tp(g)?{documents:wO(u,g)}:{query:bO(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qT(u,f.resumeToken);const y=Sp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){m.readTime=af(u,f.snapshotVersion.toTimestamp());const y=Sp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=TO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Ip(this.serializer),t.removeTarget=e,this.q_(t)}}class fk extends e2{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vO(e.writeResults,e.commitTime),s=kn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ip(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>YT(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{}class mk extends dk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Rp(t,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(K.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Rp(t,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ie(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class gk{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ga(this)&&(ae(fa,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await Fu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Of(y)})(this))}))})),this.Ra=new pk(s,o)}}async function Of(i){if(ga(i))for(const e of i.da)await e(!0)}async function Fu(i){for(const e of i.da)await e(!1)}function t2(i,e){const t=Ae(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dg(t)?xg(t):Fo(t).O_()&&Cg(t,e))}function Ig(i,e){const t=Ae(i),s=Fo(t);t.Ia.delete(e),s.O_()&&n2(t,e),t.Ia.size===0&&(s.O_()?s.L_():ga(t)&&t.Ra.set("Unknown"))}function Cg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(i).Y_(e)}function n2(i,e){i.Va.Ue(e),Fo(i).Z_(e)}function xg(i){i.Va=new cO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Ra.ua()}function Dg(i){return ga(i)&&!Fo(i).x_()&&i.Ia.size>0}function ga(i){return Ae(i).Ea.size===0}function i2(i){i.Va=void 0}async function yk(i){i.Ra.set("Online")}async function _k(i){i.Ia.forEach(((e,t)=>{Cg(i,e)}))}async function vk(i,e){i2(i),Dg(i)?(i.Ra.ha(e),xg(i)):i.Ra.set("Unknown")}async function wk(i,e,t){if(i.Ra.set("Online"),e instanceof jT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ae(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uf(i,s)}else if(e instanceof Mh?i.Va.Ze(e):e instanceof zT?i.Va.st(e):i.Va.tt(e),!t.isEqual(ve.min()))try{const s=await JT(i.localStore);t.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),n2(u,g);const A=new ts(b.target,g,y,b.sequenceNumber);Cg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ae(fa,"Failed to raise snapshot:",s),await uf(i,s)}}async function uf(i,e,t){if(!qo(e))throw e;i.Ea.add(1),await Fu(i),i.Ra.set("Offline"),t||(t=()=>JT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ae(fa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Of(i)}))}function r2(i,e){return e().catch((t=>uf(i,t,e)))}async function kf(i){const e=Ae(i),t=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hg;for(;bk(e);)try{const o=await nk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Ek(e,o)}catch(o){await uf(e,o)}s2(e)&&a2(e)}function bk(i){return ga(i)&&i.Ta.length<10}function Ek(i,e){i.Ta.push(e);const t=fs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function s2(i){return ga(i)&&!fs(i).x_()&&i.Ta.length>0}function a2(i){fs(i).start()}async function Tk(i){fs(i).ra()}async function Ak(i){const e=fs(i);for(const t of i.Ta)e.ea(t.mutations)}async function Sk(i,e,t){const s=i.Ta.shift(),o=vg.from(s,e,t);await r2(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await kf(i)}async function Rk(i,e){e&&fs(i).X_&&await(async function(s,o){if((function(f){return UT(f)&&f!==K.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await r2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kf(s)}})(i,e),s2(i)&&a2(i)}async function H0(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),ae(fa,"RemoteStore received new credentials");const s=ga(t);t.Ea.add(3),await Fu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Of(t)}async function Ik(i,e){const t=Ae(i);e?(t.Ea.delete(2),await Of(t)):e||(t.Ea.add(2),await Fu(t),t.Ra.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(t,s,o){const u=Ae(t);return u.sa(),new hk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:yk.bind(null,i),t_:_k.bind(null,i),r_:vk.bind(null,i),H_:wk.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Dg(i)?xg(i):i.Ra.set("Unknown")):(await i.ma.stop(),i2(i))}))),i.ma}function fs(i){return i.fa||(i.fa=(function(t,s,o){const u=Ae(t);return u.sa(),new fk(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Tk.bind(null,i),r_:Rk.bind(null,i),ta:Ak.bind(null,i),na:Sk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await kf(i)):(await i.fa.stop(),i.Ta.length>0&&(ae(fa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new Ng(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(i,e){if(mr("AsyncQueue",`${e}: ${i}`),qo(i))return new ie(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ce.comparator(t.key,s.key):(t,s)=>ce.comparator(t.key,s.key),this.keyedMap=ou(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.ga=new ct(ce.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Oo{constructor(e,t,s,o,u,f,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach((m=>{f.push({type:0,doc:m})})),new Oo(e,t,wo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xk{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=G0(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function G0(){return new pa((i=>ST(i)),Rf)}async function o2(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Ck,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=Og(f,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&kg(t)}async function l2(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Dk(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kg(t)}function Nk(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function kg(i){i.Ca.forEach((e=>{e.next()}))}var Dp,Y0;(Y0=Dp||(Dp={})).Ma="default",Y0.Cache="cache";class u2{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.key=e}}class h2{constructor(e){this.key=e}}class Ok{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=RT(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new F0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const R=o.get(b),H=If(this.query,A)?A:null,W=!!R&&this.mutatedKeys.has(R.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;R&&H?R.data.isEqual(H.data)?W!==ee&&(s.track({type:3,doc:H}),J=!0):this.su(R,H)||(s.track({type:2,doc:H}),J=!0,(g&&this.eu(H,g)>0||y&&this.eu(H,y)<0)&&(m=!0)):!R&&H?(s.track({type:0,doc:H}),J=!0):R&&!H&&(s.track({type:1,doc:R}),J=!0,(g||y)&&(m=!0)),J&&(H?(f=f.add(H),u=ee?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(H,W){const ee=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:J})}};return ee(H)-ee(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Oo(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new h2(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new c2(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mg="SyncEngine";class kk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Mk{constructor(e){this.key=e,this.hu=!1}}class Vk{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new pa((m=>ST(m)),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ce.comparator),this.Au=new Map,this.Ru=new Eg,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Pk(i,e,t=!0){const s=y2(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await f2(s,e,t,!0),o}async function Lk(i,e){const t=y2(i);await f2(t,e,!0,!1)}async function f2(i,e,t,s){const o=await ik(i.localStore,Di(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Uk(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&t2(i.remoteStore,o),m}async function Uk(i,e,t,s,o){i.pu=(A,R,H)=>(async function(ee,J,ge,le){let he=J.view.ru(ge);he.Cs&&(he=await U0(ee.localStore,J.query,!1).then((({documents:M})=>J.view.ru(M,he))));const qe=le&&le.targetChanges.get(J.targetId),Ee=le&&le.targetMismatches.get(J.targetId)!=null,Be=J.view.applyChanges(he,ee.isPrimaryClient,qe,Ee);return Q0(ee,J.targetId,Be.au),Be.snapshot})(i,A,R,H);const u=await U0(i.localStore,e,!0),f=new Ok(e,u.Qs),m=f.ru(u.documents),g=Hu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);Q0(i,t,y.au);const b=new kk(e,t,f);return i.Tu.set(e,b),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function Bk(i,e,t){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Rf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ig(s.remoteStore,o.targetId),Np(s,o.targetId)})).catch(jo)):(Np(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function zk(i,e){const t=Ae(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ig(t.remoteStore,s.targetId))}async function jk(i,e,t){const s=Qk(i);try{const o=await(function(f,m){const g=Ae(f),y=at.now(),b=m.reduce(((H,W)=>H.add(W.key)),ke());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=gr(),ee=ke();return g.Ns.getEntries(H,b).next((J=>{W=J,W.forEach(((ge,le)=>{le.isValidDocument()||(ee=ee.add(ge))}))})).next((()=>g.localDocuments.getOverlayedDocuments(H,W))).next((J=>{A=J;const ge=[];for(const le of m){const he=rO(le,A.get(le.key).overlayedDocument);he!=null&&ge.push(new ps(le.key,he,yT(he.value.mapValue),dn.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,ge,m)})).next((J=>{R=J;const ge=J.applyToLocalDocumentSet(A,ee);return g.documentOverlayCache.saveOverlays(H,J.batchId,ge)}))})).then((()=>({batchId:R.batchId,changes:CT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Oe)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,t),await Gu(s,o.changes),await kf(s.remoteStore)}catch(o){const u=Og(o,"Failed to persist write");t.reject(u)}}async function d2(i,e){const t=Ae(i);try{const s=await ek(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=t.Au.get(u);f&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ue(f.hu,14607):o.removedDocuments.size>0&&(Ue(f.hu,42227),f.hu=!1))})),await Gu(t,s,e)}catch(s){await jo(s)}}function K0(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,A)=>{for(const R of A.Sa)R.va(m)&&(y=!0)})),y&&kg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qk(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ce.comparator);f=f.insert(u,Ft.newNoDocument(u,ve.min()));const m=ke().add(u),g=new Df(ve.min(),new Map,new ct(Oe),f,m);await d2(s,g),s.du=s.du.remove(u),s.Au.delete(e),Vg(s)}else await Cp(s.localStore,e,!1).then((()=>Np(s,e,t))).catch(jo)}async function Hk(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await JO(t.localStore,e);p2(t,s,null),m2(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Gu(t,o)}catch(o){await jo(o)}}async function Fk(i,e,t){const s=Ae(i);try{const o=await(function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ue(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);p2(s,e,t),m2(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Gu(s,o)}catch(o){await jo(o)}}function m2(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function p2(i,e,t){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Np(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||g2(i,s)}))}function g2(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Ig(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Vg(i))}function Q0(i,e,t){for(const s of t)s instanceof c2?(i.Ru.addReference(s.key,e),Gk(i,s)):s instanceof h2?(ae(Mg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||g2(i,s.key)):me(19791,{wu:s})}function Gk(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ae(Mg,"New document in limbo: "+t),i.Eu.add(s),Vg(i))}function Vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ce(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new Mk(t)),i.du=i.du.insert(t,s),t2(i.remoteStore,new ts(Di(gg(t.path)),s,"TargetPurposeLimboResolution",Af.ce))}}async function Gu(i,e,t){const s=Ae(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const b=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Ag.As(g.targetId,y);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const b=Ae(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(R=>X.forEach(R.Es,(H=>b.persistence.referenceDelegate.addReference(A,R.targetId,H))).next((()=>X.forEach(R.ds,(H=>b.persistence.referenceDelegate.removeReference(A,R.targetId,H)))))))))}catch(A){if(!qo(A))throw A;ae(Sg,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const H=b.Ms.get(R),W=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(R,ee)}}})(s.localStore,u))}async function Yk(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){ae(Mg,"User change. New user:",e.toKey());const s=await ZT(t.localStore,e);t.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ie(K.CANCELLED,f))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gu(t,s.Ls)}}function Kk(i,e){const t=Ae(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const f of u){const m=t.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function y2(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=d2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qk.bind(null,e),e.Pu.H_=Dk.bind(null,e.eventManager),e.Pu.yu=Nk.bind(null,e.eventManager),e}function Qk(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fk.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZO(this.persistence,new $O,e.initialUser,this.serializer)}Cu(e){return new WT(Tg.mi,this.serializer)}Du(e){return new sk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class $k extends cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof lf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new WT((s=>lf.mi(s,t)),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,this.syncEngine),await Ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xk})()}createDatastore(e){const t=Nf(e.databaseInfo.databaseId),s=(function(u){return new ck(u)})(e.databaseInfo);return(function(u,f,m,g){return new mk(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,f,m){return new gk(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>K0(this.syncEngine,t,0)),(function(){return j0.v()?new j0:new ak})())}createSyncEngine(e,t){return(function(o,u,f,m,g,y,b){const A=new Vk(o,u,f,m,g,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ae(t);ae(fa,"RemoteStore shutting down."),s.Ea.add(5),await Fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const f=Ae(o),m={documents:u.map((A=>of(f.serializer,A)))},g=await f.Ho("BatchGetDocuments",f.serializer.databaseId,tt.emptyPath(),m,u.length),y=new Map;g.forEach((A=>{const R=yO(f.serializer,A);y.set(R.key.toString(),R)}));const b=[];return u.forEach((A=>{const R=y.get(A.toString());Ue(!!R,55234,{key:A}),b.push(R)})),b})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new _g(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=ce.fromPath(s);this.mutations.push(new LT(o,this.precondition(o)))})),await(async function(s,o){const u=Ae(s),f={writes:o.map((m=>YT(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,tt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw me(50498,{Gu:e.constructor.name});t=ve.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ie(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ve.min())?dn.exists(!1):dn.updateTime(t):dn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ve.min()))throw new ie(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(t)}return dn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Rg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Xk(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!ju(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!UT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class Zk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ae(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ae(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Og(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ap(i,e){i.asyncQueue.verifyOperationInProgress(),ae(ds,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ZT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function $0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Jk(i);ae(ds,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>H0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>H0(e.remoteStore,o))),i._onlineComponents=e}async function Jk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae(ds,"Using user provided OfflineComponentProvider");try{await ap(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await ap(i,new cf)}}else ae(ds,"Using default OfflineComponentProvider"),await ap(i,new $k(void 0));return i._offlineComponents}async function Pg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae(ds,"Using user provided OnlineComponentProvider"),await $0(i,i._uninitializedComponentsProvider._online)):(ae(ds,"Using default OnlineComponentProvider"),await $0(i,new Op))),i._onlineComponents}function e4(i){return Pg(i).then((e=>e.syncEngine))}function t4(i){return Pg(i).then((e=>e.datastore))}async function v2(i){const e=await Pg(i),t=e.eventManager;return t.onListen=Pk.bind(null,e.syncEngine),t.onUnlisten=Bk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zk.bind(null,e.syncEngine),t}function n4(i,e,t={}){const s=new xi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new _2({next:R=>{b.Nu(),f.enqueueAndForget((()=>l2(u,A)));const H=R.docs.has(m);!H&&R.fromCache?y.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&g&&g.source==="server"?y.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new u2(gg(m.path),b,{includeMetadataChanges:!0,qa:!0});return o2(u,A)})(await v2(i),i.asyncQueue,e,t,s))),s.promise}function i4(i,e,t={}){const s=new xi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new _2({next:R=>{b.Nu(),f.enqueueAndForget((()=>l2(u,A))),R.fromCache&&g.source==="server"?y.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new u2(m,b,{includeMetadataChanges:!0,qa:!0});return o2(u,A)})(await v2(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firestore.googleapis.com",W0=!0;class Z0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b2,this.ssl=W0}else this.host=e.host,this.ssl=e.ssl??W0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OO)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new oN;switch(s.type){case"firstParty":return new hN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=X0.get(t);s&&(ae("ComponentProvider","Removing Datastore"),X0.delete(t),s.terminate())})(this),Promise.resolve()}}function r4(i,e,t,s={}){i=pr(i,Mf);const o=Lo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(lE(`https://${m}`),uE("Firestore",!0)),u.host!==b2&&u.host!==m&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!oa(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,b;if(typeof s.mockUserToken=="string")y=s.mockUserToken,b=sn.MOCK_USER;else{y=hI(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(A)}i._authCredentials=new lN(new sT(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class bt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(zu(t,bt._jsonSchema))return new bt(e,s||null,new ce(tt.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:xt("string",bt._jsonSchemaVersion),referencePath:xt("string")};class as extends gs{constructor(e,t,s){super(e,t,gg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ce(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function E2(i,e,...t){if(i=Dt(i),aT("collection","path",e),i instanceof Mf){const s=tt.fromString(e,...t);return h0(s),new as(i,null,s)}{if(!(i instanceof bt||i instanceof as))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return h0(s),new as(i.firestore,null,s)}}function Vf(i,e,...t){if(i=Dt(i),arguments.length===1&&(e=cg.newId()),aT("doc","path",e),i instanceof Mf){const s=tt.fromString(e,...t);return c0(s),new bt(i,null,new ce(s))}{if(!(i instanceof bt||i instanceof as))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return c0(s),new bt(i.firestore,i instanceof as?i.converter:null,new ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class eb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rg(this,"async_queue_retry"),this._c=()=>{const s=sp();s&&ae(J0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;ae(J0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",tb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ng.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&me(47125,{Pc:tb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function tb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Go extends Mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new eb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eb(e),this._firestoreClient=void 0,await e}}}function s4(i,e){const t=typeof i=="object"?i:dE(),s=typeof i=="string"?i:ef,o=Zp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uI("firestore");u&&r4(o,...u)}return o}function Pf(i){if(i._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||a4(i),i._firestoreClient}function a4(i){const e=i._freezeSettings(),t=(function(o,u,f,m){return new CN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,w2(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Zk(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Jt.fromBase64String(e))}catch(t){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:xt("string",Nn._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xt("string",Ni._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Oi(e.vectorValues);throw new ie(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:xt("string",Oi._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^__.*__$/;class l4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new qu(e,this.data,t,this.fieldTransforms)}}class T2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function A2(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:i})}}class Lg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(A2(this.Ac)&&o4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class u4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Nf(e)}Cc(e,t,s,o=!1){return new Lg({Ac:e,methodName:t,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(i){const e=i._freezeSettings(),t=Nf(i._databaseId);return new u4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ug(i,e,t,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);zg("Data must be an object, but it was:",f,s);const m=S2(s,f);let g,y;if(u.merge)g=new On(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const R=kp(e,A,t);if(!f.contains(R))throw new ie(K.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);I2(b,R)||b.push(R)}g=new On(b),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new l4(new fn(m),g,y)}class zf extends Uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}class Bg extends Uf{_toFieldTransform(e){return new eO(e.path,new Su)}isEqual(e){return e instanceof Bg}}function c4(i,e,t,s){const o=i.Cc(1,e,t);zg("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();ms(s,((g,y)=>{const b=jg(e,g,t);y=Dt(y);const A=o.yc(b);if(y instanceof zf)u.push(b);else{const R=Yu(y,A);R!=null&&(u.push(b),f.set(b,R))}}));const m=new On(u);return new T2(f,m,o.fieldTransforms)}function h4(i,e,t,s,o,u){const f=i.Cc(1,e,t),m=[kp(e,s,t)],g=[o];if(u.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(kp(e,u[R])),g.push(u[R+1]);const y=[],b=fn.empty();for(let R=m.length-1;R>=0;--R)if(!I2(y,m[R])){const H=m[R];let W=g[R];W=Dt(W);const ee=f.yc(H);if(W instanceof zf)y.push(H);else{const J=Yu(W,ee);J!=null&&(y.push(H),b.set(H,J))}}const A=new On(y);return new T2(b,A,f.fieldTransforms)}function f4(i,e,t,s=!1){return Yu(t,i.Cc(s?4:3,e))}function Yu(i,e){if(R2(i=Dt(i)))return zg("Unsupported field value:",e,i),S2(i,e);if(i instanceof Uf)return(function(s,o){if(!A2(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Yu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:af(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:af(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:qT(o.serializer,s._byteString)};if(s instanceof bt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,m){return{mapValue:{fields:{[pT]:{stringValue:gT},[tf]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return yg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Tf(s)}`)})(i,e)}function S2(i,e){const t={};return uT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(i,((s,o)=>{const u=Yu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function R2(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Ni||i instanceof Nn||i instanceof bt||i instanceof Uf||i instanceof Oi)}function zg(i,e,t){if(!R2(t)||!oT(t)){const s=Tf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function kp(i,e,t){if((e=Dt(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return jg(i,e);throw hf("Field path arguments must be of type string or ",i,!1,void 0,t)}const d4=new RegExp("[~\\*/\\[\\]]");function jg(i,e,t){if(e.search(d4)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Lf(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function hf(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ie(K.INVALID_ARGUMENT,m+i+g)}function I2(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m4 extends ff{data(){return super.data()}}function qg(i,e){return typeof e=="string"?jg(i,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class Fg extends Hg{}function g4(i,e,...t){let s=[];e instanceof Hg&&s.push(e),s=s.concat(t),(function(u){const f=u.filter((g=>g instanceof Yg)).length,m=u.filter((g=>g instanceof Gg)).length;if(f>1||f>0&&m>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Gg extends Fg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Gg(e,t,s)}_apply(e){const t=this._parse(e);return C2(e._query,t),new gs(e.firestore,e.converter,Ap(e._query,t))}_parse(e){const t=Bf(e.firestore);return(function(u,f,m,g,y,b,A){let R;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){ib(A,b);const W=[];for(const ee of A)W.push(nb(g,u,ee));R={arrayValue:{values:W}}}else R=nb(g,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||ib(A,b),R=f4(m,f,A,b==="in"||b==="not-in");return Ct.create(y,b,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yg extends Hg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)C2(f,g),f=Ap(f,g)})(e._query,t),new gs(e.firestore,e.converter,Ap(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends Fg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=(function(o,u,f){if(o.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(u,f)})(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ho(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function y4(i,e="asc"){const t=e,s=qg("orderBy",i);return Kg._create(s,t)}class Qg extends Fg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Qg(e,t,s)}_apply(e){return new gs(e.firestore,e.converter,rf(e._query,this._limit,this._limitType))}}function _4(i){return Qg._create("limit",i,"F")}function nb(i,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AT(e)&&t.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ce.isDocumentKey(s))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return v0(i,new ce(s))}if(t instanceof bt)return v0(i,t._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function ib(i,e){if(!Array.isArray(i)||i.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function C2(i,e){const t=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class x2{convertValue(e,t="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ms(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[tf].arrayValue?.values?.map((s=>wt(s.doubleValue)));return new Oi(t)}convertGeoPoint(e){return new Ni(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=us(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Ue($T(s),9688,{name:e});const o=new Eu(s.get(1),s.get(3)),u=new ce(s.popFirst(5));return o.isEqual(t)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class v4 extends x2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}class mo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class os extends ff{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(qg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=os._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}os._jsonSchemaVersion="firestore/documentSnapshot/1.0",os._jsonSchema={type:xt("string",os._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Vh extends os{data(e={}){return super.data(e)}}class bo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new mo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Vh(this._firestore,this._userDataWriter,s.key,s,new mo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:w4(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(i){i=pr(i,bt);const e=pr(i.firestore,Go);return n4(Pf(e),i._key).then((t=>A4(e,i,t)))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:xt("string",bo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Xg extends x2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function E4(i){i=pr(i,gs);const e=pr(i.firestore,Go),t=Pf(e),s=new Xg(e);return p4(i._query),i4(t,i._query).then((o=>new bo(e,s,i,o)))}function D2(i,e,t){i=pr(i,bt);const s=pr(i.firestore,Go),o=$g(i.converter,e,t);return N2(s,[Ug(Bf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,dn.none())])}function T4(i,e){const t=pr(i.firestore,Go),s=Vf(i),o=$g(i.converter,e);return N2(t,[Ug(Bf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then((()=>s))}function N2(i,e){return(function(s,o){const u=new xi;return s.asyncQueue.enqueueAndForget((async()=>jk(await e4(s),o,u))),u.promise})(Pf(i),e)}function A4(i,e,t){const s=t.docs.get(e._key),o=new Xg(i);return new os(i,o,e._key,s,new mo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={maxAttempts:5};function uu(i,e){if((i=Dt(i)).firestore!==e)throw new ie(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bf(e)}get(e){const t=uu(e,this._firestore),s=new v4(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return me(24041);const u=o[0];if(u.isFoundDocument())return new ff(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new ff(this._firestore,s,t._key,null,t.converter);throw me(18433,{doc:u})}))}set(e,t,s){const o=uu(e,this._firestore),u=$g(o.converter,t,s),f=Ug(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,t,s,...o){const u=uu(e,this._firestore);let f;return f=typeof(t=Dt(t))=="string"||t instanceof Lf?h4(this._dataReader,"Transaction.update",u._key,t,s,o):c4(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=uu(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4 extends R4{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uu(e,this._firestore),s=new Xg(this._firestore);return super.get(e).then((o=>new os(this._firestore,s,t._key,o._document,new mo(!1,!1),t.converter)))}}function C4(i,e,t){i=pr(i,Go);const s={...S4,...t};return(function(u){if(u.maxAttempts<1)throw new ie(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const g=new xi;return u.asyncQueue.enqueueAndForget((async()=>{const y=await t4(u);new Wk(u.asyncQueue,y,m,f,g).ju()})),g.promise})(Pf(i),(o=>e(new I4(i,o))),s)}function Eo(){return new Bg("serverTimestamp")}(function(e,t=!0){(function(o){zo=o})(Uo),So(new la("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Go(new uN(s.getProvider("auth-internal")),new fN(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rs(a0,o0,e),rs(a0,o0,"esm2020")})();const x4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=",D4={apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"};function N4(){const i=Ke.useMemo(()=>Pw().length?Pw()[0]:fE(D4),[]),e=Ke.useMemo(()=>sN(i),[i]),t=Ke.useMemo(()=>s4(i),[i]);return{app:i,auth:e,db:t}}function O4(i=900){const[e,t]=Ke.useState(!1);return Ke.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=u=>t(u.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}function rb({open:i,title:e,onClose:t,children:s}){return i?P.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:P.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:o=>o.stopPropagation(),children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[P.jsx("strong",{style:{fontSize:16},children:e}),P.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid var(--stroke)",background:"rgba(255,255,255,.06)",color:"var(--text)",padding:"6px 10px"},children:"Cerrar"})]}),P.jsx("div",{style:{padding:12},children:s})]})}):null}function k4(){return P.jsxs("div",{className:"brand",children:[P.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:P.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),P.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}const M4=P.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:P.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),V4=P.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:P.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l 2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})});function sb({auth:i,db:e,onReady:t}){const[s,o]=Ke.useState("login"),[u,f]=Ke.useState(""),[m,g]=Ke.useState(""),[y,b]=Ke.useState(""),[A,R]=Ke.useState("X"),[H,W]=Ke.useState(""),[ee,J]=Ke.useState(""),[ge,le]=Ke.useState(!1),[he,qe]=Ke.useState(!1),Ee=async(I,O)=>{await D2(Vf(e,"users",I),{...O,createdAt:Eo()},{merge:!0})};Ke.useEffect(()=>{(async()=>{try{const I=await bD(i);if(I?.user){const O=I.user;await Ee(O.uid,{displayName:O.displayName||O.email,gender:"X",city:"N/A",provider:"google",photoURL:O.photoURL||null,createdAt:Eo()}),t?.()}}catch(I){iu(nu(I))}})()},[i]);const Be=async()=>{le(!0),J("");try{const I=new lr;I.setCustomParameters({prompt:"select_account"});let O;try{O=await dD(i,I)}catch(pt){if(pt?.code==="auth/popup-blocked"||pt?.code==="auth/popup-closed-by-user"){await vD(i,I);return}throw pt}const C=O.user;await Ee(C.uid,{displayName:C.displayName||C.email,gender:"X",city:"N/A",provider:"google",photoURL:C.photoURL||null,createdAt:Eo()}),t?.()}catch(I){I?.code==="auth/account-exists-with-different-credential"?await sa.fire({icon:"warning",title:"Ya existe una cuenta con ese correo",text:"Ingresa con el mtodo original (correo/contrasea) y podrs vincular Google luego.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"}):iu(nu(I))}finally{le(!1)}},k=s==="login"?async()=>{le(!0),J("");try{await jx(i,u,m),t?.()}catch(I){iu(nu(I))}finally{le(!1)}}:s==="register"?async()=>{le(!0),J("");try{const I=(y||"").trim();if(!I){await sa.fire({icon:"warning",title:"Falta tu nombre",text:"Por favor escribe tu primer nombre antes de registrarte.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"});return}const O=await zx(i,u,m);await Hx(O.user,{displayName:I}),await Ee(O.user.uid,{displayName:I,gender:A,city:H}),t?.()}catch(I){iu(nu(I))}finally{le(!1)}}:async()=>{le(!0),J("");try{await Bx(i,u),sa.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo est registrado, recibirs un enlace para restablecer tu contrasea.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(I){iu(nu(I))}finally{le(!1)}};return P.jsxs("section",{className:"auth-card",children:[P.jsxs("header",{className:"card-head",children:[P.jsx("h1",{children:s==="login"?"Bienvenido":s==="register"?"Crear cuenta":"Recuperar acceso"}),P.jsx("p",{className:"muted",children:s==="login"?"Inicia sesin para continuar":s==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contrasea"})]}),P.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(I=>P.jsx("button",{type:"button",onClick:()=>o(I),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:I===s?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:I===s?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:I===s?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:I==="login"?"Login":I==="register"?"Registro":"Reset"},I))}),ee&&P.jsx("div",{className:"alert",style:{marginTop:10},children:ee}),P.jsxs("form",{className:"form",onSubmit:I=>{I.preventDefault();const O=I.currentTarget;if(!O.checkValidity()){O.reportValidity();return}k()},noValidate:!0,style:{marginTop:12},children:[P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"email",children:"Correo"}),P.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:u,onChange:I=>f(I.target.value)})]}),s!=="reset"&&P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"password",children:"Contrasea"}),P.jsxs("div",{className:"pwd",children:[P.jsx("input",{id:"password",name:"password",type:he?"text":"password",placeholder:"",autoComplete:s==="login"?"current-password":"new-password",required:!0,value:m,onChange:I=>g(I.target.value)}),P.jsx("button",{type:"button",className:"icon-btn","aria-label":he?"Ocultar contrasea":"Mostrar contrasea",onClick:()=>qe(I=>!I),style:{background:"transparent"},children:he?V4:M4})]})]}),s==="register"&&P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"displayName",children:"Nombre"}),P.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:y,onChange:I=>{const O=I.target.value.replace(/\s.*/,"");b(O)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"city",children:"Ciudad"}),P.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:H,onChange:I=>W(I.target.value)})]}),P.jsxs("div",{className:"field",children:[P.jsx("label",{htmlFor:"gender",children:"Gnero"}),P.jsxs("div",{style:{display:"flex",gap:10,rowGap:6,flexWrap:"wrap",background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:[P.jsxs("button",{type:"button",onClick:()=>R("M"),style:{background:A==="M"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A==="M"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A==="M"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:[P.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("path",{d:"M16 8v-4h-4"}),P.jsx("line",{x1:"16",y1:"8",x2:"21",y2:"3"})]}),"Masculino"]}),P.jsxs("button",{type:"button",onClick:()=>R("F"),style:{background:A==="F"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A==="F"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A==="F"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:[P.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("path",{d:"M12 16v-4"}),P.jsx("path",{d:"M9 20h6"})]}),"Femenino"]}),P.jsxs("button",{type:"button",onClick:()=>R("X"),style:{background:A==="X"?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A==="X"?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A==="X"?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:[P.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:5},children:[P.jsx("circle",{cx:"12",cy:"12",r:"10"}),P.jsx("path",{d:"M8 12h8"}),P.jsx("path",{d:"M12 8v8"})]}),"Prefiero no decir"]})]})]})]}),P.jsx("button",{className:"btn",disabled:ge,children:ge?"Procesando":s==="login"?"Ingresar":s==="register"?"Crear cuenta":"Enviar correo"}),s==="login"&&P.jsxs(P.Fragment,{children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,margin:"12px 0"},children:[P.jsx("span",{style:{flex:1,height:1,background:"var(--stroke)"}}),P.jsx("span",{style:{opacity:.7,fontSize:13},children:"o"}),P.jsx("span",{style:{flex:1,height:1,background:"var(--stroke)"}})]}),P.jsx("button",{type:"button",onClick:Be,disabled:ge,style:{width:"100%",height:44,borderRadius:12,border:"1px solid var(--stroke)",background:"rgba(255,255,255,.06)",color:"var(--text)",fontWeight:700,cursor:"pointer"},title:"Continuar con Google",children:P.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[P.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":!0,children:[P.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.7 31.9 29.3 35 24 35c-6.1 0-11-4.9-11-11s4.9-11 11-11c2.8 0 5.4 1.1 7.4 2.9l5.7-5.7C33.5 7.1 28.9 5 24 5 12.9 5 4 13.9 4 25s8.9 20 20 20 20-8.9 20-20c0-1.3-.1-2.5-.4-3.7z"}),P.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.1 16.2 18.6 13 24 13c2.8 0 5.4 1.1 7.4 2.9l5.7-5.7C33.5 7.1 28.9 5 24 5c-7.7 0-14.3 4.3-17.7 10.7z"}),P.jsx("path",{fill:"#4CAF50",d:"M24 45c4.9 0 9.4-1.9 12.7-5l-5.9-4.9C29 36.5 26.6 37 24 37c-5.2 0-9.6-3.1-11.5-7.5l-6.5 5.1C8.5 40.5 15.7 45 24 45z"}),P.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1.1 3.1-3.4 5.6-6.3 7.1l.1.1 5.9 4.9c-.4.4 7-4.9 7-15.1 0-1.3-.1-2.5-.4-3.7z"})]}),"Continuar con Google"]})})]})]})]})}async function P4(i,e,t,s){const o=E2(i,"spins"),u=Vf(i,"userstats",e);await T4(o,{uid:e,...s,createdAt:Eo()}),await C4(i,async f=>{const m=await f.get(u),g=m.exists()?m.data():{totalScore:0,totalSpins:0,displayName:t||"Annimo"},y={displayName:t||g.displayName||"Annimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:Eo()};f.set(u,y,{merge:!0})})}async function L4(i){const e=g4(E2(i,"userstats"),y4("totalScore","desc"),_4(10));return(await E4(e)).docs.map(s=>({id:s.id,...s.data()}))}function U4({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?P.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:""}):null}function Sh({db:i}){const[e,t]=Ke.useState([]),[s,o]=Ke.useState(!1),[u,f]=Ke.useState(null),m=Ke.useCallback(async()=>{o(!0),f(null);try{const g=await L4(i);t(g)}catch(g){console.error("Top10 load failed:",g),f("Error al consultar los datos del Top 10. Verifica tu conexin o permisos de Firebase."),t([])}finally{o(!1)}},[i]);return Ke.useEffect(()=>{m();const g=()=>m();return window.addEventListener("reload-top10",g),()=>window.removeEventListener("reload-top10",g)},[m]),P.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16},children:[P.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[P.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),P.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:m,children:"Actualizar"})]}),s&&P.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando"}),u&&P.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:u}),P.jsx("div",{className:"table-wrap",children:P.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[P.jsx("thead",{children:P.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"#"}),P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Nombre"}),P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Score total"}),P.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333"},children:"Giros totales"})]})}),P.jsxs("tbody",{children:[e.map((g,y)=>P.jsxs("tr",{style:{borderBottom:"1px solid #222"},children:[P.jsxs("td",{style:{padding:"6px 8px"},children:["#",y+1]}),P.jsx("td",{style:{padding:"6px 8px"},children:P.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[P.jsx(U4,{rank:y+1}),P.jsx("span",{children:g.displayName||g.id})]})}),P.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:P.jsx("b",{children:g.totalScore||0})}),P.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:g.totalSpins||0})]},g.id)),!e.length&&!s&&!u&&P.jsx("tr",{children:P.jsx("td",{colSpan:4,style:{padding:"8px",opacity:.7},children:"An no hay acumulados."})})]})]})})]})}const $r=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catlogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Polticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function ab(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}function B4(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}function ob({onResult:i}){const[e,t]=Ke.useState(!1),[s,o]=Ke.useState(0),u=360/$r.length,f=36;function m(y){const b=u*Math.PI/180,A=2*f*Math.sin(b/2)*.9,W=Math.min(5.2,A/(.6*Math.max(1,y.length)));return Math.max(3.2,W)}const g=()=>{if(e)return;t(!0);const y=5+Math.floor(Math.random()*4),b=Math.floor(Math.random()*$r.length),A=y*360+($r.length-b)*u-u/2,R=s+A;o(R),setTimeout(()=>{t(!1);const H=(R%360+360)%360,W=($r.length-Math.floor((H+u/2)/u))%$r.length,ee=$r[W];i?.(ee)},3800)};return P.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[P.jsx("div",{className:"wheel-legend",children:$r.map(y=>P.jsxs("div",{className:"legend-item",children:[P.jsx("span",{className:"legend-swatch",style:{background:y.color}}),P.jsx("span",{className:"legend-label",children:y.label}),P.jsxs("span",{className:"legend-points",children:["+",y.points]})]},y.label))}),P.jsxs("div",{className:"wheel-wrap",style:{position:"relative"},children:[P.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),P.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${s}deg)`,transition:"transform 3.8s cubic-bezier(.17,.67,.35,1)",background:"#0c0c0c"},children:[$r.map((y,b)=>{const A=b*u,R=A+u,H=R-A<=180?0:1,W=ab(50,50,49,R),ee=ab(50,50,49,A),J=["M 50 50",`L ${W.x} ${W.y}`,`A 49 49 0 ${H} 0 ${ee.x} ${ee.y}`,"Z"].join(" "),ge=B4(50,50,f+1.5,A+u/2),le=m(y.label);return P.jsxs("g",{children:[P.jsx("path",{d:J,fill:y.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),P.jsx("text",{x:ge.x,y:ge.y,fontSize:le,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",children:y.label})]},y.label)}),P.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),P.jsx("button",{onClick:g,disabled:e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa"},children:e?"Girando":" Girar ruleta!"})]})}function z4(){const{auth:i,db:e}=N4(),t=O4(900),[s,o]=Ke.useState(null),[u,f]=Ke.useState(!1),[m,g]=Ke.useState(null),[y,b]=Ke.useState(null),[A,R]=Ke.useState(!1);Ke.useEffect(()=>Yx(i,async ee=>{if(o(ee),!ee){f(!1);return}try{const J=Vf(e,"users",ee.uid);(await b4(J)).exists()||await D2(J,{displayName:ee.displayName||ee.email,gender:"X",city:"N/A",createdAt:Eo()},{merge:!0}),f(!0),g(null)}catch(J){console.error("Perfil/Firestore no disponible:",J),g(" Error conectando con Firestore. Se podr girar, pero no se guardarn resultados."),f(!0)}}),[i,e]);const H=Ke.useCallback(async ee=>{b(ee),s&&!m&&(await P4(e,s.uid,s.displayName||s.email,{label:ee.label,points:ee.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,m]),W=async()=>{try{await Kx(i)}catch(ee){console.error(ee)}};return P.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[P.jsxs("header",{className:"app-header",children:[P.jsxs("div",{className:"brand-title",children:[P.jsx("span",{className:"app-emoji","aria-hidden":!0,children:""}),P.jsx("h1",{className:"app-title",children:"Ruleta de Datos"})]}),s?P.jsxs("div",{className:"user-strip",children:[P.jsx("span",{className:"user-label",children:"Conectado como"}),P.jsx("b",{className:"user-email",children:s.email}),P.jsx("button",{onClick:W,className:"logout-icon",title:"Salir","aria-label":"Salir",children:P.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),P.jsx("polyline",{points:"16 17 21 12 16 7"}),P.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}):P.jsxs("div",{className:"ga-strip",children:[P.jsx("span",{className:"ga-title",children:"ACTIVIDAD GOOGLE ANALYTICS"}),P.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",className:"ga-badge",children:P.jsx("img",{src:x4,alt:"UNIR"})})]})]}),P.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?P.jsxs("div",{style:{display:"grid",gap:12},children:[P.jsx(sb,{auth:i,db:e,onReady:()=>{}}),P.jsx("button",{onClick:()=>R(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),P.jsx(rb,{open:A,title:"Top 10 jugadores",onClose:()=>R(!1),children:P.jsx(Sh,{db:e})})]}):P.jsxs("div",{className:"auth-shell",children:[P.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[P.jsx(k4,{}),P.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[P.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.5,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),P.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:P.jsx(Sh,{db:e})})]})]}),P.jsx("main",{className:"auth-main",children:P.jsx(sb,{auth:i,db:e,onReady:()=>{}})})]})),s&&u&&(t?P.jsxs(P.Fragment,{children:[P.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[P.jsx("b",{children:"Actividad"}),P.jsxs("div",{style:{display:"flex",gap:8},children:[P.jsx("button",{className:"btn btn-sm",onClick:()=>R(!0),style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"}),m&&P.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:8},children:m})]})]}),P.jsx(ob,{onResult:H}),y&&P.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",P.jsx("b",{children:y.label}),"  Puntos: ",P.jsx("b",{children:y.points})]})]}),P.jsx(rb,{open:A,title:"Top 10 jugadores",onClose:()=>R(!1),children:P.jsx(Sh,{db:e})})]}):P.jsxs("div",{className:"grid-main",children:[P.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[P.jsx("b",{children:"Actividad"}),m&&P.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:m})]}),P.jsx(ob,{onResult:H}),y&&P.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",P.jsx("b",{children:y.label}),"  Puntos: ",P.jsx("b",{children:y.points})]})]}),P.jsx(Sh,{db:e})]}))]})]})}hA.createRoot(document.getElementById("root")).render(P.jsx(Ke.StrictMode,{children:P.jsx(z4,{})}));
