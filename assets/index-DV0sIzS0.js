(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Kp={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function pA(){if(y_)return iu;y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=t,iu.jsxs=t,iu}var w_;function mA(){return w_||(w_=1,Kp.exports=pA()),Kp.exports}var O=mA(),$p={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function gA(){if(v_)return Re;v_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,ee={};function X(D,W,se){this.props=D,this.context=W,this.refs=ee,this.updater=se||B}X.prototype.isReactComponent={},X.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},X.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function re(){}re.prototype=X.prototype;function le(D,W,se){this.props=D,this.context=W,this.refs=ee,this.updater=se||B}var oe=le.prototype=new re;oe.constructor=le,K(oe,X.prototype),oe.isPureReactComponent=!0;var Ie=Array.isArray,Ee={H:null,A:null,T:null,S:null,V:null},Be=Object.prototype.hasOwnProperty;function V(D,W,se,ne,pe,xe){return se=xe.ref,{$$typeof:i,type:D,key:W,ref:se!==void 0?se:null,props:xe}}function T(D,W){return V(D.type,W,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return W[se]})}var M=/\/+/g;function x(D,W){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):W.toString(36)}function R(){}function Tt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ot(D,W,se,ne,pe){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(xe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case i:case e:Se=!0;break;case _:return Se=D._init,ot(Se(D._payload),W,se,ne,pe)}}if(Se)return pe=pe(D),Se=ne===""?"."+x(D,0):ne,Ie(pe)?(se="",Se!=null&&(se=Se.replace(M,"$&/")+"/"),ot(pe,W,se,"",function(hi){return hi})):pe!=null&&(C(pe)&&(pe=T(pe,se+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+Se)),W.push(pe)),1;Se=0;var Lt=ne===""?".":ne+":";if(Ie(D))for(var it=0;it<D.length;it++)ne=D[it],xe=Lt+x(ne,it),Se+=ot(ne,W,se,xe,pe);else if(it=S(D),typeof it=="function")for(D=it.call(D),it=0;!(ne=D.next()).done;)ne=ne.value,xe=Lt+x(ne,it++),Se+=ot(ne,W,se,xe,pe);else if(xe==="object"){if(typeof D.then=="function")return ot(Tt(D),W,se,ne,pe);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Se}function H(D,W,se){if(D==null)return D;var ne=[],pe=0;return ot(D,ne,"","",function(xe){return W.call(se,xe,pe++)}),ne}function te(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var he=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function qe(){}return Re.Children={map:H,forEach:function(D,W,se){H(D,function(){W.apply(this,arguments)},se)},count:function(D){var W=0;return H(D,function(){W++}),W},toArray:function(D){return H(D,function(W){return W})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=X,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=le,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ee,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Ee.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,W,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=K({},D.props),pe=D.key,xe=void 0;if(W!=null)for(Se in W.ref!==void 0&&(xe=void 0),W.key!==void 0&&(pe=""+W.key),W)!Be.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(ne[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)ne.children=se;else if(1<Se){for(var Lt=Array(Se),it=0;it<Se;it++)Lt[it]=arguments[it+2];ne.children=Lt}return V(D.type,pe,void 0,void 0,xe,ne)},Re.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,W,se){var ne,pe={},xe=null;if(W!=null)for(ne in W.key!==void 0&&(xe=""+W.key),W)Be.call(W,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=W[ne]);var Se=arguments.length-2;if(Se===1)pe.children=se;else if(1<Se){for(var Lt=Array(Se),it=0;it<Se;it++)Lt[it]=arguments[it+2];pe.children=Lt}if(D&&D.defaultProps)for(ne in Se=D.defaultProps,Se)pe[ne]===void 0&&(pe[ne]=Se[ne]);return V(D,xe,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:p,render:D}},Re.isValidElement=C,Re.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:te}},Re.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},Re.startTransition=function(D){var W=Ee.T,se={};Ee.T=se;try{var ne=D(),pe=Ee.S;pe!==null&&pe(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(qe,he)}catch(xe){he(xe)}finally{Ee.T=W}},Re.unstable_useCacheRefresh=function(){return Ee.H.useCacheRefresh()},Re.use=function(D){return Ee.H.use(D)},Re.useActionState=function(D,W,se){return Ee.H.useActionState(D,W,se)},Re.useCallback=function(D,W){return Ee.H.useCallback(D,W)},Re.useContext=function(D){return Ee.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,W){return Ee.H.useDeferredValue(D,W)},Re.useEffect=function(D,W,se){var ne=Ee.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(D,W)},Re.useId=function(){return Ee.H.useId()},Re.useImperativeHandle=function(D,W,se){return Ee.H.useImperativeHandle(D,W,se)},Re.useInsertionEffect=function(D,W){return Ee.H.useInsertionEffect(D,W)},Re.useLayoutEffect=function(D,W){return Ee.H.useLayoutEffect(D,W)},Re.useMemo=function(D,W){return Ee.H.useMemo(D,W)},Re.useOptimistic=function(D,W){return Ee.H.useOptimistic(D,W)},Re.useReducer=function(D,W,se){return Ee.H.useReducer(D,W,se)},Re.useRef=function(D){return Ee.H.useRef(D)},Re.useState=function(D){return Ee.H.useState(D)},Re.useSyncExternalStore=function(D,W,se){return Ee.H.useSyncExternalStore(D,W,se)},Re.useTransition=function(){return Ee.H.useTransition()},Re.version="19.1.1",Re}var __;function Hm(){return __||(__=1,$p.exports=gA()),$p.exports}var we=Hm(),Xp={exports:{}},ru={},Wp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function yA(){return b_||(b_=1,(function(i){function e(H,te){var he=H.length;H.push(te);e:for(;0<he;){var qe=he-1>>>1,D=H[qe];if(0<o(D,te))H[qe]=te,H[he]=D,he=qe;else break e}}function t(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var te=H[0],he=H.pop();if(he!==te){H[0]=he;e:for(var qe=0,D=H.length,W=D>>>1;qe<W;){var se=2*(qe+1)-1,ne=H[se],pe=se+1,xe=H[pe];if(0>o(ne,he))pe<D&&0>o(xe,ne)?(H[qe]=xe,H[pe]=he,qe=pe):(H[qe]=ne,H[se]=he,qe=se);else if(pe<D&&0>o(xe,he))H[qe]=xe,H[pe]=he,qe=pe;else break e}}return te}function o(H,te){var he=H.sortIndex-te.sortIndex;return he!==0?he:H.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],_=1,A=null,S=3,B=!1,K=!1,ee=!1,X=!1,re=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function Ie(H){for(var te=t(y);te!==null;){if(te.callback===null)s(y);else if(te.startTime<=H)s(y),te.sortIndex=te.expirationTime,e(g,te);else break;te=t(y)}}function Ee(H){if(ee=!1,Ie(H),!K)if(t(g)!==null)K=!0,Be||(Be=!0,x());else{var te=t(y);te!==null&&ot(Ee,te.startTime-H)}}var Be=!1,V=-1,T=5,C=-1;function k(){return X?!0:!(i.unstable_now()-C<T)}function M(){if(X=!1,Be){var H=i.unstable_now();C=H;var te=!0;try{e:{K=!1,ee&&(ee=!1,le(V),V=-1),B=!0;var he=S;try{t:{for(Ie(H),A=t(g);A!==null&&!(A.expirationTime>H&&k());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,S=A.priorityLevel;var D=qe(A.expirationTime<=H);if(H=i.unstable_now(),typeof D=="function"){A.callback=D,Ie(H),te=!0;break t}A===t(g)&&s(g),Ie(H)}else s(g);A=t(g)}if(A!==null)te=!0;else{var W=t(y);W!==null&&ot(Ee,W.startTime-H),te=!1}}break e}finally{A=null,S=he,B=!1}te=void 0}}finally{te?x():Be=!1}}}var x;if(typeof oe=="function")x=function(){oe(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Tt=R.port2;R.port1.onmessage=M,x=function(){Tt.postMessage(null)}}else x=function(){re(M,0)};function ot(H,te){V=re(function(){H(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(H){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var he=S;S=te;try{return H()}finally{S=he}},i.unstable_requestPaint=function(){X=!0},i.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=S;S=H;try{return te()}finally{S=he}},i.unstable_scheduleCallback=function(H,te,he){var qe=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?qe+he:qe):he=qe,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=he+D,H={id:_++,callback:te,priorityLevel:H,startTime:he,expirationTime:D,sortIndex:-1},he>qe?(H.sortIndex=he,e(y,H),t(g)===null&&H===t(y)&&(ee?(le(V),V=-1):ee=!0,ot(Ee,he-qe))):(H.sortIndex=D,e(g,H),K||B||(K=!0,Be||(Be=!0,x()))),H},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(H){var te=S;return function(){var he=S;S=te;try{return H.apply(this,arguments)}finally{S=he}}}})(Zp)),Zp}var E_;function wA(){return E_||(E_=1,Wp.exports=yA()),Wp.exports}var Jp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function vA(){if(T_)return nn;T_=1;var i=Hm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:_}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,_)},nn.flushSync=function(g){var y=d.T,_=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=_,s.d.f()}},nn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},nn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},nn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,A=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:B}):_==="script"&&s.d.X(g,{crossOrigin:A,integrity:S,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},nn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,A=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},nn.requestFormReset=function(g){s.d.r(g)},nn.unstable_batchedUpdates=function(g,y){return g(y)},nn.useFormState=function(g,y,_){return d.H.useFormState(g,y,_)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var A_;function _A(){if(A_)return Jp.exports;A_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jp.exports=vA(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function bA(){if(S_)return ru;S_=1;var i=wA(),e=Hm(),t=_A();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),n;if(f===l)return p(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=f;break}if(b===l){v=!0,l=h,a=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===a){v=!0,a=f,l=h;break}if(b===l){v=!0,l=f,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function Tt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case X:return"Profiler";case ee:return"StrictMode";case Ee:return"Suspense";case Be:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case B:return"Portal";case oe:return(n.displayName||"Context")+".Provider";case le:return(n._context.displayName||"Context")+".Consumer";case Ie:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:Tt(n.type)||"Memo";case T:r=n._payload,n=n._init;try{return Tt(n(r))}catch{}}return null}var ot=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},qe=[],D=-1;function W(n){return{current:n}}function se(n){0>D||(n.current=qe[D],qe[D]=null,D--)}function ne(n,r){D++,qe[D]=n.current,n.current=r}var pe=W(null),xe=W(null),Se=W(null),Lt=W(null);function it(n,r){switch(ne(Se,r),ne(xe,n),ne(pe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Gv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Gv(r),n=Qv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(pe),ne(pe,n)}function hi(){se(pe),se(xe),se(Se)}function Er(n){n.memoizedState!==null&&ne(Lt,n);var r=pe.current,a=Qv(r,n.type);r!==a&&(ne(xe,n),ne(pe,a))}function Ui(n){xe.current===n&&(se(pe),se(xe)),Lt.current===n&&(se(Lt),Zl._currentValue=he)}var vs=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,bs=i.unstable_cancelCallback,$o=i.unstable_shouldYield,Xu=i.unstable_requestPaint,Un=i.unstable_now,Yd=i.unstable_getCurrentPriorityLevel,Xo=i.unstable_ImmediatePriority,_a=i.unstable_UserBlockingPriority,Es=i.unstable_NormalPriority,Kd=i.unstable_LowPriority,ba=i.unstable_IdlePriority,Wo=i.log,Wu=i.unstable_setDisableYieldValue,dt=null,Ke=null;function En(n){if(typeof Wo=="function"&&Wu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(dt,n)}catch{}}var en=Math.clz32?Math.clz32:Ts,Zu=Math.log,$d=Math.LN2;function Ts(n){return n>>>=0,n===0?32:31-(Zu(n)/$d|0)|0}var As=256,Ss=4194304;function Jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ea(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,f=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=Jn(l):(v&=b,v!==0?h=Jn(v):a||(a=b&~n,a!==0&&(h=Jn(a))))):(b=l&~f,b!==0?h=Jn(b):v!==0?h=Jn(v):a||(a=l&~n,a!==0&&(h=Jn(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function Rs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Zo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var n=As;return As<<=1,(As&4194048)===0&&(As=256),n}function el(){var n=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),n}function zi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ji(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function tl(n,r,a,l,h,f){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,z=n.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-en(a),Z=1<<Q;b[Q]=0,I[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&di(n,l,0),f!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=f&~(v&~r))}function di(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function nl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Tr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ta(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ar(){var n=te.p;return n!==0?n:(n=window.event,n===void 0?32:h_(n.type))}function Ju(n,r){var a=te.p;try{return te.p=n,r()}finally{te.p=a}}var lt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+lt,At="__reactProps$"+lt,zn="__reactContainer$"+lt,il="__reactEvents$"+lt,Xd="__reactListeners$"+lt,Sr="__reactHandles$"+lt,ec="__reactResources$"+lt,Is="__reactMarker$"+lt;function Rr(n){delete n[Nt],delete n[At],delete n[il],delete n[Xd],delete n[Sr]}function Bi(n){var r=n[Nt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[zn]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Xv(n);n!==null;){if(a=n[Nt])return a;n=Xv(n)}return r}n=a,a=n.parentNode}return null}function fi(n){if(n=n[Nt]||n[zn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function pi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ln(n){var r=n[ec];return r||(r=n[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(n){n[Is]=!0}var rl=new Set,Aa={};function ei(n,r){qi(n,r),qi(n+"Capture",r)}function qi(n,r){for(Aa[n]=r,n=0;n<r.length;n++)rl.add(r[n])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},Cs={};function ic(n){return vs.call(Cs,n)?!0:vs.call(nc,n)?!1:tc.test(n)?Cs[n]=!0:(nc[n]=!0,!1)}function Ir(n,r,a){if(ic(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function mi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Qt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var xs,rc;function Hi(n){if(xs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xs=r&&r[1]||"",rc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+n+rc}var Sa=!1;function Ra(n,r){if(!n||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var j=q}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(q){j=q}n.call(Z.prototype)}}else{try{throw Error()}catch(q){j=q}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var I=v.split(`
`),z=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Hi(a):""}function sl(n){switch(n.tag){case 26:case 27:case 5:return Hi(n.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Ra(n.type,!1);case 11:return Ra(n.type.render,!1);case 1:return Ra(n.type,!0);case 31:return Hi("Activity");default:return""}}function Ia(n){try{var r="";do r+=sl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function al(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wd(n){var r=al(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ca(n){n._valueTracker||(n._valueTracker=Wd(n))}function ol(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=al(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zd=/[\n"\\]/g;function St(n){return n.replace(Zd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(n,r,a,l,h,f,v,b){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+un(r)):n.value!==""+un(r)&&(n.value=""+un(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Cr(n,v,un(r)):a!=null?Cr(n,v,un(a)):l!=null&&n.removeAttribute("value"),h==null&&f!=null&&(n.defaultChecked=!!f),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+un(b):n.removeAttribute("name")}function Ns(n,r,a,l,h,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+un(a):"",r=r!=null?""+un(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function Cr(n,r,a){r==="number"&&Ds(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fi(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+un(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+un(a):""}function Os(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=un(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function jn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ks.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ll(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&sc(n,h,l)}else for(var f in r)r.hasOwnProperty(f)&&sc(n,f,r[f])}function ul(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(n){return ef.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gi=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Yi=null;function cl(n){var r=fi(n);if(r&&(n=r.stateNode)){var a=n[At]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[At]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ol(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fi(n,!!a.multiple,r,!1)}}}var gi=!1;function ac(n,r,a){if(gi)return n(r,a);gi=!0;try{var l=n(r);return l}finally{if(gi=!1,(Qi!==null||Yi!==null)&&(Jc(),Qi&&(r=Qi,n=Yi,Yi=Qi=null,cl(r),n)))for(r=0;r<n.length;r++)cl(n[r])}}function Ms(n,r){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ti)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{qn=!1}var yi=null,xr=null,Ki=null;function hl(){if(Ki)return Ki;var n,r=xr,a=r.length,l,h="value"in yi?yi.value:yi.textContent,f=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[f-l];l++);return Ki=h.slice(n,1<l?1-l:void 0)}function wi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function vi(){return!0}function dl(){return!1}function Ut(n){function r(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vi:dl,this.isPropagationStopped=dl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Ut(Ye),Ps=_({},Ye,{view:0,detail:0}),oc=Ut(Ps),Na,Oa,_i,Ls=_({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_i&&(_i&&n.type==="mousemove"?(Na=n.screenX-_i.screenX,Oa=n.screenY-_i.screenY):Oa=Na=0,_i=n),Na)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),Hn=Ut(Ls),lc=_({},Ls,{dataTransfer:0}),tf=Ut(lc),Us=_({},Ps,{relatedTarget:0}),ka=Ut(Us),fl=_({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=Ut(fl),uc=_({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Va=Ut(uc),nf=_({},Ye,{data:0}),pl=Ut(nf),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=hc[n])?!!r[n]:!1}function js(){return ml}var dc=_({},Ps,{key:function(n){if(n.key){var r=zs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=wi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(n){return n.type==="keypress"?wi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pa=Ut(dc),fc=_({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Ut(fc),$i=_({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),pc=Ut($i),mc=_({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=Ut(mc),yc=_({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Ut(yc),cn=_({},Ye,{newState:0,oldState:0}),wc=Ut(cn),vc=[9,13,27,32],bi=ti&&"CompositionEvent"in window,c=null;ti&&"documentMode"in document&&(c=document.documentMode);var m=ti&&"TextEvent"in window&&!c,w=ti&&(!bi||c&&8<c&&11>=c),E=" ",L=!1;function F(n,r){switch(n){case"keyup":return vc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function Ot(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(L=!0,E);case"textInput":return n=r.data,n===E&&L?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!bi&&F(n,r)?(n=hl(),Ki=xr=yi=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return w&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zt[n.type]:r==="textarea"}function Xi(n,r,a,l){Qi?Yi?Yi.push(l):Yi=[l]:Qi=l,r=sh(r,"onChange"),0<r.length&&(a=new Da("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Yt=null,Ei=null;function yl(n){jv(n,0)}function _c(n){var r=pi(n);if(ol(r))return n}function oy(n,r){if(n==="change")return r}var ly=!1;if(ti){var rf;if(ti){var sf="oninput"in document;if(!sf){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),sf=typeof uy.oninput=="function"}rf=sf}else rf=!1;ly=rf&&(!document.documentMode||9<document.documentMode)}function cy(){Yt&&(Yt.detachEvent("onpropertychange",hy),Ei=Yt=null)}function hy(n){if(n.propertyName==="value"&&_c(Ei)){var r=[];Xi(r,Ei,n,Bn(n)),ac(yl,r)}}function F2(n,r,a){n==="focusin"?(cy(),Yt=r,Ei=a,Yt.attachEvent("onpropertychange",hy)):n==="focusout"&&cy()}function G2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _c(Ei)}function Q2(n,r){if(n==="click")return _c(r)}function Y2(n,r){if(n==="input"||n==="change")return _c(r)}function K2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var An=typeof Object.is=="function"?Object.is:K2;function wl(n,r){if(An(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vs.call(r,h)||!An(n[h],r[h]))return!1}return!0}function dy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fy(n,r){var a=dy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dy(a)}}function py(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?py(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function my(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ds(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ds(n.document)}return r}function af(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var $2=ti&&"documentMode"in document&&11>=document.documentMode,Ua=null,of=null,vl=null,lf=!1;function gy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Ua==null||Ua!==Ds(l)||(l=Ua,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&wl(vl,l)||(vl=l,l=sh(of,"onSelect"),0<l.length&&(r=new Da("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ua)))}function Bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var za={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},uf={},yy={};ti&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function qs(n){if(uf[n])return uf[n];if(!za[n])return n;var r=za[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in yy)return uf[n]=r[a];return n}var wy=qs("animationend"),vy=qs("animationiteration"),_y=qs("animationstart"),X2=qs("transitionrun"),W2=qs("transitionstart"),Z2=qs("transitioncancel"),by=qs("transitionend"),Ey=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function ni(n,r){Ey.set(n,r),ei(r,[n])}var Ty=new WeakMap;function Fn(n,r){if(typeof n=="object"&&n!==null){var a=Ty.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ia(r)},Ty.set(n,r),r)}return{value:n,source:r,stack:Ia(r)}}var Gn=[],ja=0,hf=0;function bc(){for(var n=ja,r=hf=ja=0;r<n;){var a=Gn[r];Gn[r++]=null;var l=Gn[r];Gn[r++]=null;var h=Gn[r];Gn[r++]=null;var f=Gn[r];if(Gn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Ay(a,h,f)}}function Ec(n,r,a,l){Gn[ja++]=n,Gn[ja++]=r,Gn[ja++]=a,Gn[ja++]=l,hf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function df(n,r,a,l){return Ec(n,r,a,l),Tc(n)}function Ba(n,r){return Ec(n,null,null,r),Tc(n)}function Ay(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(h=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,h&&r!==null&&(h=31-en(a),n=f.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function Tc(n){if(50<Fl)throw Fl=0,wp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={};function J2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,r,a,l){return new J2(n,r,a,l)}function ff(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,r){var a=n.alternate;return a===null?(a=Sn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Sy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ac(n,r,a,l,h,f){var v=0;if(l=n,typeof n=="function")ff(n)&&(v=1);else if(typeof n=="string")v=tA(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Sn(31,a,r,h),n.elementType=C,n.lanes=f,n;case K:return Hs(a.children,h,f,r);case ee:v=8,h|=24;break;case X:return n=Sn(12,a,r,h|2),n.elementType=X,n.lanes=f,n;case Ee:return n=Sn(13,a,r,h),n.elementType=Ee,n.lanes=f,n;case Be:return n=Sn(19,a,r,h),n.elementType=Be,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:case oe:v=10;break e;case le:v=9;break e;case Ie:v=11;break e;case V:v=14;break e;case T:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Sn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=f,r}function Hs(n,r,a,l){return n=Sn(7,n,l,r),n.lanes=a,n}function pf(n,r,a){return n=Sn(6,n,null,r),n.lanes=a,n}function mf(n,r,a){return r=Sn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ha=[],Fa=0,Sc=null,Rc=0,Qn=[],Yn=0,Fs=null,Zi=1,Ji="";function Gs(n,r){Ha[Fa++]=Rc,Ha[Fa++]=Sc,Sc=n,Rc=r}function Ry(n,r,a){Qn[Yn++]=Zi,Qn[Yn++]=Ji,Qn[Yn++]=Fs,Fs=n;var l=Zi;n=Ji;var h=32-en(l)-1;l&=~(1<<h),a+=1;var f=32-en(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Zi=1<<32-en(r)+h|a<<h|l,Ji=f+n}else Zi=1<<f|a<<h|l,Ji=n}function gf(n){n.return!==null&&(Gs(n,1),Ry(n,1,0))}function yf(n){for(;n===Sc;)Sc=Ha[--Fa],Ha[Fa]=null,Rc=Ha[--Fa],Ha[Fa]=null;for(;n===Fs;)Fs=Qn[--Yn],Qn[Yn]=null,Ji=Qn[--Yn],Qn[Yn]=null,Zi=Qn[--Yn],Qn[Yn]=null}var hn=null,ft=null,Ge=!1,Qs=null,Ti=!1,wf=Error(s(519));function Ys(n){var r=Error(s(418,""));throw El(Fn(r,n)),wf}function Iy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Nt]=n,r[At]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Oe(Ql[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ca(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Os(r,l.value,l.defaultValue,l.children),Ca(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Fv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=ah),r=!0):r=!1,r||Ys(n)}function Cy(n){for(hn=n.return;hn;)switch(hn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:hn=hn.return}}function _l(n){if(n!==hn)return!1;if(!Ge)return Cy(n),Ge=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Mp(n.type,n.memoizedProps)),a=!a),a&&ft&&Ys(n),Cy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ft=ri(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ft=null}}else r===27?(r=ft,Gr(n.type)?(n=Up,Up=null,ft=n):ft=r):ft=hn?ri(n.stateNode.nextSibling):null;return!0}function bl(){ft=hn=null,Ge=!1}function xy(){var n=Qs;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),Qs=null),n}function El(n){Qs===null?Qs=[n]:Qs.push(n)}var vf=W(null),Ks=null,er=null;function Dr(n,r,a){ne(vf,r._currentValue),r._currentValue=a}function tr(n){n._currentValue=vf.current,se(vf)}function _f(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function bf(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),_f(f.return,a,n),l||(v=null);break e}f=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),_f(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Tl(n,r,a,l){n=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;An(h.pendingProps.value,v.value)||(n!==null?n.push(b):n=[b])}}else if(h===Lt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Zl):n=[Zl])}h=h.return}n!==null&&bf(r,n,a,l),r.flags|=262144}function Ic(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $s(n){Ks=n,er=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return Dy(Ks,n)}function Cc(n,r){return Ks===null&&$s(n),Dy(n,r)}function Dy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},er===null){if(n===null)throw Error(s(308));er=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else er=er.next=r;return a}var e1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},t1=i.unstable_scheduleCallback,n1=i.unstable_NormalPriority,Mt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new e1,data:new Map,refCount:0}}function Al(n){n.refCount--,n.refCount===0&&t1(n1,function(){n.controller.abort()})}var Sl=null,Tf=0,Ga=0,Qa=null;function i1(n,r){if(Sl===null){var a=Sl=[];Tf=0,Ga=Sp(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,r.then(Ny,Ny),r}function Ny(){if(--Tf===0&&Sl!==null){Qa!==null&&(Qa.status="fulfilled");var n=Sl;Sl=null,Ga=0,Qa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function r1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Oy=H.S;H.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&i1(n,r),Oy!==null&&Oy(n,r)};var Xs=W(null);function Af(){var n=Xs.current;return n!==null?n:rt.pooledCache}function xc(n,r){r===null?ne(Xs,Xs.current):ne(Xs,r.pool)}function ky(){var n=Af();return n===null?null:{parent:Mt._currentValue,pool:n}}var Rl=Error(s(460)),My=Error(s(474)),Dc=Error(s(542)),Sf={then:function(){}};function Vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Nc(){}function Py(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Nc,Nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Uy(n),n;default:if(typeof r.status=="string")r.then(Nc,Nc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Uy(n),n}throw Il=r,Rl}}var Il=null;function Ly(){if(Il===null)throw Error(s(459));var n=Il;return Il=null,n}function Uy(n){if(n===Rl||n===Dc)throw Error(s(483))}var Nr=!1;function Rf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function kr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Tc(n),Ay(n,null,a),r}return Ec(n,l,r,a),Tc(n)}function Cl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,nl(n,a)}}function Cf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var xf=!1;function xl(){if(xf){var n=Qa;if(n!==null)throw n}}function Dl(n,r,a,l){xf=!1;var h=n.updateQueue;Nr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,z=I.next;I.next=null,v===null?f=z:v.next=z,v=I;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==v&&(b===null?Q.firstBaseUpdate=z:b.next=z,Q.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;v=0,Q=z=I=null,b=f;do{var j=b.lane&-536870913,q=j!==b.lane;if(q?(ze&j)===j:(l&j)===j){j!==0&&j===Ga&&(xf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=n,ye=b;j=r;var et=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){Z=Te.call(et,Z,j);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,j=typeof Te=="function"?Te.call(et,Z,j):Te,j==null)break e;Z=_({},Z,j);break e;case 2:Nr=!0}}j=b.callback,j!==null&&(n.flags|=64,q&&(n.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(z=Q=q,I=Z):Q=Q.next=q,v|=j;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Br|=v,n.lanes=v,n.memoizedState=Z}}function zy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function jy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)zy(a[n],r)}var Ya=W(null),Oc=W(0);function By(n,r){n=lr,ne(Oc,n),ne(Ya,r),lr=n|r.baseLanes}function Df(){ne(Oc,lr),ne(Ya,Ya.current)}function Nf(){lr=Oc.current,se(Ya),se(Oc)}var Mr=0,Ce=null,Ze=null,Rt=null,kc=!1,Ka=!1,Ws=!1,Mc=0,Nl=0,$a=null,s1=0;function yt(){throw Error(s(321))}function Of(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!An(n[a],r[a]))return!1;return!0}function kf(n,r,a,l,h,f){return Mr=f,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=n===null||n.memoizedState===null?Aw:Sw,Ws=!1,f=a(l,h),Ws=!1,Ka&&(f=Hy(r,a,l,h)),qy(n),f}function qy(n){H.H=jc;var r=Ze!==null&&Ze.next!==null;if(Mr=0,Rt=Ze=Ce=null,kc=!1,Nl=0,$a=null,r)throw Error(s(300));n===null||jt||(n=n.dependencies,n!==null&&Ic(n)&&(jt=!0))}function Hy(n,r,a,l){Ce=n;var h=0;do{if(Ka&&($a=null),Nl=0,Ka=!1,25<=h)throw Error(s(301));if(h+=1,Rt=Ze=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=d1,f=r(a,l)}while(Ka);return f}function a1(){var n=H.H,r=n.useState()[0];return r=typeof r.then=="function"?Ol(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ce.flags|=1024),r}function Mf(){var n=Mc!==0;return Mc=0,n}function Vf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Pf(n){if(kc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}kc=!1}Mr=0,Rt=Ze=Ce=null,Ka=!1,Nl=Mc=0,$a=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function It(){if(Ze===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=Rt===null?Ce.memoizedState:Rt.next;if(r!==null)Rt=r,Ze=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Ce.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(n){var r=Nl;return Nl+=1,$a===null&&($a=[]),n=Py($a,n,r),r=Ce,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?Aw:Sw),n}function Vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ol(n);if(n.$$typeof===oe)return tn(n)}throw Error(s(438,String(n)))}function Uf(n){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lf(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function nr(n,r){return typeof r=="function"?r(n):r}function Pc(n){var r=It();return zf(r,Ze,n)}function zf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=n.baseState,h===null)n.memoizedState=f;else{r=h.next;var b=v=null,I=null,z=r,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(ze&Z)===Z:(Mr&Z)===Z){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ga&&(Q=!0);else if((Mr&j)===j){z=z.next,j===Ga&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=Z,v=f):I=I.next=Z,Ce.lanes|=j,Br|=j;Z=z.action,Ws&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else j={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=j,v=f):I=I.next=j,Ce.lanes|=Z,Br|=Z;z=z.next}while(z!==null&&z!==r);if(I===null?v=f:I.next=b,!An(f,n.memoizedState)&&(jt=!0,Q&&(a=Qa,a!==null)))throw a;n.memoizedState=f,n.baseState=v,n.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function jf(n){var r=It(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=n(f,v.action),v=v.next;while(v!==h);An(f,r.memoizedState)||(jt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Fy(n,r,a){var l=Ce,h=It(),f=Ge;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!An((Ze||h).memoizedState,a);v&&(h.memoizedState=a,jt=!0),h=h.queue;var b=Yy.bind(null,l,h,n);if(kl(2048,8,b,[n]),h.getSnapshot!==r||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,Lc(),Qy.bind(null,l,h,a,r),null),rt===null)throw Error(s(349));f||(Mr&124)!==0||Gy(l,r,a)}return a}function Gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Lf(),Ce.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Qy(n,r,a,l){r.value=a,r.getSnapshot=l,Ky(r)&&$y(n)}function Yy(n,r,a){return a(function(){Ky(r)&&$y(n)})}function Ky(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!An(n,a)}catch{return!0}}function $y(n){var r=Ba(n,2);r!==null&&Dn(r,n,2)}function Bf(n){var r=gn();if(typeof n=="function"){var a=n;if(n=a(),Ws){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:n},r}function Xy(n,r,a,l){return n.baseState=a,zf(n,Ze,typeof l=="function"?l:nr)}function o1(n,r,a,l,h){if(zc(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Wy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Wy(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var f=H.T,v={};H.T=v;try{var b=a(h,l),I=H.S;I!==null&&I(v,b),Zy(n,r,b)}catch(z){qf(n,r,z)}finally{H.T=f}}else try{f=a(h,l),Zy(n,r,f)}catch(z){qf(n,r,z)}}function Zy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(n,r,l)},function(l){return qf(n,r,l)}):Jy(n,r,a)}function Jy(n,r,a){r.status="fulfilled",r.value=a,ew(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Wy(n,a)))}function qf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ew(r),r=r.next;while(r!==l)}n.action=null}function ew(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function tw(n,r){return r}function nw(n,r){if(Ge){var a=rt.formState;if(a!==null){e:{var l=Ce;if(Ge){if(ft){t:{for(var h=ft,f=Ti;h.nodeType!==8;){if(!f){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=ri(h.nextSibling),l=h.data==="F!";break e}}Ys(l)}l=!1}l&&(r=a[0])}}return a=gn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tw,lastRenderedState:r},a.queue=l,a=bw.bind(null,Ce,l),l.dispatch=a,l=Bf(!1),f=Yf.bind(null,Ce,!1,l.queue),l=gn(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=o1.bind(null,Ce,h,f,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function iw(n){var r=It();return rw(r,Ze,n)}function rw(n,r,a){if(r=zf(n,r,tw)[0],n=Pc(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ol(r)}catch(v){throw v===Rl?Dc:v}else l=r;r=It();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Xa(9,Lc(),l1.bind(null,h,a),null)),[l,f,n]}function l1(n,r){n.action=r}function sw(n){var r=It(),a=Ze;if(a!==null)return rw(r,a,n);It(),r=r.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Xa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Lf(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Lc(){return{destroy:void 0,resource:void 0}}function aw(){return It().memoizedState}function Uc(n,r,a,l){var h=gn();l=l===void 0?null:l,Ce.flags|=n,h.memoizedState=Xa(1|r,Lc(),a,l)}function kl(n,r,a,l){var h=It();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&Of(l,Ze.memoizedState.deps)?h.memoizedState=Xa(r,f,a,l):(Ce.flags|=n,h.memoizedState=Xa(1|r,f,a,l))}function ow(n,r){Uc(8390656,8,n,r)}function lw(n,r){kl(2048,8,n,r)}function uw(n,r){return kl(4,2,n,r)}function cw(n,r){return kl(4,4,n,r)}function hw(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function dw(n,r,a){a=a!=null?a.concat([n]):null,kl(4,4,hw.bind(null,r,n),a)}function Hf(){}function fw(n,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Of(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function pw(n,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Of(r,l[1]))return l[0];if(l=n(),Ws){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l}function Ff(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=yv(),Ce.lanes|=n,Br|=n,a)}function mw(n,r,a,l){return An(a,r)?a:Ya.current!==null?(n=Ff(n,a,l),An(n,r)||(jt=!0),n):(Mr&42)===0?(jt=!0,n.memoizedState=a):(n=yv(),Ce.lanes|=n,Br|=n,r)}function gw(n,r,a,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var v=H.T,b={};H.T=b,Yf(n,!1,r,a);try{var I=h(),z=H.S;if(z!==null&&z(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=r1(I,l);Ml(n,r,Q,xn(n))}else Ml(n,r,l,xn(n))}catch(Z){Ml(n,r,{then:function(){},status:"rejected",reason:Z},xn())}finally{te.p=f,H.T=v}}function u1(){}function Gf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=yw(n).queue;gw(n,h,r,he,a===null?u1:function(){return ww(n),a(l)})}function yw(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function ww(n){var r=yw(n).next.queue;Ml(n,r,{},xn())}function Qf(){return tn(Zl)}function vw(){return It().memoizedState}function _w(){return It().memoizedState}function c1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();n=Or(a);var l=kr(r,n,a);l!==null&&(Dn(l,r,a),Cl(l,r,a)),r={cache:Ef()},n.payload=r;return}r=r.return}}function h1(n,r,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zc(n)?Ew(r,a):(a=df(n,r,a,l),a!==null&&(Dn(a,n,l),Tw(a,r,l)))}function bw(n,r,a){var l=xn();Ml(n,r,a,l)}function Ml(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(n))Ew(r,h);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,b=f(v,a);if(h.hasEagerState=!0,h.eagerState=b,An(b,v))return Ec(n,r,h,0),rt===null&&bc(),!1}catch{}finally{}if(a=df(n,r,h,l),a!==null)return Dn(a,n,l),Tw(a,r,l),!0}return!1}function Yf(n,r,a,l){if(l={lane:2,revertLane:Sp(),action:l,hasEagerState:!1,eagerState:null,next:null},zc(n)){if(r)throw Error(s(479))}else r=df(n,a,l,2),r!==null&&Dn(r,n,2)}function zc(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function Ew(n,r){Ka=kc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Tw(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,nl(n,a)}}var jc={readContext:tn,use:Vc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Aw={readContext:tn,use:Vc,useCallback:function(n,r){return gn().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:ow,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Uc(4194308,4,hw.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Uc(4194308,4,n,r)},useInsertionEffect:function(n,r){Uc(4,2,n,r)},useMemo:function(n,r){var a=gn();r=r===void 0?null:r;var l=n();if(Ws){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=gn();if(a!==void 0){var h=a(r);if(Ws){En(!0);try{a(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=h1.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var r=gn();return n={current:n},r.memoizedState=n},useState:function(n){n=Bf(n);var r=n.queue,a=bw.bind(null,Ce,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(n,r){var a=gn();return Ff(a,n,r)},useTransition:function(){var n=Bf(!1);return n=gw.bind(null,Ce,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ce,h=gn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(ze&124)!==0||Gy(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,ow(Yy.bind(null,l,f,n),[n]),l.flags|=2048,Xa(9,Lc(),Qy.bind(null,l,f,a,r),null),a},useId:function(){var n=gn(),r=rt.identifierPrefix;if(Ge){var a=Ji,l=Zi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=s1++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Qf,useFormState:nw,useActionState:nw,useOptimistic:function(n){var r=gn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Yf.bind(null,Ce,!0,a),a.dispatch=r,[n,r]},useMemoCache:Uf,useCacheRefresh:function(){return gn().memoizedState=c1.bind(null,Ce)}},Sw={readContext:tn,use:Vc,useCallback:fw,useContext:tn,useEffect:lw,useImperativeHandle:dw,useInsertionEffect:uw,useLayoutEffect:cw,useMemo:pw,useReducer:Pc,useRef:aw,useState:function(){return Pc(nr)},useDebugValue:Hf,useDeferredValue:function(n,r){var a=It();return mw(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Pc(nr)[0],r=It().memoizedState;return[typeof n=="boolean"?n:Ol(n),r]},useSyncExternalStore:Fy,useId:vw,useHostTransitionStatus:Qf,useFormState:iw,useActionState:iw,useOptimistic:function(n,r){var a=It();return Xy(a,Ze,n,r)},useMemoCache:Uf,useCacheRefresh:_w},d1={readContext:tn,use:Vc,useCallback:fw,useContext:tn,useEffect:lw,useImperativeHandle:dw,useInsertionEffect:uw,useLayoutEffect:cw,useMemo:pw,useReducer:jf,useRef:aw,useState:function(){return jf(nr)},useDebugValue:Hf,useDeferredValue:function(n,r){var a=It();return Ze===null?Ff(a,n,r):mw(a,Ze.memoizedState,n,r)},useTransition:function(){var n=jf(nr)[0],r=It().memoizedState;return[typeof n=="boolean"?n:Ol(n),r]},useSyncExternalStore:Fy,useId:vw,useHostTransitionStatus:Qf,useFormState:sw,useActionState:sw,useOptimistic:function(n,r){var a=It();return Ze!==null?Xy(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:_w},Wa=null,Vl=0;function Bc(n){var r=Vl;return Vl+=1,Wa===null&&(Wa=[]),Py(Wa,n,r)}function Pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function qc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Rw(n){var r=n._init;return r(n._payload)}function Iw(n){function r(P,N){if(n){var U=P.deletions;U===null?(P.deletions=[N],P.flags|=16):U.push(N)}}function a(P,N){if(!n)return null;for(;N!==null;)r(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Wi(P,N),P.index=0,P.sibling=null,P}function f(P,N,U){return P.index=U,n?(U=P.alternate,U!==null?(U=U.index,U<N?(P.flags|=67108866,N):U):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function v(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,N,U,$){return N===null||N.tag!==6?(N=pf(U,P.mode,$),N.return=P,N):(N=h(N,U),N.return=P,N)}function I(P,N,U,$){var ce=U.type;return ce===K?Q(P,N,U.props.children,$,U.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===T&&Rw(ce)===N.type)?(N=h(N,U.props),Pl(N,U),N.return=P,N):(N=Ac(U.type,U.key,U.props,null,P.mode,$),Pl(N,U),N.return=P,N)}function z(P,N,U,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=mf(U,P.mode,$),N.return=P,N):(N=h(N,U.children||[]),N.return=P,N)}function Q(P,N,U,$,ce){return N===null||N.tag!==7?(N=Hs(U,P.mode,$,ce),N.return=P,N):(N=h(N,U),N.return=P,N)}function Z(P,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=pf(""+N,P.mode,U),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return U=Ac(N.type,N.key,N.props,null,P.mode,U),Pl(U,N),U.return=P,U;case B:return N=mf(N,P.mode,U),N.return=P,N;case T:var $=N._init;return N=$(N._payload),Z(P,N,U)}if(ot(N)||x(N))return N=Hs(N,P.mode,U,null),N.return=P,N;if(typeof N.then=="function")return Z(P,Bc(N),U);if(N.$$typeof===oe)return Z(P,Cc(P,N),U);qc(P,N)}return null}function j(P,N,U,$){var ce=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:b(P,N,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===ce?I(P,N,U,$):null;case B:return U.key===ce?z(P,N,U,$):null;case T:return ce=U._init,U=ce(U._payload),j(P,N,U,$)}if(ot(U)||x(U))return ce!==null?null:Q(P,N,U,$,null);if(typeof U.then=="function")return j(P,N,Bc(U),$);if(U.$$typeof===oe)return j(P,N,Cc(P,U),$);qc(P,U)}return null}function q(P,N,U,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(U)||null,b(N,P,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return P=P.get($.key===null?U:$.key)||null,I(N,P,$,ce);case B:return P=P.get($.key===null?U:$.key)||null,z(N,P,$,ce);case T:var De=$._init;return $=De($._payload),q(P,N,U,$,ce)}if(ot($)||x($))return P=P.get(U)||null,Q(N,P,$,ce,null);if(typeof $.then=="function")return q(P,N,U,Bc($),ce);if($.$$typeof===oe)return q(P,N,U,Cc(N,$),ce);qc(N,$)}return null}function Te(P,N,U,$){for(var ce=null,De=null,de=N,ve=N=0,qt=null;de!==null&&ve<U.length;ve++){de.index>ve?(qt=de,de=null):qt=de.sibling;var He=j(P,de,U[ve],$);if(He===null){de===null&&(de=qt);break}n&&de&&He.alternate===null&&r(P,de),N=f(He,N,ve),De===null?ce=He:De.sibling=He,De=He,de=qt}if(ve===U.length)return a(P,de),Ge&&Gs(P,ve),ce;if(de===null){for(;ve<U.length;ve++)de=Z(P,U[ve],$),de!==null&&(N=f(de,N,ve),De===null?ce=de:De.sibling=de,De=de);return Ge&&Gs(P,ve),ce}for(de=l(de);ve<U.length;ve++)qt=q(de,P,ve,U[ve],$),qt!==null&&(n&&qt.alternate!==null&&de.delete(qt.key===null?ve:qt.key),N=f(qt,N,ve),De===null?ce=qt:De.sibling=qt,De=qt);return n&&de.forEach(function(Xr){return r(P,Xr)}),Ge&&Gs(P,ve),ce}function ye(P,N,U,$){if(U==null)throw Error(s(151));for(var ce=null,De=null,de=N,ve=N=0,qt=null,He=U.next();de!==null&&!He.done;ve++,He=U.next()){de.index>ve?(qt=de,de=null):qt=de.sibling;var Xr=j(P,de,He.value,$);if(Xr===null){de===null&&(de=qt);break}n&&de&&Xr.alternate===null&&r(P,de),N=f(Xr,N,ve),De===null?ce=Xr:De.sibling=Xr,De=Xr,de=qt}if(He.done)return a(P,de),Ge&&Gs(P,ve),ce;if(de===null){for(;!He.done;ve++,He=U.next())He=Z(P,He.value,$),He!==null&&(N=f(He,N,ve),De===null?ce=He:De.sibling=He,De=He);return Ge&&Gs(P,ve),ce}for(de=l(de);!He.done;ve++,He=U.next())He=q(de,P,ve,He.value,$),He!==null&&(n&&He.alternate!==null&&de.delete(He.key===null?ve:He.key),N=f(He,N,ve),De===null?ce=He:De.sibling=He,De=He);return n&&de.forEach(function(fA){return r(P,fA)}),Ge&&Gs(P,ve),ce}function et(P,N,U,$){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var ce=U.key;N!==null;){if(N.key===ce){if(ce=U.type,ce===K){if(N.tag===7){a(P,N.sibling),$=h(N,U.props.children),$.return=P,P=$;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===T&&Rw(ce)===N.type){a(P,N.sibling),$=h(N,U.props),Pl($,U),$.return=P,P=$;break e}a(P,N);break}else r(P,N);N=N.sibling}U.type===K?($=Hs(U.props.children,P.mode,$,U.key),$.return=P,P=$):($=Ac(U.type,U.key,U.props,null,P.mode,$),Pl($,U),$.return=P,P=$)}return v(P);case B:e:{for(ce=U.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(P,N.sibling),$=h(N,U.children||[]),$.return=P,P=$;break e}else{a(P,N);break}else r(P,N);N=N.sibling}$=mf(U,P.mode,$),$.return=P,P=$}return v(P);case T:return ce=U._init,U=ce(U._payload),et(P,N,U,$)}if(ot(U))return Te(P,N,U,$);if(x(U)){if(ce=x(U),typeof ce!="function")throw Error(s(150));return U=ce.call(U),ye(P,N,U,$)}if(typeof U.then=="function")return et(P,N,Bc(U),$);if(U.$$typeof===oe)return et(P,N,Cc(P,U),$);qc(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(P,N.sibling),$=h(N,U),$.return=P,P=$):(a(P,N),$=pf(U,P.mode,$),$.return=P,P=$),v(P)):a(P,N)}return function(P,N,U,$){try{Vl=0;var ce=et(P,N,U,$);return Wa=null,ce}catch(de){if(de===Rl||de===Dc)throw de;var De=Sn(29,de,null,P.mode);return De.lanes=$,De.return=P,De}finally{}}}var Za=Iw(!0),Cw=Iw(!1),Kn=W(null),Ai=null;function Vr(n){var r=n.alternate;ne(Vt,Vt.current&1),ne(Kn,n),Ai===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Ai=n)}function xw(n){if(n.tag===22){if(ne(Vt,Vt.current),ne(Kn,n),Ai===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ai=n)}}else Pr()}function Pr(){ne(Vt,Vt.current),ne(Kn,Kn.current)}function ir(n){se(Kn),Ai===n&&(Ai=null),se(Vt)}var Vt=W(0);function Hc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Lp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Kf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $f={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=xn(),h=Or(l);h.payload=r,a!=null&&(h.callback=a),r=kr(n,h,l),r!==null&&(Dn(r,n,l),Cl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=xn(),h=Or(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=kr(n,h,l),r!==null&&(Dn(r,n,l),Cl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=xn(),l=Or(a);l.tag=2,r!=null&&(l.callback=r),r=kr(n,l,a),r!==null&&(Dn(r,n,a),Cl(r,n,a))}};function Dw(n,r,a,l,h,f,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!wl(a,l)||!wl(h,f):!0}function Nw(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&$f.enqueueReplaceState(r,r.state,null)}function Zs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ow(n){Fc(n)}function kw(n){console.error(n)}function Mw(n){Fc(n)}function Gc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Vw(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(n,r,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,r)},a}function Pw(n){return n=Or(n),n.tag=3,n}function Lw(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;n.payload=function(){return h(f)},n.callback=function(){Vw(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Vw(r,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function f1(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Tl(r,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Ai===null?_p():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Sf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ep(n,l,h)),!1;case 22:return a.flags|=65536,l===Sf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ep(n,l,h)),!1}throw Error(s(435,a.tag))}return Ep(n,l,h),_p(),!1}if(Ge)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==wf&&(n=Error(s(422),{cause:l}),El(Fn(n,a)))):(l!==wf&&(r=Error(s(423),{cause:l}),El(Fn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Fn(l,a),h=Xf(n.stateNode,l,h),Cf(n,h),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=Fn(f,a),Hl===null?Hl=[f]:Hl.push(f),pt!==4&&(pt=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Xf(a.stateNode,l,n),Cf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Pw(h),Lw(h,n,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Uw=Error(s(461)),jt=!1;function Kt(n,r,a,l){r.child=n===null?Cw(r,null,a,l):Za(r,n.child,a,l)}function zw(n,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return $s(r),l=kf(n,r,a,v,f,h),b=Mf(),n!==null&&!jt?(Vf(n,r,h),rr(n,r,h)):(Ge&&b&&gf(r),r.flags|=1,Kt(n,r,l,h),r.child)}function jw(n,r,a,l,h){if(n===null){var f=a.type;return typeof f=="function"&&!ff(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Bw(n,r,f,l,h)):(n=Ac(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!rp(n,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(v,l)&&n.ref===r.ref)return rr(n,r,h)}return r.flags|=1,n=Wi(f,l),n.ref=r.ref,n.return=r,r.child=n}function Bw(n,r,a,l,h){if(n!==null){var f=n.memoizedProps;if(wl(f,l)&&n.ref===r.ref)if(jt=!1,r.pendingProps=l=f,rp(n,h))(n.flags&131072)!==0&&(jt=!0);else return r.lanes=n.lanes,rr(n,r,h)}return Wf(n,r,a,l,h)}function qw(n,r,a){var l=r.pendingProps,h=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(h=r.child=n.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Hw(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&xc(r,f!==null?f.cachePool:null),f!==null?By(r,f):Df(),xw(r);else return r.lanes=r.childLanes=536870912,Hw(n,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(xc(r,f.cachePool),By(r,f),Pr(),r.memoizedState=null):(n!==null&&xc(r,null),Df(),Pr());return Kt(n,r,h,a),r.child}function Hw(n,r,a,l){var h=Af();return h=h===null?null:{parent:Mt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&xc(r,null),Df(),xw(r),n!==null&&Tl(n,r,l,!0),null}function Qc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Wf(n,r,a,l,h){return $s(r),a=kf(n,r,a,l,void 0,h),l=Mf(),n!==null&&!jt?(Vf(n,r,h),rr(n,r,h)):(Ge&&l&&gf(r),r.flags|=1,Kt(n,r,a,h),r.child)}function Fw(n,r,a,l,h,f){return $s(r),r.updateQueue=null,a=Hy(r,l,a,h),qy(n),l=Mf(),n!==null&&!jt?(Vf(n,r,f),rr(n,r,f)):(Ge&&l&&gf(r),r.flags|=1,Kt(n,r,a,f),r.child)}function Gw(n,r,a,l,h){if($s(r),r.stateNode===null){var f=qa,v=a.contextType;typeof v=="object"&&v!==null&&(f=tn(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$f,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Rf(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?tn(v):qa,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&$f.enqueueReplaceState(f,f.state,null),Dl(r,l,f,h),xl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var b=r.memoizedProps,I=Zs(a,b);f.props=I;var z=f.context,Q=a.contextType;v=qa,typeof Q=="object"&&Q!==null&&(v=tn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==v)&&Nw(r,f,l,v),Nr=!1;var j=r.memoizedState;f.state=j,Dl(r,l,f,h),xl(),z=r.memoizedState,b||j!==z||Nr?(typeof Z=="function"&&(Kf(r,a,Z,l),z=r.memoizedState),(I=Nr||Dw(r,a,I,l,j,z,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),f.props=l,f.state=z,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,If(n,r),v=r.memoizedProps,Q=Zs(a,v),f.props=Q,Z=r.pendingProps,j=f.context,z=a.contextType,I=qa,typeof z=="object"&&z!==null&&(I=tn(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||j!==I)&&Nw(r,f,l,I),Nr=!1,j=r.memoizedState,f.state=j,Dl(r,l,f,h),xl();var q=r.memoizedState;v!==Z||j!==q||Nr||n!==null&&n.dependencies!==null&&Ic(n.dependencies)?(typeof b=="function"&&(Kf(r,a,b,l),q=r.memoizedState),(Q=Nr||Dw(r,a,Q,l,j,q,I)||n!==null&&n.dependencies!==null&&Ic(n.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,Qc(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=Za(r,n.child,null,h),r.child=Za(r,null,a,h)):Kt(n,r,a,h),r.memoizedState=f.state,n=r.child):n=rr(n,r,h),n}function Qw(n,r,a,l){return bl(),r.flags|=256,Kt(n,r,a,l),r.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(n){return{baseLanes:n,cachePool:ky()}}function ep(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=$n),n}function Yw(n,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(h?Vr(r):Pr(),Ge){var b=ft,I;if(I=b){e:{for(I=b,b=Ti;I.nodeType!==8;){if(!b){b=null;break e}if(I=ri(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Fs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},I=Sn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,hn=r,ft=null,I=!0):I=!1}I||Ys(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Lp(b)?r.lanes=32:r.lanes=536870912,null;ir(r)}return b=l.children,l=l.fallback,h?(Pr(),h=r.mode,b=Yc({mode:"hidden",children:b},h),l=Hs(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=Jf(a),h.childLanes=ep(n,v,a),r.memoizedState=Zf,l):(Vr(r),tp(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(f)r.flags&256?(Vr(r),r.flags&=-257,r=np(n,r,a)):r.memoizedState!==null?(Pr(),r.child=n.child,r.flags|=128,r=null):(Pr(),h=l.fallback,b=r.mode,l=Yc({mode:"visible",children:l.children},b),h=Hs(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Za(r,n.child,null,a),l=r.child,l.memoizedState=Jf(a),l.childLanes=ep(n,v,a),r.memoizedState=Zf,r=h);else if(Vr(r),Lp(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,El({value:l,source:null,stack:null}),r=np(n,r,a)}else if(jt||Tl(n,r,a,!1),v=(a&n.childLanes)!==0,jt||v){if(v=rt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Tr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ba(n,l),Dn(v,n,l),Uw;b.data==="$?"||_p(),r=np(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,ft=ri(b.nextSibling),hn=r,Ge=!0,Qs=null,Ti=!1,n!==null&&(Qn[Yn++]=Zi,Qn[Yn++]=Ji,Qn[Yn++]=Fs,Zi=n.id,Ji=n.overflow,Fs=r),r=tp(r,l.children),r.flags|=4096);return r}return h?(Pr(),h=l.fallback,b=r.mode,I=n.child,z=I.sibling,l=Wi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?h=Wi(z,h):(h=Hs(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=n.child.memoizedState,b===null?b=Jf(a):(I=b.cachePool,I!==null?(z=Mt._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=ky(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=ep(n,v,a),r.memoizedState=Zf,l):(Vr(r),a=n.child,n=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function tp(n,r){return r=Yc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Yc(n,r){return n=Sn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function np(n,r,a){return Za(r,n.child,null,a),n=tp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Kw(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),_f(n.return,r,a)}function ip(n,r,a,l,h){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function $w(n,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(Kt(n,r,l.children,a),l=Vt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kw(n,a,r);else if(n.tag===19)Kw(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ne(Vt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&Hc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ip(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Hc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}ip(r,!0,a,null,f);break;case"together":ip(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Tl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Wi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Wi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function rp(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ic(n)))}function p1(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Dr(r,Mt,n.memoizedState.cache),bl();break;case 27:case 5:Er(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Yw(n,r,a):(Vr(r),n=rr(n,r,a),n!==null?n.sibling:null);Vr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Tl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return $w(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Vt,Vt.current),l)break;return null;case 22:case 23:return r.lanes=0,qw(n,r,a);case 24:Dr(r,Mt,n.memoizedState.cache)}return rr(n,r,a)}function Xw(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)jt=!0;else{if(!rp(n,a)&&(r.flags&128)===0)return jt=!1,p1(n,r,a);jt=(n.flags&131072)!==0}else jt=!1,Ge&&(r.flags&1048576)!==0&&Ry(r,Rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")ff(l)?(n=Zs(l,n),r.tag=1,r=Gw(null,r,l,n,a)):(r.tag=0,r=Wf(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===Ie){r.tag=11,r=zw(null,r,l,n,a);break e}else if(h===V){r.tag=14,r=jw(null,r,l,n,a);break e}}throw r=Tt(l)||l,Error(s(306,r,""))}}return r;case 0:return Wf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Zs(l,r.pendingProps),Gw(n,r,l,h,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,If(n,r),Dl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Dr(r,Mt,l),l!==f.cache&&bf(r,[Mt],a,!0),xl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Qw(n,r,l,a);break e}else if(l!==h){h=Fn(Error(s(424)),r),El(h),r=Qw(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=ri(n.firstChild),hn=r,Ge=!0,Qs=null,Ti=!0,a=Cw(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bl(),l===h){r=rr(n,r,a);break e}Kt(n,r,l,a)}r=r.child}return r;case 26:return Qc(n,r),n===null?(a=e_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=oh(Se.current).createElement(a),l[Nt]=r,l[At]=n,Xt(l,a,n),gt(l),r.stateNode=l):r.memoizedState=e_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Er(r),n===null&&Ge&&(l=r.stateNode=Wv(r.type,r.pendingProps,Se.current),hn=r,Ti=!0,h=ft,Gr(r.type)?(Up=h,ft=ri(l.firstChild)):ft=h),Kt(n,r,r.pendingProps.children,a),Qc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ge&&((h=l=ft)&&(l=q1(l,r.type,r.pendingProps,Ti),l!==null?(r.stateNode=l,hn=r,ft=ri(l.firstChild),Ti=!1,h=!0):h=!1),h||Ys(r)),Er(r),h=r.type,f=r.pendingProps,v=n!==null?n.memoizedProps:null,l=f.children,Mp(h,f)?l=null:v!==null&&Mp(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=kf(n,r,a1,null,null,a),Zl._currentValue=h),Qc(n,r),Kt(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=ft)&&(a=H1(a,r.pendingProps,Ti),a!==null?(r.stateNode=a,hn=r,ft=null,n=!0):n=!1),n||Ys(r)),null;case 13:return Yw(n,r,a);case 4:return it(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Za(r,null,l,a):Kt(n,r,l,a),r.child;case 11:return zw(n,r,r.type,r.pendingProps,a);case 7:return Kt(n,r,r.pendingProps,a),r.child;case 8:return Kt(n,r,r.pendingProps.children,a),r.child;case 12:return Kt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),Kt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,$s(r),h=tn(h),l=l(h),r.flags|=1,Kt(n,r,l,a),r.child;case 14:return jw(n,r,r.type,r.pendingProps,a);case 15:return Bw(n,r,r.type,r.pendingProps,a);case 19:return $w(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Wi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return qw(n,r,a);case 24:return $s(r),l=tn(Mt),n===null?(h=Af(),h===null&&(h=rt,f=Ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Rf(r),Dr(r,Mt,h)):((n.lanes&a)!==0&&(If(n,r),Dl(r,null,null,a),xl()),h=n.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Dr(r,Mt,l)):(l=f.cache,Dr(r,Mt,l),l!==h.cache&&bf(r,[Mt],a,!0))),Kt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function sr(n){n.flags|=4}function Ww(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!s_(r)){if(r=Kn.current,r!==null&&((ze&4194048)===ze?Ai!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Ai))throw Il=Sf,My;n.flags|=8192}}function Kc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?el():536870912,n.lanes|=r,no|=r)}function Ll(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function m1(n,r,a){var l=r.pendingProps;switch(yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),tr(Mt),hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_l(r)?sr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xy())),ct(r),null;case 26:return a=r.memoizedState,n===null?(sr(r),a!==null?(ct(r),Ww(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(sr(r),ct(r),Ww(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&sr(r),ct(r),r.flags&=-16777217),null;case 27:Ui(r),a=Se.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=pe.current,_l(r)?Iy(r):(n=Wv(h,l,a),r.stateNode=n,sr(r))}return ct(r),null;case 5:if(Ui(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=pe.current,_l(r))Iy(r);else{switch(h=oh(Se.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Nt]=r,n[At]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&sr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&sr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Se.current,_l(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Nt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fv(n.nodeValue,a)),n||Ys(r)}else n=oh(n).createTextNode(l),n[Nt]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=_l(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=r}else bl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),h=!1}else h=xy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ir(r),r):(ir(r),null)}if(ir(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Kc(r,r.updateQueue),ct(r),null;case 4:return hi(),n===null&&xp(r.stateNode.containerInfo),ct(r),null;case 10:return tr(r.type),ct(r),null;case 19:if(se(Vt),h=r.memoizedState,h===null)return ct(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)Ll(h,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=Hc(n),f!==null){for(r.flags|=128,Ll(h,!1),n=f.updateQueue,r.updateQueue=n,Kc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Sy(a,n),a=a.sibling;return ne(Vt,Vt.current&1|2),r.child}n=n.sibling}h.tail!==null&&Un()>Wc&&(r.flags|=128,l=!0,Ll(h,!1),r.lanes=4194304)}else{if(!l)if(n=Hc(f),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Kc(r,n),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ge)return ct(r),null}else 2*Un()-h.renderingStartTime>Wc&&a!==536870912&&(r.flags|=128,l=!0,Ll(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(n=h.last,n!==null?n.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Un(),r.sibling=null,n=Vt.current,ne(Vt,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return ir(r),Nf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Kc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&se(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),tr(Mt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function g1(n,r){switch(yf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return tr(Mt),hi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ui(r),null;case 13:if(ir(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));bl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return se(Vt),null;case 4:return hi(),null;case 10:return tr(r.type),null;case 22:case 23:return ir(r),Nf(),n!==null&&se(Xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return tr(Mt),null;case 25:return null;default:return null}}function Zw(n,r){switch(yf(r),r.tag){case 3:tr(Mt),hi();break;case 26:case 27:case 5:Ui(r);break;case 4:hi();break;case 13:ir(r);break;case 19:se(Vt);break;case 10:tr(r.type);break;case 22:case 23:ir(r),Nf(),n!==null&&se(Xs);break;case 24:tr(Mt)}}function Ul(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){nt(r,r.return,b)}}function Lr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&n)===n){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var I=a,z=b;try{z()}catch(Q){nt(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){nt(r,r.return,Q)}}function Jw(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{jy(r,a)}catch(l){nt(n,n.return,l)}}}function ev(n,r,a){a.props=Zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function zl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){nt(n,r,h)}}function Si(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(n,r,h)}else a.current=null}function tv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(n,n.return,h)}}function sp(n,r,a){try{var l=n.stateNode;L1(l,n.type,a,r),l[At]=r}catch(h){nt(n,n.return,h)}}function nv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gr(n.type)||n.tag===4}function ap(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function op(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ah));else if(l!==4&&(l===27&&Gr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(op(n,r,a),n=n.sibling;n!==null;)op(n,r,a),n=n.sibling}function $c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Gr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for($c(n,r,a),n=n.sibling;n!==null;)$c(n,r,a),n=n.sibling}function iv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Xt(r,l,a),r[Nt]=n,r[At]=a}catch(f){nt(n,n.return,f)}}var ar=!1,wt=!1,lp=!1,rv=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function y1(n,r){if(n=n.containerInfo,Op=fh,n=my(n),af(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,z=0,Q=0,Z=n,j=null;t:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(b=v+h),Z!==f||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)j=Z,Z=q;for(;;){if(Z===n)break t;if(j===a&&++z===h&&(b=v),j===f&&++Q===l&&(I=v),(q=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=q}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(kp={focusedElem:n,selectionRange:a},fh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,f=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Te=Zs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){nt(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Pp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}}function sv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(n,a),l&4&&Ul(5,a);break;case 1:if(Ur(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){nt(a,a.return,v)}else{var h=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&Jw(a),l&512&&zl(a,a.return);break;case 3:if(Ur(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{jy(n,r)}catch(v){nt(a,a.return,v)}}break;case 27:r===null&&l&4&&iv(a);case 26:case 5:Ur(n,a),r===null&&l&4&&tv(a),l&512&&zl(a,a.return);break;case 12:Ur(n,a);break;case 13:Ur(n,a),l&4&&lv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=R1.bind(null,a),F1(n,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){r=r!==null&&r.memoizedState!==null||wt,h=ar;var f=wt;ar=l,(wt=r)&&!f?zr(n,a,(a.subtreeFlags&8772)!==0):Ur(n,a),ar=h,wt=f}break;case 30:break;default:Ur(n,a)}}function av(n){var r=n.alternate;r!==null&&(n.alternate=null,av(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,yn=!1;function or(n,r,a){for(a=a.child;a!==null;)ov(n,r,a),a=a.sibling}function ov(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:wt||Si(a,r),or(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Si(a,r);var l=ut,h=yn;Gr(a.type)&&(ut=a.stateNode,yn=!1),or(n,r,a),Kl(a.stateNode),ut=l,yn=h;break;case 5:wt||Si(a,r);case 6:if(l=ut,h=yn,ut=null,or(n,r,a),ut=l,yn=h,ut!==null)if(yn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){nt(a,r,f)}else try{ut.removeChild(a.stateNode)}catch(f){nt(a,r,f)}break;case 18:ut!==null&&(yn?(n=ut,$v(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),nu(n)):$v(ut,a.stateNode));break;case 4:l=ut,h=yn,ut=a.stateNode.containerInfo,yn=!0,or(n,r,a),ut=l,yn=h;break;case 0:case 11:case 14:case 15:wt||Lr(2,a,r),wt||Lr(4,a,r),or(n,r,a);break;case 1:wt||(Si(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ev(a,r,l)),or(n,r,a);break;case 21:or(n,r,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,or(n,r,a),wt=l;break;default:or(n,r,a)}}function lv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nu(n)}catch(a){nt(r,r.return,a)}}function w1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new rv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new rv),r;default:throw Error(s(435,n.tag))}}function up(n,r){var a=w1(n);r.forEach(function(l){var h=I1.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=n,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Gr(b.type)){ut=b.stateNode,yn=!1;break e}break;case 5:ut=b.stateNode,yn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,yn=!0;break e}b=b.return}if(ut===null)throw Error(s(160));ov(f,v,h),ut=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)uv(r,n),r=r.sibling}var ii=null;function uv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(r,n),In(n),l&4&&(Lr(3,n,n.return),Ul(3,n),Lr(5,n,n.return));break;case 1:Rn(r,n),In(n),l&512&&(wt||a===null||Si(a,a.return)),l&64&&ar&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(Rn(r,n),In(n),l&512&&(wt||a===null||Si(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Is]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Xt(f,l,a),f[Nt]=n,gt(f),l=f;break e;case"link":var v=i_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}f=h.createElement(l),Xt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=i_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}f=h.createElement(l),Xt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Nt]=n,gt(f),l=f}n.stateNode=l}else r_(h,n.type,n.stateNode);else n.stateNode=n_(h,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?r_(h,n.type,n.stateNode):n_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&sp(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,n),In(n),l&512&&(wt||a===null||Si(a,a.return)),a!==null&&l&4&&sp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,n),In(n),l&512&&(wt||a===null||Si(a,a.return)),n.flags&32){h=n.stateNode;try{jn(h,"")}catch(q){nt(n,n.return,q)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,sp(n,h,a!==null?a.memoizedProps:h)),l&1024&&(lp=!0);break;case 6:if(Rn(r,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(q){nt(n,n.return,q)}}break;case 3:if(ch=null,h=ii,ii=lh(r.containerInfo),Rn(r,n),ii=h,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(r.containerInfo)}catch(q){nt(n,n.return,q)}lp&&(lp=!1,cv(n));break;case 4:l=ii,ii=lh(n.stateNode.containerInfo),Rn(r,n),In(n),ii=l;break;case 12:Rn(r,n),In(n);break;case 13:Rn(r,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mp=Un()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,up(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=ar,Q=wt;if(ar=z||h,wt=Q||I,Rn(r,n),wt=Q,ar=z,In(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||ar||wt||Js(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var Z=I.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){nt(I,I.return,q)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){nt(I,I.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,up(n,a))));break;case 19:Rn(r,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,up(n,l)));break;case 30:break;case 21:break;default:Rn(r,n),In(n)}}function In(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=ap(n);$c(n,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(jn(v,""),a.flags&=-33);var b=ap(n);$c(n,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,z=ap(n);op(n,z,I);break;default:throw Error(s(161))}}catch(Q){nt(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;cv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ur(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)sv(n,r.alternate,r),r=r.sibling}function Js(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Js(r);break;case 1:Si(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&ev(r,r.return,a),Js(r);break;case 27:Kl(r.stateNode);case 26:case 5:Si(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}n=n.sibling}}function zr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:zr(h,f,a),Ul(4,f);break;case 1:if(zr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){nt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zy(I[h],b)}catch(z){nt(l,l.return,z)}}a&&v&64&&Jw(f),zl(f,f.return);break;case 27:iv(f);case 26:case 5:zr(h,f,a),a&&l===null&&v&4&&tv(f),zl(f,f.return);break;case 12:zr(h,f,a);break;case 13:zr(h,f,a),a&&v&4&&lv(h,f);break;case 22:f.memoizedState===null&&zr(h,f,a),zl(f,f.return);break;case 30:break;default:zr(h,f,a)}r=r.sibling}}function cp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Al(a))}function hp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Al(n))}function Ri(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hv(n,r,a,l),r=r.sibling}function hv(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(n,r,a,l),h&2048&&Ul(9,r);break;case 1:Ri(n,r,a,l);break;case 3:Ri(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Al(n)));break;case 12:if(h&2048){Ri(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){nt(r,r.return,I)}}else Ri(n,r,a,l);break;case 13:Ri(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?Ri(n,r,a,l):jl(n,r):f._visibility&2?Ri(n,r,a,l):(f._visibility|=2,Ja(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&cp(v,r);break;case 24:Ri(n,r,a,l),h&2048&&hp(r.alternate,r);break;default:Ri(n,r,a,l)}}function Ja(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=n,v=r,b=a,I=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(f,v,b,I,h),Ul(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ja(f,v,b,I,h):jl(f,v):(Q._visibility|=2,Ja(f,v,b,I,h)),h&&z&2048&&cp(v.alternate,v);break;case 24:Ja(f,v,b,I,h),h&&z&2048&&hp(v.alternate,v);break;default:Ja(f,v,b,I,h)}r=r.sibling}}function jl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:jl(a,l),h&2048&&cp(l.alternate,l);break;case 24:jl(a,l),h&2048&&hp(l.alternate,l);break;default:jl(a,l)}r=r.sibling}}var Bl=8192;function eo(n){if(n.subtreeFlags&Bl)for(n=n.child;n!==null;)dv(n),n=n.sibling}function dv(n){switch(n.tag){case 26:eo(n),n.flags&Bl&&n.memoizedState!==null&&iA(ii,n.memoizedState,n.memoizedProps);break;case 5:eo(n);break;case 3:case 4:var r=ii;ii=lh(n.stateNode.containerInfo),eo(n),ii=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,eo(n),Bl=r):eo(n));break;default:eo(n)}}function fv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ql(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,mv(l,n)}fv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:ql(n),n.flags&2048&&Lr(9,n,n.return);break;case 3:ql(n);break;case 12:ql(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Xc(n)):ql(n);break;default:ql(n)}}function Xc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,mv(l,n)}fv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),Xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(r));break;default:Xc(r)}n=n.sibling}}function mv(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=n;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(av(l),l===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var v1={getCacheForType:function(n){var r=tn(Mt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},_1=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Ne=null,ze=0,Xe=0,Cn=null,jr=!1,to=!1,dp=!1,lr=0,pt=0,Br=0,ea=0,fp=0,$n=0,no=0,Hl=null,wn=null,pp=!1,mp=0,Wc=1/0,Zc=null,qr=null,$t=0,Hr=null,io=null,ro=0,gp=0,yp=null,gv=null,Fl=0,wp=null;function xn(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(H.T!==null){var n=Ga;return n!==0?n:Sp()}return Ar()}function yv(){$n===0&&($n=(ze&536870912)===0||Ge?Jo():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),$n}function Dn(n,r,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(so(n,0),Fr(n,ze,$n,!1)),ji(n,a),(($e&2)===0||n!==rt)&&(n===rt&&(($e&2)===0&&(ea|=a),pt===4&&Fr(n,ze,$n,!1)),Ii(n))}function wv(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Rs(n,r),h=l?T1(n,r):bp(n,r,!0),f=l;do{if(h===0){to&&!l&&Fr(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!b1(a)){h=bp(n,r,!1),f=!1;continue}if(h===2){if(f=r,n.errorRecoveryDisabledLanes&f)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=n;h=Hl;var I=b.current.memoizedState.isDehydrated;if(I&&(so(b,v).flags|=256),v=bp(b,v,!1),v!==2){if(dp&&!I){b.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){so(n,0),Fr(n,r,0,!0);break}e:{switch(l=n,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fr(l,r,$n,!jr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=mp+300-Un(),10<h)){if(Fr(l,r,$n,!jr),Ea(l,0,!0)!==0)break e;l.timeoutHandle=Yv(vv.bind(null,l,a,wn,Zc,pp,r,$n,ea,no,jr,f,2,-0,0),h);break e}vv(l,a,wn,Zc,pp,r,$n,ea,no,jr,f,0,-0,0)}}break}while(!0);Ii(n)}function vv(n,r,a,l,h,f,v,b,I,z,Q,Z,j,q){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:nA},dv(r),Z=rA(),Z!==null)){n.cancelPendingCommit=Z(Rv.bind(null,n,r,f,a,l,h,v,b,I,Q,1,j,q)),Fr(n,f,v,!z);return}Rv(n,r,f,a,l,h,v,b,I)}function b1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(n,r,a,l){r&=~fp,r&=~ea,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var f=31-en(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&di(n,a,r)}function Jc(){return($e&6)===0?(Gl(0),!1):!0}function vp(){if(Ne!==null){if(Xe===0)var n=Ne.return;else n=Ne,er=Ks=null,Pf(n),Wa=null,Vl=0,n=Ne;for(;n!==null;)Zw(n.alternate,n),n=n.return;Ne=null}}function so(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,z1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),vp(),rt=n,Ne=a=Wi(n.current,null),ze=r,Xe=0,Cn=null,jr=!1,to=Rs(n,r),dp=!1,no=$n=fp=ea=Br=pt=0,wn=Hl=null,pp=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),f=1<<h;r|=n[h],l&=~f}return lr=r,bc(),a}function _v(n,r){Ce=null,H.H=jc,r===Rl||r===Dc?(r=Ly(),Xe=3):r===My?(r=Ly(),Xe=4):Xe=r===Uw?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Ne===null&&(pt=1,Gc(n,Fn(r,n.current)))}function bv(){var n=H.H;return H.H=jc,n===null?jc:n}function Ev(){var n=H.A;return H.A=v1,n}function _p(){pt=4,jr||(ze&4194048)!==ze&&Kn.current!==null||(to=!0),(Br&134217727)===0&&(ea&134217727)===0||rt===null||Fr(rt,ze,$n,!1)}function bp(n,r,a){var l=$e;$e|=2;var h=bv(),f=Ev();(rt!==n||ze!==r)&&(Zc=null,so(n,r)),r=!1;var v=pt;e:do try{if(Xe!==0&&Ne!==null){var b=Ne,I=Cn;switch(Xe){case 8:vp(),v=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var z=Xe;if(Xe=0,Cn=null,ao(n,b,I,z),a&&to){v=0;break e}break;default:z=Xe,Xe=0,Cn=null,ao(n,b,I,z)}}E1(),v=pt;break}catch(Q){_v(n,Q)}while(!0);return r&&n.shellSuspendCounter++,er=Ks=null,$e=l,H.H=h,H.A=f,Ne===null&&(rt=null,ze=0,bc()),v}function E1(){for(;Ne!==null;)Tv(Ne)}function T1(n,r){var a=$e;$e|=2;var l=bv(),h=Ev();rt!==n||ze!==r?(Zc=null,Wc=Un()+500,so(n,r)):to=Rs(n,r);e:do try{if(Xe!==0&&Ne!==null){r=Ne;var f=Cn;t:switch(Xe){case 1:Xe=0,Cn=null,ao(n,r,f,1);break;case 2:case 9:if(Vy(f)){Xe=0,Cn=null,Av(r);break}r=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Ii(n)},f.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Vy(f)?(Xe=0,Cn=null,Av(r)):(Xe=0,Cn=null,ao(n,r,f,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var b=Ne;if(!v||s_(v)){Xe=0,Cn=null;var I=b.sibling;if(I!==null)Ne=I;else{var z=b.return;z!==null?(Ne=z,eh(z)):Ne=null}break t}}Xe=0,Cn=null,ao(n,r,f,5);break;case 6:Xe=0,Cn=null,ao(n,r,f,6);break;case 8:vp(),pt=6;break e;default:throw Error(s(462))}}A1();break}catch(Q){_v(n,Q)}while(!0);return er=Ks=null,H.H=l,H.A=h,$e=a,Ne!==null?0:(rt=null,ze=0,bc(),pt)}function A1(){for(;Ne!==null&&!$o();)Tv(Ne)}function Tv(n){var r=Xw(n.alternate,n,lr);n.memoizedProps=n.pendingProps,r===null?eh(n):Ne=r}function Av(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Fw(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Fw(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Pf(r);default:Zw(a,r),r=Ne=Sy(r,lr),r=Xw(a,r,lr)}n.memoizedProps=n.pendingProps,r===null?eh(n):Ne=r}function ao(n,r,a,l){er=Ks=null,Pf(r),Wa=null,Vl=0;var h=r.return;try{if(f1(n,h,r,a,ze)){pt=1,Gc(n,Fn(a,n.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;pt=1,Gc(n,Fn(a,n.current)),Ne=null;return}r.flags&32768?(Ge||l===1?n=!0:to||(ze&536870912)!==0?n=!1:(jr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(r,n)):eh(r)}function eh(n){var r=n;do{if((r.flags&32768)!==0){Sv(r,jr);return}n=r.return;var a=m1(r.alternate,r,lr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);pt===0&&(pt=5)}function Sv(n,r){do{var a=g1(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);pt=6,Ne=null}function Rv(n,r,a,l,h,f,v,b,I){n.cancelPendingCommit=null;do th();while($t!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=hf,tl(n,a,f,v,b,I),n===rt&&(Ne=rt=null,ze=0),io=r,Hr=n,ro=a,gp=f,yp=h,gv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,C1(Es,function(){return Nv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=te.p,te.p=2,v=$e,$e|=4;try{y1(n,r,a)}finally{$e=v,te.p=h,H.T=l}}$t=1,Iv(),Cv(),xv()}}function Iv(){if($t===1){$t=0;var n=Hr,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=te.p;te.p=2;var h=$e;$e|=4;try{uv(r,n);var f=kp,v=my(n.containerInfo),b=f.focusedElem,I=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&py(b.ownerDocument.documentElement,b)){if(I!==null&&af(b)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(Q,b.value.length);else{var Z=b.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var q=j.getSelection(),Te=b.textContent.length,ye=Math.min(I.start,Te),et=I.end===void 0?ye:Math.min(I.end,Te);!q.extend&&ye>et&&(v=et,et=ye,ye=v);var P=fy(b,ye),N=fy(b,et);if(P&&N&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=Z.createRange();U.setStart(P.node,P.offset),q.removeAllRanges(),ye>et?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(Z=[],q=b;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var $=Z[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}fh=!!Op,kp=Op=null}finally{$e=h,te.p=l,H.T=a}}n.current=r,$t=2}}function Cv(){if($t===2){$t=0;var n=Hr,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=te.p;te.p=2;var h=$e;$e|=4;try{sv(n,r.alternate,r)}finally{$e=h,te.p=l,H.T=a}}$t=3}}function xv(){if($t===4||$t===3){$t=0,Xu();var n=Hr,r=io,a=ro,l=gv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,io=Hr=null,Dv(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(qr=null),Ta(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=n.onRecoverableError,v=0;v<l.length;v++){var b=l[v];f(b.value,{componentStack:b.stack})}}finally{H.T=r,te.p=h}}(ro&3)!==0&&th(),Ii(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===wp?Fl++:(Fl=0,wp=n):Fl=0,Gl(0)}}function Dv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Al(r)))}function th(n){return Iv(),Cv(),xv(),Nv()}function Nv(){if($t!==5)return!1;var n=Hr,r=gp;gp=0;var a=Ta(ro),l=H.T,h=te.p;try{te.p=32>a?32:a,H.T=null,a=yp,yp=null;var f=Hr,v=ro;if($t=0,io=Hr=null,ro=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,pv(f.current),hv(f,f.current,v,a),$e=b,Gl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(dt,f)}catch{}return!0}finally{te.p=h,H.T=l,Dv(n,r)}}function Ov(n,r,a){r=Fn(a,r),r=Xf(n.stateNode,r,2),n=kr(n,r,2),n!==null&&(ji(n,2),Ii(n))}function nt(n,r,a){if(n.tag===3)Ov(n,n,a);else for(;r!==null;){if(r.tag===3){Ov(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){n=Fn(a,n),a=Pw(2),l=kr(r,a,2),l!==null&&(Lw(a,l,r,n),ji(l,2),Ii(l));break}}r=r.return}}function Ep(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new _1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(dp=!0,h.add(a),n=S1.bind(null,n,r,a),r.then(n,n))}function S1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(ze&a)===a&&(pt===4||pt===3&&(ze&62914560)===ze&&300>Un()-mp?($e&2)===0&&so(n,0):fp|=a,no===ze&&(no=0)),Ii(n)}function kv(n,r){r===0&&(r=el()),n=Ba(n,r),n!==null&&(ji(n,r),Ii(n))}function R1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),kv(n,a)}function I1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),kv(n,a)}function C1(n,r){return _s(n,r)}var nh=null,oo=null,Tp=!1,ih=!1,Ap=!1,ta=0;function Ii(n){n!==oo&&n.next===null&&(oo===null?nh=oo=n:oo=oo.next=n),ih=!0,Tp||(Tp=!0,D1())}function Gl(n,r){if(!Ap&&ih){Ap=!0;do for(var a=!1,l=nh;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-en(42|n)+1)-1,f&=h&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Lv(l,f))}else f=ze,f=Ea(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rs(l,f)||(a=!0,Lv(l,f));l=l.next}while(a);Ap=!1}}function x1(){Mv()}function Mv(){ih=Tp=!1;var n=0;ta!==0&&(U1()&&(n=ta),ta=0);for(var r=Un(),a=null,l=nh;l!==null;){var h=l.next,f=Vv(l,r);f===0?(l.next=null,a===null?nh=h:a.next=h,h===null&&(oo=a)):(a=l,(n!==0||(f&3)!==0)&&(ih=!0)),l=h}Gl(n)}function Vv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var v=31-en(f),b=1<<v,I=h[v];I===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Zo(b,r)):I<=r&&(n.expiredLanes|=b),f&=~b}if(r=rt,a=ze,a=Ea(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Rs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&bs(l),Ta(a)){case 2:case 8:a=_a;break;case 32:a=Es;break;case 268435456:a=ba;break;default:a=Es}return l=Pv.bind(null,n),a=_s(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&bs(l),n.callbackPriority=2,n.callbackNode=null,2}function Pv(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(th()&&n.callbackNode!==a)return null;var l=ze;return l=Ea(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(wv(n,l,r),Vv(n,Un()),n.callbackNode!=null&&n.callbackNode===a?Pv.bind(null,n):null)}function Lv(n,r){if(th())return null;wv(n,r,!0)}function D1(){j1(function(){($e&6)!==0?_s(Xo,x1):Mv()})}function Sp(){return ta===0&&(ta=Jo()),ta}function Uv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:xa(""+n)}function zv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function N1(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=Uv((h[At]||null).action),v=l.submitter;v&&(r=(r=v[At]||null)?Uv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var b=new Da("action","action",null,l,h);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var I=v?zv(h,v):new FormData(h);Gf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(b.preventDefault(),I=v?zv(h,v):new FormData(h),Gf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Rp=0;Rp<cf.length;Rp++){var Ip=cf[Rp],O1=Ip.toLowerCase(),k1=Ip[0].toUpperCase()+Ip.slice(1);ni(O1,"on"+k1)}ni(wy,"onAnimationEnd"),ni(vy,"onAnimationIteration"),ni(_y,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(X2,"onTransitionRun"),ni(W2,"onTransitionStart"),ni(Z2,"onTransitionCancel"),ni(by,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function jv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,z=b.currentTarget;if(b=b.listener,I!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(Q){Fc(Q)}h.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,z=b.currentTarget,b=b.listener,I!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(Q){Fc(Q)}h.currentTarget=null,f=I}}}}function Oe(n,r){var a=r[il];a===void 0&&(a=r[il]=new Set);var l=n+"__bubble";a.has(l)||(Bv(r,n,2,!1),a.add(l))}function Cp(n,r,a){var l=0;r&&(l|=4),Bv(a,n,l,r)}var rh="_reactListening"+Math.random().toString(36).slice(2);function xp(n){if(!n[rh]){n[rh]=!0,rl.forEach(function(a){a!=="selectionchange"&&(M1.has(a)||Cp(a,!1,n),Cp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[rh]||(r[rh]=!0,Cp("selectionchange",!1,r))}}function Bv(n,r,a,l){switch(h_(r)){case 2:var h=oA;break;case 8:h=lA;break;default:h=Hp}a=h.bind(null,r,a,n),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Dp(n,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Bi(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}b=b.parentNode}}l=l.return}ac(function(){var z=f,Q=Bn(a),Z=[];e:{var j=Ey.get(n);if(j!==void 0){var q=Da,Te=n;switch(n){case"keypress":if(wi(a)===0)break e;case"keydown":case"keyup":q=Pa;break;case"focusin":Te="focus",q=ka;break;case"focusout":Te="blur",q=ka;break;case"beforeblur":case"afterblur":q=ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pc;break;case wy:case vy:case _y:q=Ma;break;case by:q=gc;break;case"scroll":case"scrollend":q=oc;break;case"wheel":q=La;break;case"copy":case"cut":case"paste":q=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=gl;break;case"toggle":case"beforetoggle":q=wc}var ye=(r&4)!==0,et=!ye&&(n==="scroll"||n==="scrollend"),P=ye?j!==null?j+"Capture":null:j;ye=[];for(var N=z,U;N!==null;){var $=N;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||P===null||($=Ms(N,P),$!=null&&ye.push(Yl(N,$,U))),et)break;N=N.return}0<ye.length&&(j=new q(j,Te,null,a,Q),Z.push({event:j,listeners:ye}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",j&&a!==Gi&&(Te=a.relatedTarget||a.fromElement)&&(Bi(Te)||Te[zn]))break e;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(Te=a.relatedTarget||a.toElement,q=z,Te=Te?Bi(Te):null,Te!==null&&(et=u(Te),ye=Te.tag,Te!==et||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(q=null,Te=z),q!==Te)){if(ye=Hn,$="onMouseLeave",P="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ye=gl,$="onPointerLeave",P="onPointerEnter",N="pointer"),et=q==null?j:pi(q),U=Te==null?j:pi(Te),j=new ye($,N+"leave",q,a,Q),j.target=et,j.relatedTarget=U,$=null,Bi(Q)===z&&(ye=new ye(P,N+"enter",Te,a,Q),ye.target=U,ye.relatedTarget=et,$=ye),et=$,q&&Te)t:{for(ye=q,P=Te,N=0,U=ye;U;U=lo(U))N++;for(U=0,$=P;$;$=lo($))U++;for(;0<N-U;)ye=lo(ye),N--;for(;0<U-N;)P=lo(P),U--;for(;N--;){if(ye===P||P!==null&&ye===P.alternate)break t;ye=lo(ye),P=lo(P)}ye=null}else ye=null;q!==null&&qv(Z,j,q,ye,!1),Te!==null&&et!==null&&qv(Z,et,Te,ye,!0)}}e:{if(j=z?pi(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ce=oy;else if(kt(j))if(ly)ce=Y2;else{ce=G2;var De=F2}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ul(z.elementType)&&(ce=oy):ce=Q2;if(ce&&(ce=ce(n,z))){Xi(Z,ce,a,Q);break e}De&&De(n,j,z),n==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Cr(j,"number",j.value)}switch(De=z?pi(z):window,n){case"focusin":(kt(De)||De.contentEditable==="true")&&(Ua=De,of=z,vl=null);break;case"focusout":vl=of=Ua=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,gy(Z,a,Q);break;case"selectionchange":if($2)break;case"keydown":case"keyup":gy(Z,a,Q)}var de;if(bi)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Le?F(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(w&&a.locale!=="ko"&&(Le||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Le&&(de=hl()):(yi=Q,xr="value"in yi?yi.value:yi.textContent,Le=!0)),De=sh(z,ve),0<De.length&&(ve=new pl(ve,n,null,a,Q),Z.push({event:ve,listeners:De}),de?ve.data=de:(de=ie(a),de!==null&&(ve.data=de)))),(de=m?Ot(n,a):Ue(n,a))&&(ve=sh(z,"onBeforeInput"),0<ve.length&&(De=new pl("onBeforeInput","beforeinput",null,a,Q),Z.push({event:De,listeners:ve}),De.data=de)),N1(Z,n,z,a,Q)}jv(Z,r)})}function Yl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function sh(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ms(n,a),h!=null&&l.unshift(Yl(n,h,f)),h=Ms(n,r),h!=null&&l.push(Yl(n,h,f))),n.tag===3)return l;n=n.return}return[]}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qv(n,r,a,l,h){for(var f=r._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,z=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||z===null||(I=z,h?(z=Ms(a,f),z!=null&&v.unshift(Yl(a,z,I))):h||(z=Ms(a,f),z!=null&&v.push(Yl(a,z,I)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var V1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function Hv(n){return(typeof n=="string"?n:""+n).replace(V1,`
`).replace(P1,"")}function Fv(n,r){return r=Hv(r),Hv(n)===r}function ah(){}function Je(n,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||jn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&jn(n,""+l);break;case"className":mi(n,"class",l);break;case"tabIndex":mi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(n,a,l);break;case"style":ll(n,l,f);break;case"data":if(r!=="object"){mi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=xa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",h.name,h,null),Je(n,r,"formEncType",h.formEncType,h,null),Je(n,r,"formMethod",h.formMethod,h,null),Je(n,r,"formTarget",h.formTarget,h,null)):(Je(n,r,"encType",h.encType,h,null),Je(n,r,"method",h.method,h,null),Je(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=xa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ah);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=xa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Ir(n,"popover",l);break;case"xlinkActuate":Qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jd.get(a)||a,Ir(n,a,l))}}function Np(n,r,a,l,h,f){switch(a){case"style":ll(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?jn(n,l):(typeof l=="number"||typeof l=="bigint")&&jn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=n[At]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ir(n,a,l)}}}function Xt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,f,v,a,null)}}h&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var b=f=v=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Je(n,r,l,Q,a,null)}}Ns(n,f,b,I,z,v,h,!1),Ca(n);return;case"select":Oe("invalid",n),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Je(n,r,h,b,a,null)}r=f,a=v,n.multiple=!!l,r!=null?Fi(n,!!l,r,!1):a!=null&&Fi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(n,r,v,b,a,null)}Os(n,l,h,f),Ca(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Oe(Ql[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,z,l,a,null)}return;default:if(ul(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Np(n,r,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(n,r,b,l,a,null))}function L1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,b=null,I=null,z=null,Q=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(q)||Je(n,r,q,null,l,Z)}}for(var j in l){var q=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(q!=null||Z!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":v=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Z&&Je(n,r,j,q,l,Z)}}Tn(n,v,b,I,z,Q,f,h);return;case"select":q=v=b=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Je(n,r,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==I&&Je(n,r,h,f,l,I)}r=b,a=v,l=q,j!=null?Fi(n,!!a,j,!1):!!l!=!!a&&(r!=null?Fi(n,!!a,r,!0):Fi(n,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(n,r,b,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(n,r,v,h,l,f)}We(n,j,q);return;case"option":for(var Te in a)if(j=a[Te],a.hasOwnProperty(Te)&&j!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Je(n,r,Te,null,l,j)}for(I in l)if(j=l[I],q=a[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(n,r,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)j=a[ye],a.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye)&&Je(n,r,ye,null,l,j);for(z in l)if(j=l[z],q=a[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:Je(n,r,z,j,l,q)}return;default:if(ul(r)){for(var et in a)j=a[et],a.hasOwnProperty(et)&&j!==void 0&&!l.hasOwnProperty(et)&&Np(n,r,et,void 0,l,j);for(Q in l)j=l[Q],q=a[Q],!l.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||Np(n,r,Q,j,l,q);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!l.hasOwnProperty(P)&&Je(n,r,P,null,l,j);for(Z in l)j=l[Z],q=a[Z],!l.hasOwnProperty(Z)||j===q||j==null&&q==null||Je(n,r,Z,j,l,q)}var Op=null,kp=null;function oh(n){return n.nodeType===9?n:n.ownerDocument}function Gv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Mp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vp=null;function U1(){var n=window.event;return n&&n.type==="popstate"?n===Vp?!1:(Vp=n,!0):(Vp=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(n){return Kv.resolve(null).then(n).catch(B1)}:Yv;function B1(n){setTimeout(function(){throw n})}function Gr(n){return n==="head"}function $v(n,r){var a=r,l=0,h=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Kl(v.documentElement),a&2&&Kl(v.body),a&4)for(a=v.head,Kl(a),v=a.firstChild;v;){var b=v.nextSibling,I=v.nodeName;v[Is]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){n.removeChild(f),nu(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);nu(r)}function Pp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pp(a),Rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function q1(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Is])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=ri(n.nextSibling),n===null)break}return null}function H1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ri(n.nextSibling),n===null))return null;return n}function Lp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function F1(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ri(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Up=null;function Xv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Wv(n,r,a){switch(r=oh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Kl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Rr(n)}var Xn=new Map,Zv=new Set;function lh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ur=te.d;te.d={f:G1,r:Q1,D:Y1,C:K1,L:$1,m:X1,X:Z1,S:W1,M:J1};function G1(){var n=ur.f(),r=Jc();return n||r}function Q1(n){var r=fi(n);r!==null&&r.tag===5&&r.type==="form"?ww(r):ur.r(n)}var uo=typeof document>"u"?null:document;function Jv(n,r,a){var l=uo;if(l&&typeof r=="string"&&r){var h=St(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Zv.has(h)||(Zv.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Xt(r,"link",n),gt(r),l.head.appendChild(r)))}}function Y1(n){ur.D(n),Jv("dns-prefetch",n,null)}function K1(n,r){ur.C(n,r),Jv("preconnect",n,r)}function $1(n,r,a){ur.L(n,r,a);var l=uo;if(l&&n&&r){var h='link[rel="preload"][as="'+St(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(n)+'"]';var f=h;switch(r){case"style":f=co(n);break;case"script":f=ho(n)}Xn.has(f)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Xn.set(f,n),l.querySelector(h)!==null||r==="style"&&l.querySelector($l(f))||r==="script"&&l.querySelector(Xl(f))||(r=l.createElement("link"),Xt(r,"link",n),gt(r),l.head.appendChild(r)))}}function X1(n,r){ur.m(n,r);var a=uo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(n)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ho(n)}if(!Xn.has(f)&&(n=_({rel:"modulepreload",href:n},r),Xn.set(f,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(f)))return}l=a.createElement("link"),Xt(l,"link",n),gt(l),a.head.appendChild(l)}}}function W1(n,r,a){ur.S(n,r,a);var l=uo;if(l&&n){var h=ln(l).hoistableStyles,f=co(n);r=r||"default";var v=h.get(f);if(!v){var b={loading:0,preload:null};if(v=l.querySelector($l(f)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Xn.get(f))&&zp(n,a);var I=v=l.createElement("link");gt(I),Xt(I,"link",n),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,uh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(f,v)}}}function Z1(n,r){ur.X(n,r);var a=uo;if(a&&n){var l=ln(a).hoistableScripts,h=ho(n),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(n=_({src:n,async:!0},r),(r=Xn.get(h))&&jp(n,r),f=a.createElement("script"),gt(f),Xt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J1(n,r){ur.M(n,r);var a=uo;if(a&&n){var l=ln(a).hoistableScripts,h=ho(n),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(n=_({src:n,async:!0,type:"module"},r),(r=Xn.get(h))&&jp(n,r),f=a.createElement("script"),gt(f),Xt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function e_(n,r,a,l){var h=(h=Se.current)?lh(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=ln(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var f=ln(h).hoistableStyles,v=f.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,v),(f=h.querySelector($l(n)))&&!f._p&&(v.instance=f,v.state.loading=5),Xn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(n,a),f||eA(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=ln(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+St(n)+'"'}function $l(n){return'link[rel="stylesheet"]['+n+"]"}function t_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function eA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),gt(r),n.head.appendChild(r))}function ho(n){return'[src="'+St(n)+'"]'}function Xl(n){return"script[async]"+n}function n_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),gt(l),Xt(l,"style",h),uh(l,a.precedence,n),r.instance=l;case"stylesheet":h=co(a.href);var f=n.querySelector($l(h));if(f)return r.state.loading|=4,r.instance=f,gt(f),f;l=t_(a),(h=Xn.get(h))&&zp(l,h),f=(n.ownerDocument||n).createElement("link"),gt(f);var v=f;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Xt(f,"link",l),r.state.loading|=4,uh(f,a.precedence,n),r.instance=f;case"script":return f=ho(a.src),(h=n.querySelector(Xl(f)))?(r.instance=h,gt(h),h):(l=a,(h=Xn.get(f))&&(l=_({},a),jp(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),gt(h),Xt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,uh(l,a.precedence,n));return r.instance}function uh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function zp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function jp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var ch=null;function i_(n,r,a){if(ch===null){var l=new Map,h=ch=new Map;h.set(a,l)}else h=ch,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var f=a[h];if(!(f[Is]||f[Nt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=n+v;var b=l.get(v);b?b.push(f):l.set(v,[f])}}return l}function r_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function tA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Wl=null;function nA(){}function iA(n,r,a){if(Wl===null)throw Error(s(475));var l=Wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=co(a.href),f=n.querySelector($l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=hh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=f,gt(f);return}f=n.ownerDocument||n,a=t_(a),(h=Xn.get(h))&&zp(a,h),f=f.createElement("link"),gt(f);var v=f;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Xt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=hh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function rA(){if(Wl===null)throw Error(s(475));var n=Wl;return n.stylesheets&&n.count===0&&Bp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Bp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function hh(){if(this.count--,this.count===0){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var dh=null;function Bp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,dh=new Map,r.forEach(sA,n),dh=null,hh.call(n))}function sA(n,r){if(!(r.state.loading&4)){var a=dh.get(n);if(a)var l=a.get(null);else{a=new Map,dh.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=hh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Zl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function aA(n,r,a,l,h,f,v,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function a_(n,r,a,l,h,f,v,b,I,z,Q,Z){return n=new aA(n,r,a,v,b,I,z,Z),r=1,f===!0&&(r|=24),f=Sn(3,null,null,r),n.current=f,f.stateNode=n,r=Ef(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Rf(f),n}function o_(n){return n?(n=qa,n):qa}function l_(n,r,a,l,h,f){h=o_(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=kr(n,l,r),a!==null&&(Dn(a,n,r),Cl(a,n,r))}function u_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function qp(n,r){u_(n,r),(n=n.alternate)&&u_(n,r)}function c_(n){if(n.tag===13){var r=Ba(n,67108864);r!==null&&Dn(r,n,67108864),qp(n,67108864)}}var fh=!0;function oA(n,r,a,l){var h=H.T;H.T=null;var f=te.p;try{te.p=2,Hp(n,r,a,l)}finally{te.p=f,H.T=h}}function lA(n,r,a,l){var h=H.T;H.T=null;var f=te.p;try{te.p=8,Hp(n,r,a,l)}finally{te.p=f,H.T=h}}function Hp(n,r,a,l){if(fh){var h=Fp(l);if(h===null)Dp(n,r,l,ph,a),d_(n,l);else if(cA(h,n,r,a,l))l.stopPropagation();else if(d_(n,l),r&4&&-1<uA.indexOf(n)){for(;h!==null;){var f=fi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Jn(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-en(v);b.entanglements[1]|=I,v&=~I}Ii(f),($e&6)===0&&(Wc=Un()+500,Gl(0))}}break;case 13:b=Ba(f,2),b!==null&&Dn(b,f,2),Jc(),qp(f,2)}if(f=Fp(l),f===null&&Dp(n,r,l,ph,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Dp(n,r,l,null,a)}}function Fp(n){return n=Bn(n),Gp(n)}var ph=null;function Gp(n){if(ph=null,n=Bi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=d(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return ph=n,null}function h_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yd()){case Xo:return 2;case _a:return 8;case Es:case Kd:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Qp=!1,Qr=null,Yr=null,Kr=null,Jl=new Map,eu=new Map,$r=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(n,r){switch(n){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(r.pointerId)}}function tu(n,r,a,l,h,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=fi(r),r!==null&&c_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function cA(n,r,a,l,h){switch(r){case"focusin":return Qr=tu(Qr,n,r,a,l,h),!0;case"dragenter":return Yr=tu(Yr,n,r,a,l,h),!0;case"mouseover":return Kr=tu(Kr,n,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Jl.set(f,tu(Jl.get(f)||null,n,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,eu.set(f,tu(eu.get(f)||null,n,r,a,l,h)),!0}return!1}function f_(n){var r=Bi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){n.blockedOn=r,Ju(n.priority,function(){if(a.tag===13){var l=xn();l=Tr(l);var h=Ba(a,l);h!==null&&Dn(h,a,l),qp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Fp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Gi=l,a.target.dispatchEvent(l),Gi=null}else return r=fi(a),r!==null&&c_(r),n.blockedOn=a,!1;r.shift()}return!0}function p_(n,r,a){mh(n)&&a.delete(r)}function hA(){Qp=!1,Qr!==null&&mh(Qr)&&(Qr=null),Yr!==null&&mh(Yr)&&(Yr=null),Kr!==null&&mh(Kr)&&(Kr=null),Jl.forEach(p_),eu.forEach(p_)}function gh(n,r){n.blockedOn===r&&(n.blockedOn=null,Qp||(Qp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hA)))}var yh=null;function m_(n){yh!==n&&(yh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yh===n&&(yh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Gp(l||a)===null)continue;break}var f=fi(a);f!==null&&(n.splice(r,3),r-=3,Gf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function nu(n){function r(I){return gh(I,n)}Qr!==null&&gh(Qr,n),Yr!==null&&gh(Yr,n),Kr!==null&&gh(Kr,n),Jl.forEach(r),eu.forEach(r);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&$r.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[At]||null;if(typeof f=="function")v||m_(a);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[At]||null)b=v.formAction;else if(Gp(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),m_(a)}}}function Yp(n){this._internalRoot=n}wh.prototype.render=Yp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();l_(a,l,n,r,null,null)},wh.prototype.unmount=Yp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;l_(n.current,2,null,n,null,null),Jc(),r[zn]=null}};function wh(n){this._internalRoot=n}wh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ar();n={blockedOn:null,target:n,priority:r};for(var a=0;a<$r.length&&r!==0&&r<$r[a].priority;a++);$r.splice(a,0,n),a===0&&f_(n)}};var g_=e.version;if(g_!=="19.1.1")throw Error(s(527,g_,"19.1.1"));te.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var dA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{dt=vh.inject(dA),Ke=vh}catch{}}return ru.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=Ow,f=kw,v=Mw,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=a_(n,1,!1,null,null,a,l,h,f,v,b,null),n[zn]=r.current,xp(n),new Yp(r)},ru.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",f=Ow,v=kw,b=Mw,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=a_(n,1,!0,r,a??null,l,h,f,v,b,I,z),r.context=o_(null),a=r.current,l=xn(),l=Tr(l),h=Or(l),h.callback=null,kr(a,h,l),a=l,r.current.lanes=a,ji(r,a),Ii(r),n[zn]=r.current,xp(n),new wh(r)},ru.version="19.1.1",ru}var R_;function EA(){if(R_)return Xp.exports;R_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xp.exports=bA(),Xp.exports}var TA=EA();const AA=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},SA=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],d=i[t++],p=i[t++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],d=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},_b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,p=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=u>>2,A=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,B=y&63;g||(B=64,d||(S=64)),s.push(t[_],t[A],t[S],t[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(vb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):SA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||p==null||y==null||A==null)throw new RA;const S=u<<2|p>>4;if(s.push(S),y!==64){const B=p<<4&240|y>>2;if(s.push(B),A!==64){const K=y<<6&192|A;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(i){const e=vb(i);return _b.encodeByteArray(e,!0)},Bh=function(i){return IA(i).replace(/\./g,"")},bb=function(i){try{return _b.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=()=>CA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof I_>"u")return;const i=I_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},NA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&bb(i[1]);return e&&JSON.parse(e)},wd=()=>{try{return AA()||xA()||DA()||NA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Eb=i=>wd()?.emulatorHosts?.[i],OA=i=>{const e=Eb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Tb=()=>wd()?.config,Ab=i=>wd()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bh(JSON.stringify(t)),Bh(JSON.stringify(d)),""].join(".")}const hu={};function VA(){const i={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?i.emulator.push(e):i.prod.push(e);return i}function PA(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let C_=!1;function Rb(i,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||hu[i]===e||hu[i]||C_)return;hu[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=VA().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,B){S.setAttribute("width","24"),S.setAttribute("id",B),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{C_=!0,d()},S}function _(S,B){S.setAttribute("id",B),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=PA(s),B=t("text"),K=document.getElementById(B)||document.createElement("span"),ee=t("learnmore"),X=document.getElementById(ee)||document.createElement("a"),re=t("preprendIcon"),le=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const oe=S.element;p(oe),_(X,ee);const Ie=y();g(le,re),oe.append(le,K,X,Ie),document.body.appendChild(oe)}u?(K.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function UA(){const i=wd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function HA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class vr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=QA,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?YA(u,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new vr(o,p,s)}}function YA(i,e){return i.replace(KA,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KA=/\{\$([^}]+)}/g;function $A(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(x_(u)&&x_(d)){if(!ua(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function x_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function au(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function XA(i,e){const t=new WA(i,e);return t.subscribe.bind(t)}class WA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");ZA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i){return i&&i._delegate?i._delegate:i}class ca{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new kA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(i){return i===ia?void 0:i}function tS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const iS={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},rS=ke.INFO,sS={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},aS=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=sS[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=rS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const oS=(i,e)=>e.some(t=>i instanceof t);let D_,N_;function lS(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ib=new WeakMap,pm=new WeakMap,Cb=new WeakMap,tm=new WeakMap,Gm=new WeakMap;function cS(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{t(ss(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Ib.set(t,i)}).catch(()=>{}),Gm.set(e,i),e}function hS(i){if(pm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{t(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});pm.set(i,e)}let mm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Cb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function dS(i){mm=i(mm)}function fS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(nm(this),e,...t);return Cb.set(s,e.sort?e.sort():[e]),ss(s)}:uS().includes(i)?function(...e){return i.apply(nm(this),e),ss(Ib.get(this))}:function(...e){return ss(i.apply(nm(this),e))}}function pS(i){return typeof i=="function"?fS(i):(i instanceof IDBTransaction&&hS(i),oS(i,lS())?new Proxy(i,mm):i)}function ss(i){if(i instanceof IDBRequest)return cS(i);if(tm.has(i))return tm.get(i);const e=pS(i);return e!==i&&(tm.set(i,e),Gm.set(e,i)),e}const nm=i=>Gm.get(i);function mS(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),p=ss(d);return s&&d.addEventListener("upgradeneeded",g=>{s(ss(d.result),g.oldVersion,g.newVersion,ss(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],im=new Map;function O_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=yS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gS.includes(t)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return im.set(e,u),u}dS(i=>({...i,get:(e,t,s)=>O_(e,t)||i.get(e,t,s),has:(e,t)=>!!O_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function vS(i){return i.getComponent()?.type==="VERSION"}const gm="@firebase/app",k_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Fm("@firebase/app"),_S="@firebase/app-compat",bS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",CS="@firebase/data-connect",xS="@firebase/database-compat",DS="@firebase/functions",NS="@firebase/functions-compat",OS="@firebase/installations",kS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",PS="@firebase/performance",LS="@firebase/performance-compat",US="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",QS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",YS={[gm]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[bS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[CS]:"fire-data-connect",[xS]:"fire-rtdb-compat",[DS]:"fire-fn",[NS]:"fire-fn-compat",[OS]:"fire-iid",[kS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[PS]:"fire-perf",[LS]:"fire-perf-compat",[US]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,KS=new Map,wm=new Map;function M_(i,e){try{i.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ao(i){const e=i.name;if(wm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const t of wu.values())M_(t,i);for(const t of KS.values())M_(t,i);return!0}function Qm(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function _n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Du("app","Firebase",$S);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=QS;function xb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=Tb()),!t)throw as.create("no-options");const u=wu.get(o);if(u){if(ua(t,u.options)&&ua(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const d=new nS(o);for(const g of wm.values())d.addComponent(g);const p=new XS(t,s,d);return wu.set(o,p),p}function Db(i=ym){const e=wu.get(i);if(!e&&i===ym&&Tb())return xb();if(!e)throw as.create("no-app",{appName:i});return e}function WS(){return Array.from(wu.values())}function os(i,e,t){let s=YS[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(d.join(" "));return}Ao(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebase-heartbeat-database",JS=1,vu="firebase-heartbeat-store";let rm=null;function Nb(){return rm||(rm=mS(ZS,JS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),rm}async function eR(i){try{const t=(await Nb()).transaction(vu),s=await t.objectStore(vu).get(Ob(i));return await t.done,s}catch(e){if(e instanceof vr)pr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e?.message});pr.warn(t.message)}}}async function V_(i,e){try{const s=(await Nb()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,Ob(i)),await s.done}catch(t){if(t instanceof vr)pr.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t?.message});pr.warn(s.message)}}}function Ob(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1024,nR=30;class iR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>nR){const o=aR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P_(),{heartbeatsToSend:t,unsentEntries:s}=rR(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function P_(){return new Date().toISOString().substring(0,10)}function rR(i,e=tR){const t=[];let s=i.slice();for(const o of i){const u=t.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),L_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class sR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function L_(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function aR(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(i){Ao(new ca("platform-logger",e=>new wS(e),"PRIVATE")),Ao(new ca("heartbeat",e=>new iR(e),"PRIVATE")),os(gm,k_,i),os(gm,k_,"esm2020"),os("fire-js","")}oR("");function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lR=kb,Mb=new Du("auth","Firebase",kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Fm("@firebase/auth");function uR(i,...e){qh.logLevel<=ke.WARN&&qh.warn(`Auth (${Lo}): ${i}`,...e)}function xh(i,...e){qh.logLevel<=ke.ERROR&&qh.error(`Auth (${Lo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw Km(i,...e)}function oi(i,...e){return Km(i,...e)}function Ym(i,e,t){const s={...lR(),[e]:t};return new Du("auth","Firebase",s).create(e,{appName:i.name})}function Di(i){return Ym(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vb(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Wn(i,"argument-error"),Ym(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Mb.create(i,...e)}function be(i,e,...t){if(!i)throw Km(e,...t)}function hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw xh(e),new Error(e)}function mr(i,e){i||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function cR(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cR()||jA()||"connection"in navigator)?navigator.onLine:!0}function dR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,mr(t>e,"Short delay should be less than long delay!"),this.isMobile=LA()||BA()}get(){return hR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(i,e){mr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mR=new Ou(3e4,6e4);function _r(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Li(i,e,t,s,o={}){return Lb(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=Nu({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return zA()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(y.credentials="include"),Pb.fetch()(await Ub(i,i.config.apiHost,t,p),y)})}async function Lb(i,e,t){i._canInitEmulator=!1;const s={...fR,...e};try{const o=new yR(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw _h(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw _h(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw _h(i,"user-disabled",d);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ym(i,_,y);Wn(i,_)}}catch(o){if(o instanceof vr)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function ku(i,e,t,s,o={}){const u=await Li(i,e,t,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ub(i,e,t,s){const o=`${e}${t}?${s}`,u=i,d=u.config.emulator?$m(i.config,o):`${i.config.apiScheme}://${o}`;return pR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function gR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),mR.get())})}}function _h(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=oi(i,e,s);return o.customData._tokenResponse=t,o}function z_(i){return i!==void 0&&i.enterprise!==void 0}class wR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vR(i,e){return Li(i,"GET","/v2/recaptchaConfig",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(i,e){return Li(i,"POST","/v1/accounts:delete",e)}async function Hh(i,e){return Li(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bR(i,e=!1){const t=bt(i),s=await t.getIdToken(e),o=Xm(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:du(sm(o.auth_time)),issuedAtTime:du(sm(o.iat)),expirationTime:du(sm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(i){return Number(i)*1e3}function Xm(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=bb(t);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function j_(i){const e=Xm(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof vr&&ER(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ER({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(i){const e=i.auth,t=await i.getIdToken(),s=await So(i,Hh(e,{idToken:t}));be(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?zb(o.providerUserInfo):[],d=SR(i.providerData,u),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!d?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function AR(i){const e=bt(i);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function zb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(i,e){const t=await Lb(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await Ub(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),Pb.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IR(i,e){return Li(i,"POST","/v2/accounts:revokeToken",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=j_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await RR(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,d=new wo;return s&&(be(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await So(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bR(this,e)}reload(){return AR(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await So(this,_R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,d=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:B,providerData:K,stsTokenManager:ee}=t;be(A&&ee,e,"internal-error");const X=wo.fromJSON(this.name,ee);be(typeof A=="string",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof B=="boolean",e,"internal-error"),Wr(u,e.name),Wr(d,e.name),Wr(p,e.name),Wr(g,e.name),Wr(y,e.name),Wr(_,e.name);const re=new ai({uid:A,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:X,createdAt:y,lastLoginAt:_});return K&&Array.isArray(K)&&(re.providerData=K.map(le=>({...le}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const u=new ai({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new wo;p.updateFromIdToken(s);const g=new ai({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function dr(i){mr(i instanceof Function,"Expected a class definition");let e=B_.get(i);return e?(mr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,B_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jb.type="NONE";const q_=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,e,t){return`firebase:${i}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(dr(q_),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||dr(q_);const d=Dh(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const _=await y._get(d);if(_){let A;if(typeof _=="string"){const S=await Hh(e,{idToken:_}).catch(()=>{});if(!S)break;A=await ai._fromGetAccountInfoResponse(e,S,_)}else A=ai._fromJSON(e,_);y!==u&&(p=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new vo(u,e,s):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qb(e))return"Blackberry";if(Yb(e))return"Webos";if(qb(e))return"Safari";if((e.includes("chrome/")||Hb(e))&&!e.includes("edge/"))return"Chrome";if(Gb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Bb(i=an()){return/firefox\//i.test(i)}function qb(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hb(i=an()){return/crios\//i.test(i)}function Fb(i=an()){return/iemobile/i.test(i)}function Gb(i=an()){return/android/i.test(i)}function Qb(i=an()){return/blackberry/i.test(i)}function Yb(i=an()){return/webos/i.test(i)}function Wm(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CR(i=an()){return Wm(i)&&!!window.navigator?.standalone}function xR(){return qA()&&document.documentMode===10}function Kb(i=an()){return Wm(i)||Gb(i)||Yb(i)||Qb(i)||/windows phone/i.test(i)||Fb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(i,e=[]){let t;switch(i){case"Browser":t=H_(an());break;case"Worker":t=`${H_(an())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(i,e={}){return Li(i,"GET","/v2/passwordPolicy",_r(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=6;class kR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??OR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new DR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Di(this));const t=e?bt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NR(this),t=new kR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await IR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ci(i){return bt(i)}class F_{constructor(e){this.auth=e,this.observer=null,this.addObserver=XA(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(i){vd=i}function Xb(i){return vd.loadJS(i)}function PR(){return vd.recaptchaEnterpriseScript}function LR(){return vd.gapiScript}function UR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class zR{constructor(){this.enterprise=new jR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class jR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BR="recaptcha-enterprise",Wb="NO_RECAPTCHA";class qR{constructor(e){this.type=BR,this.auth=ci(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{vR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new wR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;z_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(Wb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!t&&z_(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=PR();g.length!==0&&(g+=p),Xb(g).then(()=>{o(p,u,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function G_(i,e,t,s=!1,o=!1){const u=new qR(i);let d;if(o)d=Wb;else try{d=await u.verify(t)}catch{d=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Gh(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await G_(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G_(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i,e){const t=Qm(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ua(u,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function FR(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(dr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function GR(i,e,t){const s=ci(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Zb(e),{host:d,port:p}=QR(e),g=p===null?"":`:${p}`,y={url:`${u}//${d}${g}/`},_=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ua(y,s.config.emulator)&&ua(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Po(d)?(Sb(`${u}//${d}${g}`),Rb("Auth",!0)):YR()}function Zb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function QR(i){const e=Zb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Q_(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Q_(d)}}}function Q_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function YR(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,t){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function KR(i,e){return Li(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(i,e){return ku(i,"POST","/v1/accounts:signInWithPassword",_r(i,e))}async function XR(i,e){return Li(i,"POST","/v1/accounts:sendOobCode",_r(i,e))}async function WR(i,e){return XR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(i,e){return ku(i,"POST","/v1/accounts:signInWithEmailLink",_r(i,e))}async function JR(i,e){return ku(i,"POST","/v1/accounts:signInWithEmailLink",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends Zm{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _u(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,t,"signInWithPassword",$R);case"emailLink":return ZR(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,s,"signUpPassword",KR);case"emailLink":return JR(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return ku(i,"POST","/v1/accounts:signInWithIdp",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="http://localhost";class ha extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const d=new ha(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,_o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:eI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nI(i){const e=su(au(i)).link,t=e?su(au(e)).deep_link_id:null,s=su(au(i)).deep_link_id;return(s?su(au(s)).link:null)||s||t||e||i}class Jm{constructor(e){const t=su(au(e)),s=t.apiKey??null,o=t.oobCode??null,u=tI(t.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=nI(e);try{return new Jm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Jm.parseLink(t);return be(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends _d{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Mu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return cr.credential(t,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Mu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Mu{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return es.credential(t,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(i,e){return ku(i,"POST","/v1/accounts:signUp",_r(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),d=Y_(s);return new da({user:u,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Y_(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Y_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends vr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Qh(e,t,s,o)}}function Jb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(i,u,e,s):u})}async function rI(i,e,t=!1){const s=await So(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return da._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(i,e,t=!1){const{auth:s}=i;if(_n(s.app))return Promise.reject(Di(s));const o="reauthenticate";try{const u=await So(i,Jb(s,o,e,i),t);be(u.idToken,s,"internal-error");const d=Xm(u.idToken);be(d,s,"internal-error");const{sub:p}=d;return be(i.uid===p,s,"user-mismatch"),da._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(i,e,t=!1){if(_n(i.app))return Promise.reject(Di(i));const s="signIn",o=await Jb(i,s,e),u=await da._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function aI(i,e){return eE(ci(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(i){const e=ci(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oI(i,e,t){const s=ci(i);await Gh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WR)}async function lI(i,e,t){if(_n(i.app))return Promise.reject(Di(i));const s=ci(i),d=await Gh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&tE(i),g}),p=await da._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function uI(i,e,t){return _n(i.app)?Promise.reject(Di(i)):aI(bt(i),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(i,e){return Li(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=bt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await So(s,cI(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function dI(i,e,t,s){return bt(i).onIdTokenChanged(e,t,s)}function fI(i,e,t){return bt(i).beforeAuthStateChanged(e,t)}function pI(i,e,t,s){return bt(i).onAuthStateChanged(e,t,s)}function mI(i){return bt(i).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1e3,yI=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);xR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iE.type="LOCAL";const wI=iE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rE.type="SESSION";const sE=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new bd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async y=>y(t.origin,u)),g=await vI(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const y=eg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function bI(i){Ni().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function EI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TI(){return navigator?.serviceWorker?.controller||null}function AI(){return aE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="firebaseLocalStorageDb",SI=1,Kh="firebaseLocalStorage",lE="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ed(i,e){return i.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function RI(){const i=indexedDB.deleteDatabase(oE);return new Vu(i).toPromise()}function bm(){const i=indexedDB.open(oE,SI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:lE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await RI(),e(await bm()))})})}async function K_(i,e,t){const s=Ed(i,!0).put({[lE]:e,value:t});return new Vu(s).toPromise()}async function II(i,e){const t=Ed(i,!1).get(e),s=await new Vu(t).toPromise();return s===void 0?null:s.value}function $_(i,e){const t=Ed(i,!0).delete(e);return new Vu(t).toPromise()}const CI=800,xI=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>xI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(AI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EI(),!this.activeServiceWorker)return;this.sender=new _I(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await K_(e,Yh,"1"),await $_(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>K_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>II(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ed(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const DI=uE;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i,e){return e?dr(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NI(i){return eE(i.auth,new ng(i),i.bypassAuthState)}function OI(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),sI(t,new ng(i),i.bypassAuthState)}async function kI(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),rI(t,new ng(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return OI;default:Wn(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Ou(2e3,1e4);async function VI(i,e,t){if(_n(i.app))return Promise.reject(oi(i,"operation-not-supported-in-this-environment"));const s=ci(i);Vb(i,e,_d);const o=tg(s,t);return new ra(s,"signInViaPopup",e,o).executeNotNull()}class ra extends cE{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MI.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="pendingRedirect",Nh=new Map;class LI extends cE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await UI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UI(i,e){const t=dE(e),s=hE(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function zI(i,e){return hE(i)._set(dE(e),"true")}function jI(i,e){Nh.set(i._key(),e)}function hE(i){return dr(i._redirectPersistence)}function dE(i){return Dh(PI,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i,e,t){return qI(i,e,t)}async function qI(i,e,t){if(_n(i.app))return Promise.reject(Di(i));const s=ci(i);Vb(i,e,_d),await s._initializationPromise;const o=tg(s,t);return await zI(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function HI(i,e){return await ci(i)._initializationPromise,fE(i,e,!1)}async function fE(i,e,t=!1){if(_n(i.app))return Promise.reject(Di(i));const s=ci(i),o=tg(s,e),d=await new LI(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=600*1e3;class GI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(oi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FI&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function pE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function QI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e={}){return Li(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function XI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await YI(i);for(const t of e)try{if(WI(t))return}catch{}Wn(i,"unauthorized-domain")}function WI(i){const e=vm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!$I.test(t))return!1;if(KI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Ou(3e4,6e4);function W_(){const i=Ni().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function JI(i){return new Promise((e,t)=>{function s(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),t(oi(i,"network-request-failed"))},timeout:ZI.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=UR("iframefcb");return Ni()[o]=()=>{gapi.load?s():t(oi(i,"network-request-failed"))},Xb(`${LR()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function eC(i){return Oh=Oh||JI(i),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Ou(5e3,15e3),nC="__/auth/iframe",iC="emulator/auth/iframe",rC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aC(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?$m(e,iC):`https://${i.config.authDomain}/${nC}`,s={apiKey:e.apiKey,appName:i.name,v:Lo},o=sC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function oC(i){const e=await eC(i),t=Ni().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:aC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=oi(i,"network-request-failed"),p=Ni().setTimeout(()=>{u(d)},tC.get());function g(){Ni().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uC=500,cC=600,hC="_blank",dC="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fC(i,e,t,s=uC,o=cC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...lC,width:s.toString(),height:o.toString(),top:u,left:d},y=an().toLowerCase();t&&(p=Hb(y)?hC:t),Bb(y)&&(e=e||dC,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[B,K])=>`${S}${B}=${K},`,"");if(CR(y)&&p!=="_self")return pC(e||"",p),new Z_(null);const A=window.open(e||"",p,_);be(A,i,"popup-blocked");try{A.focus()}catch{}return new Z_(A)}function pC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="__/auth/handler",gC="emulator/auth/handler",yC=encodeURIComponent("fac");async function J_(i,e,t,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Lo,eventId:o};if(e instanceof _d){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",$A(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))d[_]=A}if(e instanceof Mu){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(d.scopes=_.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await i._getAppCheckToken(),y=g?`#${yC}=${encodeURIComponent(g)}`:"";return`${wC(i)}?${Nu(p).slice(1)}${y}`}function wC({config:i}){return i.emulator?$m(i,gC):`https://${i.authDomain}/${mC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class vC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=fE,this._overrideRedirectResult=jI}async _openPopup(e,t,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await J_(e,t,s,vm(),o);return fC(e,u,eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await J_(e,t,s,vm(),o);return bI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await oC(e),s=new GI(e);return t.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&t(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kb()||qb()||Wm()}}const _C=vC;var e0="@firebase/auth",t0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TC(i){Ao(new ca("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(i)},y=new MR(s,o,u,g);return FR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ao(new ca("auth-internal",e=>{const t=ci(e.getProvider("auth").getImmediate());return(s=>new bC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(e0,t0,EC(i)),os(e0,t0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=300,SC=Ab("authIdTokenMaxAge")||AC;let n0=null;const RC=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>SC)return;const o=t?.token;n0!==o&&(n0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IC(i=Db()){const e=Qm(i,"auth");if(e.isInitialized())return e.getImmediate();const t=HR(i,{popupRedirectResolver:_C,persistence:[DI,wI,sE]}),s=Ab("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=RC(u.toString());fI(t,d,()=>d(t.currentUser)),dI(t,p=>d(p))}}const o=Eb("auth");return o&&GR(t,`http://${o}`),t}function CC(){return document.getElementsByTagName("head")?.[0]??document}VR({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=oi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",CC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TC("Browser");var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,mE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,T){function C(){}C.prototype=T.prototype,V.D=T.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(k,M,x){for(var R=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)R[Tt-2]=arguments[Tt];return T.prototype[M].apply(k,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,T,C){C||(C=0);var k=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)k[M]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(M=0;16>M;++M)k[M]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=V.g[0],C=V.g[1],M=V.g[2];var x=V.g[3],R=T+(x^C&(M^x))+k[0]+3614090360&4294967295;T=C+(R<<7&4294967295|R>>>25),R=x+(M^T&(C^M))+k[1]+3905402710&4294967295,x=T+(R<<12&4294967295|R>>>20),R=M+(C^x&(T^C))+k[2]+606105819&4294967295,M=x+(R<<17&4294967295|R>>>15),R=C+(T^M&(x^T))+k[3]+3250441966&4294967295,C=M+(R<<22&4294967295|R>>>10),R=T+(x^C&(M^x))+k[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=x+(M^T&(C^M))+k[5]+1200080426&4294967295,x=T+(R<<12&4294967295|R>>>20),R=M+(C^x&(T^C))+k[6]+2821735955&4294967295,M=x+(R<<17&4294967295|R>>>15),R=C+(T^M&(x^T))+k[7]+4249261313&4294967295,C=M+(R<<22&4294967295|R>>>10),R=T+(x^C&(M^x))+k[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=x+(M^T&(C^M))+k[9]+2336552879&4294967295,x=T+(R<<12&4294967295|R>>>20),R=M+(C^x&(T^C))+k[10]+4294925233&4294967295,M=x+(R<<17&4294967295|R>>>15),R=C+(T^M&(x^T))+k[11]+2304563134&4294967295,C=M+(R<<22&4294967295|R>>>10),R=T+(x^C&(M^x))+k[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=x+(M^T&(C^M))+k[13]+4254626195&4294967295,x=T+(R<<12&4294967295|R>>>20),R=M+(C^x&(T^C))+k[14]+2792965006&4294967295,M=x+(R<<17&4294967295|R>>>15),R=C+(T^M&(x^T))+k[15]+1236535329&4294967295,C=M+(R<<22&4294967295|R>>>10),R=T+(M^x&(C^M))+k[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=x+(C^M&(T^C))+k[6]+3225465664&4294967295,x=T+(R<<9&4294967295|R>>>23),R=M+(T^C&(x^T))+k[11]+643717713&4294967295,M=x+(R<<14&4294967295|R>>>18),R=C+(x^T&(M^x))+k[0]+3921069994&4294967295,C=M+(R<<20&4294967295|R>>>12),R=T+(M^x&(C^M))+k[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=x+(C^M&(T^C))+k[10]+38016083&4294967295,x=T+(R<<9&4294967295|R>>>23),R=M+(T^C&(x^T))+k[15]+3634488961&4294967295,M=x+(R<<14&4294967295|R>>>18),R=C+(x^T&(M^x))+k[4]+3889429448&4294967295,C=M+(R<<20&4294967295|R>>>12),R=T+(M^x&(C^M))+k[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=x+(C^M&(T^C))+k[14]+3275163606&4294967295,x=T+(R<<9&4294967295|R>>>23),R=M+(T^C&(x^T))+k[3]+4107603335&4294967295,M=x+(R<<14&4294967295|R>>>18),R=C+(x^T&(M^x))+k[8]+1163531501&4294967295,C=M+(R<<20&4294967295|R>>>12),R=T+(M^x&(C^M))+k[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=x+(C^M&(T^C))+k[2]+4243563512&4294967295,x=T+(R<<9&4294967295|R>>>23),R=M+(T^C&(x^T))+k[7]+1735328473&4294967295,M=x+(R<<14&4294967295|R>>>18),R=C+(x^T&(M^x))+k[12]+2368359562&4294967295,C=M+(R<<20&4294967295|R>>>12),R=T+(C^M^x)+k[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=x+(T^C^M)+k[8]+2272392833&4294967295,x=T+(R<<11&4294967295|R>>>21),R=M+(x^T^C)+k[11]+1839030562&4294967295,M=x+(R<<16&4294967295|R>>>16),R=C+(M^x^T)+k[14]+4259657740&4294967295,C=M+(R<<23&4294967295|R>>>9),R=T+(C^M^x)+k[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=x+(T^C^M)+k[4]+1272893353&4294967295,x=T+(R<<11&4294967295|R>>>21),R=M+(x^T^C)+k[7]+4139469664&4294967295,M=x+(R<<16&4294967295|R>>>16),R=C+(M^x^T)+k[10]+3200236656&4294967295,C=M+(R<<23&4294967295|R>>>9),R=T+(C^M^x)+k[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=x+(T^C^M)+k[0]+3936430074&4294967295,x=T+(R<<11&4294967295|R>>>21),R=M+(x^T^C)+k[3]+3572445317&4294967295,M=x+(R<<16&4294967295|R>>>16),R=C+(M^x^T)+k[6]+76029189&4294967295,C=M+(R<<23&4294967295|R>>>9),R=T+(C^M^x)+k[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=x+(T^C^M)+k[12]+3873151461&4294967295,x=T+(R<<11&4294967295|R>>>21),R=M+(x^T^C)+k[15]+530742520&4294967295,M=x+(R<<16&4294967295|R>>>16),R=C+(M^x^T)+k[2]+3299628645&4294967295,C=M+(R<<23&4294967295|R>>>9),R=T+(M^(C|~x))+k[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=x+(C^(T|~M))+k[7]+1126891415&4294967295,x=T+(R<<10&4294967295|R>>>22),R=M+(T^(x|~C))+k[14]+2878612391&4294967295,M=x+(R<<15&4294967295|R>>>17),R=C+(x^(M|~T))+k[5]+4237533241&4294967295,C=M+(R<<21&4294967295|R>>>11),R=T+(M^(C|~x))+k[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=x+(C^(T|~M))+k[3]+2399980690&4294967295,x=T+(R<<10&4294967295|R>>>22),R=M+(T^(x|~C))+k[10]+4293915773&4294967295,M=x+(R<<15&4294967295|R>>>17),R=C+(x^(M|~T))+k[1]+2240044497&4294967295,C=M+(R<<21&4294967295|R>>>11),R=T+(M^(C|~x))+k[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=x+(C^(T|~M))+k[15]+4264355552&4294967295,x=T+(R<<10&4294967295|R>>>22),R=M+(T^(x|~C))+k[6]+2734768916&4294967295,M=x+(R<<15&4294967295|R>>>17),R=C+(x^(M|~T))+k[13]+1309151649&4294967295,C=M+(R<<21&4294967295|R>>>11),R=T+(M^(C|~x))+k[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=x+(C^(T|~M))+k[11]+3174756917&4294967295,x=T+(R<<10&4294967295|R>>>22),R=M+(T^(x|~C))+k[2]+718787259&4294967295,M=x+(R<<15&4294967295|R>>>17),R=C+(x^(M|~T))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+x&4294967295}s.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var C=T-this.blockSize,k=this.B,M=this.h,x=0;x<T;){if(M==0)for(;x<=C;)o(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<T;)if(k[M++]=V.charCodeAt(x++),M==this.blockSize){o(this,k),M=0;break}}else for(;x<T;)if(k[M++]=V[x++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=T},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var C=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=C&255,C/=256;for(this.u(V),V=Array(16),T=C=0;4>T;++T)for(var k=0;32>k;k+=8)V[C++]=this.g[T]>>>k&255;return V};function u(V,T){var C=p;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=T(V)}function d(V,T){this.h=T;for(var C=[],k=!0,M=V.length-1;0<=M;M--){var x=V[M]|0;k&&x==T||(C[M]=x,k=!1)}this.g=C}var p={};function g(V){return-128<=V&&128>V?u(V,function(T){return new d([T|0],0>T?-1:0)}):new d([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return X(y(-V));for(var T=[],C=1,k=0;V>=C;k++)T[k]=V/C|0,C*=4294967296;return new d(T,0)}function _(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return X(_(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(T,8)),k=A,M=0;M<V.length;M+=8){var x=Math.min(8,V.length-M),R=parseInt(V.substring(M,M+x),T);8>x?(x=y(Math.pow(T,x)),k=k.j(x).add(y(R))):(k=k.j(C),k=k.add(y(R)))}return k}var A=g(0),S=g(1),B=g(16777216);i=d.prototype,i.m=function(){if(ee(this))return-X(this).m();for(var V=0,T=1,C=0;C<this.g.length;C++){var k=this.i(C);V+=(0<=k?k:4294967296+k)*T,T*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(ee(this))return"-"+X(this).toString(V);for(var T=y(Math.pow(V,6)),C=this,k="";;){var M=Ie(C,T).g;C=re(C,M.j(T));var x=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,K(C))return x+k;for(;6>x.length;)x="0"+x;k=x+k}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function ee(V){return V.h==-1}i.l=function(V){return V=re(this,V),ee(V)?-1:K(V)?0:1};function X(V){for(var T=V.g.length,C=[],k=0;k<T;k++)C[k]=~V.g[k];return new d(C,~V.h).add(S)}i.abs=function(){return ee(this)?X(this):this},i.add=function(V){for(var T=Math.max(this.g.length,V.g.length),C=[],k=0,M=0;M<=T;M++){var x=k+(this.i(M)&65535)+(V.i(M)&65535),R=(x>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);k=R>>>16,x&=65535,R&=65535,C[M]=R<<16|x}return new d(C,C[C.length-1]&-2147483648?-1:0)};function re(V,T){return V.add(X(T))}i.j=function(V){if(K(this)||K(V))return A;if(ee(this))return ee(V)?X(this).j(X(V)):X(X(this).j(V));if(ee(V))return X(this.j(X(V)));if(0>this.l(B)&&0>V.l(B))return y(this.m()*V.m());for(var T=this.g.length+V.g.length,C=[],k=0;k<2*T;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<V.g.length;M++){var x=this.i(k)>>>16,R=this.i(k)&65535,Tt=V.i(M)>>>16,ot=V.i(M)&65535;C[2*k+2*M]+=R*ot,le(C,2*k+2*M),C[2*k+2*M+1]+=x*ot,le(C,2*k+2*M+1),C[2*k+2*M+1]+=R*Tt,le(C,2*k+2*M+1),C[2*k+2*M+2]+=x*Tt,le(C,2*k+2*M+2)}for(k=0;k<T;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=T;k<2*T;k++)C[k]=0;return new d(C,0)};function le(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function oe(V,T){this.g=V,this.h=T}function Ie(V,T){if(K(T))throw Error("division by zero");if(K(V))return new oe(A,A);if(ee(V))return T=Ie(X(V),T),new oe(X(T.g),X(T.h));if(ee(T))return T=Ie(V,X(T)),new oe(X(T.g),T.h);if(30<V.g.length){if(ee(V)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var C=S,k=T;0>=k.l(V);)C=Ee(C),k=Ee(k);var M=Be(C,1),x=Be(k,1);for(k=Be(k,2),C=Be(C,2);!K(k);){var R=x.add(k);0>=R.l(V)&&(M=M.add(C),x=R),k=Be(k,1),C=Be(C,1)}return T=re(V,M.j(T)),new oe(M,T)}for(M=A;0<=V.l(T);){for(C=Math.max(1,Math.floor(V.m()/T.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),x=y(C),R=x.j(T);ee(R)||0<R.l(V);)C-=k,x=y(C),R=x.j(T);K(x)&&(x=S),M=M.add(x),V=re(V,R)}return new oe(M,V)}i.A=function(V){return Ie(this,V).h},i.and=function(V){for(var T=Math.max(this.g.length,V.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)&V.i(k);return new d(C,this.h&V.h)},i.or=function(V){for(var T=Math.max(this.g.length,V.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)|V.i(k);return new d(C,this.h|V.h)},i.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)^V.i(k);return new d(C,this.h^V.h)};function Ee(V){for(var T=V.g.length+1,C=[],k=0;k<T;k++)C[k]=V.i(k)<<1|V.i(k-1)>>>31;return new d(C,V.h)}function Be(V,T){var C=T>>5;T%=32;for(var k=V.g.length-C,M=[],x=0;x<k;x++)M[x]=0<T?V.i(x+C)>>>T|V.i(x+C+1)<<32-T:V.i(x+C);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=_,ls=d}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gE,ou,yE,kh,Em,wE,vE,_E;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(c,m){if(m)e:{var w=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in w))break e;w=w[L]}c=c[c.length-1],E=w[c],m=m(E),m!=E&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var w=0,E=!1,L={next:function(){if(!E&&w<c.length){var F=w++;return{value:m(F,c[F]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,w){return c.call.apply(c.bind,arguments)}function A(c,m,w){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function S(c,m,w){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,S.apply(null,arguments)}function B(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var E=w.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function K(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(E,L,F){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return m.prototype[L].apply(E,ie)}}function ee(c){const m=c.length;if(0<m){const w=Array(m);for(let E=0;E<m;E++)w[E]=c[E];return w}return[]}function X(c,m){for(let w=1;w<arguments.length;w++){const E=arguments[w];if(g(E)){const L=c.length||0,F=E.length||0;c.length=L+F;for(let ie=0;ie<F;ie++)c[L+ie]=E[ie]}else c.push(E)}}class re{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function le(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var Ee=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function Be(c,m,w){for(const E in c)m.call(w,c[E],E,c)}function V(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function T(c){const m={};for(const w in c)m[w]=c[w];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,m){let w,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(w in E)c[w]=E[w];for(let F=0;F<C.length;F++)w=C[F],Object.prototype.hasOwnProperty.call(E,w)&&(c[w]=E[w])}}function M(c){var m=1;c=c.split(":");const w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function x(c){p.setTimeout(()=>{throw c},0)}function R(){var c=qe;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,w){const E=ot.get();E.set(m,w),this.h?this.h.next=E:this.g=E,this.h=E}}var ot=new re(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,he=!1,qe=new Tt,D=()=>{const c=p.Promise.resolve(void 0);te=()=>{c.then(W)}};var W=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){x(w)}var m=ot;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}he=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};p.addEventListener("test",w,m),p.removeEventListener("test",w,m)}catch{}return c})();function xe(c,m){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(Ee){e:{try{Ie(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}K(xe,ne);var Se={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),it=0;function hi(c,m,w,E,L){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!E,this.ha=L,this.key=++it,this.da=this.fa=!1}function Er(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ui(c){this.src=c,this.g={},this.h=0}Ui.prototype.add=function(c,m,w,E,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ie=_s(c,m,E,L);return-1<ie?(m=c[ie],w||(m.fa=!1)):(m=new hi(m,this.src,F,!!E,L),m.fa=w,c.push(m)),m};function vs(c,m){var w=m.type;if(w in c.g){var E=c.g[w],L=Array.prototype.indexOf.call(E,m,void 0),F;(F=0<=L)&&Array.prototype.splice.call(E,L,1),F&&(Er(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function _s(c,m,w,E){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==m&&F.capture==!!w&&F.ha==E)return L}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),$o={};function Xu(c,m,w,E,L){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Xu(c,m[F],w,E,L);return null}return w=Wu(w),c&&c[Lt]?c.K(m,w,y(E)?!!E.capture:!1,L):Un(c,m,w,!1,E,L)}function Un(c,m,w,E,L,F){if(!m)throw Error("Invalid event type");var ie=y(L)?!!L.capture:!!L,Le=ba(c);if(Le||(c[bs]=Le=new Ui(c)),w=Le.add(m,w,E,ie,F),w.proxy)return w;if(E=Yd(),w.proxy=E,E.src=c,E.listener=w,c.addEventListener)pe||(L=ie),L===void 0&&(L=!1),c.addEventListener(m.toString(),E,L);else if(c.attachEvent)c.attachEvent(Es(m.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Yd(){function c(w){return m.call(c.src,c.listener,w)}const m=Kd;return c}function Xo(c,m,w,E,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Xo(c,m[F],w,E,L);else E=y(E)?!!E.capture:!!E,w=Wu(w),c&&c[Lt]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],w=_s(F,w,E,L),-1<w&&(Er(F[w]),Array.prototype.splice.call(F,w,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=ba(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_s(m,w,E,L)),(w=-1<c?m[c]:null)&&_a(w))}function _a(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Lt])vs(m.i,c);else{var w=c.type,E=c.proxy;m.removeEventListener?m.removeEventListener(w,E,c.capture):m.detachEvent?m.detachEvent(Es(w),E):m.addListener&&m.removeListener&&m.removeListener(E),(w=ba(m))?(vs(w,c),w.h==0&&(w.src=null,m[bs]=null)):Er(c)}}}function Es(c){return c in $o?$o[c]:$o[c]="on"+c}function Kd(c,m){if(c.da)c=!0;else{m=new xe(m,this);var w=c.listener,E=c.ha||c.src;c.fa&&_a(c),c=w.call(E,m)}return c}function ba(c){return c=c[bs],c instanceof Ui?c:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(c){return typeof c=="function"?c:(c[Wo]||(c[Wo]=function(m){return c.handleEvent(m)}),c[Wo])}function dt(){se.call(this),this.i=new Ui(this),this.M=this,this.F=null}K(dt,se),dt.prototype[Lt]=!0,dt.prototype.removeEventListener=function(c,m,w,E){Xo(this,c,m,w,E)};function Ke(c,m){var w,E=c.F;if(E)for(w=[];E;E=E.F)w.push(E);if(c=c.M,E=m.type||m,typeof m=="string")m=new ne(m,c);else if(m instanceof ne)m.target=m.target||c;else{var L=m;m=new ne(E,c),k(m,L)}if(L=!0,w)for(var F=w.length-1;0<=F;F--){var ie=m.g=w[F];L=En(ie,E,!0,m)&&L}if(ie=m.g=c,L=En(ie,E,!0,m)&&L,L=En(ie,E,!1,m)&&L,w)for(F=0;F<w.length;F++)ie=m.g=w[F],L=En(ie,E,!1,m)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],E=0;E<w.length;E++)Er(w[E]);delete c.g[m],c.h--}}this.F=null},dt.prototype.K=function(c,m,w,E){return this.i.add(String(c),m,!1,w,E)},dt.prototype.L=function(c,m,w,E){return this.i.add(String(c),m,!0,w,E)};function En(c,m,w,E){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,F=0;F<m.length;++F){var ie=m[F];if(ie&&!ie.da&&ie.capture==w){var Le=ie.listener,Ot=ie.ha||ie.src;ie.fa&&vs(c.i,ie),L=Le.call(Ot,E)!==!1&&L}}return L&&!E.defaultPrevented}function en(c,m,w){if(typeof c=="function")w&&(c=S(c,w));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function Zu(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,Zu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class $d extends se{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){se.call(this),this.h=c,this.g={}}K(Ts,se);var As=[];function Ss(c){Be(c.g,function(m,w){this.g.hasOwnProperty(w)&&_a(m)},c),c.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),Ss(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=p.JSON.stringify,Ea=p.JSON.parse,Rs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Zo(){}Zo.prototype.h=null;function Jo(c){return c.h||(c.h=c.i())}function el(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){ne.call(this,"d")}K(ji,ne);function tl(){ne.call(this,"c")}K(tl,ne);var di={},nl=null;function Tr(){return nl=nl||new dt}di.La="serverreachability";function Ta(c){ne.call(this,di.La,c)}K(Ta,ne);function Ar(c){const m=Tr();Ke(m,new Ta(m))}di.STAT_EVENT="statevent";function Ju(c,m){ne.call(this,di.STAT_EVENT,c),this.stat=m}K(Ju,ne);function lt(c){const m=Tr();Ke(m,new Ju(m,c))}di.Ma="timingevent";function Nt(c,m){ne.call(this,di.Ma,c),this.size=m}K(Nt,ne);function At(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function il(c,m,w,E,L,F){c.info(function(){if(c.g)if(F)for(var ie="",Le=F.split("&"),Ot=0;Ot<Le.length;Ot++){var Ue=Le[Ot].split("=");if(1<Ue.length){var zt=Ue[0];Ue=Ue[1];var kt=zt.split("_");ie=2<=kt.length&&kt[1]=="type"?ie+(zt+"="+Ue+"&"):ie+(zt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+w+`
`+ie})}function Xd(c,m,w,E,L,F,ie){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+w+`
`+F+" "+ie})}function Sr(c,m,w,E){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Is(c,w)+(E?" "+E:"")})}function ec(c,m){c.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Is(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var E=w[c];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return Jn(w)}catch{return m}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function pi(){}K(pi,Zo),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},fi=new pi;function ln(c,m,w,E){this.j=c,this.i=m,this.l=w,this.R=E||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var rl={},Aa={};function ei(c,m,w){c.L=1,c.v=Os(Tn(m)),c.m=w,c.P=!0,qi(c,null)}function qi(c,m){c.F=Date.now(),Cs(c),c.A=Tn(c.v);var w=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),cl(w.i,"t",E),c.C=0,w=c.j.J,c.h=new gt,c.g=gc(c.j,w?m:null,!c.m),0<c.O&&(c.M=new $d(S(c.Y,c,c.g),c.O)),m=c.U,w=c.g,E=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(As[0]=L.toString()),L=As);for(var F=0;F<L.length;F++){var ie=Xu(w,L[F],E||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ar(),il(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const m=this.M;m&&Hn(c)==3?m.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Hn(this.g);var m=this.g.Ba();const Xi=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||kt!=4||m==7||(m==8||0>=Xi?Ar(3):Ar(2)),Ir(this);var w=this.g.Z();this.X=w;t:if(tc(this)){var E=lc(this.g);c="";var L=E.length,F=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),mi(this);var ie="";break t}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(E[m],{stream:!(F&&m==L-1)});E.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=w==200,Xd(this.i,this.u,this.A,this.l,this.R,kt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ot=this.g;if((Le=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Le)){var Ue=Le;break t}}Ue=null}if(w=Ue)Sr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,w);else{this.o=!1,this.s=3,lt(12),Qt(this),mi(this);break e}}if(this.P){w=!0;let Yt;for(;!this.J&&this.C<ie.length;)if(Yt=nc(this,ie),Yt==Aa){kt==4&&(this.s=4,lt(14),w=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==rl){this.s=4,lt(15),Sr(this.i,this.l,ie,"[Invalid Chunk]"),w=!1;break}else Sr(this.i,this.l,Yt,null),xs(this,Yt);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ie.length!=0||this.h.h||(this.s=1,lt(16),w=!1),this.o=this.o&&w,!w)Sr(this.i,this.l,ie,"[Invalid Chunked Response]"),Qt(this),mi(this);else if(0<ie.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),js(zt),zt.M=!0,lt(11))}}else Sr(this.i,this.l,ie,null),xs(this,ie);kt==4&&Qt(this),this.o&&!this.J&&(kt==4?fc(this.j,this):(this.o=!1,Cs(this)))}else tf(this.g),w==400&&0<ie.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Qt(this),mi(this)}}}catch{}finally{}};function tc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nc(c,m){var w=c.C,E=m.indexOf(`
`,w);return E==-1?Aa:(w=Number(m.substring(w,E)),isNaN(w)?rl:(E+=1,E+w>m.length?Aa:(m=m.slice(E,E+w),c.C=E+w,m)))}ln.prototype.cancel=function(){this.J=!0,Qt(this)};function Cs(c){c.S=Date.now()+c.I,ic(c,c.I)}function ic(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=At(S(c.ba,c),m)}function Ir(c){c.B&&(p.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ec(this.i,this.A),this.L!=2&&(Ar(),lt(17)),Qt(this),this.s=2,mi(this)):ic(this,this.S-c)};function mi(c){c.j.G==0||c.J||fc(c.j,c)}function Qt(c){Ir(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Ss(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function xs(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||sl(w.h,c))){if(!c.K&&sl(w.h,c)&&w.G==3){try{var E=w.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Pa(w),Ma(w);else break e;ml(w),lt(18)}}else w.za=L[1],0<w.za-w.T&&37500>L[2]&&w.F&&w.v==0&&!w.C&&(w.C=At(S(w.Za,w),6e3));if(1>=Ra(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else $i(w,11)}else if((c.K||w.g==c)&&Pa(w),!le(m))for(L=w.Da.g.parse(m),m=0;m<L.length;m++){let Ue=L[m];if(w.T=Ue[0],Ue=Ue[1],w.G==2)if(Ue[0]=="c"){w.K=Ue[1],w.ia=Ue[2];const zt=Ue[3];zt!=null&&(w.la=zt,w.j.info("VER="+w.la));const kt=Ue[4];kt!=null&&(w.Aa=kt,w.j.info("SVER="+w.Aa));const Xi=Ue[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(E=1.5*Xi,w.L=E,w.j.info("backChannelRequestTimeoutMs_="+E)),E=w;const Yt=c.g;if(Yt){const Ei=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var F=E.h;F.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ia(F,F.h),F.h=null))}if(E.D){const yl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(E.ya=yl,We(E.I,E.D,yl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),E=w;var ie=c;if(E.qa=mc(E,E.J?E.ia:null,E.W),ie.K){un(E.h,ie);var Le=ie,Ot=E.L;Ot&&(Le.I=Ot),Le.B&&(Ir(Le),Cs(Le)),E.g=ie}else hc(E);0<w.i.length&&Va(w)}else Ue[0]!="stop"&&Ue[0]!="close"||$i(w,7);else w.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?$i(w,7):fl(w):Ue[0]!="noop"&&w.l&&w.l.ta(Ue),w.v=0)}}Ar(4)}catch{}}var rc=class{constructor(c,m){this.g=c,this.map=m}};function Hi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function sl(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ia(c,m){c.g?c.g.add(m):c.h=m}function un(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Hi.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function al(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.D);return m}return ee(c.i)}function Wd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],w=c.length,E=0;E<w;E++)m.push(c[E]);return m}m=[],w=0;for(E in c)m[w++]=c[E];return m}function Ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(const E in c)m[w++]=E;return m}}}function ol(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=Ca(c),E=Wd(c),L=E.length,F=0;F<L;F++)m.call(void 0,E[F],w&&w[F],c)}var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zd(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var E=c[w].indexOf("="),L=null;if(0<=E){var F=c[w].substring(0,E);L=c[w].substring(E+1)}else F=c[w];m(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.s),this.l=c.l;var m=c.i,w=new Gi;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),Fi(this,w),this.m=c.m}else c&&(m=String(c).match(Ds))?(this.h=!1,Ns(this,m[1]||"",!0),this.o=jn(m[2]||""),this.g=jn(m[3]||"",!0),Cr(this,m[4]),this.l=jn(m[5]||"",!0),Fi(this,m[6]||"",!0),this.m=jn(m[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}St.prototype.toString=function(){var c=[],m=this.j;m&&c.push(ks(m,ll,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ks(m,ll,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ks(w,w.charAt(0)=="/"?Jd:ul,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ks(w,xa)),c.join("")};function Tn(c){return new St(c)}function Ns(c,m,w){c.j=w?jn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Fi(c,m,w){m instanceof Gi?(c.i=m,ac(c.i,c.h)):(w||(m=ks(m,ef)),c.i=new Gi(m,c.h))}function We(c,m,w){c.i.set(m,w)}function Os(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,sc),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,Jd=/[#\?]/g,ef=/[#\?@]/g,xa=/#/g;function Gi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zd(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}i=Gi.prototype,i.add=function(c,m){Bn(this),this.i=null,c=gi(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function Qi(c,m){Bn(c),m=gi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Yi(c,m){return Bn(c),m=gi(c,m),c.g.has(m)}i.forEach=function(c,m){Bn(this),this.g.forEach(function(w,E){w.forEach(function(L){c.call(m,L,E,this)},this)},this)},i.na=function(){Bn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let E=0;E<m.length;E++){const L=c[E];for(let F=0;F<L.length;F++)w.push(m[E])}return w},i.V=function(c){Bn(this);let m=[];if(typeof c=="string")Yi(this,c)&&(m=m.concat(this.g.get(gi(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},i.set=function(c,m){return Bn(this),this.i=null,c=gi(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},i.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function cl(c,m,w){Qi(c,m),0<w.length&&(c.i=null,c.g.set(gi(c,m),ee(w)),c.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var E=m[w];const F=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var L=F;ie[E]!==""&&(L+="="+encodeURIComponent(String(ie[E]))),c.push(L)}}return this.i=c.join("&")};function gi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ac(c,m){m&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(w,E){var L=E.toLowerCase();E!=L&&(Qi(this,E),cl(this,L,w))},c)),c.j=m}function Ms(c,m){const w=new zn;if(p.Image){const E=new Image;E.onload=B(qn,w,"TestLoadImage: loaded",!0,m,E),E.onerror=B(qn,w,"TestLoadImage: error",!1,m,E),E.onabort=B(qn,w,"TestLoadImage: abort",!1,m,E),E.ontimeout=B(qn,w,"TestLoadImage: timeout",!1,m,E),p.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else m(!1)}function ti(c,m){const w=new zn,E=new AbortController,L=setTimeout(()=>{E.abort(),qn(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:E.signal}).then(F=>{clearTimeout(L),F.ok?qn(w,"TestPingServer: ok",!0,m):qn(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),qn(w,"TestPingServer: error",!1,m)})}function qn(c,m,w,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(w)}catch{}}function Vs(){this.g=new Rs}function yi(c,m,w){const E=w||"";try{ol(c,function(L,F){let ie=L;y(L)&&(ie=Jn(L)),m.push(E+F+"="+encodeURIComponent(ie))})}catch(L){throw m.push(E+"type="+encodeURIComponent("_badmap")),L}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}K(xr,Zo),xr.prototype.g=function(){return new Ki(this.l,this.j)},xr.prototype.i=(function(c){return function(){return c}})({});function Ki(c,m){dt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Ki,dt),i=Ki.prototype,i.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,vi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?wi(this):vi(this),this.readyState==3&&hl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,wi(this))},i.Qa=function(c){this.g&&(this.response=c,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vi(c)}i.setRequestHeader=function(c,m){this.u.append(c,m)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function dl(c){let m="";return Be(c,function(w,E){m+=E,m+=":",m+=w,m+=`\r
`}),m}function Ut(c,m,w){e:{for(E in w){var E=!1;break e}E=!0}E||(w=dl(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,m,w))}function Ye(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Ye,dt);var Da=/^https?$/i,Ps=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,m,w,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?Jo(this.o):Jo(fi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){oc(this,F);return}if(c=w||"",w=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)w.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const F of E.keys())w.set(F,E.get(F));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),L=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ps,m,void 0))||E||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of w)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){oc(this,F)}};function oc(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Na(c),_i(c)}function Na(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),_i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},i.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)en(c.Ea,0,c);else if(Ke(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var E;if(E=ie===0){var L=String(c.D).match(Ds)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),E=!Da.test(L?L.toLowerCase():"")}w=E}if(w)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var F=2<Hn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Na(c)}}finally{_i(c)}}}}function _i(c,m){if(c.g){Ls(c);const w=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ke(c,"ready");try{w.onreadystatechange=E}catch{}}}function Ls(c){c.I&&(p.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ea(m)}};function lc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const m={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(le(c[E]))continue;var w=M(c[E]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=m[L]||[];m[L]=F,F.push(w)}V(m,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function ka(c){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(c&&c.concurrentRequestLimit),this.Da=new Vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ka.prototype,i.la=8,i.G=1,i.connect=function(c,m,w,E){lt(0),this.W=c,this.H=m||{},w&&E!==void 0&&(this.H.OSID=w,this.H.OAID=E),this.F=this.X,this.I=mc(this,null,this.W),Va(this)};function fl(c){if(uc(c),c.G==3){var m=c.U++,w=Tn(c.I);if(We(w,"SID",c.K),We(w,"RID",m),We(w,"TYPE","terminate"),zs(c,w),m=new ln(c,c.j,m),m.L=2,m.v=Os(Tn(w)),w=!1,p.navigator&&p.navigator.sendBeacon)try{w=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&p.Image&&(new Image().src=m.v,w=!0),w||(m.g=gc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Cs(m)}pc(c)}function Ma(c){c.g&&(js(c),c.g.cancel(),c.g=null)}function uc(c){Ma(c),c.u&&(p.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Va(c){if(!Sa(c.h)&&!c.s){c.s=!0;var m=c.Ga;te||D(),he||(te(),he=!0),qe.add(m,c),c.B=0}}function nf(c,m){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=At(S(c.Ga,c,m),gl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ln(this,this.j,c);let F=this.o;if(this.S&&(F?(F=T(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var E=this.i[w];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=cc(this,L,m),w=Tn(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),zs(this,w),F&&(this.O?m="headers="+encodeURIComponent(String(dl(F)))+"&"+m:this.m&&Ut(w,this.m,F)),Ia(this.h,L),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",m),We(w,"SID","null"),L.T=!0,ei(L,w,null)):ei(L,w,m),this.G=2}}else this.G==3&&(c?pl(this,c):this.i.length==0||Sa(this.h)||pl(this))};function pl(c,m){var w;m?w=m.l:w=c.U++;const E=Tn(c.I);We(E,"SID",c.K),We(E,"RID",w),We(E,"AID",c.T),zs(c,E),c.m&&c.o&&Ut(E,c.m,c.o),w=new ln(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=cc(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,w),ei(w,E,m)}function zs(c,m){c.H&&Be(c.H,function(w,E){We(m,E,w)}),c.l&&ol({},function(w,E){We(m,E,w)})}function cc(c,m,w){w=Math.min(c.i.length,w);var E=c.l?S(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const ie=["count="+w];F==-1?0<w?(F=L[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Le=!0;for(let Ot=0;Ot<w;Ot++){let Ue=L[Ot].g;const zt=L[Ot].map;if(Ue-=F,0>Ue)F=Math.max(0,L[Ot].g-100),Le=!1;else try{yi(zt,ie,"req"+Ue+"_")}catch{E&&E(zt)}}if(Le){E=ie.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,E}function hc(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;te||D(),he||(te(),he=!0),qe.add(m,c),c.v=0}}function ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=At(S(c.Fa,c),gl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=At(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Ma(this),dc(this))};function js(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function dc(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Tn(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),zs(c,m),c.m&&c.o&&Ut(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Os(Tn(m)),w.m=null,w.P=!0,qi(w,c)}i.Za=function(){this.C!=null&&(this.C=null,Ma(this),ml(this),lt(19))};function Pa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function fc(c,m){var w=null;if(c.g==m){Pa(c),js(c),c.g=null;var E=2}else if(sl(c.h,m))w=m.D,un(c.h,m),E=1;else return;if(c.G!=0){if(m.o)if(E==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;E=Tr(),Ke(E,new Nt(E,w)),Va(c)}else hc(c);else if(L=m.s,L==3||L==0&&0<m.X||!(E==1&&nf(c,m)||E==2&&ml(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),L){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function gl(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function $i(c,m){if(c.j.info("Error code "+m),m==2){var w=S(c.fb,c),E=c.Xa;const L=!E;E=new St(E||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ns(E,"https"),Os(E),L?Ms(E.toString(),w):ti(E.toString(),w)}else lt(2);c.G=0,c.l&&c.l.sa(m),pc(c),uc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function pc(c){if(c.G=0,c.ka=[],c.l){const m=al(c.h);(m.length!=0||c.i.length!=0)&&(X(c.ka,m),X(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function mc(c,m,w){var E=w instanceof St?Tn(w):new St(w);if(E.g!="")m&&(E.g=m+"."+E.g),Cr(E,E.s);else{var L=p.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var F=new St(null);E&&Ns(F,E),m&&(F.g=m),L&&Cr(F,L),w&&(F.l=w),E=F}return w=c.D,m=c.ya,w&&m&&We(E,w,m),We(E,"VER",c.la),zs(c,E),E}function gc(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new xr({eb:w})):new Ye(c.pa),m.Ha(c.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}i=yc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function La(){}La.prototype.g=function(c,m){return new cn(c,m)};function cn(c,m){dt.call(this),this.g=new ka(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!le(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!le(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new bi(this)}K(cn,dt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){fl(this.g)},cn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Jn(c),c=w);m.i.push(new rc(m.Ya++,c)),m.G==3&&Va(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,cn.aa.N.call(this)};function wc(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}K(wc,ji);function vc(){tl.call(this),this.status=1}K(vc,tl);function bi(c){this.g=c}K(bi,yc),bi.prototype.ua=function(){Ke(this.g,"a")},bi.prototype.ta=function(c){Ke(this.g,new wc(c))},bi.prototype.sa=function(c){Ke(this.g,new vc)},bi.prototype.ra=function(){Ke(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,_E=function(){return new La},vE=function(){return Tr()},wE=di,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,kh=Rr,Bi.COMPLETE="complete",yE=Bi,el.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ou=el,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,gE=Ye}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",s0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Fm("@firebase/firestore");function po(){return fa.logLevel}function ue(i,...e){if(fa.logLevel<=ke.DEBUG){const t=e.map(ig);fa.debug(`Firestore (${zo}): ${i}`,...t)}}function gr(i,...e){if(fa.logLevel<=ke.ERROR){const t=e.map(ig);fa.error(`Firestore (${zo}): ${i}`,...t)}}function Ro(i,...e){if(fa.logLevel<=ke.WARN){const t=e.map(ig);fa.warn(`Firestore (${zo}): ${i}`,...t)}}function ig(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,bE(i,s,t)}function bE(i,e,t){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw gr(s),new Error(s)}function Pe(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||bE(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class DC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class NC{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new li,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new li)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pe(typeof s.accessToken=="string",31837,{l:s}),new EE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class OC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new OC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new a0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Tm(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Me(o,u):om(o)?1:-1}return Me(i.length,e.length)}const PC=55296,LC=57343;function om(i){const e=i.charCodeAt(0);return e>=PC&&e<=LC}function Io(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="__name__";class Ci{constructor(e,t,s){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&me(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Me(e.length,t.length)}static compareSegments(e,t){const s=Ci.isNumericId(e),o=Ci.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(t)):Tm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class tt extends Ci{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Ci{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return UC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new Zt([o0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(u(),o++)}if(u(),d)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(i,e,t){if(!t)throw new ae(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function zC(i,e,t,s){if(e===!0&&s===!0)throw new ae(Y.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function l0(i){if(!fe.isDocumentKey(i))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function u0(i){if(fe.isDocumentKey(i))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function AE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Td(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":me(12329,{type:typeof i})}function kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Td(i);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pu(i,e){if(!AE(i))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ae(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-62135596800,h0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*h0);return new at(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<c0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new at(0,0))}static max(){return new _e(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function jC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(s===1e9?new at(t+1,0):new at(t,s));return new hs(o,fe.empty(),e)}function BC(i){return new hs(i.readTime,i.key,bu)}class hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new hs(_e.min(),fe.empty(),bu)}static max(){return new hs(_e.max(),fe.empty(),bu)}}function qC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(i.documentKey,e.documentKey),t!==0?t:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==HC)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&t()}),(g=>s(g)))})),d=!0,u===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((_=>{d[y]=_,++p,p===u&&s(d)}),(_=>o(_)))}}))}static doWhile(e,t){return new J(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function GC(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function Lu(i){return i==null}function $h(i){return i===0&&1/i==-1/0}function QC(i){return typeof i=="number"&&Number.isInteger(i)&&!$h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function YC(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=d0(e)),e=KC(i.get(t),e);return d0(e)}function KC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case SE:t+="";break;default:t+=u}}return t}function d0(i){return i+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ys(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function $C(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function RE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p0(this.data.getIterator())}getIteratorFrom(e){return new p0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class p0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Pt(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IE("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Pe(!!i,39018),typeof i=="string"){let e=0;const t=XC.exec(i);if(Pe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="server_timestamp",xE="__type__",DE="__previous_value__",NE="__local_write_time__";function ag(i){return(i?.mapValue?.fields||{})[xE]?.stringValue===CE}function Sd(i){const e=i.mapValue.fields[DE];return ag(e)?Sd(e):e}function Eu(i){const e=ds(i.mapValue.fields[NE].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t,s,o,u,d,p,g,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Xh="(default)";class Tu{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__type__",ZC="__max__",Th={mapValue:{}},kE="__vector__",Wh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:ex(i)?9007199254740991:JC(i)?10:11:me(28295,{value:i})}function Vi(i,e){if(i===e)return!0;const t=ps(i);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Eu(i).isEqual(Eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ds(o.timestampValue),p=ds(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_t(o.doubleValue),p=_t(u.doubleValue);return d===p?$h(d)===$h(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(f0(d)!==f0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Vi(d[g],p[g])))return!1;return!0})(i,e);default:return me(52216,{left:i})}}function Au(i,e){return(i.values||[]).find((t=>Vi(t,e)))!==void 0}function Co(i,e){if(i===e)return 0;const t=ps(i),s=ps(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=_t(u.integerValue||u.doubleValue),g=_t(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return m0(i.timestampValue,e.timestampValue);case 4:return m0(Eu(i),Eu(e));case 5:return Tm(i.stringValue,e.stringValue);case 6:return(function(u,d){const p=fs(u),g=fs(d);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Me(p[y],g[y]);if(_!==0)return _}return Me(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Me(_t(u.latitude),_t(d.latitude));return p!==0?p:Me(_t(u.longitude),_t(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return g0(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},y=p[Wh]?.arrayValue,_=g[Wh]?.arrayValue,A=Me(y?.values?.length||0,_?.values?.length||0);return A!==0?A:g0(y,_)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Th.mapValue&&d===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(d===Th.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=d.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let A=0;A<g.length&&A<_.length;++A){const S=Tm(g[A],_[A]);if(S!==0)return S;const B=Co(p[g[A]],y[_[A]]);if(B!==0)return B}return Me(g.length,_.length)})(i.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function m0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const t=ds(i),s=ds(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function g0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Co(t[o],s[o]);if(u)return u}return Me(t.length,s.length)}function xo(i){return Am(i)}function Am(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return fs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return fe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Am(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${Am(t.fields[d])}`;return o+"}"})(i.mapValue):me(61005,{value:i})}function Mh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(i);return e?16+Mh(e):16;case 5:return 2*i.stringValue.length;case 6:return fs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Mh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,d)=>{o+=u.length+Mh(d)})),o})(i.mapValue);default:throw me(13486,{value:i})}}function y0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sm(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function w0(i){return!!i&&"nullValue"in i}function v0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vh(i){return!!i&&"mapValue"in i}function JC(i){return(i?.mapValue?.fields||{})[OE]?.stringValue===kE}function fu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=fu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return{...i}}function ex(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ZC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=Zt.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}d?s[p.lastSegment()]=fu(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ys(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(fu(this.value))}}function ME(i){const e=[];return ys(i.fields,((t,s)=>{const o=new Zt([t]);if(Vh(s)){const u=ME(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,s,o,u,d,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ft(e,0,_e.min(),_e.min(),_e.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,_e.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,_e.min(),_e.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,_e.min(),_e.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.position=e,this.inclusive=t}}function _0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=fe.comparator(fe.fromName(d.referenceValue),t.key):s=Co(d,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function b0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Vi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function tx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class xt extends VE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ix(e,t,s):t==="array-contains"?new ax(e,s):t==="in"?new ox(e,s):t==="not-in"?new lx(e,s):t==="array-contains-any"?new ux(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new rx(e,s):new sx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Co(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends VE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ui(e,t)}matches(e){return PE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PE(i){return i.op==="and"}function LE(i){return nx(i)&&PE(i)}function nx(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function Rm(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(LE(i))return i.filters.map((e=>Rm(e))).join(",");{const e=i.filters.map((t=>Rm(t))).join(",");return`${i.op}(${e})`}}function UE(i,e){return i instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)})(i,e):i instanceof ui?(function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,p)=>u&&UE(d,o.filters[p])),!0):!1})(i,e):void me(19439)}function zE(i){return i instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`})(i):i instanceof ui?(function(t){return t.op.toString()+" {"+t.getFilters().map(zE).join(" ,")+"}"})(i):"Filter"}class ix extends xt{constructor(e,t,s){super(e,t,s),this.key=fe.fromName(s.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class rx extends xt{constructor(e,t){super(e,"in",t),this.keys=jE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sx extends xt{constructor(e,t){super(e,"not-in",t),this.keys=jE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jE(i,e){return(e.arrayValue?.values||[]).map((t=>fe.fromName(t.referenceValue)))}class ax extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&Au(t.arrayValue,this.value)}}class ox extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class lx extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class ux extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t=null,s=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function E0(i,e=null,t=[],s=[],o=null,u=null,d=null){return new cx(i,e,t,s,o,u,d)}function lg(i){const e=Ae(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Rm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>xo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>xo(s))).join(",")),e.Te=t}return e.Te}function ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!tx(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!UE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!b0(i.startAt,e.startAt)&&b0(i.endAt,e.endAt)}function Im(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,s=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hx(i,e,t,s,o,u,d,p){return new qo(i,e,t,s,o,u,d,p)}function Rd(i){return new qo(i)}function T0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BE(i){return i.collectionGroup!==null}function pu(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pt(Zt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Su(u,s))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new Su(Zt.keyField(),s))}return e.Ie}function Oi(i){const e=Ae(i);return e.Ee||(e.Ee=qE(e,pu(i))),e.Ee}function dx(i){const e=Ae(i);return e.de||(e.de=qE(e,i.explicitOrderBy)),e.de}function qE(i,e){if(i.limitType==="F")return E0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)}));const t=i.endAt?new Zh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zh(i.startAt.position,i.startAt.inclusive):null;return E0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Cm(i,e){const t=i.filters.concat([e]);return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Jh(i,e,t){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Id(i,e){return ug(Oi(i),Oi(e))&&i.limitType===e.limitType}function HE(i){return`${lg(Oi(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>zE(o))).join(", ")}]`),Lu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>xo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>xo(o))).join(",")),`Target(${s})`})(Oi(i))}; limitType=${i.limitType})`}function Cd(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):fe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,g){const y=_0(d,p,g);return d.inclusive?y<=0:y<0})(s.startAt,pu(s),o)||s.endAt&&!(function(d,p,g){const y=_0(d,p,g);return d.inclusive?y>=0:y>0})(s.endAt,pu(s),o))})(i,e)}function fx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function FE(i){return(e,t)=>{let s=!1;for(const o of pu(i)){const u=px(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function px(i,e,t){const s=i.field.isKeyField()?fe.comparator(e.key,t.key):(function(u,d,p){const g=d.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Co(g,y):me(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return me(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ht(fe.comparator);function yr(){return mx}const GE=new ht(fe.comparator);function lu(...i){let e=GE;for(const t of i)e=e.insert(t.key,t);return e}function QE(i){let e=GE;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function sa(){return mu()}function YE(){return mu()}function mu(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const gx=new ht(fe.comparator),yx=new Pt(fe.comparator);function Ve(...i){let e=yx;for(const t of i)e=e.add(t);return e}const wx=new Pt(Me);function vx(){return wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function KE(i){return{integerValue:""+i}}function _x(i,e){return QC(e)?KE(e):cg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function bx(i,e,t){return i instanceof Ru?(function(o,u){const d={fields:{[xE]:{stringValue:CE},[NE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=Sd(u)),u&&(d.fields[DE]=u),{mapValue:d}})(t,e):i instanceof Iu?XE(i,e):i instanceof Cu?WE(i,e):(function(o,u){const d=$E(o,u),p=A0(d)+A0(o.Ae);return Sm(d)&&Sm(o.Ae)?KE(p):cg(o.serializer,p)})(i,e)}function Ex(i,e,t){return i instanceof Iu?XE(i,e):i instanceof Cu?WE(i,e):t}function $E(i,e){return i instanceof ed?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ru extends xd{}class Iu extends xd{constructor(e){super(),this.elements=e}}function XE(i,e){const t=ZE(e);for(const s of i.elements)t.some((o=>Vi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Cu extends xd{constructor(e){super(),this.elements=e}}function WE(i,e){let t=ZE(e);for(const s of i.elements)t=t.filter((o=>!Vi(o,s)));return{arrayValue:{values:t}}}class ed extends xd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function A0(i){return _t(i.integerValue||i.doubleValue)}function ZE(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t){this.field=e,this.transform=t}}function Ax(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Iu&&o instanceof Iu||s instanceof Cu&&o instanceof Cu?Io(s.elements,o.elements,Vi):s instanceof ed&&o instanceof ed?Vi(s.Ae,o.Ae):s instanceof Ru&&o instanceof Ru})(i.transform,e.transform)}class Sx{constructor(e,t){this.version=e,this.transformResults=t}}class fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Dd{}function JE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hg(i.key,fn.none()):new Uu(i.key,i.data,fn.none());{const t=i.data,s=dn.empty();let o=new Pt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new ws(i.key,s,new On(o.toArray()),fn.none())}}function Rx(i,e,t){i instanceof Uu?(function(o,u,d){const p=o.value.clone(),g=R0(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,t):i instanceof ws?(function(o,u,d){if(!Ph(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=R0(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(eT(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function gu(i,e,t,s){return i instanceof Uu?(function(u,d,p,g){if(!Ph(u.precondition,d))return p;const y=u.value.clone(),_=I0(u.fieldTransforms,g,d);return y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof ws?(function(u,d,p,g){if(!Ph(u.precondition,d))return p;const y=I0(u.fieldTransforms,g,d),_=d.data;return _.setAll(eT(u)),_.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,t,s):(function(u,d,p){return Ph(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,t)}function Ix(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$E(s.transform,o||null);u!=null&&(t===null&&(t=dn.empty()),t.set(s.field,u))}return t||null}function S0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,d)=>Ax(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uu extends Dd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends Dd{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function R0(i,e,t){const s=new Map;Pe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],d=u.transform,p=e.data.field(u.field);s.set(u.field,Ex(d,p,t[o]))}return s}function I0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,d=t.data.field(o.field);s.set(o.field,bx(u,d,e))}return s}class hg extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tT extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Rx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=YE();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=t.has(o.key)?null:p;const g=JE(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((t,s)=>S0(t,s)))&&Io(this.baseMutations,e.baseMutations,((t,s)=>S0(t,s)))}}class dg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Pe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gx})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new dg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function nT(i){switch(i){case Y.OK:return me(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return me(15467,{code:i})}}function iT(i){if(i===void 0)return gr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case Ct.OK:return Y.OK;case Ct.CANCELLED:return Y.CANCELLED;case Ct.UNKNOWN:return Y.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Y.INTERNAL;case Ct.UNAVAILABLE:return Y.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Y.NOT_FOUND;case Ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ct.ABORTED:return Y.ABORTED;case Ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ct.DATA_LOSS:return Y.DATA_LOSS;default:return me(39323,{code:i})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new ls([4294967295,4294967295],0);function C0(i){const e=Ox().encode(i),t=new mE;return t.update(e),new Uint8Array(t.digest())}function x0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ls.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(kx)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=C0(e),[s,o]=x0(t);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new fg(u,o,t);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const t=C0(e),[s,o]=x0(t);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Nd(_e.min(),o,new ht(Me),yr(),Ve())}}class zu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new zu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class rT{constructor(e,t){this.targetId=e,this.Ce=t}}class sT{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class D0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:me(38017,{changeType:u})}})),new zu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Mx{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=Ah(),this.He=Ah(),this.Ye=new ht(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Im(u))if(s===0){const d=new fe(u.path);this.et(t,d,Ft.newNoDocument(d,_e.min()))}else Pe(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let d,p;try{d=fs(s).toUint8Array()}catch(g){if(g instanceof IE)return Ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new fg(d,o,u)}catch(g){return Ro(g instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&Im(p.target)){const g=new fe(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Ft.newNoDocument(g,e))}u.Be&&(t.set(d,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Nd(e,t,this.Ye,this.je,s);return this.je=yr(),this.Je=Ah(),this.He=Ah(),this.Ye=new ht(Me),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new D0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ah(){return new ht(fe.comparator)}function N0(){return new ht(fe.comparator)}const Vx={asc:"ASCENDING",desc:"DESCENDING"},Px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lx={and:"AND",or:"OR"};class Ux{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xm(i,e){return i.useProto3Json||Lu(e)?e:{value:e}}function td(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zx(i,e){return td(i,e.toTimestamp())}function Mn(i){return Pe(!!i,49232),_e.fromTimestamp((function(t){const s=ds(t);return new at(s.seconds,s.nanos)})(i))}function pg(i,e){return Dm(i,e).canonicalString()}function Dm(i,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function oT(i){const e=tt.fromString(i);return Pe(pT(e),10190,{key:e.toString()}),e}function nd(i,e){return pg(i.databaseId,e.path)}function yu(i,e){const t=oT(e);if(t.get(1)!==i.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new fe(uT(t))}function lT(i,e){return pg(i.databaseId,e)}function jx(i){const e=oT(i);return e.length===4?tt.emptyPath():uT(e)}function Nm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uT(i){return Pe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function O0(i,e,t){return{name:nd(i,e),fields:t.value.mapValue.fields}}function Bx(i,e){return"found"in e?(function(s,o){Pe(!!o.found,43571),o.found.name,o.found.updateTime;const u=yu(s,o.found.name),d=Mn(o.found.updateTime),p=o.found.createTime?Mn(o.found.createTime):_e.min(),g=new dn({mapValue:{fields:o.found.fields}});return Ft.newFoundDocument(u,d,p,g)})(i,e):"missing"in e?(function(s,o){Pe(!!o.missing,3894),Pe(!!o.readTime,22933);const u=yu(s,o.missing),d=Mn(o.readTime);return Ft.newNoDocument(u,d)})(i,e):me(7234,{result:e})}function qx(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:me(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(Pe(_===void 0||typeof _=="string",58123),Jt.fromBase64String(_||"")):(Pe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const _=y.code===void 0?Y.UNKNOWN:iT(y.code);return new ae(_,y.message||"")})(d);t=new sT(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yu(i,s.document.name),u=Mn(s.document.updateTime),d=s.document.createTime?Mn(s.document.createTime):_e.min(),p=new dn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,d,p),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Lh(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yu(i,s.document),u=s.readTime?Mn(s.readTime):_e.min(),d=Ft.newNoDocument(o,u),p=s.removedTargetIds||[];t=new Lh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yu(i,s.document),u=s.removedTargetIds||[];t=new Lh([],u,o,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new Nx(o,u),p=s.targetId;t=new rT(p,d)}}return t}function cT(i,e){let t;if(e instanceof Uu)t={update:O0(i,e.key,e.value)};else if(e instanceof hg)t={delete:nd(i,e.key)};else if(e instanceof ws)t={update:O0(i,e.key,e.data),updateMask:Wx(e.fieldMask)};else{if(!(e instanceof tT))return me(16599,{Vt:e.type});t={verify:nd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof Ru)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ed)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw me(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:me(27497)})(i,e.precondition)),t}function Hx(i,e){return i&&i.length>0?(Pe(e!==void 0,14353),i.map((t=>(function(o,u){let d=o.updateTime?Mn(o.updateTime):Mn(u);return d.isEqual(_e.min())&&(d=Mn(u)),new Sx(d,o.transformResults||[])})(t,e)))):[]}function Fx(i,e){return{documents:[lT(i,e.path)]}}function hT(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=lT(i,o);const u=(function(y){if(y.length!==0)return fT(ui.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:ts(S.field),direction:Kx(S.dir)}})(_)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=xm(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function Gx(i,e,t,s){const{ft:o,parent:u}=hT(i,e),d={},p=[];let g=0;return t.forEach((y=>{const _="aggregate_"+g++;d[_]=y.alias,y.aggregateType==="count"?p.push({alias:_,count:{}}):y.aggregateType==="avg"?p.push({alias:_,avg:{field:ts(y.fieldPath)}}):y.aggregateType==="sum"&&p.push({alias:_,sum:{field:ts(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:o.structuredQuery},parent:o.parent},gt:d,parent:u}}function Qx(i){let e=jx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Pe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(A){const S=dT(A);return S instanceof ui&&LE(S)?S.getFilters():[S]})(t.where));let d=[];t.orderBy&&(d=(function(A){return A.map((S=>(function(K){return new Su(go(K.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(S)))})(t.orderBy));let p=null;t.limit&&(p=(function(A){let S;return S=typeof A=="object"?A.value:A,Lu(S)?null:S})(t.limit));let g=null;t.startAt&&(g=(function(A){const S=!!A.before,B=A.values||[];return new Zh(B,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(A){const S=!A.before,B=A.values||[];return new Zh(B,S)})(t.endAt)),hx(e,o,d,u,p,"F",g,y)}function Yx(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=go(t.unaryFilter.field);return xt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(i):i.fieldFilter!==void 0?(function(t){return xt.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ui.create(t.compositeFilter.filters.map((s=>dT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(i):me(30097,{filter:i})}function Kx(i){return Vx[i]}function $x(i){return Px[i]}function Xx(i){return Lx[i]}function ts(i){return{fieldPath:i.canonicalString()}}function go(i){return Zt.fromServerFormat(i.fieldPath)}function fT(i){return i instanceof xt?(function(t){if(t.op==="=="){if(v0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(t.field),op:$x(t.op),value:t.value}}})(i):i instanceof ui?(function(t){const s=t.getFilters().map((o=>fT(o)));return s.length===1?s[0]:{compositeFilter:{op:Xx(t.op),filters:s}}})(i):me(54877,{filter:i})}function Wx(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,s,o,u=_e.min(),d=_e.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.yt=e}}function Jx(i){const e=Qx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Cn=new tD}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(hs.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class tD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(mT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LruGarbageCollector",nD=1048576;function V0([i,e],[t,s]){const o=Me(i,t);return o===0?Me(e,s):o}class iD{constructor(e){this.Ir=e,this.buffer=new Pt(V0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();V0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(M0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?ue(M0,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.Vr(3e5)}))}}class sD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Ad.ce);const s=new iD(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(k0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,d,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,t)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),po()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function aD(i,e){return new sD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.changes=new ga((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&gu(s.mutation,o,On.empty(),at.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ve()){const o=sa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let d=lu();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=sa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ve())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{t.set(d,p)}))}))}computeViews(e,t,s,o){let u=yr();const d=mu(),p=(function(){return mu()})();return t.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ws)?u=u.insert(y.key,y):_!==void 0?(d.set(y.key,_.mutation.getFieldMask()),gu(_.mutation,y,_.mutation.getFieldMask(),at.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,_)=>d.set(y,_))),t.forEach(((y,_)=>p.set(y,new lD(_,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=mu();let o=new ht(((d,p)=>d-p)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let _=s.get(g)||On.empty();_=p.applyToLocalView(y,_),s.set(g,_);const A=(o.get(p.batchId)||Ve()).add(g);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,A=YE();_.forEach((S=>{if(!u.has(S)){const B=JE(t.get(S),s.get(S));B!==null&&A.set(S,B),u=u.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(sa());let p=bu,g=u;return d.next((y=>J.forEach(y,((_,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ve()))).next((_=>({batchId:p,changes:QE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let d=lu();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const y=(function(A,S){return new qo(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((A,S)=>{d=d.insert(A,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((d=>{u.forEach(((g,y)=>{const _=y.getKey();d.get(_)===null&&(d=d.insert(_,Ft.newInvalidDocument(_)))}));let p=lu();return d.forEach(((g,y)=>{const _=u.get(g);_!==void 0&&gu(_.mutation,y,On.empty(),at.now()),Cd(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Mn(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Jx(o.bundledQuery),readTime:Mn(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.overlays=new ht(fe.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sa();return J.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=sa(),u=t.length+1,d=new fe(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ht(((y,_)=>y-_));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=u.get(y.largestBatchId);_===null&&(_=sa(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=sa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return J.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new xx(t,s));let u=this.qr.get(t);u===void 0&&(u=Ve(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Qr=new Pt(Ht.$r),this.Ur=new Pt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new fe(new tt([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new tt([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ht.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Cx(u,t,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(Me);return t.forEach((o=>{const u=new Ht(o,0),d=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{s=s.add(p.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;fe.isDocumentKey(u)||(u=u.child(""));const d=new Ht(new fe(u),0);let p=new Pt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Pe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.ri=e,this.docs=(function(){return new ht(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,d=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=yr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=yr();const d=t.path,p=new fe(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qC(BC(_),s)<=0||(o.has(_.key)||Cd(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){me(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new mD(this)}getSize(e){return J.resolve(this.size)}}class mD extends oD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.persistence=e,this.si=new ga((t=>lg(t)),ug),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ad(0),this.li=!1,this.li=!0,this.hi=new dD,this.referenceDelegate=e(this),this.Pi=new gD(this),this.indexManager=new eD,this.remoteDocumentCache=(function(o){return new pD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Zx(t),this.Ii=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new fD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new yD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class yD extends FC{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new mg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=fe.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,_e.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class id{constructor(e,t){this.persistence=e,this.pi=new ga((s=>YC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=aD(this,t)}static mi(e,t){return new id(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,t).next((p=>{p||(s++,u.removeEntry(d,_e.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HA()?8:GC(an())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new wD;return this.Ss(e,t,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,d,p.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(po()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(po()<=ke.DEBUG&&ue("QueryEngine","Query:",mo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(po()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(t))):J.resolve())}ys(e,t){if(T0(t))return J.resolve(null);let s=Oi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Jh(t,null,"F"),s=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=Ve(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,d,g.readTime)?this.ys(e,Jh(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return T0(t)||o.isEqual(_e.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(t,u);return this.Cs(t,d,s,o)?J.resolve(null):(po()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.vs(e,d,t,jC(o,bu)).next((p=>p)))}))}Ds(e,t){let s=new Pt(FE(e));return t.forEach(((o,u)=>{Cd(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return po()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",mo(t)),this.ps.getDocumentsMatchingQuery(e,t,hs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",_D=3e8;class bD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ht(Me),this.xs=new ga((u=>lg(u)),ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ED(i,e,t,s){return new bD(i,e,t,s)}async function yT(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let g=Ve();for(const y of o){d.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function TD(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const A=y.batch,S=A.keys();let B=J.resolve();return S.forEach((K=>{B=B.next((()=>_.getEntry(g,K))).next((ee=>{const X=y.docVersions.get(K);Pe(X!==null,48541),ee.version.compareTo(X)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),_.addEntry(ee)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Ve();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function wT(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function AD(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((_,A)=>{const S=o.get(A);if(!S)return;p.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,A))));let B=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?B=B.withResumeToken(Jt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):_.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(_.resumeToken,s)),o=o.insert(A,B),(function(ee,X,re){return ee.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=_D?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(S,B,_)&&p.push(t.Pi.updateTargetData(u,B))}));let g=yr(),y=Ve();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(SD(u,d,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(_e.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((A=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(_)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function SD(i,e,t){let s=Ve(),o=Ve();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=yr();return t.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(_e.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ue(wg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function RD(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ID(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):t.Pi.allocateTargetId(s).next((d=>(o=new ns(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Om(i,e,t){const s=Ae(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Bo(d))throw d;ue(wg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function P0(i,e,t){const s=Ae(i);let o=_e.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,_){const A=Ae(g),S=A.xs.get(_);return S!==void 0?J.resolve(A.Ms.get(S)):A.Pi.getTargetData(y,_)})(s,d,Oi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,t?o:_e.min(),t?u:Ve()))).next((p=>(CD(s,fx(e),p),{documents:p,Qs:u})))))}function CD(i,e,t){let s=i.Os.get(e)||_e.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class L0{constructor(){this.activeTargetIds=vx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xD{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(U0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function km(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const d=km(),p=this.zo(e,t.toUriEncodedString());ue(lm,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),_=Po(y);return this.Jo(e,p,g,s,_).then((A=>(ue(lm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Ro(lm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,t,s,o,u,d){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=ND[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class MD extends OD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const d=km();return new Promise(((p,g)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kh.NO_ERROR:const A=y.getResponseJson();ue(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case kh.TIMEOUT:ue(rn,`RPC '${e}' ${d} timed out`),g(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const S=y.getStatus();if(ue(rn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B?.error;if(K&&K.status&&K.message){const ee=(function(re){const le=re.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(le)>=0?le:Y.UNKNOWN})(K.status);g(new ae(ee,K.message))}else g(new ae(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(rn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(o);ue(rn,`RPC '${e}' ${d} sending request:`,o),y.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_E(),p=vE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=u.join("");ue(rn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const A=d.createWebChannel(_,g);this.I_(A);let S=!1,B=!1;const K=new kD({Yo:X=>{B?ue(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(S||(ue(rn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ue(rn,`RPC '${e}' stream ${o} sending:`,X),A.send(X))},Zo:()=>A.close()}),ee=(X,re,le)=>{X.listen(re,(oe=>{try{le(oe)}catch(Ie){setTimeout((()=>{throw Ie}),0)}}))};return ee(A,ou.EventType.OPEN,(()=>{B||(ue(rn,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),ee(A,ou.EventType.CLOSE,(()=>{B||(B=!0,ue(rn,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(A))})),ee(A,ou.EventType.ERROR,(X=>{B||(B=!0,Ro(rn,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),K.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))})),ee(A,ou.EventType.MESSAGE,(X=>{if(!B){const re=X.data[0];Pe(!!re,16349);const le=re,oe=le?.error||le[0]?.error;if(oe){ue(rn,`RPC '${e}' stream ${o} received error:`,oe);const Ie=oe.status;let Ee=(function(T){const C=Ct[T];if(C!==void 0)return iT(C)})(Ie),Be=oe.message;Ee===void 0&&(Ee=Y.INTERNAL,Be="Unknown error status: "+Ie+" with message "+oe.message),B=!0,K.a_(new ae(Ee,Be)),A.close()}else ue(rn,`RPC '${e}' stream ${o} received:`,re),K.u_(re)}})),ee(p,wE.STAT_EVENT,(X=>{X.stat===Em.PROXY?ue(rn,`RPC '${e}' stream ${o} detected buffering proxy`):X.stat===Em.NOPROXY&&ue(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(i){return new Ux(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="PersistentStream";class vT{constructor(e,t,s,o,u,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ae(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VD extends vT{constructor(e,t,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return _e.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?_e.min():d.readTime?Mn(d.readTime):_e.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Nm(this.serializer),t.addTarget=(function(u,d){let p;const g=d.target;if(p=Im(g)?{documents:Fx(u,g)}:{query:hT(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=aT(u,d.resumeToken);const y=xm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_e.min())>0){p.readTime=td(u,d.snapshotVersion.toTimestamp());const y=xm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=Yx(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Nm(this.serializer),t.removeTarget=e,this.q_(t)}}class PD extends vT{constructor(e,t,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Hx(e.writeResults,e.commitTime),s=Mn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Nm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>cT(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{}class UD extends LD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Dm(t,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(Y.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Dm(t,s),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class jD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ya(this)&&(ue(pa,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await ju(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kd(y)})(this))}))})),this.Ra=new zD(s,o)}}async function kd(i){if(ya(i))for(const e of i.da)await e(!0)}async function ju(i){for(const e of i.da)await e(!1)}function _T(i,e){const t=Ae(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Tg(t)?Eg(t):Ho(t).O_()&&bg(t,e))}function _g(i,e){const t=Ae(i),s=Ho(t);t.Ia.delete(e),s.O_()&&bT(t,e),t.Ia.size===0&&(s.O_()?s.L_():ya(t)&&t.Ra.set("Unknown"))}function bg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(i).Y_(e)}function bT(i,e){i.Va.Ue(e),Ho(i).Z_(e)}function Eg(i){i.Va=new Mx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Ra.ua()}function Tg(i){return ya(i)&&!Ho(i).x_()&&i.Ia.size>0}function ya(i){return Ae(i).Ea.size===0}function ET(i){i.Va=void 0}async function BD(i){i.Ra.set("Online")}async function qD(i){i.Ia.forEach(((e,t)=>{bg(i,e)}))}async function HD(i,e){ET(i),Tg(i)?(i.Ra.ha(e),Eg(i)):i.Ra.set("Unknown")}async function FD(i,e,t){if(i.Ra.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){ue(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rd(i,s)}else if(e instanceof Lh?i.Va.Ze(e):e instanceof rT?i.Va.st(e):i.Va.tt(e),!t.isEqual(_e.min()))try{const s=await wT(i.localStore);t.compareTo(s)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(Jt.EMPTY_BYTE_STRING,_.snapshotVersion)),bT(u,g);const A=new ns(_.target,g,y,_.sequenceNumber);bg(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(s){ue(pa,"Failed to raise snapshot:",s),await rd(i,s)}}async function rd(i,e,t){if(!Bo(e))throw e;i.Ea.add(1),await ju(i),i.Ra.set("Offline"),t||(t=()=>wT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(pa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await kd(i)}))}function TT(i,e){return e().catch((t=>rd(i,t,e)))}async function Md(i){const e=Ae(i),t=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;GD(e);)try{const o=await RD(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,QD(e,o)}catch(o){await rd(e,o)}AT(e)&&ST(e)}function GD(i){return ya(i)&&i.Ta.length<10}function QD(i,e){i.Ta.push(e);const t=ms(i);t.O_()&&t.X_&&t.ea(e.mutations)}function AT(i){return ya(i)&&!ms(i).x_()&&i.Ta.length>0}function ST(i){ms(i).start()}async function YD(i){ms(i).ra()}async function KD(i){const e=ms(i);for(const t of i.Ta)e.ea(t.mutations)}async function $D(i,e,t){const s=i.Ta.shift(),o=dg.from(s,e,t);await TT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Md(i)}async function XD(i,e){e&&ms(i).X_&&await(async function(s,o){if((function(d){return nT(d)&&d!==Y.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await TT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Md(s)}})(i,e),AT(i)&&ST(i)}async function B0(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),ue(pa,"RemoteStore received new credentials");const s=ya(t);t.Ea.add(3),await ju(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kd(t)}async function WD(i,e){const t=Ae(i);e?(t.Ea.delete(2),await kd(t)):e||(t.Ea.add(2),await ju(t),t.Ra.set("Unknown"))}function Ho(i){return i.ma||(i.ma=(function(t,s,o){const u=Ae(t);return u.sa(),new VD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:BD.bind(null,i),t_:qD.bind(null,i),r_:HD.bind(null,i),H_:FD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Tg(i)?Eg(i):i.Ra.set("Unknown")):(await i.ma.stop(),ET(i))}))),i.ma}function ms(i){return i.fa||(i.fa=(function(t,s,o){const u=Ae(t);return u.sa(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:YD.bind(null,i),r_:XD.bind(null,i),ta:KD.bind(null,i),na:$D.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Md(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const d=Date.now()+s,p=new Ag(e,t,d,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(gr("AsyncQueue",`${e}: ${i}`),Bo(i))return new ae(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||fe.comparator(t.key,s.key):(t,s)=>fe.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.ga=new ht(fe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class No{constructor(e,t,s,o,u,d,p,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const d=[];return t.forEach((p=>{d.push({type:0,doc:p})})),new No(e,t,bo.emptySet(t),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JD{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),u=o.queries;o.queries=H0(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function H0(){return new ga((i=>HE(i)),Id)}async function Rg(i,e){const t=Ae(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ZD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=Sg(d,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Cg(t)}async function Ig(i,e){const t=Ae(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function eN(i,e){const t=Ae(i);let s=!1;for(const o of e){const u=o.query,d=t.queries.get(u);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Cg(t)}function tN(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Cg(i){i.Ca.forEach((e=>{e.next()}))}var Mm,F0;(F0=Mm||(Mm={})).Ma="default",F0.Cache="cache";class xg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class nN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=FE(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new q0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,A)=>{const S=o.get(_),B=Cd(this.query,A)?A:null,K=!!S&&this.mutatedKeys.has(S.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let X=!1;S&&B?S.data.isEqual(B.data)?K!==ee&&(s.track({type:3,doc:B}),X=!0):this.su(S,B)||(s.track({type:2,doc:B}),X=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!S&&B?(s.track({type:0,doc:B}),X=!0):S&&!B&&(s.track({type:1,doc:S}),X=!0,(g||y)&&(p=!0)),X&&(B?(d=d.add(B),u=ee?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:d,iu:s,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,A)=>(function(B,K){const ee=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:X})}};return ee(B)-ee(K)})(_.type,A.type)||this.eu(_.doc,A.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new No(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new IT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new RT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class iN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class rN{constructor(e){this.key=e,this.hu=!1}}class sN{constructor(e,t,s,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((p=>HE(p)),Id),this.Iu=new Map,this.Eu=new Set,this.du=new ht(fe.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aN(i,e,t=!0){const s=kT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CT(s,e,t,!0),o}async function oN(i,e){const t=kT(i);await CT(t,e,!0,!1)}async function CT(i,e,t,s){const o=await ID(i.localStore,Oi(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await lN(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&_T(i.remoteStore,o),p}async function lN(i,e,t,s,o){i.pu=(A,S,B)=>(async function(ee,X,re,le){let oe=X.view.ru(re);oe.Cs&&(oe=await P0(ee.localStore,X.query,!1).then((({documents:V})=>X.view.ru(V,oe))));const Ie=le&&le.targetChanges.get(X.targetId),Ee=le&&le.targetMismatches.get(X.targetId)!=null,Be=X.view.applyChanges(oe,ee.isPrimaryClient,Ie,Ee);return Q0(ee,X.targetId,Be.au),Be.snapshot})(i,A,S,B);const u=await P0(i.localStore,e,!0),d=new nN(e,u.Qs),p=d.ru(u.documents),g=zu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=d.applyChanges(p,i.isPrimaryClient,g);Q0(i,t,y.au);const _=new iN(e,t,d);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function uN(i,e,t){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!Id(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Om(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&_g(s.remoteStore,o.targetId),Vm(s,o.targetId)})).catch(jo)):(Vm(s,o.targetId),await Om(s.localStore,o.targetId,!0))}async function cN(i,e){const t=Ae(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),_g(t.remoteStore,s.targetId))}async function hN(i,e,t){const s=wN(i);try{const o=await(function(d,p){const g=Ae(d),y=at.now(),_=p.reduce(((B,K)=>B.add(K.key)),Ve());let A,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let K=yr(),ee=Ve();return g.Ns.getEntries(B,_).next((X=>{K=X,K.forEach(((re,le)=>{le.isValidDocument()||(ee=ee.add(re))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,K))).next((X=>{A=X;const re=[];for(const le of p){const oe=Ix(le,A.get(le.key).overlayedDocument);oe!=null&&re.push(new ws(le.key,oe,ME(oe.value.mapValue),fn.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,re,p)})).next((X=>{S=X;const re=X.applyToLocalDocumentSet(A,ee);return g.documentOverlayCache.saveOverlays(B,X.batchId,re)}))})).then((()=>({batchId:S.batchId,changes:QE(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ht(Me)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,t),await Bu(s,o.changes),await Md(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");t.reject(u)}}async function xT(i,e){const t=Ae(i);try{const s=await AD(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=t.Au.get(u);d&&(Pe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pe(d.hu,14607):o.removedDocuments.size>0&&(Pe(d.hu,42227),d.hu=!1))})),await Bu(t,s,e)}catch(s){await jo(s)}}function G0(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Ae(d);g.onlineState=p;let y=!1;g.queries.forEach(((_,A)=>{for(const S of A.Sa)S.va(p)&&(y=!0)})),y&&Cg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dN(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new ht(fe.comparator);d=d.insert(u,Ft.newNoDocument(u,_e.min()));const p=Ve().add(u),g=new Nd(_e.min(),new Map,new ht(Me),d,p);await xT(s,g),s.du=s.du.remove(u),s.Au.delete(e),Ng(s)}else await Om(s.localStore,e,!1).then((()=>Vm(s,e,t))).catch(jo)}async function fN(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await TD(t.localStore,e);NT(t,s,null),DT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(t,o)}catch(o){await jo(o)}}async function pN(i,e,t){const s=Ae(i);try{const o=await(function(d,p){const g=Ae(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((A=>(Pe(A!==null,37113),_=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);NT(s,e,t),DT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Bu(s,o)}catch(o){await jo(o)}}function DT(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function NT(i,e,t){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Vm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||OT(i,s)}))}function OT(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(_g(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Ng(i))}function Q0(i,e,t){for(const s of t)s instanceof RT?(i.Ru.addReference(s.key,e),mN(i,s)):s instanceof IT?(ue(Dg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||OT(i,s.key)):me(19791,{wu:s})}function mN(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ue(Dg,"New document in limbo: "+t),i.Eu.add(s),Ng(i))}function Ng(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new fe(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new rN(t)),i.du=i.du.insert(t,s),_T(i.remoteStore,new ns(Oi(Rd(t.path)),s,"TargetPurposeLimboResolution",Ad.ce))}}async function Bu(i,e,t){const s=Ae(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{d.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=yg.As(g.targetId,y);u.push(_)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const _=Ae(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(S=>J.forEach(S.Es,(B=>_.persistence.referenceDelegate.addReference(A,S.targetId,B))).next((()=>J.forEach(S.ds,(B=>_.persistence.referenceDelegate.removeReference(A,S.targetId,B)))))))))}catch(A){if(!Bo(A))throw A;ue(wg,"Failed to update sequence numbers: "+A)}for(const A of y){const S=A.targetId;if(!A.fromCache){const B=_.Ms.get(S),K=B.snapshotVersion,ee=B.withLastLimboFreeSnapshotVersion(K);_.Ms=_.Ms.insert(S,ee)}}})(s.localStore,u))}async function gN(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){ue(Dg,"User change. New user:",e.toKey());const s=await yT(t.localStore,e);t.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ae(Y.CANCELLED,d))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(t,s.Ls)}}function yN(i,e){const t=Ae(i),s=t.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=t.Iu.get(e);if(!u)return o;for(const d of u){const p=t.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function kT(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dN.bind(null,e),e.Pu.H_=eN.bind(null,e.eventManager),e.Pu.yu=tN.bind(null,e.eventManager),e}function wN(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ED(this.persistence,new vD,e.initialUser,this.serializer)}Cu(e){return new gT(gg.mi,this.serializer)}Du(e){return new xD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class vN extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Pe(this.persistence.referenceDelegate instanceof id,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new gT((s=>id.mi(s,t)),this.serializer)}}class Pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gN.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JD})()}createDatastore(e){const t=Od(e.databaseInfo.databaseId),s=(function(u){return new MD(u)})(e.databaseInfo);return(function(u,d,p,g){return new UD(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,d,p){return new jD(s,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>G0(this.syncEngine,t,0)),(function(){return z0.v()?new z0:new DD})())}createSyncEngine(e,t){return(function(o,u,d,p,g,y,_){const A=new sN(o,u,d,p,g,y);return _&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ae(t);ue(pa,"RemoteStore shutting down."),s.Ea.add(5),await ju(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const d=Ae(o),p={documents:u.map((A=>nd(d.serializer,A)))},g=await d.Ho("BatchGetDocuments",d.serializer.databaseId,tt.emptyPath(),p,u.length),y=new Map;g.forEach((A=>{const S=Bx(d.serializer,A);y.set(S.key.toString(),S)}));const _=[];return u.forEach((A=>{const S=y.get(A.toString());Pe(!!S,55234,{key:A}),_.push(S)})),_})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new hg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=fe.fromPath(s);this.mutations.push(new tT(o,this.precondition(o)))})),await(async function(s,o){const u=Ae(s),d={writes:o.map((p=>cT(u.serializer,p)))};await u.Go("Commit",u.serializer.databaseId,tt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw me(50498,{Gu:e.constructor.name});t=_e.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new ae(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_e.min())?fn.exists(!1):fn.updateTime(t):fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_e.min()))throw new ae(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(t)}return fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new vg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new _N(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!nT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class EN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ue(gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ue(gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Y0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await TN(i);ue(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>B0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>B0(e.remoteStore,o))),i._onlineComponents=e}async function TN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(gs,"Using user provided OfflineComponentProvider");try{await cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await cm(i,new sd)}}else ue(gs,"Using default OfflineComponentProvider"),await cm(i,new vN(void 0));return i._offlineComponents}async function kg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(gs,"Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(ue(gs,"Using default OnlineComponentProvider"),await Y0(i,new Pm))),i._onlineComponents}function AN(i){return kg(i).then((e=>e.syncEngine))}function MT(i){return kg(i).then((e=>e.datastore))}async function ad(i){const e=await kg(i),t=e.eventManager;return t.onListen=aN.bind(null,e.syncEngine),t.onUnlisten=uN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),t}function SN(i,e,t={}){const s=new li;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const _=new Og({next:S=>{_.Nu(),d.enqueueAndForget((()=>Ig(u,A)));const B=S.docs.has(p);!B&&S.fromCache?y.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&g&&g.source==="server"?y.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new xg(Rd(p.path),_,{includeMetadataChanges:!0,qa:!0});return Rg(u,A)})(await ad(i),i.asyncQueue,e,t,s))),s.promise}function RN(i,e,t={}){const s=new li;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,y){const _=new Og({next:S=>{_.Nu(),d.enqueueAndForget((()=>Ig(u,A))),S.fromCache&&g.source==="server"?y.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new xg(p,_,{includeMetadataChanges:!0,qa:!0});return Rg(u,A)})(await ad(i),i.asyncQueue,e,t,s))),s.promise}function IN(i,e,t){const s=new li;return i.asyncQueue.enqueueAndForget((async()=>{try{const o=await MT(i);s.resolve((async function(d,p,g){const y=Ae(d),{request:_,gt:A,parent:S}=Gx(y.serializer,dx(p),g);y.connection.$o||delete _.parent;const B=(await y.Ho("RunAggregationQuery",y.serializer.databaseId,S,_,1)).filter((ee=>!!ee.result));Pe(B.length===1,64727);const K=B[0].result?.aggregateFields;return Object.keys(K).reduce(((ee,X)=>(ee[A[X]]=K[X],ee)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firestore.googleapis.com",$0=!0;class X0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=$0}else this.host=e.host,this.ssl=e.ssl??$0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nD)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xC;switch(s.type){case"firstParty":return new kC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=K0.get(t);s&&(ue("ComponentProvider","Removing Datastore"),K0.delete(t),s.terminate())})(this),Promise.resolve()}}function CN(i,e,t,s={}){i=kn(i,Vd);const o=Po(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(Sb(`https://${p}`),Rb("Firestore",!0)),u.host!==PT&&u.host!==p&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!ua(g,d)&&(i._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=sn.MOCK_USER;else{y=MA(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(A)}i._authCredentials=new DC(new EE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class mt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Pu(t,mt._jsonSchema))return new mt(e,s||null,new fe(tt.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class us extends br{constructor(e,t,s){super(e,t,Rd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new fe(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function xu(i,e,...t){if(i=bt(i),TE("collection","path",e),i instanceof Vd){const s=tt.fromString(e,...t);return u0(s),new us(i,null,s)}{if(!(i instanceof mt||i instanceof us))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return u0(s),new us(i.firestore,null,s)}}function Oo(i,e,...t){if(i=bt(i),arguments.length===1&&(e=rg.newId()),TE("doc","path",e),i instanceof Vd){const s=tt.fromString(e,...t);return l0(s),new mt(i,null,new fe(s))}{if(!(i instanceof mt||i instanceof us))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return l0(s),new mt(i.firestore,i instanceof us?i.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vg(this,"async_queue_retry"),this._c=()=>{const s=um();s&&ue(W0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ue(W0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",J0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ag.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&me(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function J0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class wr extends Vd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function xN(i,e){const t=typeof i=="object"?i:Db(),s=typeof i=="string"?i:Xh,o=Qm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=OA("firestore");u&&CN(o,...u)}return o}function Fo(i){if(i._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DN(i),i._firestoreClient}function DN(i){const e=i._freezeSettings(),t=(function(o,u,d,p){return new WC(o,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new EN(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class ON{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Jt.fromBase64String(e))}catch(t){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Dt("string",Nn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Mi(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class MN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class LT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:i})}}class Mg{constructor(e,t,s,o,u,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&kN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Od(e)}Cc(e,t,s,o=!1){return new Mg({Ac:e,methodName:t,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(i){const e=i._freezeSettings(),t=Od(i._databaseId);return new VN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vg(i,e,t,s,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",d,s);const p=zT(s,d);let g,y;if(u.merge)g=new On(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const S=Lm(e,A,t);if(!d.contains(S))throw new ae(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);BT(_,S)||_.push(S)}g=new On(_),y=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=d.fieldTransforms;return new MN(new dn(p),g,y)}class zd extends Ld{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}class Pg extends Ld{_toFieldTransform(e){return new Tx(e.path,new Ru)}isEqual(e){return e instanceof Pg}}function PN(i,e,t,s){const o=i.Cc(1,e,t);Lg("Data must be an object, but it was:",o,s);const u=[],d=dn.empty();ys(s,((g,y)=>{const _=Ug(e,g,t);y=bt(y);const A=o.yc(_);if(y instanceof zd)u.push(_);else{const S=qu(y,A);S!=null&&(u.push(_),d.set(_,S))}}));const p=new On(u);return new LT(d,p,o.fieldTransforms)}function LN(i,e,t,s,o,u){const d=i.Cc(1,e,t),p=[Lm(e,s,t)],g=[o];if(u.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Lm(e,u[S])),g.push(u[S+1]);const y=[],_=dn.empty();for(let S=p.length-1;S>=0;--S)if(!BT(y,p[S])){const B=p[S];let K=g[S];K=bt(K);const ee=d.yc(B);if(K instanceof zd)y.push(B);else{const X=qu(K,ee);X!=null&&(y.push(B),_.set(B,X))}}const A=new On(y);return new LT(_,A,d.fieldTransforms)}function UN(i,e,t,s=!1){return qu(t,i.Cc(s?4:3,e))}function qu(i,e){if(jT(i=bt(i)))return Lg("Unsupported field value:",e,i),zT(i,e);if(i instanceof Ld)return(function(s,o){if(!UT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const p of s){let g=qu(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _x(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:td(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:td(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:aT(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(d,p){return{mapValue:{fields:{[OE]:{stringValue:kE},[Wh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Td(s)}`)})(i,e)}function zT(i,e){const t={};return RE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,((s,o)=>{const u=qu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function jT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof ki||i instanceof Nn||i instanceof mt||i instanceof Ld||i instanceof Mi)}function Lg(i,e,t){if(!jT(t)||!AE(t)){const s=Td(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Lm(i,e,t){if((e=bt(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw od("Field path arguments must be of type string or ",i,!1,void 0,t)}const zN=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(zN)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function od(i,e,t,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ae(Y.INVALID_ARGUMENT,p+i+g)}function BT(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jN extends ld{data(){return super.data()}}function jd(i,e){return typeof e=="string"?Ug(i,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class jg extends zg{}function HT(i,e,...t){let s=[];e instanceof zg&&s.push(e),s=s.concat(t),(function(u){const d=u.filter((g=>g instanceof Bg)).length,p=u.filter((g=>g instanceof Bd)).length;if(d>1||d>0&&p>0)throw new ae(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Bd extends jg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Bd(e,t,s)}_apply(e){const t=this._parse(e);return FT(e._query,t),new br(e.firestore,e.converter,Cm(e._query,t))}_parse(e){const t=Ud(e.firestore);return(function(u,d,p,g,y,_,A){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){nb(A,_);const K=[];for(const ee of A)K.push(tb(g,u,ee));S={arrayValue:{values:K}}}else S=tb(g,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||nb(A,_),S=UN(p,d,A,_==="in"||_==="not-in");return xt.create(y,_,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function BN(i,e,t){const s=e,o=jd("where",i);return Bd._create(o,s,t)}class Bg extends zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)FT(d,g),d=Cm(d,g)})(e._query,t),new br(e.firestore,e.converter,Cm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends jg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qg(e,t)}_apply(e){const t=(function(o,u,d){if(o.startAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,d)})(e._query,this._field,this._direction);return new br(e.firestore,e.converter,(function(o,u){const d=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function qN(i,e="asc"){const t=e,s=jd("orderBy",i);return qg._create(s,t)}class Hg extends jg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Hg(e,t,s)}_apply(e){return new br(e.firestore,e.converter,Jh(e._query,this._limit,this._limitType))}}function HN(i){return Hg._create("limit",i,"F")}function tb(i,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new ae(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BE(e)&&t.indexOf("/")!==-1)throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!fe.isDocumentKey(s))throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y0(i,new fe(s))}if(t instanceof mt)return y0(i,t._key);throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(t)}.`)}function nb(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(i,e){const t=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GT{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Wh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Mi(t)}convertGeoPoint(e){return new ki(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new at(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Pe(pT(s),9688,{name:e});const o=new Tu(s.get(1),s.get(3)),u=new fe(s.popFirst(5));return o.isEqual(t)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class FN extends GT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function GN(){return new NN("count")}class yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends ld{constructor(e,t,s,o,u,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Dt("string",cs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Uh extends cs{data(e={}){return super.data(e)}}class aa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Uh(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),_=d.indexOf(p.doc.key)),{type:QN(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(i){i=kn(i,mt);const e=kn(i.firestore,wr);return SN(Fo(e),i._key).then((t=>KT(e,i,t)))}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:Dt("string",aa._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Hu extends GT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function KN(i){i=kn(i,br);const e=kn(i.firestore,wr),t=Fo(e),s=new Hu(e);return qT(i._query),RN(t,i._query).then((o=>new aa(e,s,i,o)))}function QT(i,e,t){i=kn(i,mt);const s=kn(i.firestore,wr),o=Fg(i.converter,e,t);return YT(s,[Vg(Ud(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,fn.none())])}function Um(i,e){const t=kn(i.firestore,wr),s=Oo(i),o=Fg(i.converter,e);return YT(t,[Vg(Ud(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,fn.exists(!1))]).then((()=>s))}function $N(i,...e){i=bt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(eb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,d,p;if(i instanceof mt)d=kn(i.firestore,wr),p=Rd(i._key.path),u={next:g=>{e[s]&&e[s](KT(d,i,g))},error:e[s+1],complete:e[s+2]};else{const g=kn(i,br);d=kn(g.firestore,wr),p=g._query;const y=new Hu(d);u={next:_=>{e[s]&&e[s](new aa(d,y,g,_))},error:e[s+1],complete:e[s+2]},qT(i._query)}return(function(y,_,A,S){const B=new Og(S),K=new xg(_,B,A);return y.asyncQueue.enqueueAndForget((async()=>Rg(await ad(y),K))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ig(await ad(y),K)))}})(Fo(d),p,o,u)}function YT(i,e){return(function(s,o){const u=new li;return s.asyncQueue.enqueueAndForget((async()=>hN(await AN(s),o,u))),u.promise})(Fo(i),e)}function KT(i,e,t){const s=t.docs.get(e._key),o=new Hu(i);return new cs(i,o,e._key,s,new yo(t.hasPendingWrites,t.fromCache),e.converter)}function XN(i){return WN(i,{count:GN()})}function WN(i,e){const t=kn(i.firestore,wr),s=Fo(t),o=$C(e,((u,d)=>new Dx(d,u.aggregateType,u._internalFieldPath)));return IN(s,i._query,o).then((u=>(function(p,g,y){const _=new Hu(p);return new ON(g,_,y)})(t,i,u)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={maxAttempts:5};function cu(i,e){if((i=bt(i)).firestore!==e)throw new ae(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ud(e)}get(e){const t=cu(e,this._firestore),s=new FN(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return me(24041);const u=o[0];if(u.isFoundDocument())return new ld(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new ld(this._firestore,s,t._key,null,t.converter);throw me(18433,{doc:u})}))}set(e,t,s){const o=cu(e,this._firestore),u=Fg(o.converter,t,s),d=Vg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,d),this}update(e,t,s,...o){const u=cu(e,this._firestore);let d;return d=typeof(t=bt(t))=="string"||t instanceof Pd?LN(this._dataReader,"Transaction.update",u._key,t,s,o):PN(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO extends JN{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cu(e,this._firestore),s=new Hu(this._firestore);return super.get(e).then((o=>new cs(this._firestore,s,t._key,o._document,new yo(!1,!1),t.converter)))}}function $T(i,e,t){i=kn(i,wr);const s={...ZN,...t};return(function(u){if(u.maxAttempts<1)throw new ae(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,d,p){const g=new li;return u.asyncQueue.enqueueAndForget((async()=>{const y=await MT(u);new bN(u.asyncQueue,y,p,d,g).ju()})),g.promise})(Fo(i),(o=>e(new eO(i,o))),s)}function oa(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(o){zo=o})(Lo),Ao(new ca("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new wr(new NC(s.getProvider("auth-internal")),new MC(d,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(y.options.projectId,_)})(d,o),d);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),os(r0,s0,e),os(r0,s0,"esm2020")})();var tO="firebase",nO="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(tO,nO,"app");function iO(){return{apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"}}function Gg(){const i=WS();return i.length?i[0]:xb(iO())}function rO(){const i=Gg();return IC(i)}function sO(){const i=Gg();return xN(i)}function aO(){const i=we.useMemo(()=>Gg(),[]),e=we.useMemo(()=>rO(),[]),t=we.useMemo(()=>sO(),[]);return{app:i,auth:e,db:t}}function oO(i=900){const[e,t]=we.useState(!1);return we.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=u=>t(u.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}async function lO(i,e,t,s){const o=xu(i,"spins"),u=Oo(i,"userstats",e);await Um(o,{uid:e,...s,createdAt:oa()}),await $T(i,async d=>{const p=await d.get(u),g=p.exists()?p.data():{totalScore:0,totalSpins:0,displayName:t||"Anónimo"},y={displayName:t||g.displayName||"Anónimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:oa()};d.set(u,y,{merge:!0})})}async function uO(i){const e=HT(xu(i,"userstats"),qN("totalScore","desc"),HN(10));return(await KN(e)).docs.map(s=>({id:s.id,...s.data()}))}async function cO(i,e){const t=HT(xu(i,"userstats"),BN("totalScore",">",e||0));return((await XN(t)).data().count||0)+1}const hO={es:{questionForPoints:i=>`Pregunta por ${i} puntos`,true:"Verdadero",false:"Falso",time:i=>`Tiempo: ${i}s`,answerShortPlaceholder:"Escribe tu respuesta corta",reply:"Responder"}};function fo(i,...e){const s=hO.es[i];return typeof s=="function"?s(...e):s}function ib({open:i,onClose:e,question:t,points:s,onAnswer:o,category:u}){const[d,p]=we.useState(""),g=t?.type==="tf",y=t?.type==="short",[_,A]=we.useState(20),[S,B]=we.useState(!1),[K,ee]=we.useState(null),X=we.useMemo(()=>t?g?d==="true"||d==="false":y?d.trim().length>0:!1:!1,[t,g,y,d]);if(we.useEffect(()=>{if(!i)return;A(20),B(!1),p(""),ee(null);const oe=setInterval(()=>A(Ie=>Ie-1),1e3);return()=>clearInterval(oe)},[i,t?.id]),we.useEffect(()=>{_===0&&(g?o?.({timeout:!0}):e?.())},[_,g,o,e]),!i)return null;const re=()=>O.jsx("span",{"aria-hidden":!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:O.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 50 50",role:"img",children:[O.jsx("title",{children:"cargando"}),O.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"#94a3b8",strokeWidth:"4",fill:"none",opacity:".25"}),O.jsx("path",{d:"M25 5 a20 20 0 0 1 0 40",fill:"none",stroke:"#8be9e3",strokeWidth:"4",strokeLinecap:"round",children:O.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.9s",repeatCount:"indefinite"})})]})}),le=oe=>{if(oe?.preventDefault?.(),!X)return;const Ie=g?d==="true":d.trim().toLowerCase();o?.(Ie),p("")};return O.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",zIndex:50},children:O.jsxs("div",{className:"modal-card","aria-busy":S,style:{width:"min(560px, 92vw)",background:"#111827",border:"1px solid #3f3f46",borderRadius:12,boxShadow:"0 10px 30px #0006",overflow:"hidden",position:"relative"},children:[O.jsxs("header",{style:{padding:"12px 16px",borderBottom:"1px solid #27272a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx("h3",{style:{margin:0,fontSize:18},children:fo("questionForPoints",s)}),O.jsx("button",{onClick:e,"aria-label":"Cerrar",style:{background:"transparent",border:0,color:"#e5e7eb",cursor:"pointer"},children:"✕"})]}),O.jsxs("div",{style:{padding:16,display:"grid",gap:12},children:[u&&O.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Relacionada con la ruleta: ",O.jsx("b",{children:u})]}),O.jsx("p",{style:{margin:"4px 0 8px 0"},children:t?.text}),g&&i&&O.jsxs("div",{style:{display:"flex",gap:8},children:[O.jsx("button",{className:"btn",disabled:S,onClick:()=>{ee("true"),B(!0),o?.(!0)},style:{border:"1px solid #3f3f46",background:K==="true"?"#16a34a":"#14532d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:S?.9:1,transition:"transform .12s ease, background .2s ease",transform:K==="true"?"scale(1.04)":"scale(1)"},children:fo("true")}),O.jsx("button",{className:"btn",disabled:S,onClick:()=>{ee("false"),B(!0),o?.(!1)},style:{border:"1px solid #3f3f46",background:K==="false"?"#dc2626":"#7f1d1d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:S?.9:1,transition:"transform .12s ease, background .2s ease",transform:K==="false"?"scale(1.04)":"scale(1)"},children:fo("false")})]}),S&&O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 10px",border:"1px dashed #334155",borderRadius:8,background:"rgba(15,23,42,.35)"},children:[O.jsx(re,{}),O.jsx("span",{style:{fontSize:13,color:"#cbd5e1"},children:"Procesando respuesta…"})]}),y&&O.jsx("form",{onSubmit:le,children:O.jsx("input",{autoFocus:!0,value:d,onChange:oe=>p(oe.target.value),placeholder:fo("answerShortPlaceholder"),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #3f3f46",background:"#0b0b0b",color:"#e5e7eb"}})})]}),O.jsxs("footer",{style:{padding:16,borderTop:"1px solid #27272a",display:"flex",justifyContent:"space-between",gap:8,alignItems:"center"},children:[O.jsx("span",{style:{opacity:.85},children:fo("time",_)}),y&&O.jsx("button",{className:"btn",onClick:le,disabled:!X,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"8px 12px",borderRadius:8},children:fo("reply")})]})]})})}const dO={Calidad:[{id:"cal1",type:"tf",text:"La calidad de datos incluye precisión, integridad y consistencia.",answer:!0,explain:"Son cualidades básicas de un buen dato: correcto, completo y coherente."},{id:"cal2",type:"tf",text:"Un dato inexacto, aun útil, sigue considerándose de alta calidad.",answer:!1,explain:"La utilidad no sustituye la precisión. Un dato inexacto no puede considerarse de alta calidad."},{id:"cal3",type:"tf",text:"La integridad es una dimensión de calidad que mide completitud.",answer:!0,explain:"Integridad se refiere a que no falten campos clave. Otras dimensiones: precisión, consistencia, oportunidad."},{id:"cal4",type:"tf",text:"La calidad de datos afecta directamente la toma de decisiones.",answer:!0,explain:"Decisiones basadas en datos de baja calidad llevan a errores y riesgos operativos."},{id:"cal5",type:"tf",text:"La oportunidad/puntualidad es una dimensión de calidad.",answer:!0,explain:"Se refiere a la disponibilidad del dato a tiempo para su uso."},{id:"cal6",type:"tf",text:"La consistencia implica que el mismo dato tenga el mismo valor en todos los sistemas.",answer:!0,explain:"Si un campo difiere entre fuentes, hay inconsistencia; esto deteriora la confianza y los análisis."},{id:"cal7",type:"tf",text:"Un dato oportuno puede ser de baja calidad si es incorrecto.",answer:!0,explain:"La puntualidad no compensa la falta de precisión."},{id:"cal8",type:"tf",text:"Validaciones automáticas antes de guardar mejoran la calidad.",answer:!0,explain:"Detectan errores temprano y reducen retrabajo."},{id:"cal9",type:"tf",text:"Los duplicados nunca afectan la calidad.",answer:!1,explain:"Los duplicados distorsionan conteos y análisis."},{id:"cal10",type:"tf",text:"Usar estándares de formato (fechas, unidades) evita errores de interpretación.",answer:!0,explain:"Estandarizar asegura que todos lean el dato igual."},{id:"calx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Hacer pausas al estudiar ayuda a retener mejor.",answer:!0,explain:"Las pausas mejoran la atención y la memoria."},{id:"calx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Es recomendable desactivar todas las validaciones para ir más rápido.",answer:!1,explain:"Quitar validaciones aumenta errores y baja la calidad."}],Seguridad:[{id:"seg1",type:"tf",text:"El control de acceso limita quién puede ver o modificar datos.",answer:!0,explain:"Sirve para que solo personas autorizadas entren o cambien la información."},{id:"seg2",type:"tf",text:"El cifrado sirve solo para datos en reposo.",answer:!1,explain:"El cifrado aplica en reposo y en tránsito; ambos son necesarios para proteger la confidencialidad."},{id:"seg3",type:"tf",text:"La autenticación multifactor reduce el riesgo de acceso no autorizado.",answer:!0,explain:"Agregar un segundo factor (algo que tienes) mitiga robo de contraseñas."},{id:"seg4",type:"tf",text:"ISO/IEC 27001 es un estándar de gestión de seguridad de la información.",answer:!0,explain:"Define requisitos de un SGSI (sistema de gestión de seguridad de la información)."},{id:"seg5",type:"tf",text:"Los respaldos forman parte de los controles de seguridad.",answer:!0,explain:"Las copias de seguridad permiten recuperar datos ante incidentes y mejoran la resiliencia."},{id:"seg6",type:"tf",text:"El principio de mínimo privilegio sugiere otorgar solo el acceso estrictamente necesario.",answer:!0,explain:"Reduce la superficie de ataque y el impacto de cuentas comprometidas."},{id:"seg7",type:"tf",text:"Actualizar sistemas y parches reduce riesgos por vulnerabilidades.",answer:!0,explain:"Cierra fallas conocidas aprovechadas por atacantes."},{id:"seg8",type:"tf",text:"Compartir contraseñas por correo es seguro si es con un compañero.",answer:!1,explain:"Nunca compartas contraseñas; usa gestores y 2 factores."},{id:"seg9",type:"tf",text:"Cerrar sesión en equipos compartidos reduce el riesgo.",answer:!0,explain:"Evita accesos no autorizados posteriores."},{id:"seg10",type:"tf",text:"La ingeniería social busca engañar para obtener acceso.",answer:!0,explain:"Desconfía de solicitudes urgentes e inesperadas."},{id:"segx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Usar Wi‑Fi público sin protección es seguro para datos sensibles.",answer:!1,explain:"Las redes públicas pueden ser interceptadas; evita enviar información sensible."},{id:"segx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Mantener el sistema operativo actualizado mejora la seguridad.",answer:!0,explain:"Las actualizaciones corrigen vulnerabilidades."}],Privacidad:[{id:"pri1",type:"tf",text:"La minimización de datos busca recolectar solo lo necesario.",answer:!0,explain:"Recolectar y procesar lo mínimo reduce riesgo y cumple principios de privacidad."},{id:"pri2",type:"tf",text:"Los datos personales siempre pueden hacerse públicos si están en internet.",answer:!1,explain:"Que algo esté en internet no significa que puedas usarlo libremente."},{id:"pri3",type:"tf",text:"El consentimiento es un fundamento común para tratar datos personales.",answer:!0,explain:"Además del consentimiento, existen otros fundamentos como obligación legal o interés legítimo."},{id:"pri4",type:"tf",text:"Privacidad por diseño integra privacidad desde el diseño y por defecto.",answer:!0,explain:"Es un enfoque proactivo que previene en lugar de corregir."},{id:"pri5",type:"tf",text:"Anonimizar y seudonimizar son exactamente lo mismo.",answer:!1,explain:"Anonimizar elimina el vínculo con el individuo; seudonimizar lo oculta, pero puede reidentificarse."},{id:"pri6",type:"tf",text:"La portabilidad de datos permite al titular obtener y reutilizar sus datos.",answer:!0,explain:"Es un derecho en varias normativas; fomenta competencia y control del usuario."},{id:"pri7",type:"tf",text:"El derecho de acceso permite saber qué datos se tratan sobre ti.",answer:!0,explain:"Puedes solicitar una copia y conocer fines y fuentes."},{id:"pri8",type:"tf",text:"Publicar fotos de otras personas siempre es legal si son en lugares públicos.",answer:!1,explain:"Pueden requerir consentimiento y respetar derechos de imagen."},{id:"pri9",type:"tf",text:"Se debe informar la finalidad al recolectar datos personales.",answer:!0,explain:"La transparencia es un principio clave de privacidad."},{id:"pri10",type:"tf",text:"Eliminar datos cuando ya no se necesitan reduce riesgos.",answer:!0,explain:"Minimiza exposición y cumplimiento de retención."},{id:"prix11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Configurar privacidad en redes sociales limita quién ve tu información.",answer:!0,explain:"Ajustar visibilidad protege tus datos personales."},{id:"prix12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Compartir tu ubicación en tiempo real siempre es seguro.",answer:!1,explain:"Compartir ubicación aumenta riesgos si no se controla."}],Catálogo:[{id:"cat1",type:"tf",text:"Un catálogo de datos facilita descubrir y entender conjuntos de datos.",answer:!0,explain:"Centraliza metadatos, descripciones y responsables para acelerar el hallazgo."},{id:"cat2",type:"tf",text:"Un diccionario de datos describe campos y su significado.",answer:!0,explain:"Explica qué es cada campo y cómo se usa."},{id:"cat3",type:"tf",text:"Los metadatos ayudan a encontrar datos adecuados para un análisis.",answer:!0,explain:"Los metadatos (descripción, etiquetas, calidad) mejoran la búsqueda y selección."},{id:"cat4",type:"tf",text:"Un catálogo no necesita taxonomías ni etiquetas.",answer:!1,explain:"Taxonomías/etiquetas mejoran el orden y descubrimiento dentro del catálogo."},{id:"cat5",type:"tf",text:"El metadato “propietario” es clave para la gobernanza.",answer:!0,explain:"Acelera decisiones y clarifica responsabilidades."},{id:"cat6",type:"tf",text:"La calidad de metadatos impacta directamente la utilidad del catálogo.",answer:!0,explain:"Metadatos pobres dificultan el hallazgo y pueden conducir a mal uso del dato."},{id:"cat7",type:"tf",text:"Etiquetas coherentes facilitan encontrar datasets relacionados.",answer:!0,explain:"Etiquetar bien mejora el descubrimiento."},{id:"cat8",type:"tf",text:"Un catálogo sin buscador sigue siendo igual de útil.",answer:!1,explain:"El buscador es clave cuando crece el contenido."},{id:"cat9",type:"tf",text:"La fecha de actualización ayuda a elegir datos vigentes.",answer:!0,explain:"Evita usar información desactualizada."},{id:"cat10",type:"tf",text:"La participación de usuarios mejora la calidad del catálogo.",answer:!0,explain:"Sugerencias y correcciones elevan la utilidad."},{id:"catx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Mantener ordenadas carpetas personales no influye en catálogos de datos.",answer:!1,explain:"El orden personal también inspira mejores prácticas organizacionales."},{id:"catx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Una buena documentación acelera el aprendizaje de herramientas.",answer:!0,explain:"Documentar reduce curva de aprendizaje."}],Propiedad:[{id:"pro1",type:"tf",text:"El data owner es responsable del uso y calidad del dato.",answer:!0,explain:"Define reglas, prioriza mejoras y asume responsabilidad por el dato."},{id:"pro2",type:"tf",text:"Data steward y data owner siempre son la misma persona.",answer:!1,explain:"El steward opera el dato; el owner es responsable. Pueden ser roles distintos."},{id:"pro3",type:"tf",text:"Definir responsables aclara quién decide sobre cambios en el dato.",answer:!0,explain:"La asignación de roles evita ambigüedad y acelera decisiones."},{id:"pro4",type:"tf",text:"El data steward gestiona la calidad y tareas del día a día del dato.",answer:!0,explain:"Ayuda a que el dato esté bien cuidado y documentado."},{id:"pro5",type:"tf",text:"Sin propietarios definidos, la calidad tiende a mejorar.",answer:!1,explain:"Sin responsables claros, la calidad suele degradarse por falta de cuidado."},{id:"pro6",type:"tf",text:"La matriz RACI ayuda a clarificar roles y responsabilidades sobre el dato.",answer:!0,explain:"RACI = Responsable, Aprobador, Consultado e Informado. Sirve para definir quién hace qué."},{id:"pro7",type:"tf",text:"Definir sustitutos del propietario evita bloqueos por ausencias.",answer:!0,explain:"Garantiza continuidad de decisiones."},{id:"pro8",type:"tf",text:"Roles y límites claros reducen conflictos entre equipos.",answer:!0,explain:"Cada uno sabe qué puede decidir."},{id:"pro9",type:"tf",text:"Un owner puede delegar tareas pero no la responsabilidad final.",answer:!0,explain:"La rendición de cuentas sigue en el owner."},{id:"pro10",type:"tf",text:"Sin un modelo de roles, la gobernanza funciona igual de bien.",answer:!1,explain:"La falta de estructura genera retrasos y errores."},{id:"prox11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Un cronograma claro ayuda a coordinar proyectos.",answer:!0,explain:"La planificación mejora la ejecución."},{id:"prox12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Las reuniones sin agenda suelen ser eficientes.",answer:!1,explain:"La agenda mejora foco y tiempos."}],Trazabilidad:[{id:"tra1",type:"tf",text:"La trazabilidad permite conocer el origen y transformaciones del dato.",answer:!0,explain:"Registrar orígenes y procesos facilita auditorías y resolución de problemas."},{id:"tra2",type:"tf",text:"El linaje de datos no es relevante para auditorías.",answer:!1,explain:"El linaje es clave para demostrar dónde, cómo y por quién pasó el dato."},{id:"tra3",type:"tf",text:"El linaje ayuda a ver el impacto de cambios en las fuentes.",answer:!0,explain:"Saber de dónde viene el dato permite evaluar riesgos antes de cambiarlo."},{id:"tra4",type:"tf",text:"El linaje de datos describe el origen y las transformaciones del dato.",answer:!0,explain:"Es el rastro de dónde viene el dato y cómo cambió en el camino."},{id:"tra5",type:"tf",text:"Registrar transformaciones ayuda a reproducir resultados.",answer:!0,explain:"La reproducibilidad requiere conocer las transformaciones intermedias."},{id:"tra6",type:"tf",text:"Las herramientas de linaje pueden capturar orígenes de forma automática.",answer:!0,explain:"Reducen trabajo manual y errores."},{id:"tra7",type:"tf",text:"El linaje apoya el cumplimiento en auditorías.",answer:!0,explain:"Demuestra la ruta del dato y controles aplicados."},{id:"tra8",type:"tf",text:"No es útil registrar versiones de scripts de transformación.",answer:!1,explain:"Versionar scripts es clave para reproducir y auditar."},{id:"tra9",type:"tf",text:"Identificadores únicos ayudan a seguir registros entre sistemas.",answer:!0,explain:"Facilitan correlacionar eventos a través del flujo."},{id:"tra10",type:"tf",text:"La trazabilidad aumenta la confianza en reportes y decisiones.",answer:!0,explain:"Transparencia = mayor credibilidad."},{id:"trax11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Anotar pasos a mano puede ayudar a recordar cambios.",answer:!0,explain:"Registrar pasos evita olvidar decisiones."},{id:"trax12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Los historiales de edición no sirven para aprender de errores.",answer:!1,explain:"Revisar historial ayuda a mejorar procesos."}],Políticas:[{id:"pol1",type:"tf",text:"Las políticas de datos definen reglas de uso, acceso y retención.",answer:!0,explain:"Establecen el marco formal que guía el manejo y protección del dato."},{id:"pol2",type:"tf",text:"Si existen políticas, no se necesitan controles técnicos.",answer:!1,explain:"Política y controles se complementan: reglas + mecanismos para cumplirlas."},{id:"pol3",type:"tf",text:"Las políticas deben ser comunicadas y versionadas.",answer:!0,explain:"Comunicar y versionar mantiene a todos alineados con los cambios."},{id:"pol4",type:"tf",text:"Los procedimientos convierten políticas en pasos claros.",answer:!0,explain:"Son instrucciones para cumplir lo que dicen las políticas."},{id:"pol5",type:"tf",text:"Las políticas no aplican a datos no estructurados.",answer:!1,explain:"Las políticas aplican a todos los datos, estructurados o no."},{id:"pol6",type:"tf",text:"Las políticas deben indicar responsables y excepciones permitidas.",answer:!0,explain:"Aclaran quién decide y en qué casos."},{id:"pol7",type:"tf",text:"Sin capacitación, las políticas pueden no cumplirse.",answer:!0,explain:"La formación ayuda a aplicarlas correctamente."},{id:"pol8",type:"tf",text:"La política de retención define cuánto tiempo guardar datos.",answer:!0,explain:"Evita retener más de lo necesario."},{id:"pol9",type:"tf",text:"Las sanciones pueden ayudar a hacer cumplir las políticas.",answer:!0,explain:"Refuerzan la importancia del cumplimiento."},{id:"pol10",type:"tf",text:"No es necesario medir el cumplimiento de políticas.",answer:!1,explain:"Medir permite mejorar y corregir desviaciones."},{id:"polx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Tener normas de convivencia mejora el trabajo en equipo.",answer:!0,explain:"Reglas claras facilitan colaboración."},{id:"polx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Las reglas claras empeoran la comunicación.",answer:!1,explain:"Claridad mejora la comunicación."}],Interoperabilidad:[{id:"int1",type:"tf",text:"Los estándares y formatos abiertos mejoran la interoperabilidad.",answer:!0,explain:"Facilitan el intercambio al reducir dependencias de proveedor."},{id:"int2",type:"tf",text:"La interoperabilidad solo importa entre sistemas internos.",answer:!1,explain:"También es clave para integraciones con socios, clientes y terceros."},{id:"int3",type:"tf",text:"Las API bien documentadas facilitan la integración entre sistemas.",answer:!0,explain:"API = Interfaz de Programación de Aplicaciones. Una buena documentación evita errores al conectar sistemas."},{id:"int4",type:"tf",text:"JSON (JavaScript Object Notation) es un formato común para intercambio de datos.",answer:!0,explain:"Es ligero, legible y ampliamente soportado."},{id:"int5",type:"tf",text:"Los esquemas y contratos evitan rupturas entre integraciones.",answer:!0,explain:"Los contratos estables permiten compatibilidad y evolución controlada."},{id:"int6",type:"tf",text:"Versionar las API ayuda a mantener compatibilidad mientras evolucionan.",answer:!0,explain:"API = Interfaz de Programación de Aplicaciones. Versionar evita romper clientes existentes y permite introducir cambios de forma controlada."},{id:"int7",type:"tf",text:"Las pruebas de contrato detectan rupturas temprano.",answer:!0,explain:"Validan que los acuerdos entre servicios sigan válidos."},{id:"int8",type:"tf",text:"Alinear tipos y codificaciones evita errores de interpretación.",answer:!0,explain:"Conviene acordar juegos de caracteres y tipos."},{id:"int9",type:"tf",text:"La interoperabilidad mejora con documentación y ejemplos de uso.",answer:!0,explain:"Ejemplos reducen ambigüedades al integrar."},{id:"int10",type:"tf",text:"Ignorar versiones de una API rara vez causa problemas.",answer:!1,explain:"Rompe clientes y genera fallos en producción."},{id:"intx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Nombres claros en variables ayudan a entender el código.",answer:!0,explain:"Claridad mejora mantenimiento."},{id:"intx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Copiar y pegar datos a mano siempre es mejor que automatizar.",answer:!1,explain:"La automatización reduce errores humanos."}]};function fO(i,e=new Set,t=[]){const s=[...dO[i]||[],...t||[]];if(!s.length)return null;const o=s.filter(y=>!e.has(y.id)),u=o.filter(y=>!y.offTopic),d=o.filter(y=>y.offTopic),p=u.length?u:d.length?d:s,g=Math.floor(Math.random()*p.length);return p[g]}async function pO(i,e,t,s,o,u){try{const y=xu(i,"quizEvents");await Um(y,{uid:e,category:s.label,points:s.points,questionId:o?.id||null,correct:!!u,createdAt:oa()})}catch(y){console.warn("quizEvents not persisted:",y?.message||y)}const d=Oo(i,"userstats",e),p=xu(i,"spins"),g=u?s.points:-s.points;await Um(p,{uid:e,label:`${s.label}${u?"":" (fallo)"}`,points:g,createdAt:oa()}),await $T(i,async y=>{const _=await y.get(d),A=_.exists()?_.data():{totalScore:0,totalSpins:0,displayName:t||"Anónimo"},S={displayName:t||A.displayName||"Anónimo",totalScore:(A.totalScore||0)+g,totalSpins:(A.totalSpins||0)+1,updatedAt:oa()};y.set(d,S,{merge:!0})})}const mO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=";function rb({open:i,title:e,onClose:t,children:s}){return i?O.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:O.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:o=>o.stopPropagation(),children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[O.jsx("strong",{style:{fontSize:16},children:e}),O.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid var(--stroke)",background:"#18181b",color:"#fafafa",padding:"6px 10px"},children:"Cerrar"})]}),O.jsx("div",{style:{padding:12},children:s})]})}):null}function gO(){return O.jsxs("div",{className:"brand",children:[O.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:O.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),O.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}function zm(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}const yO=zm;function wO(i,e,t=36){const s=e*Math.PI/180,o=2*t*Math.sin(s/2)*.9,p=Math.min(5.2,o/(.6*Math.max(1,i.length)));return Math.max(3.2,p)}const si=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catálogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Políticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function sb({onResult:i,disabled:e}){const[t,s]=we.useState(!1),[o,u]=we.useState(0),d=360/si.length,p=36,g=()=>{if(t||e)return;s(!0);const _=5+Math.floor(Math.random()*4),A=Math.floor(Math.random()*si.length),S=_*360+(si.length-A)*d-d/2,B=o+S;u(B),setTimeout(()=>{s(!1);const K=(B%360+360)%360,ee=(si.length-Math.floor((K+d/2)/d))%si.length,X=si[ee];i?.(X)},3800)},y=()=>{g()};return O.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[O.jsx("div",{className:"wheel-legend",children:si.map(_=>O.jsxs("div",{className:"legend-item",children:[O.jsx("span",{className:"legend-swatch",style:{background:_.color}}),O.jsx("span",{className:"legend-label",children:_.label}),O.jsxs("span",{className:"legend-points",children:["+",_.points]})]},_.label))}),O.jsxs("div",{className:"wheel-wrap",role:"button","aria-label":"Ruleta: tocar o presionar para girar","aria-disabled":t||e,tabIndex:0,onClick:y,onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),y())},style:{cursor:t||e?"not-allowed":"pointer"},children:[O.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),O.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${o}deg)`,transition:"transform 3.8s cubic-bezier(.17,.67,.35,1)",background:"#0c0c0c"},children:[si.map((_,A)=>{const S=A*(360/si.length),B=S+360/si.length,K=B-S<=180?0:1,ee=zm(50,50,49,B),X=zm(50,50,49,S),re=["M 50 50",`L ${ee.x} ${ee.y}`,`A 49 49 0 ${K} 0 ${X.x} ${X.y}`,"Z"].join(" "),le=yO(50,50,p+1.5,S+360/si.length/2),oe=wO(_.label,d,p);return O.jsxs("g",{children:[O.jsx("path",{d:re,fill:_.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),O.jsx("text",{x:le.x,y:le.y,fontSize:oe,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",children:_.label})]},_.label)}),O.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),O.jsx("button",{onClick:g,disabled:t,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa"},children:t?"Girando…":"🎡 ¡Girar ruleta!"})]})}function vO({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?O.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:"★"}):null}function Rh({db:i,currentUser:e,myStats:t}){const[s,o]=we.useState([]),[u,d]=we.useState(!1),[p,g]=we.useState(null),[y,_]=we.useState(null),A=we.useCallback(async()=>{d(!0),g(null);try{const re=await uO(i);o(re)}catch(re){console.error("Top10 load failed:",re),g("Error al consultar los datos del Top 10. Verifica tu conexión o permisos de Firebase."),o([])}finally{d(!1)}},[i]);we.useEffect(()=>{A();const re=()=>A();return window.addEventListener("reload-top10",re),()=>window.removeEventListener("reload-top10",re)},[A]),we.useEffect(()=>{(async()=>{if(!e){_(null);return}if(s.some(le=>le.id===e.uid)){_(null);return}try{const le=await cO(i,t?.totalScore||0);_(le)}catch(le){console.error("rank error:",le),_(null)}})()},[i,s,e,t?.totalScore]);const S=(re,le,oe={})=>O.jsxs("tr",{style:{borderBottom:"1px solid #222",background:oe.highlight?"rgba(255,255,255,0.06)":"transparent"},children:[O.jsxs("td",{style:{padding:"6px 8px 6px 8px",width:"2.8ch",textAlign:"right"},children:["#",le]}),O.jsx("td",{style:{padding:"6px 8px 6px 10px"},children:O.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[O.jsx(vO,{rank:le}),O.jsx("span",{children:re.displayName||re.id})]})}),O.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:O.jsx("b",{children:re.totalScore||0})}),O.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:re.totalSpins||0})]},oe.key||re.id),B=!!e,ee=(B?s.findIndex(re=>re.id===e.uid):-1)>=0,X=B?{id:e.uid,displayName:t?.displayName||e.displayName||e.email,totalScore:t?.totalScore||0,totalSpins:t?.totalSpins||0}:null;return O.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[O.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),O.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:A,children:"Actualizar"})]}),u&&O.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando…"}),p&&O.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:p}),O.jsx("div",{className:"table-wrap",children:O.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[O.jsx("thead",{children:O.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[O.jsx("th",{style:{padding:"6px 8px 6px 8px",borderBottom:"1px solid #333",width:"2.8ch",textAlign:"right"},children:"#"}),O.jsx("th",{style:{padding:"6px 8px 6px 10px",borderBottom:"1px solid #333"},children:"Nombre"}),O.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Score total"}),O.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Giros totales"})]})}),O.jsxs("tbody",{children:[s.map((re,le)=>S(re,le+1)),B&&!ee&&X&&O.jsxs(O.Fragment,{children:[O.jsx("tr",{children:O.jsx("td",{colSpan:4,style:{padding:4}})}),S(X,y??"—",{key:"me",highlight:!0})]})]})]})})]})}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function XT(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function _O(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ab(i,e){return i.get(XT(i,e))}function bO(i,e,t){_O(i,e),e.set(i,t)}function EO(i,e,t){return i.set(XT(i,e),t),t}const TO=100,ge={},AO=()=>{ge.previousActiveElement instanceof HTMLElement?(ge.previousActiveElement.focus(),ge.previousActiveElement=null):document.body&&document.body.focus()},SO=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;ge.restoreFocusTimeout=setTimeout(()=>{AO(),e()},TO),window.scrollTo(t,s)}),WT="swal2-",RO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],G=RO.reduce((i,e)=>(i[e]=WT+e,i),{}),IO=["success","warning","info","question","error"],ud=IO.reduce((i,e)=>(i[e]=WT+e,i),{}),ZT="SweetAlert2:",Qg=i=>i.charAt(0).toUpperCase()+i.slice(1),pn=i=>{console.warn(`${ZT} ${typeof i=="object"?i.join(" "):i}`)},wa=i=>{console.error(`${ZT} ${i}`)},ob=[],CO=i=>{ob.includes(i)||(ob.push(i),pn(i))},JT=(i,e=null)=>{CO(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},qd=i=>typeof i=="function"?i():i,Yg=i=>i&&typeof i.toPromise=="function",Fu=i=>Yg(i)?i.toPromise():Promise.resolve(i),Kg=i=>i&&Promise.resolve(i)===i,mn=()=>document.body.querySelector(`.${G.container}`),Gu=i=>{const e=mn();return e?e.querySelector(i):null},Pn=i=>Gu(`.${i}`),Fe=()=>Pn(G.popup),Go=()=>Pn(G.icon),xO=()=>Pn(G["icon-content"]),e2=()=>Pn(G.title),$g=()=>Pn(G["html-container"]),t2=()=>Pn(G.image),Xg=()=>Pn(G["progress-steps"]),Hd=()=>Pn(G["validation-message"]),Pi=()=>Gu(`.${G.actions} .${G.confirm}`),Qo=()=>Gu(`.${G.actions} .${G.cancel}`),va=()=>Gu(`.${G.actions} .${G.deny}`),DO=()=>Pn(G["input-label"]),Yo=()=>Gu(`.${G.loader}`),Qu=()=>Pn(G.actions),n2=()=>Pn(G.footer),Fd=()=>Pn(G["timer-progress-bar"]),Wg=()=>Pn(G.close),NO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zg=()=>{const i=Fe();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,d)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(d.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),s=i.querySelectorAll(NO),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>bn(u))},Jg=()=>fr(document.body,G.shown)&&!fr(document.body,G["toast-shown"])&&!fr(document.body,G["no-backdrop"]),Gd=()=>{const i=Fe();return i?fr(i,G.toast):!1},OO=()=>{const i=Fe();return i?i.hasAttribute("data-loading"):!1},Ln=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(d=>{i.appendChild(d)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(d=>{d instanceof HTMLVideoElement||d instanceof HTMLAudioElement?i.appendChild(d.cloneNode(!0)):i.appendChild(d)})}},fr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},kO=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(G).includes(t)&&!Object.values(ud).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},Vn=(i,e,t)=>{if(kO(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){pn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Qe(i,s)}},Qd=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${G.popup} > .${G[e]}`);case"checkbox":return i.querySelector(`.${G.popup} > .${G.checkbox} input`);case"radio":return i.querySelector(`.${G.popup} > .${G.radio} input:checked`)||i.querySelector(`.${G.popup} > .${G.radio} input:first-child`);case"range":return i.querySelector(`.${G.popup} > .${G.range} input`);default:return i.querySelector(`.${G.popup} > .${G.input}`)}},i2=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},r2=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},Qe=(i,e)=>{r2(i,e,!0)},Zn=(i,e)=>{r2(i,e,!1)},is=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&fr(o,e))return o}},la=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},Gt=(i,e="flex")=>{i&&(i.style.display=e)},on=i=>{i&&(i.style.display="none")},ey=(i,e="block")=>{i&&new MutationObserver(()=>{Yu(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},lb=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},Yu=(i,e,t="flex")=>{e?Gt(i,t):on(i)},bn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),MO=()=>!bn(Pi())&&!bn(va())&&!bn(Qo()),jm=i=>i.scrollHeight>i.clientHeight,VO=(i,e)=>{let t=i;for(;t&&t!==e;){if(jm(t))return!0;t=t.parentElement}return!1},s2=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},ty=(i,e=!1)=>{const t=Fd();t&&bn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},PO=()=>{const i=Fd();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},LO=()=>typeof window>"u"||typeof document>"u",UO=`
 <div aria-labelledby="${G.title}" aria-describedby="${G["html-container"]}" class="${G.popup}" tabindex="-1">
   <button type="button" class="${G.close}"></button>
   <ul class="${G["progress-steps"]}"></ul>
   <div class="${G.icon}"></div>
   <img class="${G.image}" />
   <h2 class="${G.title}" id="${G.title}"></h2>
   <div class="${G["html-container"]}" id="${G["html-container"]}"></div>
   <input class="${G.input}" id="${G.input}" />
   <input type="file" class="${G.file}" />
   <div class="${G.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${G.select}" id="${G.select}"></select>
   <div class="${G.radio}"></div>
   <label class="${G.checkbox}">
     <input type="checkbox" id="${G.checkbox}" />
     <span class="${G.label}"></span>
   </label>
   <textarea class="${G.textarea}" id="${G.textarea}"></textarea>
   <div class="${G["validation-message"]}" id="${G["validation-message"]}"></div>
   <div class="${G.actions}">
     <div class="${G.loader}"></div>
     <button type="button" class="${G.confirm}"></button>
     <button type="button" class="${G.deny}"></button>
     <button type="button" class="${G.cancel}"></button>
   </div>
   <div class="${G.footer}"></div>
   <div class="${G["timer-progress-bar-container"]}">
     <div class="${G["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),zO=()=>{const i=mn();return i?(i.remove(),Zn([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0):!1},na=()=>{ge.currentInstance.resetValidationMessage()},jO=()=>{const i=Fe(),e=is(i,G.input),t=is(i,G.file),s=i.querySelector(`.${G.range} input`),o=i.querySelector(`.${G.range} output`),u=is(i,G.select),d=i.querySelector(`.${G.checkbox} input`),p=is(i,G.textarea);e.oninput=na,t.onchange=na,u.onchange=na,d.onchange=na,p.oninput=na,s.oninput=()=>{na(),o.value=s.value},s.onchange=()=>{na(),o.value=s.value}},BO=i=>typeof i=="string"?document.querySelector(i):i,qO=i=>{const e=Fe();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},HO=i=>{window.getComputedStyle(i).direction==="rtl"&&Qe(mn(),G.rtl)},FO=i=>{const e=zO();if(LO()){wa("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=G.container,e&&Qe(t,G["no-transition"]),Ln(t,UO),t.dataset.swal2Theme=i.theme;const s=BO(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),qO(i),HO(s),jO()},ny=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?GO(i,e):i&&Ln(e,i)},GO=(i,e)=>{i.jquery?QO(e,i):Ln(e,i.toString())},QO=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},YO=(i,e)=>{const t=Qu(),s=Yo();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?on(t):Gt(t),Vn(t,e,"actions"),KO(t,s,e),Ln(s,e.loaderHtml||""),Vn(s,e,"loader"))};function KO(i,e,t){const s=Pi(),o=va(),u=Qo();!s||!o||!u||(dm(s,"confirm",t),dm(o,"deny",t),dm(u,"cancel",t),$O(s,o,u,t),t.reverseButtons&&(t.toast?(i.insertBefore(u,s),i.insertBefore(o,s)):(i.insertBefore(u,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function $O(i,e,t,s){if(!s.buttonsStyling){Zn([i,e,t],G.styled);return}Qe([i,e,t],G.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),hm(i),hm(e),hm(t)}function hm(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function dm(i,e,t){const s=Qg(e);Yu(i,t[`show${s}Button`],"inline-block"),Ln(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=G[e],Vn(i,t,`${e}Button`)}const XO=(i,e)=>{const t=Wg();t&&(Ln(t,e.closeButtonHtml||""),Vn(t,e,"closeButton"),Yu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},WO=(i,e)=>{const t=mn();t&&(ZO(t,e.backdrop),JO(t,e.position),ek(t,e.grow),Vn(t,e,"container"))};function ZO(i,e){typeof e=="string"?i.style.background=e:e||Qe([document.documentElement,document.body],G["no-backdrop"])}function JO(i,e){e&&(e in G?Qe(i,G[e]):(pn('The "position" parameter is not valid, defaulting to "center"'),Qe(i,G.center)))}function ek(i,e){e&&Qe(i,G[`grow-${e}`])}var st={innerParams:new WeakMap,domCache:new WeakMap};const tk=["input","file","range","select","radio","checkbox","textarea"],nk=(i,e)=>{const t=Fe();if(!t)return;const s=st.innerParams.get(i),o=!s||e.input!==s.input;tk.forEach(u=>{const d=is(t,G[u]);d&&(sk(u,e.inputAttributes),d.className=G[u],o&&on(d))}),e.input&&(o&&ik(e),ak(e))},ik=i=>{if(!i.input)return;if(!vt[i.input]){wa(`Unexpected type of input! Expected ${Object.keys(vt).join(" | ")}, got "${i.input}"`);return}const e=a2(i.input);if(!e)return;const t=vt[i.input](e,i);Gt(e),i.inputAutoFocus&&setTimeout(()=>{i2(t)})},rk=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},sk=(i,e)=>{const t=Fe();if(!t)return;const s=Qd(t,i);if(s){rk(s);for(const o in e)s.setAttribute(o,e[o])}},ak=i=>{if(!i.input)return;const e=a2(i.input);e&&Vn(e,i,"input")},iy=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},Ku=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=G["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&Qe(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},a2=i=>{const e=Fe();if(e)return is(e,G[i]||G.input)},cd=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Kg(e)||pn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=vt.search=vt.date=vt["datetime-local"]=vt.time=vt.week=vt.month=(i,e)=>(cd(i,e.inputValue),Ku(i,i,e),iy(i,e),i.type=e.input,i);vt.file=(i,e)=>(Ku(i,i,e),iy(i,e),i);vt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return cd(t,e.inputValue),t.type=e.input,cd(s,e.inputValue),Ku(t,i,e),i};vt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Ln(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return Ku(i,i,e),i};vt.radio=i=>(i.textContent="",i);vt.checkbox=(i,e)=>{const t=Qd(Fe(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Ln(s,e.inputPlaceholder||e.inputLabel),t};vt.textarea=(i,e)=>{cd(i,e.inputValue),iy(i,e),Ku(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Fe()).width),o=()=>{if(!document.body.contains(i))return;const u=i.offsetWidth+t(i);u>s?Fe().style.width=`${u}px`:la(Fe(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const ok=(i,e)=>{const t=$g();t&&(ey(t),Vn(t,e,"htmlContainer"),e.html?(ny(e.html,t),Gt(t,"block")):e.text?(t.textContent=e.text,Gt(t,"block")):on(t),nk(i,e))},lk=(i,e)=>{const t=n2();t&&(ey(t),Yu(t,e.footer,"block"),e.footer&&ny(e.footer,t),Vn(t,e,"footer"))},uk=(i,e)=>{const t=st.innerParams.get(i),s=Go();if(!s)return;if(t&&e.icon===t.icon){cb(s,e),ub(s,e);return}if(!e.icon&&!e.iconHtml){on(s);return}if(e.icon&&Object.keys(ud).indexOf(e.icon)===-1){wa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),on(s);return}Gt(s),cb(s,e),ub(s,e),Qe(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o2)},ub=(i,e)=>{for(const[t,s]of Object.entries(ud))e.icon!==t&&Zn(i,s);Qe(i,e.icon&&ud[e.icon]),dk(i,e),o2(),Vn(i,e,"icon")},o2=()=>{const i=Fe();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},ck=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,hk=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,cb=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=hb(e.iconHtml):e.icon==="success"?(s=ck(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=hk:e.icon&&(s=hb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Ln(i,s)},dk=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lb(i,t,"background-color",e.iconColor);lb(i,".swal2-success-ring","border-color",e.iconColor)}},hb=i=>`<div class="${G["icon-content"]}">${i}</div>`,fk=(i,e)=>{const t=t2();if(t){if(!e.imageUrl){on(t);return}Gt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),la(t,"width",e.imageWidth),la(t,"height",e.imageHeight),t.className=G.image,Vn(t,e,"image")}};let ry=!1,l2=0,u2=0,c2=0,h2=0;const pk=i=>{i.addEventListener("mousedown",hd),document.body.addEventListener("mousemove",dd),i.addEventListener("mouseup",fd),i.addEventListener("touchstart",hd),document.body.addEventListener("touchmove",dd),i.addEventListener("touchend",fd)},mk=i=>{i.removeEventListener("mousedown",hd),document.body.removeEventListener("mousemove",dd),i.removeEventListener("mouseup",fd),i.removeEventListener("touchstart",hd),document.body.removeEventListener("touchmove",dd),i.removeEventListener("touchend",fd)},hd=i=>{const e=Fe();if(i.target===e||Go().contains(i.target)){ry=!0;const t=d2(i);l2=t.clientX,u2=t.clientY,c2=parseInt(e.style.insetInlineStart)||0,h2=parseInt(e.style.insetBlockStart)||0,Qe(e,"swal2-dragging")}},dd=i=>{const e=Fe();if(ry){let{clientX:t,clientY:s}=d2(i);e.style.insetInlineStart=`${c2+(t-l2)}px`,e.style.insetBlockStart=`${h2+(s-u2)}px`}},fd=()=>{const i=Fe();ry=!1,Zn(i,"swal2-dragging")},d2=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},gk=(i,e)=>{const t=mn(),s=Fe();if(!(!t||!s)){if(e.toast){la(t,"width",e.width),s.style.width="100%";const o=Yo();o&&s.insertBefore(o,Go())}else la(s,"width",e.width);la(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),on(Hd()),yk(s,e),e.draggable&&!e.toast?(Qe(s,G.draggable),pk(s)):(Zn(s,G.draggable),mk(s))}},yk=(i,e)=>{const t=e.showClass||{};i.className=`${G.popup} ${bn(i)?t.popup:""}`,e.toast?(Qe([document.documentElement,document.body],G["toast-shown"]),Qe(i,G.toast)):Qe(i,G.modal),Vn(i,e,"popup"),typeof e.customClass=="string"&&Qe(i,e.customClass),e.icon&&Qe(i,G[`icon-${e.icon}`])},wk=(i,e)=>{const t=Xg();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){on(t);return}Gt(t),t.textContent="",o>=s.length&&pn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,d)=>{const p=vk(u);if(t.appendChild(p),d===o&&Qe(p,G["active-progress-step"]),d!==s.length-1){const g=_k(e);t.appendChild(g)}})},vk=i=>{const e=document.createElement("li");return Qe(e,G["progress-step"]),Ln(e,i),e},_k=i=>{const e=document.createElement("li");return Qe(e,G["progress-step-line"]),i.progressStepsDistance&&la(e,"width",i.progressStepsDistance),e},bk=(i,e)=>{const t=e2();t&&(ey(t),Yu(t,e.title||e.titleText,"block"),e.title&&ny(e.title,t),e.titleText&&(t.innerText=e.titleText),Vn(t,e,"title"))},f2=(i,e)=>{gk(i,e),WO(i,e),wk(i,e),uk(i,e),fk(i,e),bk(i,e),XO(i,e),ok(i,e),YO(i,e),lk(i,e);const t=Fe();typeof e.didRender=="function"&&t&&e.didRender(t),ge.eventEmitter.emit("didRender",t)},Ek=()=>bn(Fe()),p2=()=>{var i;return(i=Pi())===null||i===void 0?void 0:i.click()},Tk=()=>{var i;return(i=va())===null||i===void 0?void 0:i.click()},Ak=()=>{var i;return(i=Qo())===null||i===void 0?void 0:i.click()},Ko=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),m2=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},Sk=(i,e,t)=>{m2(i),e.toast||(i.keydownHandler=s=>Ik(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:Fe(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},Bm=(i,e)=>{var t;const s=Zg();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=Fe())===null||t===void 0||t.focus()},g2=["ArrowRight","ArrowDown"],Rk=["ArrowLeft","ArrowUp"],Ik=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Ck(e,i):e.key==="Tab"?xk(e):[...g2,...Rk].includes(e.key)?Dk(e.key):e.key==="Escape"&&Nk(e,i,t)))},Ck=(i,e)=>{if(!qd(e.allowEnterKey))return;const t=Qd(Fe(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;p2(),i.preventDefault()}},xk=i=>{const e=i.target,t=Zg();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?Bm(s,-1):Bm(s,1),i.stopPropagation(),i.preventDefault()},Dk=i=>{const e=Qu(),t=Pi(),s=va(),o=Qo();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const d=g2.includes(i)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[d],!p)return;if(p instanceof HTMLButtonElement&&bn(p))break}p instanceof HTMLButtonElement&&p.focus()}},Nk=(i,e,t)=>{i.preventDefault(),qd(e.allowEscapeKey)&&t(Ko.esc)};var ko={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ok=()=>{const i=mn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},y2=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},w2=typeof window<"u"&&!!window.GestureEvent,kk=()=>{if(w2&&!fr(document.body,G.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Qe(document.body,G.iosfix),Mk()}},Mk=()=>{const i=mn();if(!i)return;let e;i.ontouchstart=t=>{e=Vk(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},Vk=i=>{const e=i.target,t=mn(),s=$g();return!t||!s||Pk(i)||Lk(i)?!1:e===t||!jm(t)&&e instanceof HTMLElement&&!VO(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(jm(s)&&s.contains(e))},Pk=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",Lk=i=>i.touches&&i.touches.length>1,Uk=()=>{if(fr(document.body,G.iosfix)){const i=parseInt(document.body.style.top,10);Zn(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},zk=()=>{const i=document.createElement("div");i.className=G["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let Eo=null;const jk=i=>{Eo===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(Eo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Eo+zk()}px`)},Bk=()=>{Eo!==null&&(document.body.style.paddingRight=`${Eo}px`,Eo=null)};function v2(i,e,t,s){Gd()?db(i,s):(SO(t).then(()=>db(i,s)),m2(ge)),w2?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Jg()&&(Bk(),Uk(),y2()),qk()}function qk(){Zn([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}function rs(i){i=Fk(i);const e=ko.swalPromiseResolve.get(this),t=Hk(this);this.isAwaitingPromise?i.isDismissed||($u(this),e(i)):t&&e(i)}const Hk=i=>{const e=Fe();if(!e)return!1;const t=st.innerParams.get(i);if(!t||fr(e,t.hideClass.popup))return!1;Zn(e,t.showClass.popup),Qe(e,t.hideClass.popup);const s=mn();return Zn(s,t.showClass.backdrop),Qe(s,t.hideClass.backdrop),Gk(i,e,t),!0};function _2(i){const e=ko.swalPromiseReject.get(this);$u(this),e&&e(i)}const $u=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,st.innerParams.get(i)||i._destroy())},Fk=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),Gk=(i,e,t)=>{var s;const o=mn(),u=s2(e);typeof t.willClose=="function"&&t.willClose(e),(s=ge.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?Qk(i,e,o,t.returnFocus,t.didClose):v2(i,o,t.returnFocus,t.didClose)},Qk=(i,e,t,s,o)=>{ge.swalCloseEventFinishedCallback=v2.bind(null,i,t,s,o);const u=function(d){if(d.target===e){var p;(p=ge.swalCloseEventFinishedCallback)===null||p===void 0||p.call(ge),delete ge.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},db=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=ge.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Mo=i=>{let e=Fe();if(e||new Vo,e=Fe(),!e)return;const t=Yo();Gd()?on(Go()):Yk(e,i),Gt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Yk=(i,e)=>{const t=Qu(),s=Yo();!t||!s||(!e&&bn(Pi())&&(e=Pi()),Gt(t),e&&(on(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Qe([i,t],G.loading))},Kk=(i,e)=>{e.input==="select"||e.input==="radio"?Jk(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Yg(e.inputValue)||Kg(e.inputValue))&&(Mo(Pi()),e4(i,e))},$k=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return Xk(t);case"radio":return Wk(t);case"file":return Zk(t);default:return e.inputAutoTrim?t.value.trim():t.value}},Xk=i=>i.checked?1:0,Wk=i=>i.checked?i.value:null,Zk=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,Jk=(i,e)=>{const t=Fe();if(!t)return;const s=o=>{e.input==="select"?t4(t,pd(o),e):e.input==="radio"&&n4(t,pd(o),e)};Yg(e.inputOptions)||Kg(e.inputOptions)?(Mo(Pi()),Fu(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):wa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},e4=(i,e)=>{const t=i.getInput();t&&(on(t),Fu(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Gt(t),t.focus(),i.hideLoading()}).catch(s=>{wa(`Error in inputValue promise: ${s}`),t.value="",Gt(t),t.focus(),i.hideLoading()}))};function t4(i,e,t){const s=is(i,G.select);if(!s)return;const o=(u,d,p)=>{const g=document.createElement("option");g.value=p,Ln(g,d),g.selected=b2(p,t.inputValue),u.appendChild(g)};e.forEach(u=>{const d=u[0],p=u[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=d,g.disabled=!1,s.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(s,p,d)}),s.focus()}function n4(i,e,t){const s=is(i,G.radio);if(!s)return;e.forEach(u=>{const d=u[0],p=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=G.radio,g.value=d,b2(d,t.inputValue)&&(g.checked=!0);const _=document.createElement("span");Ln(_,p),_.className=G.label,y.appendChild(g),y.appendChild(_),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const pd=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=pd(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=pd(s)),e.push([t,s])}),e},b2=(i,e)=>!!e&&e.toString()===i.toString(),i4=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.input?E2(i,"confirm"):ay(i,!0)},r4=i=>{const e=st.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?E2(i,"deny"):sy(i,!1)},s4=(i,e)=>{i.disableButtons(),e(Ko.cancel)},E2=(i,e)=>{const t=st.innerParams.get(i);if(!t.input){wa(`The "input" parameter is needed to be set when using returnInputValueOn${Qg(e)}`);return}const s=i.getInput(),o=$k(i,t);t.inputValidator?a4(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?sy(i,o):ay(i,o)},a4=(i,e,t)=>{const s=st.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Fu(s.inputValidator(e,s.validationMessage))).then(u=>{i.enableButtons(),i.enableInput(),u?i.showValidationMessage(u):t==="deny"?sy(i,e):ay(i,e)})},sy=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnDeny&&Mo(va()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Fu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),$u(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>T2(i||void 0,o))):i.close({isDenied:!0,value:e})},fb=(i,e)=>{i.close({isConfirmed:!0,value:e})},T2=(i,e)=>{i.rejectPromise(e)},ay=(i,e)=>{const t=st.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Mo(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Fu(t.preConfirm(e,t.validationMessage))).then(o=>{bn(Hd())||o===!1?(i.hideLoading(),$u(i)):fb(i,typeof o>"u"?e:o)}).catch(o=>T2(i||void 0,o))):fb(i,e)};function md(){const i=st.innerParams.get(this);if(!i)return;const e=st.domCache.get(this);on(e.loader),Gd()?i.icon&&Gt(Go()):o4(e),Zn([e.popup,e.actions],G.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const o4=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?Gt(e[0],"inline-block"):MO()&&on(i.actions)};function A2(){const i=st.innerParams.get(this),e=st.domCache.get(this);return e?Qd(e.popup,i.input):null}function S2(i,e,t){const s=st.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function R2(i,e){const t=Fe();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${G.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function I2(){S2(this,["confirmButton","denyButton","cancelButton"],!1)}function C2(){S2(this,["confirmButton","denyButton","cancelButton"],!0)}function x2(){R2(this.getInput(),!1)}function D2(){R2(this.getInput(),!0)}function N2(i){const e=st.domCache.get(this),t=st.innerParams.get(this);Ln(e.validationMessage,i),e.validationMessage.className=G["validation-message"],t.customClass&&t.customClass.validationMessage&&Qe(e.validationMessage,t.customClass.validationMessage),Gt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",G["validation-message"]),i2(s),Qe(s,G.inputerror))}function O2(){const i=st.domCache.get(this);i.validationMessage&&on(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Zn(e,G.inputerror))}const To={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},l4=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],u4={allowEnterKey:void 0},c4=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],k2=i=>Object.prototype.hasOwnProperty.call(To,i),M2=i=>l4.indexOf(i)!==-1,V2=i=>u4[i],h4=i=>{k2(i)||pn(`Unknown parameter "${i}"`)},d4=i=>{c4.includes(i)&&pn(`The parameter "${i}" is incompatible with toasts`)},f4=i=>{const e=V2(i);e&&JT(i,e)},P2=i=>{i.backdrop===!1&&i.allowOutsideClick&&pn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&pn(`Invalid theme "${i.theme}"`);for(const e in i)h4(e),i.toast&&d4(e),f4(e)};function L2(i){const e=mn(),t=Fe(),s=st.innerParams.get(this);if(!t||fr(t,s.hideClass.popup)){pn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=p4(i),u=Object.assign({},s,o);P2(u),e.dataset.swal2Theme=u.theme,f2(this,u),st.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const p4=i=>{const e={};return Object.keys(i).forEach(t=>{M2(t)?e[t]=i[t]:pn(`Invalid parameter to update: ${t}`)}),e};function U2(){const i=st.domCache.get(this),e=st.innerParams.get(this);if(!e){z2(this);return}i.popup&&ge.swalCloseEventFinishedCallback&&(ge.swalCloseEventFinishedCallback(),delete ge.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ge.eventEmitter.emit("didDestroy"),m4(this)}const m4=i=>{z2(i),delete i.params,delete ge.keydownHandler,delete ge.keydownTarget,delete ge.currentInstance},z2=i=>{i.isAwaitingPromise?(fm(st,i),i.isAwaitingPromise=!0):(fm(ko,i),fm(st,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},fm=(i,e)=>{for(const t in i)i[t].delete(e)};var g4=Object.freeze({__proto__:null,_destroy:U2,close:rs,closeModal:rs,closePopup:rs,closeToast:rs,disableButtons:C2,disableInput:D2,disableLoading:md,enableButtons:I2,enableInput:x2,getInput:A2,handleAwaitingPromise:$u,hideLoading:md,rejectPromise:_2,resetValidationMessage:O2,showValidationMessage:N2,update:L2});const y4=(i,e,t)=>{i.toast?w4(i,e,t):(_4(e),b4(e),E4(i,e,t))},w4=(i,e,t)=>{e.popup.onclick=()=>{i&&(v4(i)||i.timer||i.input)||t(Ko.close)}},v4=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let gd=!1;const _4=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(gd=!0)}}},b4=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(gd=!0)}}},E4=(i,e,t)=>{e.container.onclick=s=>{if(gd){gd=!1;return}s.target===e.container&&qd(i.allowOutsideClick)&&t(Ko.backdrop)}},T4=i=>typeof i=="object"&&i.jquery,pb=i=>i instanceof Element||T4(i),A4=i=>{const e={};return typeof i[0]=="object"&&!pb(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||pb(o)?e[t]=o:o!==void 0&&wa(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function S4(...i){return new this(...i)}function R4(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const I4=()=>ge.timeout&&ge.timeout.getTimerLeft(),j2=()=>{if(ge.timeout)return PO(),ge.timeout.stop()},B2=()=>{if(ge.timeout){const i=ge.timeout.start();return ty(i),i}},C4=()=>{const i=ge.timeout;return i&&(i.running?j2():B2())},x4=i=>{if(ge.timeout){const e=ge.timeout.increase(i);return ty(e,!0),e}},D4=()=>!!(ge.timeout&&ge.timeout.isRunning());let mb=!1;const qm={};function N4(i="data-swal-template"){qm[i]=this,mb||(document.body.addEventListener("click",O4),mb=!0)}const O4=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in qm){const s=e.getAttribute(t);if(s){qm[t].fire({template:s});return}}};class k4{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ge.eventEmitter=new k4;const M4=(i,e)=>{ge.eventEmitter.on(i,e)},V4=(i,e)=>{ge.eventEmitter.once(i,e)},P4=(i,e)=>{if(!i){ge.eventEmitter.reset();return}e?ge.eventEmitter.removeListener(i,e):ge.eventEmitter.removeAllListeners(i)};var L4=Object.freeze({__proto__:null,argsToParams:A4,bindClickHandler:N4,clickCancel:Ak,clickConfirm:p2,clickDeny:Tk,enableLoading:Mo,fire:S4,getActions:Qu,getCancelButton:Qo,getCloseButton:Wg,getConfirmButton:Pi,getContainer:mn,getDenyButton:va,getFocusableElements:Zg,getFooter:n2,getHtmlContainer:$g,getIcon:Go,getIconContent:xO,getImage:t2,getInputLabel:DO,getLoader:Yo,getPopup:Fe,getProgressSteps:Xg,getTimerLeft:I4,getTimerProgressBar:Fd,getTitle:e2,getValidationMessage:Hd,increaseTimer:x4,isDeprecatedParameter:V2,isLoading:OO,isTimerRunning:D4,isUpdatableParameter:M2,isValidParameter:k2,isVisible:Ek,mixin:R4,off:P4,on:M4,once:V4,resumeTimer:B2,showLoading:Mo,stopTimer:j2,toggleTimer:C4});class U4{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const q2=["swal-title","swal-html","swal-footer"],z4=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return Y4(t),Object.assign(j4(t),B4(t),q4(t),H4(t),F4(t),G4(t),Q4(t,q2))},j4=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{ma(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof To[o]=="boolean"?e[o]=u!=="false":typeof To[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},B4=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},q4=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{ma(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${Qg(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},H4=i=>{const e={},t=i.querySelector("swal-image");return t&&(ma(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},F4=i=>{const e={},t=i.querySelector("swal-icon");return t&&(ma(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},G4=i=>{const e={},t=i.querySelector("swal-input");t&&(ma(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{ma(o,["value"]);const u=o.getAttribute("value");if(!u)return;const d=o.innerHTML;e.inputOptions[u]=d})),e},Q4=(i,e)=>{const t={};for(const s in e){const o=e[s],u=i.querySelector(o);u&&(ma(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},Y4=i=>{const e=q2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||pn(`Unrecognized element <${s}>`)})},ma=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&pn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},H2=10,K4=i=>{const e=mn(),t=Fe();typeof i.willOpen=="function"&&i.willOpen(t),ge.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;W4(e,t,i),setTimeout(()=>{$4(e,t)},H2),Jg()&&(X4(e,i.scrollbarPadding,o),Ok()),!Gd()&&!ge.previousActiveElement&&(ge.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),ge.eventEmitter.emit("didOpen",t),Zn(e,G["no-transition"])},yd=i=>{const e=Fe();if(i.target!==e)return;const t=mn();e.removeEventListener("animationend",yd),e.removeEventListener("transitionend",yd),t.style.overflowY="auto"},$4=(i,e)=>{s2(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",yd),e.addEventListener("transitionend",yd)):i.style.overflowY="auto"},X4=(i,e,t)=>{kk(),e&&t!=="hidden"&&jk(t),setTimeout(()=>{i.scrollTop=0})},W4=(i,e,t)=>{Qe(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Gt(e,"grid"),setTimeout(()=>{Qe(e,t.showClass.popup),e.style.removeProperty("opacity")},H2)):Gt(e,"grid"),Qe([document.documentElement,document.body],G.shown),t.heightAuto&&t.backdrop&&!t.toast&&Qe([document.documentElement,document.body],G["height-auto"])};var gb={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Z4(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=gb.email),i.input==="url"&&(i.inputValidator=gb.url))}function J4(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(pn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function eM(i){Z4(i),i.showLoaderOnConfirm&&!i.preConfirm&&pn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),J4(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),FO(i)}let xi;var Ih=new WeakMap;class Et{constructor(...e){if(bO(this,Ih,void 0),typeof window>"u")return;xi=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,EO(Ih,this,this._main(xi.params))}_main(e,t={}){if(P2(Object.assign({},t,e)),ge.currentInstance){const u=ko.swalPromiseResolve.get(ge.currentInstance),{isAwaitingPromise:d}=ge.currentInstance;ge.currentInstance._destroy(),d||u({isDismissed:!0}),Jg()&&y2()}ge.currentInstance=xi;const s=nM(e,t);eM(s),Object.freeze(s),ge.timeout&&(ge.timeout.stop(),delete ge.timeout),clearTimeout(ge.restoreFocusTimeout);const o=iM(xi);return f2(xi,s),st.innerParams.set(xi,s),tM(xi,o,s)}then(e){return ab(Ih,this).then(e)}finally(e){return ab(Ih,this).finally(e)}}const tM=(i,e,t)=>new Promise((s,o)=>{const u=d=>{i.close({isDismissed:!0,dismiss:d})};ko.swalPromiseResolve.set(i,s),ko.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{i4(i)},e.denyButton.onclick=()=>{r4(i)},e.cancelButton.onclick=()=>{s4(i,u)},e.closeButton.onclick=()=>{u(Ko.close)},y4(t,e,u),Sk(ge,t,u),Kk(i,t),K4(t),rM(ge,t,u),sM(e,t),setTimeout(()=>{e.container.scrollTop=0})}),nM=(i,e)=>{const t=z4(i),s=Object.assign({},To,e,t,i);return s.showClass=Object.assign({},To.showClass,s.showClass),s.hideClass=Object.assign({},To.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},iM=i=>{const e={popup:Fe(),container:mn(),actions:Qu(),confirmButton:Pi(),denyButton:va(),cancelButton:Qo(),loader:Yo(),closeButton:Wg(),validationMessage:Hd(),progressSteps:Xg()};return st.domCache.set(i,e),e},rM=(i,e,t)=>{const s=Fd();on(s),e.timer&&(i.timeout=new U4(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(Gt(s),Vn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&ty(e.timer)})))},sM=(i,e)=>{if(!e.toast){if(!qd(e.allowEnterKey)){JT("allowEnterKey"),lM();return}aM(i)||oM(i,e)||Bm(-1,1)}},aM=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&bn(t))return t.focus(),!0;return!1},oM=(i,e)=>e.focusDeny&&bn(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&bn(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&bn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,lM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Et.prototype.disableButtons=C2;Et.prototype.enableButtons=I2;Et.prototype.getInput=A2;Et.prototype.disableInput=D2;Et.prototype.enableInput=x2;Et.prototype.hideLoading=md;Et.prototype.disableLoading=md;Et.prototype.showValidationMessage=N2;Et.prototype.resetValidationMessage=O2;Et.prototype.close=rs;Et.prototype.closePopup=rs;Et.prototype.closeModal=rs;Et.prototype.closeToast=rs;Et.prototype.rejectPromise=_2;Et.prototype.update=L2;Et.prototype._destroy=U2;Object.assign(Et,L4);Object.keys(g4).forEach(i=>{Et[i]=function(...e){return xi&&xi[i]?xi[i](...e):null}});Et.DismissReason=Ko;Et.version="11.22.4";const Vo=Et;Vo.default=Vo;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function zh(i){Vo.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const Ch={"auth/invalid-email":"El correo electrónico no es válido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contraseña es incorrecta.","auth/email-already-in-use":"El correo ya está registrado.","auth/weak-password":"La contraseña es demasiado débil.","auth/missing-password":"Debes ingresar una contraseña.","auth/too-many-requests":"Demasiados intentos. Intenta más tarde.","auth/network-request-failed":"Error de red. Verifica tu conexión.","auth/invalid-credential":"Las credenciales ingresadas no son válidas."};function jh(i){return i?typeof i=="string"&&Ch[i]?Ch[i]:i.code&&Ch[i.code]?Ch[i.code]:i.message||"Error desconocido.":"Error desconocido."}const yb=new cr;async function uM(i){try{await VI(i,yb)}catch(e){e.code==="auth/popup-blocked"||e.code==="auth/cancelled-popup-request"||e.code==="auth/operation-not-supported-in-this-environment"?await BI(i,yb):zh(jh(e))}}function wb({auth:i,db:e,onReady:t}){const[s,o]=we.useState("login"),[u,d]=we.useState(""),[p,g]=we.useState(""),[y,_]=we.useState(""),[A,S]=we.useState("X"),[B,K]=we.useState(""),[ee,X]=we.useState(""),[re,le]=we.useState(!1),[oe,Ie]=we.useState(!1),Ee=we.useCallback(async(x,R)=>{await QT(Oo(e,"users",x),{...R,createdAt:oa()},{merge:!0})},[e]),C=s==="login"?async()=>{le(!0),X("");try{await uI(i,u,p),t?.()}catch(x){zh(jh(x))}finally{le(!1)}}:s==="register"?async()=>{le(!0),X("");try{const x=(y||"").trim();if(!x){await Vo.fire({icon:"warning",title:"Falta tu nombre",text:"Por favor escribe tu primer nombre antes de registrarte.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"});return}const R=await lI(i,u,p);await hI(R.user,{displayName:x}),await Ee(R.user.uid,{displayName:x,gender:A,city:B}),t?.()}catch(x){zh(jh(x))}finally{le(!1)}}:async()=>{le(!0),X("");try{await oI(i,u),Vo.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo está registrado, recibirás un enlace para restablecer tu contraseña.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(x){zh(jh(x))}finally{le(!1)}},k=O.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:O.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),M=O.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:O.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})});return O.jsxs("section",{className:"auth-card",children:[O.jsxs("header",{className:"card-head",children:[O.jsx("h1",{children:s==="login"?"Bienvenido":s==="register"?"Crear cuenta":"Recuperar acceso"}),O.jsx("p",{className:"muted",children:s==="login"?"Inicia sesión para continuar":s==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contraseña"})]}),O.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(x=>O.jsx("button",{type:"button",onClick:()=>o(x),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:x===s?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:x===s?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:x===s?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:x==="login"?"Login":x==="register"?"Registro":"Reset"},x))}),ee&&O.jsx("div",{className:"alert",style:{marginTop:10},children:ee}),O.jsxs("form",{className:"form",onSubmit:x=>{x.preventDefault();const R=x.currentTarget;if(!R.checkValidity()){R.reportValidity();return}C()},noValidate:!0,style:{marginTop:12},children:[O.jsxs("div",{className:"field",children:[O.jsx("label",{htmlFor:"email",children:"Correo"}),O.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:u,onChange:x=>d(x.target.value)})]}),s!=="reset"&&O.jsxs("div",{className:"field",children:[O.jsx("label",{htmlFor:"password",children:"Contraseña"}),O.jsxs("div",{className:"pwd",children:[O.jsx("input",{id:"password",name:"password",type:oe?"text":"password",placeholder:"••••••••",autoComplete:s==="login"?"current-password":"new-password",required:!0,value:p,onChange:x=>g(x.target.value)}),O.jsx("button",{type:"button",className:"icon-btn","aria-label":oe?"Ocultar contraseña":"Mostrar contraseña",onClick:()=>Ie(x=>!x),style:{background:"transparent"},children:oe?M:k})]})]}),s==="register"&&O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"field",children:[O.jsx("label",{htmlFor:"displayName",children:"Nombre"}),O.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:y,onChange:x=>{const R=x.target.value.replace(/\s.*/,"");_(R)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),O.jsxs("div",{className:"field",children:[O.jsx("label",{htmlFor:"city",children:"Ciudad"}),O.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:B,onChange:x=>K(x.target.value)})]}),O.jsxs("div",{className:"field",children:[O.jsx("label",{htmlFor:"gender",children:"Género"}),O.jsx("div",{style:{display:"flex",gap:10,rowGap:6,flexWrap:"wrap",background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:["M","F","X"].map(x=>O.jsx("button",{type:"button",onClick:()=>S(x),style:{background:A===x?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A===x?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A===x?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:x==="M"?"Masculino":x==="F"?"Femenino":"Prefiero no decir"},x))})]})]}),O.jsx("button",{className:"btn",disabled:re,children:re?"Procesando…":s==="login"?"Ingresar":s==="register"?"Crear cuenta":"Enviar correo"}),s==="login"&&O.jsxs("button",{type:"button",onClick:()=>uM(i),style:{marginTop:10,width:"100%",height:46,borderRadius:12,border:"1px solid var(--stroke)",background:"#0f152d",color:"#e8ecf4",fontWeight:800,letterSpacing:.3,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},"aria-label":"Continuar con Google",children:[O.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":!0,children:[O.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.03,6.053,28.715,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),O.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.146,18.961,14,24,14c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.03,6.053,28.715,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),O.jsx("path",{fill:"#4CAF50",d:"M24,44c4.646,0,8.902-1.785,12.102-4.689l-5.586-4.727C28.471,36.977,26.345,38,24,38 c-5.202,0-9.607-3.317-11.264-7.946l-6.493,5.013C9.556,39.556,16.227,44,24,44z"}),O.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.236-2.231,4.166-4.187,5.584l0.003-0.002l5.586,4.727 C35.971,38.495,44,32,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Continuar con Google"]}),s==="login"&&O.jsxs("p",{className:"muted center mt-16",children:["¿No tienes cuenta?"," ",O.jsx("a",{className:"link",href:"#",onClick:x=>{x.preventDefault(),o("register")},children:"Crear cuenta"})," ","·"," ",O.jsx("a",{className:"link",href:"#",onClick:x=>{x.preventDefault(),o("reset")},children:"¿Olvidaste tu contraseña?"})]})]})]})}function cM({open:i,correct:e,explain:t,onClose:s,durationMs:o=1e4,dismissable:u=!0,pointsDelta:d=0}){return we.useEffect(()=>{if(!i)return;const p=setTimeout(()=>s?.(),o);return()=>clearTimeout(p)},[i,s,o]),i?O.jsx("div",{onClick:u?s:void 0,style:{position:"fixed",inset:0,display:"grid",placeItems:"center",zIndex:60,background:"linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.55))"},children:O.jsxs("div",{onClick:p=>p.stopPropagation(),style:{background:e?"linear-gradient(135deg, #34d399, #10b981)":"linear-gradient(135deg, #f87171, #ef4444)",color:"#0b0b0b",padding:"18px 20px",borderRadius:16,boxShadow:"0 14px 40px rgba(0,0,0,0.45)",maxWidth:"min(560px, 92vw)",transform:"translateY(0)",animation:e?"af-bounce .5s ease-out":"af-shake .4s ease-out"},children:[O.jsx("style",{children:`
          @keyframes af-bounce { 0% { transform: scale(.9); opacity:.6 } 50% { transform: scale(1.06); opacity:1 } 100% { transform: scale(1); opacity:1 } }
          @keyframes af-shake { 0% { transform: translateX(0) } 25% { transform: translateX(-6px) rotate(-1deg) } 50% { transform: translateX(6px) rotate(1deg) } 75% { transform: translateX(-4px) rotate(-1deg) } 100% { transform: translateX(0) }
          }
        `}),O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:6},children:[O.jsx("span",{"aria-hidden":!0,style:{fontSize:20},children:e?"✅":"❌"}),O.jsx("div",{style:{fontWeight:900,fontSize:18},children:e?"¡Correcto!":"Incorrecto"})]}),O.jsx("div",{style:{fontSize:14,opacity:.95,marginBottom:4},children:e?`Ganaste +${Math.abs(d)} puntos`:`Perdiste -${Math.abs(d)} puntos`}),!e&&t&&O.jsx("div",{style:{fontSize:14,opacity:.95},children:t}),u&&O.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:O.jsx("button",{onClick:s,style:{border:"1px solid rgba(0,0,0,.2)",background:"#0b0b0b",color:"#f5f5f5",borderRadius:8,padding:"6px 10px"},children:"Cerrar"})})]})}):null}function hM(){const{auth:i,db:e}=aO(),t=oO(900),[s,o]=we.useState(null),[u,d]=we.useState(!1),[p,g]=we.useState(null),[y,_]=we.useState(null),[A,S]=we.useState(!1),[B,K]=we.useState(null),[ee,X]=we.useState(!1),[re,le]=we.useState(null),[oe,Ie]=we.useState(null),[Ee,Be]=we.useState(new Set),[V,T]=we.useState(!1),[C,k]=we.useState(!1),[M,x]=we.useState("");we.useEffect(()=>{HI(i).catch(H=>{H&&console.error("Google redirect error:",H)})},[i]),we.useEffect(()=>pI(i,async H=>{if(o(H),!H){d(!1),K(null);return}try{const te=Oo(e,"users",H.uid);(await YN(te)).exists()||await QT(te,{displayName:H.displayName||H.email,gender:"X",city:"N/A",createdAt:oa()},{merge:!0}),d(!0),g(null)}catch(te){console.error("Perfil/Firestore no disponible:",te),g("⚠️ Error conectando con Firestore. Se podrá girar, pero no se guardarán resultados."),d(!0)}}),[i,e]),we.useEffect(()=>{if(!s)return;const H=Oo(e,"userstats",s.uid),te=$N(H,he=>{K(he.exists()?he.data():null)},he=>console.error("myStats error:",he));return()=>te()},[e,s]);const R=we.useCallback(async H=>{_(H);const te=fO(H.label,Ee);te&&s?(Ie(H),le(te),X(!0)):s&&!p&&(await lO(e,s.uid,s.displayName||s.email,{label:H.label,points:H.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,p,Ee]),Tt=we.useCallback(async H=>{if(!re||!oe||!s){X(!1);return}const te=typeof H=="object"&&H?.timeout,he=re.type==="tf"?!!H:String(H).toLowerCase(),qe=re.type==="tf"?!!re.answer:String(re.answer).toLowerCase(),D=!te&&he===qe;try{await pO(e,s.uid,s.displayName||s.email,oe,re,D),window.dispatchEvent(new Event("reload-top10")),k(D),x(D?"":re.explain||""),T(!0),X(!1),le(null),Ie(null),K(W=>{const se=D?oe.points:-oe.points;return W&&{...W,totalScore:(W.totalScore||0)+se,totalSpins:(W.totalSpins||0)+1}}),Be(W=>new Set(W).add(re.id))}catch(W){console.error("persistQuizOutcome failed",W),X(!1),le(null),Ie(null)}},[e,s,re,oe]),ot=async()=>{try{await mI(i)}catch(H){console.error(H)}};return O.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[O.jsxs("header",{className:"app-header",children:[O.jsxs("div",{className:"brand-title",children:[O.jsx("span",{className:"app-emoji","aria-hidden":!0,children:"🎡"}),O.jsx("h1",{className:"app-title",children:"Ruleta de Datos"})]}),s?O.jsxs("div",{className:"user-strip",children:[O.jsx("span",{className:"user-label",children:"Conectado como"}),O.jsx("b",{className:"user-email",children:s.email}),O.jsx("button",{onClick:ot,className:"logout-icon",title:"Salir","aria-label":"Salir",children:O.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[O.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),O.jsx("polyline",{points:"16 17 21 12 16 7"}),O.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}):O.jsxs("div",{className:"ga-strip",children:[O.jsx("span",{className:"ga-title",children:"ACTIVIDAD GOOGLE ANALYTICS"}),O.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",className:"ga-badge",children:O.jsx("img",{src:mO,alt:"UNIR"})})]})]}),O.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?O.jsxs("div",{style:{display:"grid",gap:12},children:[O.jsx(wb,{auth:i,db:e,onReady:()=>{}}),O.jsx("button",{onClick:()=>S(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),O.jsx(rb,{open:A,title:"Top 10 jugadores",onClose:()=>S(!1),children:O.jsx(Rh,{db:e})})]}):O.jsxs("div",{className:"auth-shell",children:[O.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[O.jsx(gO,{}),O.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[O.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.3,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),O.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:O.jsx(Rh,{db:e})})]})]}),O.jsx("main",{className:"auth-main",children:O.jsx(wb,{auth:i,db:e,onReady:()=>{}})})]})),s&&u&&(t?O.jsxs(O.Fragment,{children:[O.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,flexWrap:"wrap",rowGap:6},children:[O.jsx("b",{children:"Gobierno del dato"}),O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[O.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",O.jsx("b",{children:B?.totalScore??0})]}),O.jsx("button",{className:"btn btn-sm",onClick:()=>S(!0),style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"}),p&&O.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:8},children:p})]})]}),O.jsx(sb,{onResult:R,disabled:ee}),y&&O.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["Último resultado: ",O.jsx("b",{children:y.label})," · Puntos: ",O.jsx("b",{children:y.points})]})]}),O.jsx(rb,{open:A,title:"Top 10 jugadores",onClose:()=>S(!1),children:O.jsx(Rh,{db:e,currentUser:s,myStats:B})}),O.jsx(ib,{open:ee,onClose:()=>X(!1),question:re,points:oe?.points,category:oe?.label,onAnswer:Tt})]}):O.jsxs("div",{className:"grid-main",children:[O.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[O.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[O.jsx("b",{children:"Gobierno del dato"}),p&&O.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:p})]}),O.jsx(sb,{onResult:R,disabled:ee}),y&&O.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["Último resultado: ",O.jsx("b",{children:y.label})," · Puntos: ",O.jsx("b",{children:y.points})]})]}),O.jsx(Rh,{db:e,currentUser:s,myStats:B}),O.jsx(ib,{open:ee,onClose:()=>X(!1),question:re,points:oe?.points,category:oe?.label,onAnswer:Tt})]})),O.jsx(cM,{open:V,correct:C,explain:M,onClose:()=>T(!1),durationMs:C?2e3:1e4,dismissable:!C,pointsDelta:y?.points||0})]})]})}TA.createRoot(document.getElementById("root")).render(O.jsx(we.StrictMode,{children:O.jsx(hM,{})}));
