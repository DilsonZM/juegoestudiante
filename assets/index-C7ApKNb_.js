(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Kp={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function mA(){if(y_)return iu;y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return iu.Fragment=e,iu.jsx=t,iu.jsxs=t,iu}var w_;function gA(){return w_||(w_=1,Kp.exports=mA()),Kp.exports}var C=gA(),$p={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function yA(){if(v_)return xe;v_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),R=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,ee={};function W(D,X,ae){this.props=D,this.context=X,this.refs=ee,this.updater=ae||z}W.prototype.isReactComponent={},W.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function le(){}le.prototype=W.prototype;function re(D,X,ae){this.props=D,this.context=X,this.refs=ee,this.updater=ae||z}var ne=re.prototype=new le;ne.constructor=re,Q(ne,W.prototype),ne.isPureReactComponent=!0;var Ie=Array.isArray,_e={H:null,A:null,T:null,S:null,V:null},Me=Object.prototype.hasOwnProperty;function M(D,X,ae,te,ye,he){return ae=he.ref,{$$typeof:i,type:D,key:X,ref:ae!==void 0?ae:null,props:he}}function S(D,X){return M(D.type,X,void 0,void 0,void 0,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return X[ae]})}var O=/\/+/g;function P(D,X){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):X.toString(36)}function T(){}function He(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(T,T):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Xe(D,X,ae,te,ye){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var ce=!1;if(D===null)ce=!0;else switch(he){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(D.$$typeof){case i:case e:ce=!0;break;case _:return ce=D._init,Xe(ce(D._payload),X,ae,te,ye)}}if(ce)return ye=ye(D),ce=te===""?"."+P(D,0):te,Ie(ye)?(ae="",ce!=null&&(ae=ce.replace(O,"$&/")+"/"),Xe(ye,X,ae,"",function(Yt){return Yt})):ye!=null&&(x(ye)&&(ye=S(ye,ae+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(O,"$&/")+"/")+ce)),X.push(ye)),1;ce=0;var We=te===""?".":te+":";if(Ie(D))for(var Ke=0;Ke<D.length;Ke++)te=D[Ke],he=We+P(te,Ke),ce+=Xe(te,X,ae,he,ye);else if(Ke=A(D),typeof Ke=="function")for(D=Ke.call(D),Ke=0;!(te=D.next()).done;)te=te.value,he=We+P(te,Ke++),ce+=Xe(te,X,ae,he,ye);else if(he==="object"){if(typeof D.then=="function")return Xe(He(D),X,ae,te,ye);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ce}function G(D,X,ae){if(D==null)return D;var te=[],ye=0;return Xe(D,te,"","",function(he){return X.call(ae,he,ye++)}),te}function se(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ce(){}return xe.Children={map:G,forEach:function(D,X,ae){G(D,function(){X.apply(this,arguments)},ae)},count:function(D){var X=0;return G(D,function(){X++}),X},toArray:function(D){return G(D,function(X){return X})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xe.Component=W,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=re,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_e,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _e.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cloneElement=function(D,X,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=Q({},D.props),ye=D.key,he=void 0;if(X!=null)for(ce in X.ref!==void 0&&(he=void 0),X.key!==void 0&&(ye=""+X.key),X)!Me.call(X,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&X.ref===void 0||(te[ce]=X[ce]);var ce=arguments.length-2;if(ce===1)te.children=ae;else if(1<ce){for(var We=Array(ce),Ke=0;Ke<ce;Ke++)We[Ke]=arguments[Ke+2];te.children=We}return M(D.type,ye,void 0,void 0,he,te)},xe.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},xe.createElement=function(D,X,ae){var te,ye={},he=null;if(X!=null)for(te in X.key!==void 0&&(he=""+X.key),X)Me.call(X,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ye[te]=X[te]);var ce=arguments.length-2;if(ce===1)ye.children=ae;else if(1<ce){for(var We=Array(ce),Ke=0;Ke<ce;Ke++)We[Ke]=arguments[Ke+2];ye.children=We}if(D&&D.defaultProps)for(te in ce=D.defaultProps,ce)ye[te]===void 0&&(ye[te]=ce[te]);return M(D,he,void 0,void 0,null,ye)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:p,render:D}},xe.isValidElement=x,xe.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:se}},xe.memo=function(D,X){return{$$typeof:y,type:D,compare:X===void 0?null:X}},xe.startTransition=function(D){var X=_e.T,ae={};_e.T=ae;try{var te=D(),ye=_e.S;ye!==null&&ye(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ce,pe)}catch(he){pe(he)}finally{_e.T=X}},xe.unstable_useCacheRefresh=function(){return _e.H.useCacheRefresh()},xe.use=function(D){return _e.H.use(D)},xe.useActionState=function(D,X,ae){return _e.H.useActionState(D,X,ae)},xe.useCallback=function(D,X){return _e.H.useCallback(D,X)},xe.useContext=function(D){return _e.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,X){return _e.H.useDeferredValue(D,X)},xe.useEffect=function(D,X,ae){var te=_e.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,X)},xe.useId=function(){return _e.H.useId()},xe.useImperativeHandle=function(D,X,ae){return _e.H.useImperativeHandle(D,X,ae)},xe.useInsertionEffect=function(D,X){return _e.H.useInsertionEffect(D,X)},xe.useLayoutEffect=function(D,X){return _e.H.useLayoutEffect(D,X)},xe.useMemo=function(D,X){return _e.H.useMemo(D,X)},xe.useOptimistic=function(D,X){return _e.H.useOptimistic(D,X)},xe.useReducer=function(D,X,ae){return _e.H.useReducer(D,X,ae)},xe.useRef=function(D){return _e.H.useRef(D)},xe.useState=function(D){return _e.H.useState(D)},xe.useSyncExternalStore=function(D,X,ae){return _e.H.useSyncExternalStore(D,X,ae)},xe.useTransition=function(){return _e.H.useTransition()},xe.version="19.1.1",xe}var __;function Hm(){return __||(__=1,$p.exports=yA()),$p.exports}var fe=Hm(),Xp={exports:{}},ru={},Wp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function wA(){return b_||(b_=1,(function(i){function e(G,se){var pe=G.length;G.push(se);e:for(;0<pe;){var Ce=pe-1>>>1,D=G[Ce];if(0<o(D,se))G[Ce]=se,G[pe]=D,pe=Ce;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var se=G[0],pe=G.pop();if(pe!==se){G[0]=pe;e:for(var Ce=0,D=G.length,X=D>>>1;Ce<X;){var ae=2*(Ce+1)-1,te=G[ae],ye=ae+1,he=G[ye];if(0>o(te,pe))ye<D&&0>o(he,te)?(G[Ce]=he,G[ye]=pe,Ce=ye):(G[Ce]=te,G[ae]=pe,Ce=ae);else if(ye<D&&0>o(he,pe))G[Ce]=he,G[ye]=pe,Ce=ye;else break e}}return se}function o(G,se){var pe=G.sortIndex-se.sortIndex;return pe!==0?pe:G.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,R=null,A=3,z=!1,Q=!1,ee=!1,W=!1,le=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Ie(G){for(var se=t(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=G)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=t(y)}}function _e(G){if(ee=!1,Ie(G),!Q)if(t(g)!==null)Q=!0,Me||(Me=!0,P());else{var se=t(y);se!==null&&Xe(_e,se.startTime-G)}}var Me=!1,M=-1,S=5,x=-1;function k(){return W?!0:!(i.unstable_now()-x<S)}function O(){if(W=!1,Me){var G=i.unstable_now();x=G;var se=!0;try{e:{Q=!1,ee&&(ee=!1,re(M),M=-1),z=!0;var pe=A;try{t:{for(Ie(G),R=t(g);R!==null&&!(R.expirationTime>G&&k());){var Ce=R.callback;if(typeof Ce=="function"){R.callback=null,A=R.priorityLevel;var D=Ce(R.expirationTime<=G);if(G=i.unstable_now(),typeof D=="function"){R.callback=D,Ie(G),se=!0;break t}R===t(g)&&s(g),Ie(G)}else s(g);R=t(g)}if(R!==null)se=!0;else{var X=t(y);X!==null&&Xe(_e,X.startTime-G),se=!1}}break e}finally{R=null,A=pe,z=!1}se=void 0}}finally{se?P():Me=!1}}}var P;if(typeof ne=="function")P=function(){ne(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,He=T.port2;T.port1.onmessage=O,P=function(){He.postMessage(null)}}else P=function(){le(O,0)};function Xe(G,se){M=le(function(){G(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(G){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return G()}finally{A=pe}},i.unstable_requestPaint=function(){W=!0},i.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=A;A=G;try{return se()}finally{A=pe}},i.unstable_scheduleCallback=function(G,se,pe){var Ce=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ce+pe:Ce):pe=Ce,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,G={id:_++,callback:se,priorityLevel:G,startTime:pe,expirationTime:D,sortIndex:-1},pe>Ce?(G.sortIndex=pe,e(y,G),t(g)===null&&G===t(y)&&(ee?(re(M),M=-1):ee=!0,Xe(_e,pe-Ce))):(G.sortIndex=D,e(g,G),Q||z||(Q=!0,Me||(Me=!0,P()))),G},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(G){var se=A;return function(){var pe=A;A=se;try{return G.apply(this,arguments)}finally{A=pe}}}})(Zp)),Zp}var E_;function vA(){return E_||(E_=1,Wp.exports=wA()),Wp.exports}var Jp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function _A(){if(T_)return sn;T_=1;var i=Hm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,_){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:g,containerInfo:y,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,_)},sn.flushSync=function(g){var y=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=_,s.d.f()}},sn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},sn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},sn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,R=p(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:A,fetchPriority:z}):_==="script"&&s.d.X(g,{crossOrigin:R,integrity:A,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},sn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},sn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,R=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},sn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},sn.requestFormReset=function(g){s.d.r(g)},sn.unstable_batchedUpdates=function(g,y){return g(y)},sn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.1.1",sn}var A_;function bA(){if(A_)return Jp.exports;A_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jp.exports=_A(),Jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function EA(){if(S_)return ru;S_=1;var i=vA(),e=Hm(),t=bA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),n;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var v=!1,b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,R=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var T=Symbol.for("react.client.reference");function He(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===T?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case W:return"Profiler";case ee:return"StrictMode";case _e:return"Suspense";case Me:return"SuspenseList";case x:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case re:return(n._context.displayName||"Context")+".Consumer";case Ie:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:He(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return He(n(r))}catch{}}return null}var Xe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ce=[],D=-1;function X(n){return{current:n}}function ae(n){0>D||(n.current=Ce[D],Ce[D]=null,D--)}function te(n,r){D++,Ce[D]=n.current,n.current=r}var ye=X(null),he=X(null),ce=X(null),We=X(null);function Ke(n,r){switch(te(ce,r),te(he,n),te(ye,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Gv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Gv(r),n=Qv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(ye),te(ye,n)}function Yt(){ae(ye),ae(he),ae(ce)}function Ut(n){n.memoizedState!==null&&te(We,n);var r=ye.current,a=Qv(r,n.type);r!==a&&(te(he,n),te(ye,a))}function ti(n){he.current===n&&(ae(ye),ae(he)),We.current===n&&(ae(We),Zl._currentValue=pe)}var vs=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,bs=i.unstable_cancelCallback,$o=i.unstable_shouldYield,Xu=i.unstable_requestPaint,zn=i.unstable_now,Yh=i.unstable_getCurrentPriorityLevel,Xo=i.unstable_ImmediatePriority,_a=i.unstable_UserBlockingPriority,Es=i.unstable_NormalPriority,Kh=i.unstable_LowPriority,ba=i.unstable_IdlePriority,Wo=i.log,Wu=i.unstable_setDisableYieldValue,pt=null,Ze=null;function An(n){if(typeof Wo=="function"&&Wu(n),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(pt,n)}catch{}}var nn=Math.clz32?Math.clz32:Ts,Zu=Math.log,$h=Math.LN2;function Ts(n){return n>>>=0,n===0?32:31-(Zu(n)/$h|0)|0}var As=256,Ss=4194304;function ni(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ea(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=ni(l):(v&=b,v!==0?d=ni(v):a||(a=b&~n,a!==0&&(d=ni(a))))):(b=l&~f,b!==0?d=ni(b):v!==0?d=ni(v):a||(a=l&~n,a!==0&&(d=ni(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Rs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Zo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var n=As;return As<<=1,(As&4194048)===0&&(As=256),n}function el(){var n=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),n}function zi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Bi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function tl(n,r,a,l,d,f){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,j=n.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-nn(a),Z=1<<Y;b[Y]=0,I[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var q=B[Y];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&pi(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(v&~r))}function pi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-nn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function nl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-nn(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function Tr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ta(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ar(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:d_(n.type))}function Ju(n,r){var a=se.p;try{return se.p=n,r()}finally{se.p=a}}var ct=Math.random().toString(36).slice(2),kt="__reactFiber$"+ct,St="__reactProps$"+ct,Bn="__reactContainer$"+ct,il="__reactEvents$"+ct,Xh="__reactListeners$"+ct,Sr="__reactHandles$"+ct,ec="__reactResources$"+ct,Is="__reactMarker$"+ct;function Rr(n){delete n[kt],delete n[St],delete n[il],delete n[Xh],delete n[Sr]}function qi(n){var r=n[kt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Bn]||a[kt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Xv(n);n!==null;){if(a=n[kt])return a;n=Xv(n)}return r}n=a,a=n.parentNode}return null}function mi(n){if(n=n[kt]||n[Bn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function gi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function cn(n){var r=n[ec];return r||(r=n[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(n){n[Is]=!0}var rl=new Set,Aa={};function ii(n,r){Hi(n,r),Hi(n+"Capture",r)}function Hi(n,r){for(Aa[n]=r,n=0;n<r.length;n++)rl.add(r[n])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},xs={};function ic(n){return vs.call(xs,n)?!0:vs.call(nc,n)?!1:tc.test(n)?xs[n]=!0:(nc[n]=!0,!1)}function Ir(n,r,a){if(ic(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function yi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Kt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Cs,rc;function Fi(n){if(Cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Cs=r&&r[1]||"",rc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+n+rc}var Sa=!1;function Ra(n,r){if(!n||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var B=q}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(q){B=q}n.call(Z.prototype)}}else{try{throw Error()}catch(q){B=q}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var I=v.split(`
`),j=b.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===j.length)for(l=I.length-1,d=j.length-1;1<=l&&0<=d&&I[l]!==j[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==j[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==j[d]){var Y=`
`+I[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Fi(a):""}function sl(n){switch(n.tag){case 26:case 27:case 5:return Fi(n.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Ra(n.type,!1);case 11:return Ra(n.type.render,!1);case 1:return Ra(n.type,!0);case 31:return Fi("Activity");default:return""}}function Ia(n){try{var r="";do r+=sl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function al(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wh(n){var r=al(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function xa(n){n._valueTracker||(n._valueTracker=Wh(n))}function ol(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=al(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Zh=/[\n"\\]/g;function Rt(n){return n.replace(Zh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sn(n,r,a,l,d,f,v,b){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+dn(r)):n.value!==""+dn(r)&&(n.value=""+dn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?xr(n,v,dn(r)):a!=null?xr(n,v,dn(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+dn(b):n.removeAttribute("name")}function Ns(n,r,a,l,d,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+dn(a):"",r=r!=null?""+dn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function xr(n,r,a){r==="number"&&Ds(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Gi(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function tt(n,r,a){if(r!=null&&(r=""+dn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+dn(a):""}function ks(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Xe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=dn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function qn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Os.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ll(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&sc(n,d,l)}else for(var f in r)r.hasOwnProperty(f)&&sc(n,f,r[f])}function ul(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(n){return ef.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Qi=null;function Hn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yi=null,Ki=null;function cl(n){var r=mi(n);if(r&&(n=r.stateNode)){var a=n[St]||null;e:switch(n=r.stateNode,r.type){case"input":if(Sn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[St]||null;if(!d)throw Error(s(90));Sn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ol(l)}break e;case"textarea":tt(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Gi(n,!!a.multiple,r,!1)}}}var wi=!1;function ac(n,r,a){if(wi)return n(r,a);wi=!0;try{var l=n(r);return l}finally{if(wi=!1,(Yi!==null||Ki!==null)&&(Jc(),Yi&&(r=Yi,n=Ki,Ki=Yi=null,cl(r),n)))for(r=0;r<n.length;r++)cl(n[r])}}function Ms(n,r){var a=n.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ri)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Fn=!1}var vi=null,Cr=null,$i=null;function dl(){if($i)return $i;var n,r=Cr,a=r.length,l,d="value"in vi?vi.value:vi.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===d[f-l];l++);return $i=d.slice(n,1<l?1-l:void 0)}function _i(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function bi(){return!0}function hl(){return!1}function jt(n){function r(a,l,d,f,v){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:hl,this.isPropagationStopped=hl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=jt($e),Ps=_({},$e,{view:0,detail:0}),oc=jt(Ps),Na,ka,Ei,Ls=_({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ei&&(Ei&&n.type==="mousemove"?(Na=n.screenX-Ei.screenX,ka=n.screenY-Ei.screenY):ka=Na=0,Ei=n),Na)},movementY:function(n){return"movementY"in n?n.movementY:ka}}),Gn=jt(Ls),lc=_({},Ls,{dataTransfer:0}),tf=jt(lc),Us=_({},Ps,{relatedTarget:0}),Oa=jt(Us),fl=_({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=jt(fl),uc=_({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Va=jt(uc),nf=_({},$e,{data:0}),pl=jt(nf),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=dc[n])?!!r[n]:!1}function zs(){return ml}var hc=_({},Ps,{key:function(n){if(n.key){var r=js[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_i(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(n){return n.type==="keypress"?_i(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_i(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pa=jt(hc),fc=_({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=jt(fc),Xi=_({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),pc=jt(Xi),mc=_({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),gc=jt(mc),yc=_({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),La=jt(yc),hn=_({},$e,{newState:0,oldState:0}),wc=jt(hn),vc=[9,13,27,32],Ti=ri&&"CompositionEvent"in window,c=null;ri&&"documentMode"in document&&(c=document.documentMode);var m=ri&&"TextEvent"in window&&!c,w=ri&&(!Ti||c&&8<c&&11>=c),E=" ",L=!1;function H(n,r){switch(n){case"keyup":return vc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function Ot(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(L=!0,E);case"textInput":return n=r.data,n===E&&L?null:n;default:return null}}function ze(n,r){if(je)return n==="compositionend"||!Ti&&H(n,r)?(n=dl(),$i=Cr=vi=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return w&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zt[n.type]:r==="textarea"}function Wi(n,r,a,l){Yi?Ki?Ki.push(l):Ki=[l]:Yi=l,r=sd(r,"onChange"),0<r.length&&(a=new Da("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var $t=null,Ai=null;function yl(n){zv(n,0)}function _c(n){var r=gi(n);if(ol(r))return n}function oy(n,r){if(n==="change")return r}var ly=!1;if(ri){var rf;if(ri){var sf="oninput"in document;if(!sf){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),sf=typeof uy.oninput=="function"}rf=sf}else rf=!1;ly=rf&&(!document.documentMode||9<document.documentMode)}function cy(){$t&&($t.detachEvent("onpropertychange",dy),Ai=$t=null)}function dy(n){if(n.propertyName==="value"&&_c(Ai)){var r=[];Wi(r,Ai,n,Hn(n)),ac(yl,r)}}function G2(n,r,a){n==="focusin"?(cy(),$t=r,Ai=a,$t.attachEvent("onpropertychange",dy)):n==="focusout"&&cy()}function Q2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _c(Ai)}function Y2(n,r){if(n==="click")return _c(r)}function K2(n,r){if(n==="input"||n==="change")return _c(r)}function $2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:$2;function wl(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!vs.call(r,d)||!Rn(n[d],r[d]))return!1}return!0}function hy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fy(n,r){var a=hy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hy(a)}}function py(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?py(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function my(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ds(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ds(n.document)}return r}function af(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var X2=ri&&"documentMode"in document&&11>=document.documentMode,Ua=null,of=null,vl=null,lf=!1;function gy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Ua==null||Ua!==Ds(l)||(l=Ua,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&wl(vl,l)||(vl=l,l=sd(of,"onSelect"),0<l.length&&(r=new Da("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ua)))}function Bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var ja={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},uf={},yy={};ri&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qs(n){if(uf[n])return uf[n];if(!ja[n])return n;var r=ja[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in yy)return uf[n]=r[a];return n}var wy=qs("animationend"),vy=qs("animationiteration"),_y=qs("animationstart"),W2=qs("transitionrun"),Z2=qs("transitionstart"),J2=qs("transitioncancel"),by=qs("transitionend"),Ey=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function si(n,r){Ey.set(n,r),ii(r,[n])}var Ty=new WeakMap;function Qn(n,r){if(typeof n=="object"&&n!==null){var a=Ty.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ia(r)},Ty.set(n,r),r)}return{value:n,source:r,stack:Ia(r)}}var Yn=[],za=0,df=0;function bc(){for(var n=za,r=df=za=0;r<n;){var a=Yn[r];Yn[r++]=null;var l=Yn[r];Yn[r++]=null;var d=Yn[r];Yn[r++]=null;var f=Yn[r];if(Yn[r++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&Ay(a,d,f)}}function Ec(n,r,a,l){Yn[za++]=n,Yn[za++]=r,Yn[za++]=a,Yn[za++]=l,df|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function hf(n,r,a,l){return Ec(n,r,a,l),Tc(n)}function Ba(n,r){return Ec(n,null,null,r),Tc(n)}function Ay(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&r!==null&&(d=31-nn(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function Tc(n){if(50<Fl)throw Fl=0,wp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var qa={};function e1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,r,a,l){return new e1(n,r,a,l)}function ff(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zi(n,r){var a=n.alternate;return a===null?(a=In(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Sy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ac(n,r,a,l,d,f){var v=0;if(l=n,typeof n=="function")ff(n)&&(v=1);else if(typeof n=="string")v=nA(n,a,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case x:return n=In(31,a,r,d),n.elementType=x,n.lanes=f,n;case Q:return Hs(a.children,d,f,r);case ee:v=8,d|=24;break;case W:return n=In(12,a,r,d|2),n.elementType=W,n.lanes=f,n;case _e:return n=In(13,a,r,d),n.elementType=_e,n.lanes=f,n;case Me:return n=In(19,a,r,d),n.elementType=Me,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case le:case ne:v=10;break e;case re:v=9;break e;case Ie:v=11;break e;case M:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=In(v,a,r,d),r.elementType=n,r.type=l,r.lanes=f,r}function Hs(n,r,a,l){return n=In(7,n,l,r),n.lanes=a,n}function pf(n,r,a){return n=In(6,n,null,r),n.lanes=a,n}function mf(n,r,a){return r=In(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ha=[],Fa=0,Sc=null,Rc=0,Kn=[],$n=0,Fs=null,Ji=1,er="";function Gs(n,r){Ha[Fa++]=Rc,Ha[Fa++]=Sc,Sc=n,Rc=r}function Ry(n,r,a){Kn[$n++]=Ji,Kn[$n++]=er,Kn[$n++]=Fs,Fs=n;var l=Ji;n=er;var d=32-nn(l)-1;l&=~(1<<d),a+=1;var f=32-nn(r)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Ji=1<<32-nn(r)+d|a<<d|l,er=f+n}else Ji=1<<f|a<<d|l,er=n}function gf(n){n.return!==null&&(Gs(n,1),Ry(n,1,0))}function yf(n){for(;n===Sc;)Sc=Ha[--Fa],Ha[Fa]=null,Rc=Ha[--Fa],Ha[Fa]=null;for(;n===Fs;)Fs=Kn[--$n],Kn[$n]=null,er=Kn[--$n],Kn[$n]=null,Ji=Kn[--$n],Kn[$n]=null}var fn=null,mt=null,Qe=!1,Qs=null,Si=!1,wf=Error(s(519));function Ys(n){var r=Error(s(418,""));throw El(Qn(r,n)),wf}function Iy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[kt]=n,r[St]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Oe(Ql[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ks(r,l.value,l.defaultValue,l.children),xa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Fv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=ad),r=!0):r=!1,r||Ys(n)}function xy(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:fn=fn.return}}function _l(n){if(n!==fn)return!1;if(!Qe)return xy(n),Qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Mp(n.type,n.memoizedProps)),a=!a),a&&mt&&Ys(n),xy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){mt=oi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}mt=null}}else r===27?(r=mt,Gr(n.type)?(n=Up,Up=null,mt=n):mt=r):mt=fn?oi(n.stateNode.nextSibling):null;return!0}function bl(){mt=fn=null,Qe=!1}function Cy(){var n=Qs;return n!==null&&(_n===null?_n=n:_n.push.apply(_n,n),Qs=null),n}function El(n){Qs===null?Qs=[n]:Qs.push(n)}var vf=X(null),Ks=null,tr=null;function Dr(n,r,a){te(vf,r._currentValue),r._currentValue=a}function nr(n){n._currentValue=vf.current,ae(vf)}function _f(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function bf(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var I=0;I<r.length;I++)if(b.context===r[I]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),_f(f.return,a,n),l||(v=null);break e}f=b.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),_f(v,a,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Tl(n,r,a,l){n=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=d.type;Rn(d.pendingProps.value,v.value)||(n!==null?n.push(b):n=[b])}}else if(d===We.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Zl):n=[Zl])}d=d.return}n!==null&&bf(r,n,a,l),r.flags|=262144}function Ic(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function $s(n){Ks=n,tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return Dy(Ks,n)}function xc(n,r){return Ks===null&&$s(n),Dy(n,r)}function Dy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},tr===null){if(n===null)throw Error(s(308));tr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else tr=tr.next=r;return a}var t1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},n1=i.unstable_scheduleCallback,i1=i.unstable_NormalPriority,Vt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new t1,data:new Map,refCount:0}}function Al(n){n.refCount--,n.refCount===0&&n1(i1,function(){n.controller.abort()})}var Sl=null,Tf=0,Ga=0,Qa=null;function r1(n,r){if(Sl===null){var a=Sl=[];Tf=0,Ga=Sp(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Tf++,r.then(Ny,Ny),r}function Ny(){if(--Tf===0&&Sl!==null){Qa!==null&&(Qa.status="fulfilled");var n=Sl;Sl=null,Ga=0,Qa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function s1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var ky=G.S;G.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&r1(n,r),ky!==null&&ky(n,r)};var Xs=X(null);function Af(){var n=Xs.current;return n!==null?n:ot.pooledCache}function Cc(n,r){r===null?te(Xs,Xs.current):te(Xs,r.pool)}function Oy(){var n=Af();return n===null?null:{parent:Vt._currentValue,pool:n}}var Rl=Error(s(460)),My=Error(s(474)),Dc=Error(s(542)),Sf={then:function(){}};function Vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Nc(){}function Py(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Nc,Nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Uy(n),n;default:if(typeof r.status=="string")r.then(Nc,Nc);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Uy(n),n}throw Il=r,Rl}}var Il=null;function Ly(){if(Il===null)throw Error(s(459));var n=Il;return Il=null,n}function Uy(n){if(n===Rl||n===Dc)throw Error(s(483))}var Nr=!1;function Rf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Or(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Tc(n),Ay(n,null,a),r}return Ec(n,l,r,a),Tc(n)}function xl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,nl(n,a)}}function xf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Cf=!1;function Cl(){if(Cf){var n=Qa;if(n!==null)throw n}}function Dl(n,r,a,l){Cf=!1;var d=n.updateQueue;Nr=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var I=b,j=I.next;I.next=null,v===null?f=j:v.next=j,v=I;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==v&&(b===null?Y.firstBaseUpdate=j:b.next=j,Y.lastBaseUpdate=I))}if(f!==null){var Z=d.baseState;v=0,Y=j=I=null,b=f;do{var B=b.lane&-536870913,q=B!==b.lane;if(q?(Be&B)===B:(l&B)===B){B!==0&&B===Ga&&(Cf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=n,be=b;B=r;var rt=a;switch(be.tag){case 1:if(Se=be.payload,typeof Se=="function"){Z=Se.call(rt,Z,B);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,B=typeof Se=="function"?Se.call(rt,Z,B):Se,B==null)break e;Z=_({},Z,B);break e;case 2:Nr=!0}}B=b.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=d.callbacks,q===null?d.callbacks=[B]:q.push(B))}else q={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(j=Y=q,I=Z):Y=Y.next=q,v|=B;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;q=b,b=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);Y===null&&(I=Z),d.baseState=I,d.firstBaseUpdate=j,d.lastBaseUpdate=Y,f===null&&(d.shared.lanes=0),Br|=v,n.lanes=v,n.memoizedState=Z}}function jy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function zy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)jy(a[n],r)}var Ya=X(null),kc=X(0);function By(n,r){n=ur,te(kc,n),te(Ya,r),ur=n|r.baseLanes}function Df(){te(kc,ur),te(Ya,Ya.current)}function Nf(){ur=kc.current,ae(Ya),ae(kc)}var Mr=0,De=null,nt=null,It=null,Oc=!1,Ka=!1,Ws=!1,Mc=0,Nl=0,$a=null,a1=0;function vt(){throw Error(s(321))}function kf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Rn(n[a],r[a]))return!1;return!0}function Of(n,r,a,l,d,f){return Mr=f,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?Aw:Sw,Ws=!1,f=a(l,d),Ws=!1,Ka&&(f=Hy(r,a,l,d)),qy(n),f}function qy(n){G.H=zc;var r=nt!==null&&nt.next!==null;if(Mr=0,It=nt=De=null,Oc=!1,Nl=0,$a=null,r)throw Error(s(300));n===null||Bt||(n=n.dependencies,n!==null&&Ic(n)&&(Bt=!0))}function Hy(n,r,a,l){De=n;var d=0;do{if(Ka&&($a=null),Nl=0,Ka=!1,25<=d)throw Error(s(301));if(d+=1,It=nt=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=f1,f=r(a,l)}while(Ka);return f}function o1(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?kl(r):r,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(De.flags|=1024),r}function Mf(){var n=Mc!==0;return Mc=0,n}function Vf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Pf(n){if(Oc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Oc=!1}Mr=0,It=nt=De=null,Ka=!1,Nl=Mc=0,$a=null}function wn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?De.memoizedState=It=n:It=It.next=n,It}function xt(){if(nt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=It===null?De.memoizedState:It.next;if(r!==null)It=r,nt=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?De.memoizedState=It=n:It=It.next=n}return It}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(n){var r=Nl;return Nl+=1,$a===null&&($a=[]),n=Py($a,n,r),r=De,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?Aw:Sw),n}function Vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return kl(n);if(n.$$typeof===ne)return rn(n)}throw Error(s(438,String(n)))}function Uf(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lf(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=k;return r.index++,a}function ir(n,r){return typeof r=="function"?r(n):r}function Pc(n){var r=xt();return jf(r,nt,n)}function jf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{r=d.next;var b=v=null,I=null,j=r,Y=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Be&Z)===Z:(Mr&Z)===Z){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ga&&(Y=!0);else if((Mr&B)===B){j=j.next,B===Ga&&(Y=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(b=I=Z,v=f):I=I.next=Z,De.lanes|=B,Br|=B;Z=j.action,Ws&&a(f,Z),f=j.hasEagerState?j.eagerState:a(f,Z)}else B={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(b=I=B,v=f):I=I.next=B,De.lanes|=Z,Br|=Z;j=j.next}while(j!==null&&j!==r);if(I===null?v=f:I.next=b,!Rn(f,n.memoizedState)&&(Bt=!0,Y&&(a=Qa,a!==null)))throw a;n.memoizedState=f,n.baseState=v,n.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function zf(n){var r=xt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=n(f,v.action),v=v.next;while(v!==d);Rn(f,r.memoizedState)||(Bt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Fy(n,r,a){var l=De,d=xt(),f=Qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Rn((nt||d).memoizedState,a);v&&(d.memoizedState=a,Bt=!0),d=d.queue;var b=Yy.bind(null,l,d,n);if(Ol(2048,8,b,[n]),d.getSnapshot!==r||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Xa(9,Lc(),Qy.bind(null,l,d,a,r),null),ot===null)throw Error(s(349));f||(Mr&124)!==0||Gy(l,r,a)}return a}function Gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Lf(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Qy(n,r,a,l){r.value=a,r.getSnapshot=l,Ky(r)&&$y(n)}function Yy(n,r,a){return a(function(){Ky(r)&&$y(n)})}function Ky(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Rn(n,a)}catch{return!0}}function $y(n){var r=Ba(n,2);r!==null&&kn(r,n,2)}function Bf(n){var r=wn();if(typeof n=="function"){var a=n;if(n=a(),Ws){An(!0);try{a()}finally{An(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},r}function Xy(n,r,a,l){return n.baseState=a,jf(n,nt,typeof l=="function"?l:ir)}function l1(n,r,a,l,d){if(jc(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Wy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Wy(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var f=G.T,v={};G.T=v;try{var b=a(d,l),I=G.S;I!==null&&I(v,b),Zy(n,r,b)}catch(j){qf(n,r,j)}finally{G.T=f}}else try{f=a(d,l),Zy(n,r,f)}catch(j){qf(n,r,j)}}function Zy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jy(n,r,l)},function(l){return qf(n,r,l)}):Jy(n,r,a)}function Jy(n,r,a){r.status="fulfilled",r.value=a,ew(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Wy(n,a)))}function qf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ew(r),r=r.next;while(r!==l)}n.action=null}function ew(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function tw(n,r){return r}function nw(n,r){if(Qe){var a=ot.formState;if(a!==null){e:{var l=De;if(Qe){if(mt){t:{for(var d=mt,f=Si;d.nodeType!==8;){if(!f){d=null;break t}if(d=oi(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){mt=oi(d.nextSibling),l=d.data==="F!";break e}}Ys(l)}l=!1}l&&(r=a[0])}}return a=wn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tw,lastRenderedState:r},a.queue=l,a=bw.bind(null,De,l),l.dispatch=a,l=Bf(!1),f=Yf.bind(null,De,!1,l.queue),l=wn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=l1.bind(null,De,d,f,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function iw(n){var r=xt();return rw(r,nt,n)}function rw(n,r,a){if(r=jf(n,r,tw)[0],n=Pc(ir)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=kl(r)}catch(v){throw v===Rl?Dc:v}else l=r;r=xt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Xa(9,Lc(),u1.bind(null,d,a),null)),[l,f,n]}function u1(n,r){n.action=r}function sw(n){var r=xt(),a=nt;if(a!==null)return rw(r,a,n);xt(),r=r.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Xa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Lf(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Lc(){return{destroy:void 0,resource:void 0}}function aw(){return xt().memoizedState}function Uc(n,r,a,l){var d=wn();l=l===void 0?null:l,De.flags|=n,d.memoizedState=Xa(1|r,Lc(),a,l)}function Ol(n,r,a,l){var d=xt();l=l===void 0?null:l;var f=d.memoizedState.inst;nt!==null&&l!==null&&kf(l,nt.memoizedState.deps)?d.memoizedState=Xa(r,f,a,l):(De.flags|=n,d.memoizedState=Xa(1|r,f,a,l))}function ow(n,r){Uc(8390656,8,n,r)}function lw(n,r){Ol(2048,8,n,r)}function uw(n,r){return Ol(4,2,n,r)}function cw(n,r){return Ol(4,4,n,r)}function dw(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function hw(n,r,a){a=a!=null?a.concat([n]):null,Ol(4,4,dw.bind(null,r,n),a)}function Hf(){}function fw(n,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&kf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function pw(n,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&kf(r,l[1]))return l[0];if(l=n(),Ws){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,r],l}function Ff(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=yv(),De.lanes|=n,Br|=n,a)}function mw(n,r,a,l){return Rn(a,r)?a:Ya.current!==null?(n=Ff(n,a,l),Rn(n,r)||(Bt=!0),n):(Mr&42)===0?(Bt=!0,n.memoizedState=a):(n=yv(),De.lanes|=n,Br|=n,r)}function gw(n,r,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var v=G.T,b={};G.T=b,Yf(n,!1,r,a);try{var I=d(),j=G.S;if(j!==null&&j(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=s1(I,l);Ml(n,r,Y,Nn(n))}else Ml(n,r,l,Nn(n))}catch(Z){Ml(n,r,{then:function(){},status:"rejected",reason:Z},Nn())}finally{se.p=f,G.T=v}}function c1(){}function Gf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=yw(n).queue;gw(n,d,r,pe,a===null?c1:function(){return ww(n),a(l)})}function yw(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function ww(n){var r=yw(n).next.queue;Ml(n,r,{},Nn())}function Qf(){return rn(Zl)}function vw(){return xt().memoizedState}function _w(){return xt().memoizedState}function d1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();n=kr(a);var l=Or(r,n,a);l!==null&&(kn(l,r,a),xl(l,r,a)),r={cache:Ef()},n.payload=r;return}r=r.return}}function h1(n,r,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jc(n)?Ew(r,a):(a=hf(n,r,a,l),a!==null&&(kn(a,n,l),Tw(a,r,l)))}function bw(n,r,a){var l=Nn();Ml(n,r,a,l)}function Ml(n,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(n))Ew(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,b=f(v,a);if(d.hasEagerState=!0,d.eagerState=b,Rn(b,v))return Ec(n,r,d,0),ot===null&&bc(),!1}catch{}finally{}if(a=hf(n,r,d,l),a!==null)return kn(a,n,l),Tw(a,r,l),!0}return!1}function Yf(n,r,a,l){if(l={lane:2,revertLane:Sp(),action:l,hasEagerState:!1,eagerState:null,next:null},jc(n)){if(r)throw Error(s(479))}else r=hf(n,a,l,2),r!==null&&kn(r,n,2)}function jc(n){var r=n.alternate;return n===De||r!==null&&r===De}function Ew(n,r){Ka=Oc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Tw(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,nl(n,a)}}var zc={readContext:rn,use:Vc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Aw={readContext:rn,use:Vc,useCallback:function(n,r){return wn().memoizedState=[n,r===void 0?null:r],n},useContext:rn,useEffect:ow,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Uc(4194308,4,dw.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Uc(4194308,4,n,r)},useInsertionEffect:function(n,r){Uc(4,2,n,r)},useMemo:function(n,r){var a=wn();r=r===void 0?null:r;var l=n();if(Ws){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=wn();if(a!==void 0){var d=a(r);if(Ws){An(!0);try{a(r)}finally{An(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=h1.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=wn();return n={current:n},r.memoizedState=n},useState:function(n){n=Bf(n);var r=n.queue,a=bw.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(n,r){var a=wn();return Ff(a,n,r)},useTransition:function(){var n=Bf(!1);return n=gw.bind(null,De,n.queue,!0,!1),wn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,d=wn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Be&124)!==0||Gy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,ow(Yy.bind(null,l,f,n),[n]),l.flags|=2048,Xa(9,Lc(),Qy.bind(null,l,f,a,r),null),a},useId:function(){var n=wn(),r=ot.identifierPrefix;if(Qe){var a=er,l=Ji;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=a1++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Qf,useFormState:nw,useActionState:nw,useOptimistic:function(n){var r=wn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Yf.bind(null,De,!0,a),a.dispatch=r,[n,r]},useMemoCache:Uf,useCacheRefresh:function(){return wn().memoizedState=d1.bind(null,De)}},Sw={readContext:rn,use:Vc,useCallback:fw,useContext:rn,useEffect:lw,useImperativeHandle:hw,useInsertionEffect:uw,useLayoutEffect:cw,useMemo:pw,useReducer:Pc,useRef:aw,useState:function(){return Pc(ir)},useDebugValue:Hf,useDeferredValue:function(n,r){var a=xt();return mw(a,nt.memoizedState,n,r)},useTransition:function(){var n=Pc(ir)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:kl(n),r]},useSyncExternalStore:Fy,useId:vw,useHostTransitionStatus:Qf,useFormState:iw,useActionState:iw,useOptimistic:function(n,r){var a=xt();return Xy(a,nt,n,r)},useMemoCache:Uf,useCacheRefresh:_w},f1={readContext:rn,use:Vc,useCallback:fw,useContext:rn,useEffect:lw,useImperativeHandle:hw,useInsertionEffect:uw,useLayoutEffect:cw,useMemo:pw,useReducer:zf,useRef:aw,useState:function(){return zf(ir)},useDebugValue:Hf,useDeferredValue:function(n,r){var a=xt();return nt===null?Ff(a,n,r):mw(a,nt.memoizedState,n,r)},useTransition:function(){var n=zf(ir)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:kl(n),r]},useSyncExternalStore:Fy,useId:vw,useHostTransitionStatus:Qf,useFormState:sw,useActionState:sw,useOptimistic:function(n,r){var a=xt();return nt!==null?Xy(a,nt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:_w},Wa=null,Vl=0;function Bc(n){var r=Vl;return Vl+=1,Wa===null&&(Wa=[]),Py(Wa,n,r)}function Pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function qc(n,r){throw r.$$typeof===R?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Rw(n){var r=n._init;return r(n._payload)}function Iw(n){function r(V,N){if(n){var U=V.deletions;U===null?(V.deletions=[N],V.flags|=16):U.push(N)}}function a(V,N){if(!n)return null;for(;N!==null;)r(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function d(V,N){return V=Zi(V,N),V.index=0,V.sibling=null,V}function f(V,N,U){return V.index=U,n?(U=V.alternate,U!==null?(U=U.index,U<N?(V.flags|=67108866,N):U):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function v(V){return n&&V.alternate===null&&(V.flags|=67108866),V}function b(V,N,U,$){return N===null||N.tag!==6?(N=pf(U,V.mode,$),N.return=V,N):(N=d(N,U),N.return=V,N)}function I(V,N,U,$){var de=U.type;return de===Q?Y(V,N,U.props.children,$,U.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Rw(de)===N.type)?(N=d(N,U.props),Pl(N,U),N.return=V,N):(N=Ac(U.type,U.key,U.props,null,V.mode,$),Pl(N,U),N.return=V,N)}function j(V,N,U,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=mf(U,V.mode,$),N.return=V,N):(N=d(N,U.children||[]),N.return=V,N)}function Y(V,N,U,$,de){return N===null||N.tag!==7?(N=Hs(U,V.mode,$,de),N.return=V,N):(N=d(N,U),N.return=V,N)}function Z(V,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=pf(""+N,V.mode,U),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return U=Ac(N.type,N.key,N.props,null,V.mode,U),Pl(U,N),U.return=V,U;case z:return N=mf(N,V.mode,U),N.return=V,N;case S:var $=N._init;return N=$(N._payload),Z(V,N,U)}if(Xe(N)||P(N))return N=Hs(N,V.mode,U,null),N.return=V,N;if(typeof N.then=="function")return Z(V,Bc(N),U);if(N.$$typeof===ne)return Z(V,xc(V,N),U);qc(V,N)}return null}function B(V,N,U,$){var de=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:b(V,N,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===de?I(V,N,U,$):null;case z:return U.key===de?j(V,N,U,$):null;case S:return de=U._init,U=de(U._payload),B(V,N,U,$)}if(Xe(U)||P(U))return de!==null?null:Y(V,N,U,$,null);if(typeof U.then=="function")return B(V,N,Bc(U),$);if(U.$$typeof===ne)return B(V,N,xc(V,U),$);qc(V,U)}return null}function q(V,N,U,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return V=V.get(U)||null,b(N,V,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return V=V.get($.key===null?U:$.key)||null,I(N,V,$,de);case z:return V=V.get($.key===null?U:$.key)||null,j(N,V,$,de);case S:var Ne=$._init;return $=Ne($._payload),q(V,N,U,$,de)}if(Xe($)||P($))return V=V.get(U)||null,Y(N,V,$,de,null);if(typeof $.then=="function")return q(V,N,U,Bc($),de);if($.$$typeof===ne)return q(V,N,U,xc(N,$),de);qc(N,$)}return null}function Se(V,N,U,$){for(var de=null,Ne=null,me=N,Ee=N=0,Ht=null;me!==null&&Ee<U.length;Ee++){me.index>Ee?(Ht=me,me=null):Ht=me.sibling;var Fe=B(V,me,U[Ee],$);if(Fe===null){me===null&&(me=Ht);break}n&&me&&Fe.alternate===null&&r(V,me),N=f(Fe,N,Ee),Ne===null?de=Fe:Ne.sibling=Fe,Ne=Fe,me=Ht}if(Ee===U.length)return a(V,me),Qe&&Gs(V,Ee),de;if(me===null){for(;Ee<U.length;Ee++)me=Z(V,U[Ee],$),me!==null&&(N=f(me,N,Ee),Ne===null?de=me:Ne.sibling=me,Ne=me);return Qe&&Gs(V,Ee),de}for(me=l(me);Ee<U.length;Ee++)Ht=q(me,V,Ee,U[Ee],$),Ht!==null&&(n&&Ht.alternate!==null&&me.delete(Ht.key===null?Ee:Ht.key),N=f(Ht,N,Ee),Ne===null?de=Ht:Ne.sibling=Ht,Ne=Ht);return n&&me.forEach(function(Xr){return r(V,Xr)}),Qe&&Gs(V,Ee),de}function be(V,N,U,$){if(U==null)throw Error(s(151));for(var de=null,Ne=null,me=N,Ee=N=0,Ht=null,Fe=U.next();me!==null&&!Fe.done;Ee++,Fe=U.next()){me.index>Ee?(Ht=me,me=null):Ht=me.sibling;var Xr=B(V,me,Fe.value,$);if(Xr===null){me===null&&(me=Ht);break}n&&me&&Xr.alternate===null&&r(V,me),N=f(Xr,N,Ee),Ne===null?de=Xr:Ne.sibling=Xr,Ne=Xr,me=Ht}if(Fe.done)return a(V,me),Qe&&Gs(V,Ee),de;if(me===null){for(;!Fe.done;Ee++,Fe=U.next())Fe=Z(V,Fe.value,$),Fe!==null&&(N=f(Fe,N,Ee),Ne===null?de=Fe:Ne.sibling=Fe,Ne=Fe);return Qe&&Gs(V,Ee),de}for(me=l(me);!Fe.done;Ee++,Fe=U.next())Fe=q(me,V,Ee,Fe.value,$),Fe!==null&&(n&&Fe.alternate!==null&&me.delete(Fe.key===null?Ee:Fe.key),N=f(Fe,N,Ee),Ne===null?de=Fe:Ne.sibling=Fe,Ne=Fe);return n&&me.forEach(function(pA){return r(V,pA)}),Qe&&Gs(V,Ee),de}function rt(V,N,U,$){if(typeof U=="object"&&U!==null&&U.type===Q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var de=U.key;N!==null;){if(N.key===de){if(de=U.type,de===Q){if(N.tag===7){a(V,N.sibling),$=d(N,U.props.children),$.return=V,V=$;break e}}else if(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Rw(de)===N.type){a(V,N.sibling),$=d(N,U.props),Pl($,U),$.return=V,V=$;break e}a(V,N);break}else r(V,N);N=N.sibling}U.type===Q?($=Hs(U.props.children,V.mode,$,U.key),$.return=V,V=$):($=Ac(U.type,U.key,U.props,null,V.mode,$),Pl($,U),$.return=V,V=$)}return v(V);case z:e:{for(de=U.key;N!==null;){if(N.key===de)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(V,N.sibling),$=d(N,U.children||[]),$.return=V,V=$;break e}else{a(V,N);break}else r(V,N);N=N.sibling}$=mf(U,V.mode,$),$.return=V,V=$}return v(V);case S:return de=U._init,U=de(U._payload),rt(V,N,U,$)}if(Xe(U))return Se(V,N,U,$);if(P(U)){if(de=P(U),typeof de!="function")throw Error(s(150));return U=de.call(U),be(V,N,U,$)}if(typeof U.then=="function")return rt(V,N,Bc(U),$);if(U.$$typeof===ne)return rt(V,N,xc(V,U),$);qc(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(V,N.sibling),$=d(N,U),$.return=V,V=$):(a(V,N),$=pf(U,V.mode,$),$.return=V,V=$),v(V)):a(V,N)}return function(V,N,U,$){try{Vl=0;var de=rt(V,N,U,$);return Wa=null,de}catch(me){if(me===Rl||me===Dc)throw me;var Ne=In(29,me,null,V.mode);return Ne.lanes=$,Ne.return=V,Ne}finally{}}}var Za=Iw(!0),xw=Iw(!1),Xn=X(null),Ri=null;function Vr(n){var r=n.alternate;te(Pt,Pt.current&1),te(Xn,n),Ri===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Ri=n)}function Cw(n){if(n.tag===22){if(te(Pt,Pt.current),te(Xn,n),Ri===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ri=n)}}else Pr()}function Pr(){te(Pt,Pt.current),te(Xn,Xn.current)}function rr(n){ae(Xn),Ri===n&&(Ri=null),ae(Pt)}var Pt=X(0);function Hc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Lp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Kf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $f={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Nn(),d=kr(l);d.payload=r,a!=null&&(d.callback=a),r=Or(n,d,l),r!==null&&(kn(r,n,l),xl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Nn(),d=kr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Or(n,d,l),r!==null&&(kn(r,n,l),xl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Nn(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Or(n,l,a),r!==null&&(kn(r,n,a),xl(r,n,a))}};function Dw(n,r,a,l,d,f,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!wl(a,l)||!wl(d,f):!0}function Nw(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&$f.enqueueReplaceState(r,r.state,null)}function Zs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function kw(n){Fc(n)}function Ow(n){console.error(n)}function Mw(n){Fc(n)}function Gc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Vw(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Xf(n,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,r)},a}function Pw(n){return n=kr(n),n.tag=3,n}function Lw(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){Vw(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Vw(r,a,l),typeof d!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function p1(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Tl(r,a,d,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return Ri===null?_p():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Sf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ep(n,l,d)),!1;case 22:return a.flags|=65536,l===Sf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ep(n,l,d)),!1}throw Error(s(435,a.tag))}return Ep(n,l,d),_p(),!1}if(Qe)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==wf&&(n=Error(s(422),{cause:l}),El(Qn(n,a)))):(l!==wf&&(r=Error(s(423),{cause:l}),El(Qn(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Qn(l,a),d=Xf(n.stateNode,l,d),xf(n,d),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=Qn(f,a),Hl===null?Hl=[f]:Hl.push(f),gt!==4&&(gt=2),r===null)return!0;l=Qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Xf(a.stateNode,l,n),xf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Pw(d),Lw(d,n,a,l),xf(a,d),!1}a=a.return}while(a!==null);return!1}var Uw=Error(s(461)),Bt=!1;function Xt(n,r,a,l){r.child=n===null?xw(r,null,a,l):Za(r,n.child,a,l)}function jw(n,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return $s(r),l=Of(n,r,a,v,f,d),b=Mf(),n!==null&&!Bt?(Vf(n,r,d),sr(n,r,d)):(Qe&&b&&gf(r),r.flags|=1,Xt(n,r,l,d),r.child)}function zw(n,r,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!ff(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Bw(n,r,f,l,d)):(n=Ac(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!rp(n,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(v,l)&&n.ref===r.ref)return sr(n,r,d)}return r.flags|=1,n=Zi(f,l),n.ref=r.ref,n.return=r,r.child=n}function Bw(n,r,a,l,d){if(n!==null){var f=n.memoizedProps;if(wl(f,l)&&n.ref===r.ref)if(Bt=!1,r.pendingProps=l=f,rp(n,d))(n.flags&131072)!==0&&(Bt=!0);else return r.lanes=n.lanes,sr(n,r,d)}return Wf(n,r,a,l,d)}function qw(n,r,a){var l=r.pendingProps,d=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(d=r.child=n.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Hw(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Cc(r,f!==null?f.cachePool:null),f!==null?By(r,f):Df(),Cw(r);else return r.lanes=r.childLanes=536870912,Hw(n,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(Cc(r,f.cachePool),By(r,f),Pr(),r.memoizedState=null):(n!==null&&Cc(r,null),Df(),Pr());return Xt(n,r,d,a),r.child}function Hw(n,r,a,l){var d=Af();return d=d===null?null:{parent:Vt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Cc(r,null),Df(),Cw(r),n!==null&&Tl(n,r,l,!0),null}function Qc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Wf(n,r,a,l,d){return $s(r),a=Of(n,r,a,l,void 0,d),l=Mf(),n!==null&&!Bt?(Vf(n,r,d),sr(n,r,d)):(Qe&&l&&gf(r),r.flags|=1,Xt(n,r,a,d),r.child)}function Fw(n,r,a,l,d,f){return $s(r),r.updateQueue=null,a=Hy(r,l,a,d),qy(n),l=Mf(),n!==null&&!Bt?(Vf(n,r,f),sr(n,r,f)):(Qe&&l&&gf(r),r.flags|=1,Xt(n,r,a,f),r.child)}function Gw(n,r,a,l,d){if($s(r),r.stateNode===null){var f=qa,v=a.contextType;typeof v=="object"&&v!==null&&(f=rn(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$f,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Rf(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?rn(v):qa,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&$f.enqueueReplaceState(f,f.state,null),Dl(r,l,f,d),Cl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var b=r.memoizedProps,I=Zs(a,b);f.props=I;var j=f.context,Y=a.contextType;v=qa,typeof Y=="object"&&Y!==null&&(v=rn(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||j!==v)&&Nw(r,f,l,v),Nr=!1;var B=r.memoizedState;f.state=B,Dl(r,l,f,d),Cl(),j=r.memoizedState,b||B!==j||Nr?(typeof Z=="function"&&(Kf(r,a,Z,l),j=r.memoizedState),(I=Nr||Dw(r,a,I,l,B,j,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),f.props=l,f.state=j,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,If(n,r),v=r.memoizedProps,Y=Zs(a,v),f.props=Y,Z=r.pendingProps,B=f.context,j=a.contextType,I=qa,typeof j=="object"&&j!==null&&(I=rn(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||B!==I)&&Nw(r,f,l,I),Nr=!1,B=r.memoizedState,f.state=B,Dl(r,l,f,d),Cl();var q=r.memoizedState;v!==Z||B!==q||Nr||n!==null&&n.dependencies!==null&&Ic(n.dependencies)?(typeof b=="function"&&(Kf(r,a,b,l),q=r.memoizedState),(Y=Nr||Dw(r,a,Y,l,B,q,I)||n!==null&&n.dependencies!==null&&Ic(n.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=I,l=Y):(typeof f.componentDidUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,Qc(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=Za(r,n.child,null,d),r.child=Za(r,null,a,d)):Xt(n,r,a,d),r.memoizedState=f.state,n=r.child):n=sr(n,r,d),n}function Qw(n,r,a,l){return bl(),r.flags|=256,Xt(n,r,a,l),r.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(n){return{baseLanes:n,cachePool:Oy()}}function ep(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Wn),n}function Yw(n,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Qe){if(d?Vr(r):Pr(),Qe){var b=mt,I;if(I=b){e:{for(I=b,b=Si;I.nodeType!==8;){if(!b){b=null;break e}if(I=oi(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Fs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},I=In(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,fn=r,mt=null,I=!0):I=!1}I||Ys(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Lp(b)?r.lanes=32:r.lanes=536870912,null;rr(r)}return b=l.children,l=l.fallback,d?(Pr(),d=r.mode,b=Yc({mode:"hidden",children:b},d),l=Hs(l,d,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,d=r.child,d.memoizedState=Jf(a),d.childLanes=ep(n,v,a),r.memoizedState=Zf,l):(Vr(r),tp(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(f)r.flags&256?(Vr(r),r.flags&=-257,r=np(n,r,a)):r.memoizedState!==null?(Pr(),r.child=n.child,r.flags|=128,r=null):(Pr(),d=l.fallback,b=r.mode,l=Yc({mode:"visible",children:l.children},b),d=Hs(d,b,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,Za(r,n.child,null,a),l=r.child,l.memoizedState=Jf(a),l.childLanes=ep(n,v,a),r.memoizedState=Zf,r=d);else if(Vr(r),Lp(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,El({value:l,source:null,stack:null}),r=np(n,r,a)}else if(Bt||Tl(n,r,a,!1),v=(a&n.childLanes)!==0,Bt||v){if(v=ot,v!==null&&(l=a&-a,l=(l&42)!==0?1:Tr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ba(n,l),kn(v,n,l),Uw;b.data==="$?"||_p(),r=np(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,mt=oi(b.nextSibling),fn=r,Qe=!0,Qs=null,Si=!1,n!==null&&(Kn[$n++]=Ji,Kn[$n++]=er,Kn[$n++]=Fs,Ji=n.id,er=n.overflow,Fs=r),r=tp(r,l.children),r.flags|=4096);return r}return d?(Pr(),d=l.fallback,b=r.mode,I=n.child,j=I.sibling,l=Zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?d=Zi(j,d):(d=Hs(d,b,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,b=n.child.memoizedState,b===null?b=Jf(a):(I=b.cachePool,I!==null?(j=Vt._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Oy(),b={baseLanes:b.baseLanes|a,cachePool:I}),d.memoizedState=b,d.childLanes=ep(n,v,a),r.memoizedState=Zf,l):(Vr(r),a=n.child,n=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function tp(n,r){return r=Yc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Yc(n,r){return n=In(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function np(n,r,a){return Za(r,n.child,null,a),n=tp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Kw(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),_f(n.return,r,a)}function ip(n,r,a,l,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function $w(n,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;if(Xt(n,r,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kw(n,a,r);else if(n.tag===19)Kw(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Pt,l),d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Hc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),ip(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Hc(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ip(r,!0,a,null,f);break;case"together":ip(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Tl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Zi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Zi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function rp(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ic(n)))}function m1(n,r,a){switch(r.tag){case 3:Ke(r,r.stateNode.containerInfo),Dr(r,Vt,n.memoizedState.cache),bl();break;case 27:case 5:Ut(r);break;case 4:Ke(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Yw(n,r,a):(Vr(r),n=sr(n,r,a),n!==null?n.sibling:null);Vr(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Tl(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return $w(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(Pt,Pt.current),l)break;return null;case 22:case 23:return r.lanes=0,qw(n,r,a);case 24:Dr(r,Vt,n.memoizedState.cache)}return sr(n,r,a)}function Xw(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Bt=!0;else{if(!rp(n,a)&&(r.flags&128)===0)return Bt=!1,m1(n,r,a);Bt=(n.flags&131072)!==0}else Bt=!1,Qe&&(r.flags&1048576)!==0&&Ry(r,Rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")ff(l)?(n=Zs(l,n),r.tag=1,r=Gw(null,r,l,n,a)):(r.tag=0,r=Wf(null,r,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===Ie){r.tag=11,r=jw(null,r,l,n,a);break e}else if(d===M){r.tag=14,r=zw(null,r,l,n,a);break e}}throw r=He(l)||l,Error(s(306,r,""))}}return r;case 0:return Wf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=Zs(l,r.pendingProps),Gw(n,r,l,d,a);case 3:e:{if(Ke(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,If(n,r),Dl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Dr(r,Vt,l),l!==f.cache&&bf(r,[Vt],a,!0),Cl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Qw(n,r,l,a);break e}else if(l!==d){d=Qn(Error(s(424)),r),El(d),r=Qw(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=oi(n.firstChild),fn=r,Qe=!0,Qs=null,Si=!0,a=xw(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bl(),l===d){r=sr(n,r,a);break e}Xt(n,r,l,a)}r=r.child}return r;case 26:return Qc(n,r),n===null?(a=e_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,n=r.pendingProps,l=od(ce.current).createElement(a),l[kt]=r,l[St]=n,Zt(l,a,n),wt(l),r.stateNode=l):r.memoizedState=e_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ut(r),n===null&&Qe&&(l=r.stateNode=Wv(r.type,r.pendingProps,ce.current),fn=r,Si=!0,d=mt,Gr(r.type)?(Up=d,mt=oi(l.firstChild)):mt=d),Xt(n,r,r.pendingProps.children,a),Qc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Qe&&((d=l=mt)&&(l=H1(l,r.type,r.pendingProps,Si),l!==null?(r.stateNode=l,fn=r,mt=oi(l.firstChild),Si=!1,d=!0):d=!1),d||Ys(r)),Ut(r),d=r.type,f=r.pendingProps,v=n!==null?n.memoizedProps:null,l=f.children,Mp(d,f)?l=null:v!==null&&Mp(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=Of(n,r,o1,null,null,a),Zl._currentValue=d),Qc(n,r),Xt(n,r,l,a),r.child;case 6:return n===null&&Qe&&((n=a=mt)&&(a=F1(a,r.pendingProps,Si),a!==null?(r.stateNode=a,fn=r,mt=null,n=!0):n=!1),n||Ys(r)),null;case 13:return Yw(n,r,a);case 4:return Ke(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Za(r,null,l,a):Xt(n,r,l,a),r.child;case 11:return jw(n,r,r.type,r.pendingProps,a);case 7:return Xt(n,r,r.pendingProps,a),r.child;case 8:return Xt(n,r,r.pendingProps.children,a),r.child;case 12:return Xt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),Xt(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,$s(r),d=rn(d),l=l(d),r.flags|=1,Xt(n,r,l,a),r.child;case 14:return zw(n,r,r.type,r.pendingProps,a);case 15:return Bw(n,r,r.type,r.pendingProps,a);case 19:return $w(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Zi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return qw(n,r,a);case 24:return $s(r),l=rn(Vt),n===null?(d=Af(),d===null&&(d=ot,f=Ef(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Rf(r),Dr(r,Vt,d)):((n.lanes&a)!==0&&(If(n,r),Dl(r,null,null,a),Cl()),d=n.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Dr(r,Vt,l)):(l=f.cache,Dr(r,Vt,l),l!==d.cache&&bf(r,[Vt],a,!0))),Xt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ar(n){n.flags|=4}function Ww(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!s_(r)){if(r=Xn.current,r!==null&&((Be&4194048)===Be?Ri!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==Ri))throw Il=Sf,My;n.flags|=8192}}function Kc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?el():536870912,n.lanes|=r,no|=r)}function Ll(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function g1(n,r,a){var l=r.pendingProps;switch(yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),nr(Vt),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_l(r)?ar(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Cy())),ht(r),null;case 26:return a=r.memoizedState,n===null?(ar(r),a!==null?(ht(r),Ww(r,a)):(ht(r),r.flags&=-16777217)):a?a!==n.memoizedState?(ar(r),ht(r),Ww(r,a)):(ht(r),r.flags&=-16777217):(n.memoizedProps!==l&&ar(r),ht(r),r.flags&=-16777217),null;case 27:ti(r),a=ce.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=ye.current,_l(r)?Iy(r):(n=Wv(d,l,a),r.stateNode=n,ar(r))}return ht(r),null;case 5:if(ti(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&ar(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(n=ye.current,_l(r))Iy(r);else{switch(d=od(ce.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[kt]=r,n[St]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(Zt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ar(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&ar(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=ce.current,_l(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=fn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[kt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fv(n.nodeValue,a)),n||Ys(r)}else n=od(n).createTextNode(l),n[kt]=r,r.stateNode=n}return ht(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=_l(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[kt]=r}else bl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),d=!1}else d=Cy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(rr(r),r):(rr(r),null)}if(rr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Kc(r,r.updateQueue),ht(r),null;case 4:return Yt(),n===null&&Cp(r.stateNode.containerInfo),ht(r),null;case 10:return nr(r.type),ht(r),null;case 19:if(ae(Pt),d=r.memoizedState,d===null)return ht(r),null;if(l=(r.flags&128)!==0,f=d.rendering,f===null)if(l)Ll(d,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=Hc(n),f!==null){for(r.flags|=128,Ll(d,!1),n=f.updateQueue,r.updateQueue=n,Kc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Sy(a,n),a=a.sibling;return te(Pt,Pt.current&1|2),r.child}n=n.sibling}d.tail!==null&&zn()>Wc&&(r.flags|=128,l=!0,Ll(d,!1),r.lanes=4194304)}else{if(!l)if(n=Hc(f),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Kc(r,n),Ll(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Qe)return ht(r),null}else 2*zn()-d.renderingStartTime>Wc&&a!==536870912&&(r.flags|=128,l=!0,Ll(d,!1),r.lanes=4194304);d.isBackwards?(f.sibling=r.child,r.child=f):(n=d.last,n!==null?n.sibling=f:r.child=f,d.last=f)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=zn(),r.sibling=null,n=Pt.current,te(Pt,l?n&1|2:n&1),r):(ht(r),null);case 22:case 23:return rr(r),Nf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&Kc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ae(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),nr(Vt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function y1(n,r){switch(yf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return nr(Vt),Yt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ti(r),null;case 13:if(rr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));bl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(Pt),null;case 4:return Yt(),null;case 10:return nr(r.type),null;case 22:case 23:return rr(r),Nf(),n!==null&&ae(Xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return nr(Vt),null;case 25:return null;default:return null}}function Zw(n,r){switch(yf(r),r.tag){case 3:nr(Vt),Yt();break;case 26:case 27:case 5:ti(r);break;case 4:Yt();break;case 13:rr(r);break;case 19:ae(Pt);break;case 10:nr(r.type);break;case 22:case 23:rr(r),Nf(),n!==null&&ae(Xs);break;case 24:nr(Vt)}}function Ul(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==d)}}catch(b){at(r,r.return,b)}}function Lr(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,d=r;var I=a,j=b;try{j()}catch(Y){at(d,I,Y)}}}l=l.next}while(l!==f)}}catch(Y){at(r,r.return,Y)}}function Jw(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{zy(r,a)}catch(l){at(n,n.return,l)}}}function ev(n,r,a){a.props=Zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){at(n,r,l)}}function jl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){at(n,r,d)}}function Ii(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){at(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){at(n,r,d)}else a.current=null}function tv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){at(n,n.return,d)}}function sp(n,r,a){try{var l=n.stateNode;U1(l,n.type,a,r),l[St]=r}catch(d){at(n,n.return,d)}}function nv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Gr(n.type)||n.tag===4}function ap(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Gr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function op(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ad));else if(l!==4&&(l===27&&Gr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(op(n,r,a),n=n.sibling;n!==null;)op(n,r,a),n=n.sibling}function $c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Gr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for($c(n,r,a),n=n.sibling;n!==null;)$c(n,r,a),n=n.sibling}function iv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,l,a),r[kt]=n,r[St]=a}catch(f){at(n,n.return,f)}}var or=!1,_t=!1,lp=!1,rv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function w1(n,r){if(n=n.containerInfo,kp=fd,n=my(n),af(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,j=0,Y=0,Z=n,B=null;t:for(;;){for(var q;Z!==a||d!==0&&Z.nodeType!==3||(b=v+d),Z!==f||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)B=Z,Z=q;for(;;){if(Z===n)break t;if(B===a&&++j===d&&(b=v),B===f&&++Y===l&&(I=v),(q=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=q}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Op={focusedElem:n,selectionRange:a},fd=!1,qt=r;qt!==null;)if(r=qt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,qt=n;else for(;qt!==null;){switch(r=qt,f=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Se=Zs(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){at(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Pp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,qt=n;break}qt=r.return}}function sv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(n,a),l&4&&Ul(5,a);break;case 1:if(Ur(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){at(a,a.return,v)}else{var d=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){at(a,a.return,v)}}l&64&&Jw(a),l&512&&jl(a,a.return);break;case 3:if(Ur(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{zy(n,r)}catch(v){at(a,a.return,v)}}break;case 27:r===null&&l&4&&iv(a);case 26:case 5:Ur(n,a),r===null&&l&4&&tv(a),l&512&&jl(a,a.return);break;case 12:Ur(n,a);break;case 13:Ur(n,a),l&4&&lv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=I1.bind(null,a),G1(n,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){r=r!==null&&r.memoizedState!==null||_t,d=or;var f=_t;or=l,(_t=r)&&!f?jr(n,a,(a.subtreeFlags&8772)!==0):Ur(n,a),or=d,_t=f}break;case 30:break;default:Ur(n,a)}}function av(n){var r=n.alternate;r!==null&&(n.alternate=null,av(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,vn=!1;function lr(n,r,a){for(a=a.child;a!==null;)ov(n,r,a),a=a.sibling}function ov(n,r,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:_t||Ii(a,r),lr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_t||Ii(a,r);var l=dt,d=vn;Gr(a.type)&&(dt=a.stateNode,vn=!1),lr(n,r,a),Kl(a.stateNode),dt=l,vn=d;break;case 5:_t||Ii(a,r);case 6:if(l=dt,d=vn,dt=null,lr(n,r,a),dt=l,vn=d,dt!==null)if(vn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(f){at(a,r,f)}else try{dt.removeChild(a.stateNode)}catch(f){at(a,r,f)}break;case 18:dt!==null&&(vn?(n=dt,$v(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),nu(n)):$v(dt,a.stateNode));break;case 4:l=dt,d=vn,dt=a.stateNode.containerInfo,vn=!0,lr(n,r,a),dt=l,vn=d;break;case 0:case 11:case 14:case 15:_t||Lr(2,a,r),_t||Lr(4,a,r),lr(n,r,a);break;case 1:_t||(Ii(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ev(a,r,l)),lr(n,r,a);break;case 21:lr(n,r,a);break;case 22:_t=(l=_t)||a.memoizedState!==null,lr(n,r,a),_t=l;break;default:lr(n,r,a)}}function lv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nu(n)}catch(a){at(r,r.return,a)}}function v1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new rv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new rv),r;default:throw Error(s(435,n.tag))}}function up(n,r){var a=v1(n);r.forEach(function(l){var d=x1.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function xn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Gr(b.type)){dt=b.stateNode,vn=!1;break e}break;case 5:dt=b.stateNode,vn=!1;break e;case 3:case 4:dt=b.stateNode.containerInfo,vn=!0;break e}b=b.return}if(dt===null)throw Error(s(160));ov(f,v,d),dt=null,vn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)uv(r,n),r=r.sibling}var ai=null;function uv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(r,n),Cn(n),l&4&&(Lr(3,n,n.return),Ul(3,n),Lr(5,n,n.return));break;case 1:xn(r,n),Cn(n),l&512&&(_t||a===null||Ii(a,a.return)),l&64&&or&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ai;if(xn(r,n),Cn(n),l&512&&(_t||a===null||Ii(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Is]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Zt(f,l,a),f[kt]=n,wt(f),l=f;break e;case"link":var v=i_("link","href",d).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;case"meta":if(v=i_("meta","content",d).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}f=d.createElement(l),Zt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[kt]=n,wt(f),l=f}n.stateNode=l}else r_(d,n.type,n.stateNode);else n.stateNode=n_(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?r_(d,n.type,n.stateNode):n_(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&sp(n,n.memoizedProps,a.memoizedProps)}break;case 27:xn(r,n),Cn(n),l&512&&(_t||a===null||Ii(a,a.return)),a!==null&&l&4&&sp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(xn(r,n),Cn(n),l&512&&(_t||a===null||Ii(a,a.return)),n.flags&32){d=n.stateNode;try{qn(d,"")}catch(q){at(n,n.return,q)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,sp(n,d,a!==null?a.memoizedProps:d)),l&1024&&(lp=!0);break;case 6:if(xn(r,n),Cn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(q){at(n,n.return,q)}}break;case 3:if(cd=null,d=ai,ai=ld(r.containerInfo),xn(r,n),ai=d,Cn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nu(r.containerInfo)}catch(q){at(n,n.return,q)}lp&&(lp=!1,cv(n));break;case 4:l=ai,ai=ld(n.stateNode.containerInfo),xn(r,n),Cn(n),ai=l;break;case 12:xn(r,n),Cn(n);break;case 13:xn(r,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mp=zn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,up(n,l)));break;case 22:d=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=or,Y=_t;if(or=j||d,_t=Y||I,xn(r,n),_t=Y,or=j,Cn(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||I||or||_t||Js(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(f=I.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){at(I,I.return,q)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(q){at(I,I.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,up(n,a))));break;case 19:xn(r,n),Cn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,up(n,l)));break;case 30:break;case 21:break;default:xn(r,n),Cn(n)}}function Cn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(nv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=ap(n);$c(n,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(qn(v,""),a.flags&=-33);var b=ap(n);$c(n,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,j=ap(n);op(n,j,I);break;default:throw Error(s(161))}}catch(Y){at(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;cv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ur(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)sv(n,r.alternate,r),r=r.sibling}function Js(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Js(r);break;case 1:Ii(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&ev(r,r.return,a),Js(r);break;case 27:Kl(r.stateNode);case 26:case 5:Ii(r,r.return),Js(r);break;case 22:r.memoizedState===null&&Js(r);break;case 30:Js(r);break;default:Js(r)}n=n.sibling}}function jr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:jr(d,f,a),Ul(4,f);break;case 1:if(jr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){at(l,l.return,j)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)jy(I[d],b)}catch(j){at(l,l.return,j)}}a&&v&64&&Jw(f),jl(f,f.return);break;case 27:iv(f);case 26:case 5:jr(d,f,a),a&&l===null&&v&4&&tv(f),jl(f,f.return);break;case 12:jr(d,f,a);break;case 13:jr(d,f,a),a&&v&4&&lv(d,f);break;case 22:f.memoizedState===null&&jr(d,f,a),jl(f,f.return);break;case 30:break;default:jr(d,f,a)}r=r.sibling}}function cp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Al(a))}function dp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Al(n))}function xi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dv(n,r,a,l),r=r.sibling}function dv(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:xi(n,r,a,l),d&2048&&Ul(9,r);break;case 1:xi(n,r,a,l);break;case 3:xi(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Al(n)));break;case 12:if(d&2048){xi(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){at(r,r.return,I)}}else xi(n,r,a,l);break;case 13:xi(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?xi(n,r,a,l):zl(n,r):f._visibility&2?xi(n,r,a,l):(f._visibility|=2,Ja(n,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&cp(v,r);break;case 24:xi(n,r,a,l),d&2048&&dp(r.alternate,r);break;default:xi(n,r,a,l)}}function Ja(n,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=n,v=r,b=a,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(f,v,b,I,d),Ul(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Ja(f,v,b,I,d):zl(f,v):(Y._visibility|=2,Ja(f,v,b,I,d)),d&&j&2048&&cp(v.alternate,v);break;case 24:Ja(f,v,b,I,d),d&&j&2048&&dp(v.alternate,v);break;default:Ja(f,v,b,I,d)}r=r.sibling}}function zl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:zl(a,l),d&2048&&cp(l.alternate,l);break;case 24:zl(a,l),d&2048&&dp(l.alternate,l);break;default:zl(a,l)}r=r.sibling}}var Bl=8192;function eo(n){if(n.subtreeFlags&Bl)for(n=n.child;n!==null;)hv(n),n=n.sibling}function hv(n){switch(n.tag){case 26:eo(n),n.flags&Bl&&n.memoizedState!==null&&rA(ai,n.memoizedState,n.memoizedProps);break;case 5:eo(n);break;case 3:case 4:var r=ai;ai=ld(n.stateNode.containerInfo),eo(n),ai=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,eo(n),Bl=r):eo(n));break;default:eo(n)}}function fv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ql(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,mv(l,n)}fv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:ql(n),n.flags&2048&&Lr(9,n,n.return);break;case 3:ql(n);break;case 12:ql(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Xc(n)):ql(n);break;default:ql(n)}}function Xc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,mv(l,n)}fv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),Xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(r));break;default:Xc(r)}n=n.sibling}}function mv(n,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=n;qt!==null;){l=qt;var d=l.sibling,f=l.return;if(av(l),l===a){qt=null;break e}if(d!==null){d.return=f,qt=d;break e}qt=f}}}var _1={getCacheForType:function(n){var r=rn(Vt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},b1=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,ke=null,Be=0,et=0,Dn=null,zr=!1,to=!1,hp=!1,ur=0,gt=0,Br=0,ea=0,fp=0,Wn=0,no=0,Hl=null,_n=null,pp=!1,mp=0,Wc=1/0,Zc=null,qr=null,Wt=0,Hr=null,io=null,ro=0,gp=0,yp=null,gv=null,Fl=0,wp=null;function Nn(){if((Je&2)!==0&&Be!==0)return Be&-Be;if(G.T!==null){var n=Ga;return n!==0?n:Sp()}return Ar()}function yv(){Wn===0&&(Wn=(Be&536870912)===0||Qe?Jo():536870912);var n=Xn.current;return n!==null&&(n.flags|=32),Wn}function kn(n,r,a){(n===ot&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(so(n,0),Fr(n,Be,Wn,!1)),Bi(n,a),((Je&2)===0||n!==ot)&&(n===ot&&((Je&2)===0&&(ea|=a),gt===4&&Fr(n,Be,Wn,!1)),Ci(n))}function wv(n,r,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Rs(n,r),d=l?A1(n,r):bp(n,r,!0),f=l;do{if(d===0){to&&!l&&Fr(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!E1(a)){d=bp(n,r,!1),f=!1;continue}if(d===2){if(f=r,n.errorRecoveryDisabledLanes&f)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=n;d=Hl;var I=b.current.memoizedState.isDehydrated;if(I&&(so(b,v).flags|=256),v=bp(b,v,!1),v!==2){if(hp&&!I){b.errorRecoveryDisabledLanes|=f,ea|=f,d=4;break e}f=_n,_n=d,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){so(n,0),Fr(n,r,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fr(l,r,Wn,!zr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=mp+300-zn(),10<d)){if(Fr(l,r,Wn,!zr),Ea(l,0,!0)!==0)break e;l.timeoutHandle=Yv(vv.bind(null,l,a,_n,Zc,pp,r,Wn,ea,no,zr,f,2,-0,0),d);break e}vv(l,a,_n,Zc,pp,r,Wn,ea,no,zr,f,0,-0,0)}}break}while(!0);Ci(n)}function vv(n,r,a,l,d,f,v,b,I,j,Y,Z,B,q){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:iA},hv(r),Z=sA(),Z!==null)){n.cancelPendingCommit=Z(Rv.bind(null,n,r,f,a,l,d,v,b,I,Y,1,B,q)),Fr(n,f,v,!j);return}Rv(n,r,f,a,l,d,v,b,I)}function E1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Rn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(n,r,a,l){r&=~fp,r&=~ea,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var f=31-nn(d),v=1<<f;l[f]=-1,d&=~v}a!==0&&pi(n,a,r)}function Jc(){return(Je&6)===0?(Gl(0),!1):!0}function vp(){if(ke!==null){if(et===0)var n=ke.return;else n=ke,tr=Ks=null,Pf(n),Wa=null,Vl=0,n=ke;for(;n!==null;)Zw(n.alternate,n),n=n.return;ke=null}}function so(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,z1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),vp(),ot=n,ke=a=Zi(n.current,null),Be=r,et=0,Dn=null,zr=!1,to=Rs(n,r),hp=!1,no=Wn=fp=ea=Br=gt=0,_n=Hl=null,pp=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-nn(l),f=1<<d;r|=n[d],l&=~f}return ur=r,bc(),a}function _v(n,r){De=null,G.H=zc,r===Rl||r===Dc?(r=Ly(),et=3):r===My?(r=Ly(),et=4):et=r===Uw?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,ke===null&&(gt=1,Gc(n,Qn(r,n.current)))}function bv(){var n=G.H;return G.H=zc,n===null?zc:n}function Ev(){var n=G.A;return G.A=_1,n}function _p(){gt=4,zr||(Be&4194048)!==Be&&Xn.current!==null||(to=!0),(Br&134217727)===0&&(ea&134217727)===0||ot===null||Fr(ot,Be,Wn,!1)}function bp(n,r,a){var l=Je;Je|=2;var d=bv(),f=Ev();(ot!==n||Be!==r)&&(Zc=null,so(n,r)),r=!1;var v=gt;e:do try{if(et!==0&&ke!==null){var b=ke,I=Dn;switch(et){case 8:vp(),v=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var j=et;if(et=0,Dn=null,ao(n,b,I,j),a&&to){v=0;break e}break;default:j=et,et=0,Dn=null,ao(n,b,I,j)}}T1(),v=gt;break}catch(Y){_v(n,Y)}while(!0);return r&&n.shellSuspendCounter++,tr=Ks=null,Je=l,G.H=d,G.A=f,ke===null&&(ot=null,Be=0,bc()),v}function T1(){for(;ke!==null;)Tv(ke)}function A1(n,r){var a=Je;Je|=2;var l=bv(),d=Ev();ot!==n||Be!==r?(Zc=null,Wc=zn()+500,so(n,r)):to=Rs(n,r);e:do try{if(et!==0&&ke!==null){r=ke;var f=Dn;t:switch(et){case 1:et=0,Dn=null,ao(n,r,f,1);break;case 2:case 9:if(Vy(f)){et=0,Dn=null,Av(r);break}r=function(){et!==2&&et!==9||ot!==n||(et=7),Ci(n)},f.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Vy(f)?(et=0,Dn=null,Av(r)):(et=0,Dn=null,ao(n,r,f,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var b=ke;if(!v||s_(v)){et=0,Dn=null;var I=b.sibling;if(I!==null)ke=I;else{var j=b.return;j!==null?(ke=j,ed(j)):ke=null}break t}}et=0,Dn=null,ao(n,r,f,5);break;case 6:et=0,Dn=null,ao(n,r,f,6);break;case 8:vp(),gt=6;break e;default:throw Error(s(462))}}S1();break}catch(Y){_v(n,Y)}while(!0);return tr=Ks=null,G.H=l,G.A=d,Je=a,ke!==null?0:(ot=null,Be=0,bc(),gt)}function S1(){for(;ke!==null&&!$o();)Tv(ke)}function Tv(n){var r=Xw(n.alternate,n,ur);n.memoizedProps=n.pendingProps,r===null?ed(n):ke=r}function Av(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Fw(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Fw(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Pf(r);default:Zw(a,r),r=ke=Sy(r,ur),r=Xw(a,r,ur)}n.memoizedProps=n.pendingProps,r===null?ed(n):ke=r}function ao(n,r,a,l){tr=Ks=null,Pf(r),Wa=null,Vl=0;var d=r.return;try{if(p1(n,d,r,a,Be)){gt=1,Gc(n,Qn(a,n.current)),ke=null;return}}catch(f){if(d!==null)throw ke=d,f;gt=1,Gc(n,Qn(a,n.current)),ke=null;return}r.flags&32768?(Qe||l===1?n=!0:to||(Be&536870912)!==0?n=!1:(zr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(r,n)):ed(r)}function ed(n){var r=n;do{if((r.flags&32768)!==0){Sv(r,zr);return}n=r.return;var a=g1(r.alternate,r,ur);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=n}while(r!==null);gt===0&&(gt=5)}function Sv(n,r){do{var a=y1(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);gt=6,ke=null}function Rv(n,r,a,l,d,f,v,b,I){n.cancelPendingCommit=null;do td();while(Wt!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=df,tl(n,a,f,v,b,I),n===ot&&(ke=ot=null,Be=0),io=r,Hr=n,ro=a,gp=f,yp=d,gv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,C1(Es,function(){return Nv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,d=se.p,se.p=2,v=Je,Je|=4;try{w1(n,r,a)}finally{Je=v,se.p=d,G.T=l}}Wt=1,Iv(),xv(),Cv()}}function Iv(){if(Wt===1){Wt=0;var n=Hr,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var d=Je;Je|=4;try{uv(r,n);var f=Op,v=my(n.containerInfo),b=f.focusedElem,I=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&py(b.ownerDocument.documentElement,b)){if(I!==null&&af(b)){var j=I.start,Y=I.end;if(Y===void 0&&(Y=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(Y,b.value.length);else{var Z=b.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var q=B.getSelection(),Se=b.textContent.length,be=Math.min(I.start,Se),rt=I.end===void 0?be:Math.min(I.end,Se);!q.extend&&be>rt&&(v=rt,rt=be,be=v);var V=fy(b,be),N=fy(b,rt);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=Z.createRange();U.setStart(V.node,V.offset),q.removeAllRanges(),be>rt?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(Z=[],q=b;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var $=Z[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}fd=!!kp,Op=kp=null}finally{Je=d,se.p=l,G.T=a}}n.current=r,Wt=2}}function xv(){if(Wt===2){Wt=0;var n=Hr,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=se.p;se.p=2;var d=Je;Je|=4;try{sv(n,r.alternate,r)}finally{Je=d,se.p=l,G.T=a}}Wt=3}}function Cv(){if(Wt===4||Wt===3){Wt=0,Xu();var n=Hr,r=io,a=ro,l=gv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,io=Hr=null,Dv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(qr=null),Ta(a),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,d=se.p,se.p=2,G.T=null;try{for(var f=n.onRecoverableError,v=0;v<l.length;v++){var b=l[v];f(b.value,{componentStack:b.stack})}}finally{G.T=r,se.p=d}}(ro&3)!==0&&td(),Ci(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===wp?Fl++:(Fl=0,wp=n):Fl=0,Gl(0)}}function Dv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Al(r)))}function td(n){return Iv(),xv(),Cv(),Nv()}function Nv(){if(Wt!==5)return!1;var n=Hr,r=gp;gp=0;var a=Ta(ro),l=G.T,d=se.p;try{se.p=32>a?32:a,G.T=null,a=yp,yp=null;var f=Hr,v=ro;if(Wt=0,io=Hr=null,ro=0,(Je&6)!==0)throw Error(s(331));var b=Je;if(Je|=4,pv(f.current),dv(f,f.current,v,a),Je=b,Gl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(pt,f)}catch{}return!0}finally{se.p=d,G.T=l,Dv(n,r)}}function kv(n,r,a){r=Qn(a,r),r=Xf(n.stateNode,r,2),n=Or(n,r,2),n!==null&&(Bi(n,2),Ci(n))}function at(n,r,a){if(n.tag===3)kv(n,n,a);else for(;r!==null;){if(r.tag===3){kv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){n=Qn(a,n),a=Pw(2),l=Or(r,a,2),l!==null&&(Lw(a,l,r,n),Bi(l,2),Ci(l));break}}r=r.return}}function Ep(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new b1;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(hp=!0,d.add(a),n=R1.bind(null,n,r,a),r.then(n,n))}function R1(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ot===n&&(Be&a)===a&&(gt===4||gt===3&&(Be&62914560)===Be&&300>zn()-mp?(Je&2)===0&&so(n,0):fp|=a,no===Be&&(no=0)),Ci(n)}function Ov(n,r){r===0&&(r=el()),n=Ba(n,r),n!==null&&(Bi(n,r),Ci(n))}function I1(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Ov(n,a)}function x1(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Ov(n,a)}function C1(n,r){return _s(n,r)}var nd=null,oo=null,Tp=!1,id=!1,Ap=!1,ta=0;function Ci(n){n!==oo&&n.next===null&&(oo===null?nd=oo=n:oo=oo.next=n),id=!0,Tp||(Tp=!0,N1())}function Gl(n,r){if(!Ap&&id){Ap=!0;do for(var a=!1,l=nd;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-nn(42|n)+1)-1,f&=d&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Lv(l,f))}else f=Be,f=Ea(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rs(l,f)||(a=!0,Lv(l,f));l=l.next}while(a);Ap=!1}}function D1(){Mv()}function Mv(){id=Tp=!1;var n=0;ta!==0&&(j1()&&(n=ta),ta=0);for(var r=zn(),a=null,l=nd;l!==null;){var d=l.next,f=Vv(l,r);f===0?(l.next=null,a===null?nd=d:a.next=d,d===null&&(oo=a)):(a=l,(n!==0||(f&3)!==0)&&(id=!0)),l=d}Gl(n)}function Vv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var v=31-nn(f),b=1<<v,I=d[v];I===-1?((b&a)===0||(b&l)!==0)&&(d[v]=Zo(b,r)):I<=r&&(n.expiredLanes|=b),f&=~b}if(r=ot,a=Be,a=Ea(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Rs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&bs(l),Ta(a)){case 2:case 8:a=_a;break;case 32:a=Es;break;case 268435456:a=ba;break;default:a=Es}return l=Pv.bind(null,n),a=_s(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&bs(l),n.callbackPriority=2,n.callbackNode=null,2}function Pv(n,r){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(td()&&n.callbackNode!==a)return null;var l=Be;return l=Ea(n,n===ot?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(wv(n,l,r),Vv(n,zn()),n.callbackNode!=null&&n.callbackNode===a?Pv.bind(null,n):null)}function Lv(n,r){if(td())return null;wv(n,r,!0)}function N1(){B1(function(){(Je&6)!==0?_s(Xo,D1):Mv()})}function Sp(){return ta===0&&(ta=Jo()),ta}function Uv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ca(""+n)}function jv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function k1(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Uv((d[St]||null).action),v=l.submitter;v&&(r=(r=v[St]||null)?Uv(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var b=new Da("action","action",null,l,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var I=v?jv(d,v):new FormData(d);Gf(a,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(b.preventDefault(),I=v?jv(d,v):new FormData(d),Gf(a,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var Rp=0;Rp<cf.length;Rp++){var Ip=cf[Rp],O1=Ip.toLowerCase(),M1=Ip[0].toUpperCase()+Ip.slice(1);si(O1,"on"+M1)}si(wy,"onAnimationEnd"),si(vy,"onAnimationIteration"),si(_y,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(W2,"onTransitionRun"),si(Z2,"onTransitionStart"),si(J2,"onTransitionCancel"),si(by,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function zv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,j=b.currentTarget;if(b=b.listener,I!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=j;try{f(d)}catch(Y){Fc(Y)}d.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,j=b.currentTarget,b=b.listener,I!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=j;try{f(d)}catch(Y){Fc(Y)}d.currentTarget=null,f=I}}}}function Oe(n,r){var a=r[il];a===void 0&&(a=r[il]=new Set);var l=n+"__bubble";a.has(l)||(Bv(r,n,2,!1),a.add(l))}function xp(n,r,a){var l=0;r&&(l|=4),Bv(a,n,l,r)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Cp(n){if(!n[rd]){n[rd]=!0,rl.forEach(function(a){a!=="selectionchange"&&(V1.has(a)||xp(a,!1,n),xp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[rd]||(r[rd]=!0,xp("selectionchange",!1,r))}}function Bv(n,r,a,l){switch(d_(r)){case 2:var d=lA;break;case 8:d=uA;break;default:d=Hp}a=d.bind(null,r,a,n),d=void 0,!Fn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Dp(n,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;b!==null;){if(v=qi(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}b=b.parentNode}}l=l.return}ac(function(){var j=f,Y=Hn(a),Z=[];e:{var B=Ey.get(n);if(B!==void 0){var q=Da,Se=n;switch(n){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":q=Pa;break;case"focusin":Se="focus",q=Oa;break;case"focusout":Se="blur",q=Oa;break;case"beforeblur":case"afterblur":q=Oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pc;break;case wy:case vy:case _y:q=Ma;break;case by:q=gc;break;case"scroll":case"scrollend":q=oc;break;case"wheel":q=La;break;case"copy":case"cut":case"paste":q=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=gl;break;case"toggle":case"beforetoggle":q=wc}var be=(r&4)!==0,rt=!be&&(n==="scroll"||n==="scrollend"),V=be?B!==null?B+"Capture":null:B;be=[];for(var N=j,U;N!==null;){var $=N;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||V===null||($=Ms(N,V),$!=null&&be.push(Yl(N,$,U))),rt)break;N=N.return}0<be.length&&(B=new q(B,Se,null,a,Y),Z.push({event:B,listeners:be}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&a!==Qi&&(Se=a.relatedTarget||a.fromElement)&&(qi(Se)||Se[Bn]))break e;if((q||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Se=a.relatedTarget||a.toElement,q=j,Se=Se?qi(Se):null,Se!==null&&(rt=u(Se),be=Se.tag,Se!==rt||be!==5&&be!==27&&be!==6)&&(Se=null)):(q=null,Se=j),q!==Se)){if(be=Gn,$="onMouseLeave",V="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(be=gl,$="onPointerLeave",V="onPointerEnter",N="pointer"),rt=q==null?B:gi(q),U=Se==null?B:gi(Se),B=new be($,N+"leave",q,a,Y),B.target=rt,B.relatedTarget=U,$=null,qi(Y)===j&&(be=new be(V,N+"enter",Se,a,Y),be.target=U,be.relatedTarget=rt,$=be),rt=$,q&&Se)t:{for(be=q,V=Se,N=0,U=be;U;U=lo(U))N++;for(U=0,$=V;$;$=lo($))U++;for(;0<N-U;)be=lo(be),N--;for(;0<U-N;)V=lo(V),U--;for(;N--;){if(be===V||V!==null&&be===V.alternate)break t;be=lo(be),V=lo(V)}be=null}else be=null;q!==null&&qv(Z,B,q,be,!1),Se!==null&&rt!==null&&qv(Z,rt,Se,be,!0)}}e:{if(B=j?gi(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var de=oy;else if(Mt(B))if(ly)de=K2;else{de=Q2;var Ne=G2}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ul(j.elementType)&&(de=oy):de=Y2;if(de&&(de=de(n,j))){Wi(Z,de,a,Y);break e}Ne&&Ne(n,B,j),n==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&xr(B,"number",B.value)}switch(Ne=j?gi(j):window,n){case"focusin":(Mt(Ne)||Ne.contentEditable==="true")&&(Ua=Ne,of=j,vl=null);break;case"focusout":vl=of=Ua=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,gy(Z,a,Y);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":gy(Z,a,Y)}var me;if(Ti)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?H(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(w&&a.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(me=dl()):(vi=Y,Cr="value"in vi?vi.value:vi.textContent,je=!0)),Ne=sd(j,Ee),0<Ne.length&&(Ee=new pl(Ee,n,null,a,Y),Z.push({event:Ee,listeners:Ne}),me?Ee.data=me:(me=ie(a),me!==null&&(Ee.data=me)))),(me=m?Ot(n,a):ze(n,a))&&(Ee=sd(j,"onBeforeInput"),0<Ee.length&&(Ne=new pl("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ne,listeners:Ee}),Ne.data=me)),k1(Z,n,j,a,Y)}zv(Z,r)})}function Yl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function sd(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ms(n,a),d!=null&&l.unshift(Yl(n,d,f)),d=Ms(n,r),d!=null&&l.push(Yl(n,d,f))),n.tag===3)return l;n=n.return}return[]}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qv(n,r,a,l,d){for(var f=r._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,j=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||j===null||(I=j,d?(j=Ms(a,f),j!=null&&v.unshift(Yl(a,j,I))):d||(j=Ms(a,f),j!=null&&v.push(Yl(a,j,I)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var P1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function Hv(n){return(typeof n=="string"?n:""+n).replace(P1,`
`).replace(L1,"")}function Fv(n,r){return r=Hv(r),Hv(n)===r}function ad(){}function it(n,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||qn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&qn(n,""+l);break;case"className":yi(n,"class",l);break;case"tabIndex":yi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(n,a,l);break;case"style":ll(n,l,f);break;case"data":if(r!=="object"){yi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ca(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&it(n,r,"name",d.name,d,null),it(n,r,"formEncType",d.formEncType,d,null),it(n,r,"formMethod",d.formMethod,d,null),it(n,r,"formTarget",d.formTarget,d,null)):(it(n,r,"encType",d.encType,d,null),it(n,r,"method",d.method,d,null),it(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ca(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ad);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ca(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Ir(n,"popover",l);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jh.get(a)||a,Ir(n,a,l))}}function Np(n,r,a,l,d,f){switch(a){case"style":ll(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?qn(n,l):(typeof l=="number"||typeof l=="bigint")&&qn(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ad);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=n[St]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ir(n,a,l)}}}function Zt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,f,v,a,null)}}d&&it(n,r,"srcSet",a.srcSet,a,null),l&&it(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var b=f=v=d=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:it(n,r,l,Y,a,null)}}Ns(n,f,b,I,j,v,d,!1),xa(n);return;case"select":Oe("invalid",n),l=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:it(n,r,d,b,a,null)}r=f,a=v,n.multiple=!!l,r!=null?Gi(n,!!l,r,!1):a!=null&&Gi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),f=d=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:it(n,r,v,b,a,null)}ks(n,l,d,f),xa(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(n,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Oe(Ql[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,j,l,a,null)}return;default:if(ul(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Np(n,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&it(n,r,b,l,a,null))}function U1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,b=null,I=null,j=null,Y=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(q)||it(n,r,q,null,l,Z)}}for(var B in l){var q=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(q!=null||Z!=null))switch(B){case"type":f=q;break;case"name":d=q;break;case"checked":j=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Z&&it(n,r,B,q,l,Z)}}Sn(n,v,b,I,j,Y,f,d);return;case"select":q=v=b=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||it(n,r,f,null,l,I)}for(d in l)if(f=l[d],I=a[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==I&&it(n,r,d,f,l,I)}r=b,a=v,l=q,B!=null?Gi(n,!!a,B,!1):!!l!=!!a&&(r!=null?Gi(n,!!a,r,!0):Gi(n,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(n,r,b,null,l,d)}for(v in l)if(d=l[v],f=a[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":B=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&it(n,r,v,d,l,f)}tt(n,B,q);return;case"option":for(var Se in a)if(B=a[Se],a.hasOwnProperty(Se)&&B!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:it(n,r,Se,null,l,B)}for(I in l)if(B=l[I],q=a[I],l.hasOwnProperty(I)&&B!==q&&(B!=null||q!=null))switch(I){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:it(n,r,I,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!l.hasOwnProperty(be)&&it(n,r,be,null,l,B);for(j in l)if(B=l[j],q=a[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:it(n,r,j,B,l,q)}return;default:if(ul(r)){for(var rt in a)B=a[rt],a.hasOwnProperty(rt)&&B!==void 0&&!l.hasOwnProperty(rt)&&Np(n,r,rt,void 0,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B===void 0&&q===void 0||Np(n,r,Y,B,l,q);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&it(n,r,V,null,l,B);for(Z in l)B=l[Z],q=a[Z],!l.hasOwnProperty(Z)||B===q||B==null&&q==null||it(n,r,Z,B,l,q)}var kp=null,Op=null;function od(n){return n.nodeType===9?n:n.ownerDocument}function Gv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Mp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vp=null;function j1(){var n=window.event;return n&&n.type==="popstate"?n===Vp?!1:(Vp=n,!0):(Vp=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(n){return Kv.resolve(null).then(n).catch(q1)}:Yv;function q1(n){setTimeout(function(){throw n})}function Gr(n){return n==="head"}function $v(n,r){var a=r,l=0,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Kl(v.documentElement),a&2&&Kl(v.body),a&4)for(a=v.head,Kl(a),v=a.firstChild;v;){var b=v.nextSibling,I=v.nodeName;v[Is]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(d===0){n.removeChild(f),nu(r);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);nu(r)}function Pp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pp(a),Rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function H1(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Is])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=oi(n.nextSibling),n===null)break}return null}function F1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=oi(n.nextSibling),n===null))return null;return n}function Lp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function G1(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function oi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Up=null;function Xv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Wv(n,r,a){switch(r=od(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Kl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Rr(n)}var Zn=new Map,Zv=new Set;function ld(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cr=se.d;se.d={f:Q1,r:Y1,D:K1,C:$1,L:X1,m:W1,X:J1,S:Z1,M:eA};function Q1(){var n=cr.f(),r=Jc();return n||r}function Y1(n){var r=mi(n);r!==null&&r.tag===5&&r.type==="form"?ww(r):cr.r(n)}var uo=typeof document>"u"?null:document;function Jv(n,r,a){var l=uo;if(l&&typeof r=="string"&&r){var d=Rt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Zv.has(d)||(Zv.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Zt(r,"link",n),wt(r),l.head.appendChild(r)))}}function K1(n){cr.D(n),Jv("dns-prefetch",n,null)}function $1(n,r){cr.C(n,r),Jv("preconnect",n,r)}function X1(n,r,a){cr.L(n,r,a);var l=uo;if(l&&n&&r){var d='link[rel="preload"][as="'+Rt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Rt(a.imageSizes)+'"]')):d+='[href="'+Rt(n)+'"]';var f=d;switch(r){case"style":f=co(n);break;case"script":f=ho(n)}Zn.has(f)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Zn.set(f,n),l.querySelector(d)!==null||r==="style"&&l.querySelector($l(f))||r==="script"&&l.querySelector(Xl(f))||(r=l.createElement("link"),Zt(r,"link",n),wt(r),l.head.appendChild(r)))}}function W1(n,r){cr.m(n,r);var a=uo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ho(n)}if(!Zn.has(f)&&(n=_({rel:"modulepreload",href:n},r),Zn.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(f)))return}l=a.createElement("link"),Zt(l,"link",n),wt(l),a.head.appendChild(l)}}}function Z1(n,r,a){cr.S(n,r,a);var l=uo;if(l&&n){var d=cn(l).hoistableStyles,f=co(n);r=r||"default";var v=d.get(f);if(!v){var b={loading:0,preload:null};if(v=l.querySelector($l(f)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Zn.get(f))&&jp(n,a);var I=v=l.createElement("link");wt(I),Zt(I,"link",n),I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ud(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},d.set(f,v)}}}function J1(n,r){cr.X(n,r);var a=uo;if(a&&n){var l=cn(a).hoistableScripts,d=ho(n),f=l.get(d);f||(f=a.querySelector(Xl(d)),f||(n=_({src:n,async:!0},r),(r=Zn.get(d))&&zp(n,r),f=a.createElement("script"),wt(f),Zt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function eA(n,r){cr.M(n,r);var a=uo;if(a&&n){var l=cn(a).hoistableScripts,d=ho(n),f=l.get(d);f||(f=a.querySelector(Xl(d)),f||(n=_({src:n,async:!0,type:"module"},r),(r=Zn.get(d))&&zp(n,r),f=a.createElement("script"),wt(f),Zt(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function e_(n,r,a,l){var d=(d=ce.current)?ld(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=cn(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var f=cn(d).hoistableStyles,v=f.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,v),(f=d.querySelector($l(n)))&&!f._p&&(v.instance=f,v.state.loading=5),Zn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(n,a),f||tA(d,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=cn(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+Rt(n)+'"'}function $l(n){return'link[rel="stylesheet"]['+n+"]"}function t_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function tA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),wt(r),n.head.appendChild(r))}function ho(n){return'[src="'+Rt(n)+'"]'}function Xl(n){return"script[async]"+n}function n_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(l)return r.instance=l,wt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),wt(l),Zt(l,"style",d),ud(l,a.precedence,n),r.instance=l;case"stylesheet":d=co(a.href);var f=n.querySelector($l(d));if(f)return r.state.loading|=4,r.instance=f,wt(f),f;l=t_(a),(d=Zn.get(d))&&jp(l,d),f=(n.ownerDocument||n).createElement("link"),wt(f);var v=f;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Zt(f,"link",l),r.state.loading|=4,ud(f,a.precedence,n),r.instance=f;case"script":return f=ho(a.src),(d=n.querySelector(Xl(f)))?(r.instance=d,wt(d),d):(l=a,(d=Zn.get(f))&&(l=_({},a),zp(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),wt(d),Zt(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ud(l,a.precedence,n));return r.instance}function ud(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function jp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function zp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var cd=null;function i_(n,r,a){if(cd===null){var l=new Map,d=cd=new Map;d.set(a,l)}else d=cd,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Is]||f[kt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=n+v;var b=l.get(v);b?b.push(f):l.set(v,[f])}}return l}function r_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function nA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Wl=null;function iA(){}function rA(n,r,a){if(Wl===null)throw Error(s(475));var l=Wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=co(a.href),f=n.querySelector($l(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=dd.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=f,wt(f);return}f=n.ownerDocument||n,a=t_(a),(d=Zn.get(d))&&jp(a,d),f=f.createElement("link"),wt(f);var v=f;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Zt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=dd.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function sA(){if(Wl===null)throw Error(s(475));var n=Wl;return n.stylesheets&&n.count===0&&Bp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Bp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function dd(){if(this.count--,this.count===0){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hd=null;function Bp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hd=new Map,r.forEach(aA,n),hd=null,dd.call(n))}function aA(n,r){if(!(r.state.loading&4)){var a=hd.get(n);if(a)var l=a.get(null);else{a=new Map,hd.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}d=r.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,d),a.set(v,d),this.count++,l=dd.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var Zl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function oA(n,r,a,l,d,f,v,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function a_(n,r,a,l,d,f,v,b,I,j,Y,Z){return n=new oA(n,r,a,v,b,I,j,Z),r=1,f===!0&&(r|=24),f=In(3,null,null,r),n.current=f,f.stateNode=n,r=Ef(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Rf(f),n}function o_(n){return n?(n=qa,n):qa}function l_(n,r,a,l,d,f){d=o_(d),l.context===null?l.context=d:l.pendingContext=d,l=kr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Or(n,l,r),a!==null&&(kn(a,n,r),xl(a,n,r))}function u_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function qp(n,r){u_(n,r),(n=n.alternate)&&u_(n,r)}function c_(n){if(n.tag===13){var r=Ba(n,67108864);r!==null&&kn(r,n,67108864),qp(n,67108864)}}var fd=!0;function lA(n,r,a,l){var d=G.T;G.T=null;var f=se.p;try{se.p=2,Hp(n,r,a,l)}finally{se.p=f,G.T=d}}function uA(n,r,a,l){var d=G.T;G.T=null;var f=se.p;try{se.p=8,Hp(n,r,a,l)}finally{se.p=f,G.T=d}}function Hp(n,r,a,l){if(fd){var d=Fp(l);if(d===null)Dp(n,r,l,pd,a),h_(n,l);else if(dA(d,n,r,a,l))l.stopPropagation();else if(h_(n,l),r&4&&-1<cA.indexOf(n)){for(;d!==null;){var f=mi(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ni(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-nn(v);b.entanglements[1]|=I,v&=~I}Ci(f),(Je&6)===0&&(Wc=zn()+500,Gl(0))}}break;case 13:b=Ba(f,2),b!==null&&kn(b,f,2),Jc(),qp(f,2)}if(f=Fp(l),f===null&&Dp(n,r,l,pd,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Dp(n,r,l,null,a)}}function Fp(n){return n=Hn(n),Gp(n)}var pd=null;function Gp(n){if(pd=null,n=qi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return pd=n,null}function d_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case Xo:return 2;case _a:return 8;case Es:case Kh:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Qp=!1,Qr=null,Yr=null,Kr=null,Jl=new Map,eu=new Map,$r=[],cA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(n,r){switch(n){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(r.pointerId)}}function tu(n,r,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=mi(r),r!==null&&c_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function dA(n,r,a,l,d){switch(r){case"focusin":return Qr=tu(Qr,n,r,a,l,d),!0;case"dragenter":return Yr=tu(Yr,n,r,a,l,d),!0;case"mouseover":return Kr=tu(Kr,n,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Jl.set(f,tu(Jl.get(f)||null,n,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,eu.set(f,tu(eu.get(f)||null,n,r,a,l,d)),!0}return!1}function f_(n){var r=qi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Ju(n.priority,function(){if(a.tag===13){var l=Nn();l=Tr(l);var d=Ba(a,l);d!==null&&kn(d,a,l),qp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function md(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Fp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Qi=l,a.target.dispatchEvent(l),Qi=null}else return r=mi(a),r!==null&&c_(r),n.blockedOn=a,!1;r.shift()}return!0}function p_(n,r,a){md(n)&&a.delete(r)}function hA(){Qp=!1,Qr!==null&&md(Qr)&&(Qr=null),Yr!==null&&md(Yr)&&(Yr=null),Kr!==null&&md(Kr)&&(Kr=null),Jl.forEach(p_),eu.forEach(p_)}function gd(n,r){n.blockedOn===r&&(n.blockedOn=null,Qp||(Qp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hA)))}var yd=null;function m_(n){yd!==n&&(yd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yd===n&&(yd=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(Gp(l||a)===null)continue;break}var f=mi(a);f!==null&&(n.splice(r,3),r-=3,Gf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function nu(n){function r(I){return gd(I,n)}Qr!==null&&gd(Qr,n),Yr!==null&&gd(Yr,n),Kr!==null&&gd(Kr,n),Jl.forEach(r),eu.forEach(r);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&$r.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],v=d[St]||null;if(typeof f=="function")v||m_(a);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[St]||null)b=v.formAction;else if(Gp(d)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),m_(a)}}}function Yp(n){this._internalRoot=n}wd.prototype.render=Yp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();l_(a,l,n,r,null,null)},wd.prototype.unmount=Yp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;l_(n.current,2,null,n,null,null),Jc(),r[Bn]=null}};function wd(n){this._internalRoot=n}wd.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ar();n={blockedOn:null,target:n,priority:r};for(var a=0;a<$r.length&&r!==0&&r<$r[a].priority;a++);$r.splice(a,0,n),a===0&&f_(n)}};var g_=e.version;if(g_!=="19.1.1")throw Error(s(527,g_,"19.1.1"));se.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var fA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{pt=vd.inject(fA),Ze=vd}catch{}}return ru.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=kw,f=Ow,v=Mw,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=a_(n,1,!1,null,null,a,l,d,f,v,b,null),n[Bn]=r.current,Cp(n),new Yp(r)},ru.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=kw,v=Ow,b=Mw,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=a_(n,1,!0,r,a??null,l,d,f,v,b,I,j),r.context=o_(null),a=r.current,l=Nn(),l=Tr(l),d=kr(l),d.callback=null,Or(a,d,l),a=l,r.current.lanes=a,Bi(r,a),Ci(r),n[Bn]=r.current,Cp(n),new wd(r)},ru.version="19.1.1",ru}var R_;function TA(){if(R_)return Xp.exports;R_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xp.exports=EA(),Xp.exports}var AA=TA();const SA=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},RA=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],p=i[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=u>>2,R=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,z=y&63;g||(z=64,h||(A=64)),s.push(t[_],t[R],t[A],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(v0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):RA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const R=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||p==null||y==null||R==null)throw new IA;const A=u<<2|p>>4;if(s.push(A),y!==64){const z=p<<4&240|y>>2;if(s.push(z),R!==64){const Q=y<<6&192|R;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(i){const e=v0(i);return _0.encodeByteArray(e,!0)},Bd=function(i){return xA(i).replace(/\./g,"")},b0=function(i){try{return _0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=()=>CA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof I_>"u")return;const i=I_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&b0(i[1]);return e&&JSON.parse(e)},wh=()=>{try{return SA()||DA()||NA()||kA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},E0=i=>wh()?.emulatorHosts?.[i],OA=i=>{const e=E0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},T0=()=>wh()?.config,A0=i=>wh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bd(JSON.stringify(t)),Bd(JSON.stringify(h)),""].join(".")}const du={};function PA(){const i={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?i.emulator.push(e):i.prod.push(e);return i}function LA(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let x_=!1;function R0(i,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||du[i]===e||du[i]||x_)return;du[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=PA().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,z){A.setAttribute("width","24"),A.setAttribute("id",z),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{x_=!0,h()},A}function _(A,z){A.setAttribute("id",z),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function R(){const A=LA(s),z=t("text"),Q=document.getElementById(z)||document.createElement("span"),ee=t("learnmore"),W=document.getElementById(ee)||document.createElement("a"),le=t("preprendIcon"),re=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;p(ne),_(W,ee);const Ie=y();g(re,le),ne.append(re,Q,W,Ie),document.body.appendChild(ne)}u?(Q.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function jA(){const i=wh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function FA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="FirebaseError";class _r extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=YA,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?KA(u,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new _r(o,p,s)}}function KA(i,e){return i.replace($A,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $A=/\{\$([^}]+)}/g;function XA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ua(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(C_(u)&&C_(h)){if(!ua(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function C_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function su(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function au(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function WA(i,e){const t=new ZA(i,e);return t.subscribe.bind(t)}class ZA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i){return i&&i._delegate?i._delegate:i}class ca{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new MA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nS(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(i){return i===ia?void 0:i}function nS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const rS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},sS=Ve.INFO,aS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},oS=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=aS[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const lS=(i,e)=>e.some(t=>i instanceof t);let D_,N_;function uS(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,pm=new WeakMap,x0=new WeakMap,tm=new WeakMap,Gm=new WeakMap;function dS(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&I0.set(t,i)}).catch(()=>{}),Gm.set(e,i),e}function hS(i){if(pm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});pm.set(i,e)}let mm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||x0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fS(i){mm=i(mm)}function pS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(nm(this),e,...t);return x0.set(s,e.sort?e.sort():[e]),ss(s)}:cS().includes(i)?function(...e){return i.apply(nm(this),e),ss(I0.get(this))}:function(...e){return ss(i.apply(nm(this),e))}}function mS(i){return typeof i=="function"?pS(i):(i instanceof IDBTransaction&&hS(i),lS(i,uS())?new Proxy(i,mm):i)}function ss(i){if(i instanceof IDBRequest)return dS(i);if(tm.has(i))return tm.get(i);const e=mS(i);return e!==i&&(tm.set(i,e),Gm.set(e,i)),e}const nm=i=>Gm.get(i);function gS(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),p=ss(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ss(h.result),g.oldVersion,g.newVersion,ss(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const yS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],im=new Map;function k_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=wS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yS.includes(t)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return im.set(e,u),u}fS(i=>({...i,get:(e,t,s)=>k_(e,t)||i.get(e,t,s),has:(e,t)=>!!k_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_S(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function _S(i){return i.getComponent()?.type==="VERSION"}const gm="@firebase/app",O_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Fm("@firebase/app"),bS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",AS="@firebase/app-check-compat",SS="@firebase/app-check",RS="@firebase/auth",IS="@firebase/auth-compat",xS="@firebase/database",CS="@firebase/data-connect",DS="@firebase/database-compat",NS="@firebase/functions",kS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",PS="@firebase/messaging-compat",LS="@firebase/performance",US="@firebase/performance-compat",jS="@firebase/remote-config",zS="@firebase/remote-config-compat",BS="@firebase/storage",qS="@firebase/storage-compat",HS="@firebase/firestore",FS="@firebase/ai",GS="@firebase/firestore-compat",QS="firebase",YS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",KS={[gm]:"fire-core",[bS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[AS]:"fire-app-check-compat",[RS]:"fire-auth",[IS]:"fire-auth-compat",[xS]:"fire-rtdb",[CS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[NS]:"fire-fn",[kS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[PS]:"fire-fcm-compat",[LS]:"fire-perf",[US]:"fire-perf-compat",[jS]:"fire-rc",[zS]:"fire-rc-compat",[BS]:"fire-gcs",[qS]:"fire-gcs-compat",[HS]:"fire-fst",[GS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[QS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,$S=new Map,wm=new Map;function M_(i,e){try{i.container.addComponent(e)}catch(t){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ao(i){const e=i.name;if(wm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const t of wu.values())M_(t,i);for(const t of $S.values())M_(t,i);return!0}function Qm(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function En(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Du("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=YS;function C0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=T0()),!t)throw as.create("no-options");const u=wu.get(o);if(u){if(ua(t,u.options)&&ua(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new iS(o);for(const g of wm.values())h.addComponent(g);const p=new WS(t,s,h);return wu.set(o,p),p}function D0(i=ym){const e=wu.get(i);if(!e&&i===ym&&T0())return C0();if(!e)throw as.create("no-app",{appName:i});return e}function ZS(){return Array.from(wu.values())}function os(i,e,t){let s=KS[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(h.join(" "));return}Ao(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebase-heartbeat-database",eR=1,vu="firebase-heartbeat-store";let rm=null;function N0(){return rm||(rm=gS(JS,eR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),rm}async function tR(i){try{const t=(await N0()).transaction(vu),s=await t.objectStore(vu).get(k0(i));return await t.done,s}catch(e){if(e instanceof _r)mr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e?.message});mr.warn(t.message)}}}async function V_(i,e){try{const s=(await N0()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,k0(i)),await s.done}catch(t){if(t instanceof _r)mr.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t?.message});mr.warn(s.message)}}}function k0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,iR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>iR){const o=oR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=P_(),{heartbeatsToSend:t,unsentEntries:s}=sR(this._heartbeatsCache.heartbeats),o=Bd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function P_(){return new Date().toISOString().substring(0,10)}function sR(i,e=nR){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),L_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function L_(i){return Bd(JSON.stringify({version:2,heartbeats:i})).length}function oR(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(i){Ao(new ca("platform-logger",e=>new vS(e),"PRIVATE")),Ao(new ca("heartbeat",e=>new rR(e),"PRIVATE")),os(gm,O_,i),os(gm,O_,"esm2020"),os("fire-js","")}lR("");function O0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uR=O0,M0=new Du("auth","Firebase",O0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Fm("@firebase/auth");function cR(i,...e){qd.logLevel<=Ve.WARN&&qd.warn(`Auth (${Lo}): ${i}`,...e)}function Cd(i,...e){qd.logLevel<=Ve.ERROR&&qd.error(`Auth (${Lo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,...e){throw Km(i,...e)}function ci(i,...e){return Km(i,...e)}function Ym(i,e,t){const s={...uR(),[e]:t};return new Du("auth","Firebase",s).create(e,{appName:i.name})}function ki(i){return Ym(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V0(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Jn(i,"argument-error"),Ym(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return M0.create(i,...e)}function Ae(i,e,...t){if(!i)throw Km(e,...t)}function hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Cd(e),new Error(e)}function gr(i,e){i||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){return typeof self<"u"&&self.location?.href||""}function dR(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dR()||BA()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,gr(t>e,"Short delay should be less than long delay!"),this.isMobile=UA()||qA()}get(){return hR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(i,e){gr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gR=new ku(3e4,6e4);function br(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ji(i,e,t,s,o={}){return L0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const p=Nu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return zA()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(y.credentials="include"),P0.fetch()(await U0(i,i.config.apiHost,t,p),y)})}async function L0(i,e,t){i._canInitEmulator=!1;const s={...pR,...e};try{const o=new wR(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw _d(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _d(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw _d(i,"user-disabled",h);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ym(i,_,y);Jn(i,_)}}catch(o){if(o instanceof _r)throw o;Jn(i,"network-request-failed",{message:String(o)})}}async function Ou(i,e,t,s,o={}){const u=await ji(i,e,t,s,o);return"mfaPendingCredential"in u&&Jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function U0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?$m(i.config,o):`${i.config.apiScheme}://${o}`;return mR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function yR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),gR.get())})}}function _d(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ci(i,e,s);return o.customData._tokenResponse=t,o}function j_(i){return i!==void 0&&i.enterprise!==void 0}class vR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _R(i,e){return ji(i,"GET","/v2/recaptchaConfig",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(i,e){return ji(i,"POST","/v1/accounts:delete",e)}async function Hd(i,e){return ji(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ER(i,e=!1){const t=Tt(i),s=await t.getIdToken(e),o=Xm(s);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:hu(sm(o.auth_time)),issuedAtTime:hu(sm(o.iat)),expirationTime:hu(sm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(i){return Number(i)*1e3}function Xm(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const o=b0(t);return o?JSON.parse(o):(Cd("Failed to decode base64 JWT payload"),null)}catch(o){return Cd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function z_(i){const e=Xm(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof _r&&TR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function TR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(i){const e=i.auth,t=await i.getIdToken(),s=await So(i,Hd(e,{idToken:t}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?j0(o.providerUserInfo):[],h=RR(i.providerData,u),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function SR(i){const e=Tt(i);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function j0(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(i,e){const t=await L0(i,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await U0(i,o,"/v1/token",`key=${u}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),P0.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xR(i,e){return ji(i,"POST","/v2/accounts:revokeToken",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=z_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await IR(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new wo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await So(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ER(this,e)}reload(){return SR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Fd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await So(this,bR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:R,emailVerified:A,isAnonymous:z,providerData:Q,stsTokenManager:ee}=t;Ae(R&&ee,e,"internal-error");const W=wo.fromJSON(this.name,ee);Ae(typeof R=="string",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),Ae(typeof A=="boolean",e,"internal-error"),Ae(typeof z=="boolean",e,"internal-error"),Wr(u,e.name),Wr(h,e.name),Wr(p,e.name),Wr(g,e.name),Wr(y,e.name),Wr(_,e.name);const le=new ui({uid:R,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:z,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:_});return Q&&Array.isArray(Q)&&(le.providerData=Q.map(re=>({...re}))),g&&(le._redirectEventId=g),le}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const u=new ui({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fd(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?j0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new wo;p.updateFromIdToken(s);const g=new ui({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;function fr(i){gr(i instanceof Function,"Expected a class definition");let e=B_.get(i);return e?(gr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,B_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z0.type="NONE";const q_=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(i,e,t){return`firebase:${i}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hd(this.auth,{idToken:e}).catch(()=>{});return t?ui._fromGetAccountInfoResponse(this.auth,t,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(fr(q_),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fr(q_);const h=Dd(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const _=await y._get(h);if(_){let R;if(typeof _=="string"){const A=await Hd(e,{idToken:_}).catch(()=>{});if(!A)break;R=await ui._fromGetAccountInfoResponse(e,A,_)}else R=ui._fromJSON(e,_);y!==u&&(p=R),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new vo(u,e,s):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q0(e))return"Blackberry";if(Y0(e))return"Webos";if(q0(e))return"Safari";if((e.includes("chrome/")||H0(e))&&!e.includes("edge/"))return"Chrome";if(G0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function B0(i=ln()){return/firefox\//i.test(i)}function q0(i=ln()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H0(i=ln()){return/crios\//i.test(i)}function F0(i=ln()){return/iemobile/i.test(i)}function G0(i=ln()){return/android/i.test(i)}function Q0(i=ln()){return/blackberry/i.test(i)}function Y0(i=ln()){return/webos/i.test(i)}function Wm(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CR(i=ln()){return Wm(i)&&!!window.navigator?.standalone}function DR(){return HA()&&document.documentMode===10}function K0(i=ln()){return Wm(i)||G0(i)||Y0(i)||Q0(i)||/windows phone/i.test(i)||F0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i,e=[]){let t;switch(i){case"Browser":t=H_(ln());break;case"Worker":t=`${H_(ln())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(i,e={}){return ji(i,"GET","/v2/passwordPolicy",br(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=6;class MR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??OR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hd(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(ki(this));const t=e?Tt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),t=new MR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await xR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fi(i){return Tt(i)}class F_{constructor(e){this.auth=e,this.observer=null,this.addObserver=WA(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PR(i){vh=i}function X0(i){return vh.loadJS(i)}function LR(){return vh.recaptchaEnterpriseScript}function UR(){return vh.gapiScript}function jR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class zR{constructor(){this.enterprise=new BR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qR="recaptcha-enterprise",W0="NO_RECAPTCHA";class HR{constructor(e){this.type=qR,this.auth=fi(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{_R(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new vR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;j_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(W0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(p=>{if(!t&&j_(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=LR();g.length!==0&&(g+=p),X0(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function G_(i,e,t,s=!1,o=!1){const u=new HR(i);let h;if(o)h=W0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Gd(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await G_(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await G_(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(i,e){const t=Qm(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ua(u,e??{}))return o;Jn(o,"already-initialized")}return t.initialize({options:e})}function GR(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(fr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function QR(i,e,t){const s=fi(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Z0(e),{host:h,port:p}=YR(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(ua(y,s.config.emulator)&&ua(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Po(h)?(S0(`${u}//${h}${g}`),R0("Auth",!0)):KR()}function Z0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function YR(i){const e=Z0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Q_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Q_(h)}}}function Q_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function KR(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,t){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function $R(i,e){return ji(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",br(i,e))}async function WR(i,e){return ji(i,"POST","/v1/accounts:sendOobCode",br(i,e))}async function ZR(i,e){return WR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",br(i,e))}async function eI(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends Zm{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _u(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,t,"signInWithPassword",XR);case"emailLink":return JR(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,s,"signUpPassword",$R);case"emailLink":return eI(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="http://localhost";class da extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new da(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,_o(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:tI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iI(i){const e=su(au(i)).link,t=e?su(au(e)).deep_link_id:null,s=su(au(i)).deep_link_id;return(s?su(au(s)).link:null)||s||t||e||i}class Jm{constructor(e){const t=su(au(e)),s=t.apiKey??null,o=t.oobCode??null,u=nI(t.mode??null);Ae(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=iI(e);try{return new Jm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Jm.parseLink(t);return Ae(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends _h{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Mu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return dr.credential(t,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Mu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Mu{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return es.credential(t,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(i,e){return Ou(i,"POST","/v1/accounts:signUp",br(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),h=Y_(s);return new ha({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Y_(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Y_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends _r{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Qd(e,t,s,o)}}function J0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(i,u,e,s):u})}async function sI(i,e,t=!1){const s=await So(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ha._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(i,e,t=!1){const{auth:s}=i;if(En(s.app))return Promise.reject(ki(s));const o="reauthenticate";try{const u=await So(i,J0(s,o,e,i),t);Ae(u.idToken,s,"internal-error");const h=Xm(u.idToken);Ae(h,s,"internal-error");const{sub:p}=h;return Ae(i.uid===p,s,"user-mismatch"),ha._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(i,e,t=!1){if(En(i.app))return Promise.reject(ki(i));const s="signIn",o=await J0(i,s,e),u=await ha._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function oI(i,e){return eE(fi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(i){const e=fi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lI(i,e,t){const s=fi(i);await Gd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZR)}async function uI(i,e,t){if(En(i.app))return Promise.reject(ki(i));const s=fi(i),h=await Gd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&tE(i),g}),p=await ha._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function cI(i,e,t){return En(i.app)?Promise.reject(ki(i)):oI(Tt(i),Uo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(i,e){return ji(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Tt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await So(s,dI(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function fI(i,e,t,s){return Tt(i).onIdTokenChanged(e,t,s)}function pI(i,e,t){return Tt(i).beforeAuthStateChanged(e,t)}function mI(i,e,t,s){return Tt(i).onAuthStateChanged(e,t,s)}function gI(i){return Tt(i).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e3,wI=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);DR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iE.type="LOCAL";const vI=iE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rE.type="SESSION";const sE=rE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,u)),g=await _I(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=eg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(R){const A=R;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(A.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function EI(i){Oi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function TI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AI(){return navigator?.serviceWorker?.controller||null}function SI(){return aE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="firebaseLocalStorageDb",RI=1,Kd="firebaseLocalStorage",lE="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Eh(i,e){return i.transaction([Kd],e?"readwrite":"readonly").objectStore(Kd)}function II(){const i=indexedDB.deleteDatabase(oE);return new Vu(i).toPromise()}function bm(){const i=indexedDB.open(oE,RI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kd,{keyPath:lE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kd)?e(s):(s.close(),await II(),e(await bm()))})})}async function K_(i,e,t){const s=Eh(i,!0).put({[lE]:e,value:t});return new Vu(s).toPromise()}async function xI(i,e){const t=Eh(i,!1).get(e),s=await new Vu(t).toPromise();return s===void 0?null:s.value}function $_(i,e){const t=Eh(i,!0).delete(e);return new Vu(t).toPromise()}const CI=800,DI=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>DI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(SI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TI(),!this.activeServiceWorker)return;this.sender=new bI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await K_(e,Yd,"1"),await $_(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>K_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>xI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Eh(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const NI=uE;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i,e){return e?fr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kI(i){return eE(i.auth,new ng(i),i.bypassAuthState)}function OI(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),aI(t,new ng(i),i.bypassAuthState)}async function MI(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),sI(t,new ng(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kI;case"linkViaPopup":case"linkViaRedirect":return MI;case"reauthViaPopup":case"reauthViaRedirect":return OI;default:Jn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new ku(2e3,1e4);async function PI(i,e,t){if(En(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const s=fi(i);V0(i,e,_h);const o=tg(s,t);return new ra(s,"signInViaPopup",e,o).executeNotNull()}class ra extends cE{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VI.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="pendingRedirect",Nd=new Map;class UI extends cE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const s=await jI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(i,e){const t=hE(e),s=dE(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function zI(i,e){return dE(i)._set(hE(e),"true")}function BI(i,e){Nd.set(i._key(),e)}function dE(i){return fr(i._redirectPersistence)}function hE(i){return Dd(LI,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i,e,t){return HI(i,e,t)}async function HI(i,e,t){if(En(i.app))return Promise.reject(ki(i));const s=fi(i);V0(i,e,_h),await s._initializationPromise;const o=tg(s,t);return await zI(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function FI(i,e){return await fi(i)._initializationPromise,fE(i,e,!1)}async function fE(i,e,t=!1){if(En(i.app))return Promise.reject(ki(i));const s=fi(i),o=tg(s,e),h=await new UI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=600*1e3;class QI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ci(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GI&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function pE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(i,e={}){return ji(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XI=/^https?/;async function WI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KI(i);for(const t of e)try{if(ZI(t))return}catch{}Jn(i,"unauthorized-domain")}function ZI(i){const e=vm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!XI.test(t))return!1;if($I.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new ku(3e4,6e4);function W_(){const i=Oi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ex(i){return new Promise((e,t)=>{function s(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),t(ci(i,"network-request-failed"))},timeout:JI.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=jR("iframefcb");return Oi()[o]=()=>{gapi.load?s():t(ci(i,"network-request-failed"))},X0(`${UR()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw kd=null,e})}let kd=null;function tx(i){return kd=kd||ex(i),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new ku(5e3,15e3),ix="__/auth/iframe",rx="emulator/auth/iframe",sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?$m(e,rx):`https://${i.config.authDomain}/${ix}`,s={apiKey:e.apiKey,appName:i.name,v:Lo},o=ax.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Nu(s).slice(1)}`}async function lx(i){const e=await tx(i),t=Oi().gapi;return Ae(t,i,"internal-error"),e.open({where:document.body,url:ox(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ci(i,"network-request-failed"),p=Oi().setTimeout(()=>{u(h)},nx.get());function g(){Oi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cx=500,dx=600,hx="_blank",fx="http://localhost";class Z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(i,e,t,s=cx,o=dx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...ux,width:s.toString(),height:o.toString(),top:u,left:h},y=ln().toLowerCase();t&&(p=H0(y)?hx:t),B0(y)&&(e=e||fx,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[z,Q])=>`${A}${z}=${Q},`,"");if(CR(y)&&p!=="_self")return mx(e||"",p),new Z_(null);const R=window.open(e||"",p,_);Ae(R,i,"popup-blocked");try{R.focus()}catch{}return new Z_(R)}function mx(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__/auth/handler",yx="emulator/auth/handler",wx=encodeURIComponent("fac");async function J_(i,e,t,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Lo,eventId:o};if(e instanceof _h){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",XA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,R]of Object.entries({}))h[_]=R}if(e instanceof Mu){const _=e.getScopes().filter(R=>R!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await i._getAppCheckToken(),y=g?`#${wx}=${encodeURIComponent(g)}`:"";return`${vx(i)}?${Nu(p).slice(1)}${y}`}function vx({config:i}){return i.emulator?$m(i,yx):`https://${i.authDomain}/${gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=fE,this._overrideRedirectResult=BI}async _openPopup(e,t,s,o){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await J_(e,t,s,vm(),o);return px(e,u,eg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await J_(e,t,s,vm(),o);return EI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lx(e),s=new QI(e);return t.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&t(!!u),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return K0()||q0()||Wm()}}const bx=_x;var eb="@firebase/auth",tb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ax(i){Ao(new ca("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(i)},y=new VR(s,o,u,g);return GR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ao(new ca("auth-internal",e=>{const t=fi(e.getProvider("auth").getImmediate());return(s=>new Ex(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(eb,tb,Tx(i)),os(eb,tb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=300,Rx=A0("authIdTokenMaxAge")||Sx;let nb=null;const Ix=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Rx)return;const o=t?.token;nb!==o&&(nb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xx(i=D0()){const e=Qm(i,"auth");if(e.isInitialized())return e.getImmediate();const t=FR(i,{popupRedirectResolver:bx,persistence:[NI,vI,sE]}),s=A0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Ix(u.toString());pI(t,h,()=>h(t.currentUser)),fI(t,p=>h(p))}}const o=E0("auth");return o&&QR(t,`http://${o}`),t}function Cx(){return document.getElementsByTagName("head")?.[0]??document}PR({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Cx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ax("Browser");var ib=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,mE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function x(){}x.prototype=S.prototype,M.D=S.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(k,O,P){for(var T=Array(arguments.length-2),He=2;He<arguments.length;He++)T[He-2]=arguments[He];return S.prototype[O].apply(k,T)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,x){x||(x=0);var k=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)k[O]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(O=0;16>O;++O)k[O]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=M.g[0],x=M.g[1],O=M.g[2];var P=M.g[3],T=S+(P^x&(O^P))+k[0]+3614090360&4294967295;S=x+(T<<7&4294967295|T>>>25),T=P+(O^S&(x^O))+k[1]+3905402710&4294967295,P=S+(T<<12&4294967295|T>>>20),T=O+(x^P&(S^x))+k[2]+606105819&4294967295,O=P+(T<<17&4294967295|T>>>15),T=x+(S^O&(P^S))+k[3]+3250441966&4294967295,x=O+(T<<22&4294967295|T>>>10),T=S+(P^x&(O^P))+k[4]+4118548399&4294967295,S=x+(T<<7&4294967295|T>>>25),T=P+(O^S&(x^O))+k[5]+1200080426&4294967295,P=S+(T<<12&4294967295|T>>>20),T=O+(x^P&(S^x))+k[6]+2821735955&4294967295,O=P+(T<<17&4294967295|T>>>15),T=x+(S^O&(P^S))+k[7]+4249261313&4294967295,x=O+(T<<22&4294967295|T>>>10),T=S+(P^x&(O^P))+k[8]+1770035416&4294967295,S=x+(T<<7&4294967295|T>>>25),T=P+(O^S&(x^O))+k[9]+2336552879&4294967295,P=S+(T<<12&4294967295|T>>>20),T=O+(x^P&(S^x))+k[10]+4294925233&4294967295,O=P+(T<<17&4294967295|T>>>15),T=x+(S^O&(P^S))+k[11]+2304563134&4294967295,x=O+(T<<22&4294967295|T>>>10),T=S+(P^x&(O^P))+k[12]+1804603682&4294967295,S=x+(T<<7&4294967295|T>>>25),T=P+(O^S&(x^O))+k[13]+4254626195&4294967295,P=S+(T<<12&4294967295|T>>>20),T=O+(x^P&(S^x))+k[14]+2792965006&4294967295,O=P+(T<<17&4294967295|T>>>15),T=x+(S^O&(P^S))+k[15]+1236535329&4294967295,x=O+(T<<22&4294967295|T>>>10),T=S+(O^P&(x^O))+k[1]+4129170786&4294967295,S=x+(T<<5&4294967295|T>>>27),T=P+(x^O&(S^x))+k[6]+3225465664&4294967295,P=S+(T<<9&4294967295|T>>>23),T=O+(S^x&(P^S))+k[11]+643717713&4294967295,O=P+(T<<14&4294967295|T>>>18),T=x+(P^S&(O^P))+k[0]+3921069994&4294967295,x=O+(T<<20&4294967295|T>>>12),T=S+(O^P&(x^O))+k[5]+3593408605&4294967295,S=x+(T<<5&4294967295|T>>>27),T=P+(x^O&(S^x))+k[10]+38016083&4294967295,P=S+(T<<9&4294967295|T>>>23),T=O+(S^x&(P^S))+k[15]+3634488961&4294967295,O=P+(T<<14&4294967295|T>>>18),T=x+(P^S&(O^P))+k[4]+3889429448&4294967295,x=O+(T<<20&4294967295|T>>>12),T=S+(O^P&(x^O))+k[9]+568446438&4294967295,S=x+(T<<5&4294967295|T>>>27),T=P+(x^O&(S^x))+k[14]+3275163606&4294967295,P=S+(T<<9&4294967295|T>>>23),T=O+(S^x&(P^S))+k[3]+4107603335&4294967295,O=P+(T<<14&4294967295|T>>>18),T=x+(P^S&(O^P))+k[8]+1163531501&4294967295,x=O+(T<<20&4294967295|T>>>12),T=S+(O^P&(x^O))+k[13]+2850285829&4294967295,S=x+(T<<5&4294967295|T>>>27),T=P+(x^O&(S^x))+k[2]+4243563512&4294967295,P=S+(T<<9&4294967295|T>>>23),T=O+(S^x&(P^S))+k[7]+1735328473&4294967295,O=P+(T<<14&4294967295|T>>>18),T=x+(P^S&(O^P))+k[12]+2368359562&4294967295,x=O+(T<<20&4294967295|T>>>12),T=S+(x^O^P)+k[5]+4294588738&4294967295,S=x+(T<<4&4294967295|T>>>28),T=P+(S^x^O)+k[8]+2272392833&4294967295,P=S+(T<<11&4294967295|T>>>21),T=O+(P^S^x)+k[11]+1839030562&4294967295,O=P+(T<<16&4294967295|T>>>16),T=x+(O^P^S)+k[14]+4259657740&4294967295,x=O+(T<<23&4294967295|T>>>9),T=S+(x^O^P)+k[1]+2763975236&4294967295,S=x+(T<<4&4294967295|T>>>28),T=P+(S^x^O)+k[4]+1272893353&4294967295,P=S+(T<<11&4294967295|T>>>21),T=O+(P^S^x)+k[7]+4139469664&4294967295,O=P+(T<<16&4294967295|T>>>16),T=x+(O^P^S)+k[10]+3200236656&4294967295,x=O+(T<<23&4294967295|T>>>9),T=S+(x^O^P)+k[13]+681279174&4294967295,S=x+(T<<4&4294967295|T>>>28),T=P+(S^x^O)+k[0]+3936430074&4294967295,P=S+(T<<11&4294967295|T>>>21),T=O+(P^S^x)+k[3]+3572445317&4294967295,O=P+(T<<16&4294967295|T>>>16),T=x+(O^P^S)+k[6]+76029189&4294967295,x=O+(T<<23&4294967295|T>>>9),T=S+(x^O^P)+k[9]+3654602809&4294967295,S=x+(T<<4&4294967295|T>>>28),T=P+(S^x^O)+k[12]+3873151461&4294967295,P=S+(T<<11&4294967295|T>>>21),T=O+(P^S^x)+k[15]+530742520&4294967295,O=P+(T<<16&4294967295|T>>>16),T=x+(O^P^S)+k[2]+3299628645&4294967295,x=O+(T<<23&4294967295|T>>>9),T=S+(O^(x|~P))+k[0]+4096336452&4294967295,S=x+(T<<6&4294967295|T>>>26),T=P+(x^(S|~O))+k[7]+1126891415&4294967295,P=S+(T<<10&4294967295|T>>>22),T=O+(S^(P|~x))+k[14]+2878612391&4294967295,O=P+(T<<15&4294967295|T>>>17),T=x+(P^(O|~S))+k[5]+4237533241&4294967295,x=O+(T<<21&4294967295|T>>>11),T=S+(O^(x|~P))+k[12]+1700485571&4294967295,S=x+(T<<6&4294967295|T>>>26),T=P+(x^(S|~O))+k[3]+2399980690&4294967295,P=S+(T<<10&4294967295|T>>>22),T=O+(S^(P|~x))+k[10]+4293915773&4294967295,O=P+(T<<15&4294967295|T>>>17),T=x+(P^(O|~S))+k[1]+2240044497&4294967295,x=O+(T<<21&4294967295|T>>>11),T=S+(O^(x|~P))+k[8]+1873313359&4294967295,S=x+(T<<6&4294967295|T>>>26),T=P+(x^(S|~O))+k[15]+4264355552&4294967295,P=S+(T<<10&4294967295|T>>>22),T=O+(S^(P|~x))+k[6]+2734768916&4294967295,O=P+(T<<15&4294967295|T>>>17),T=x+(P^(O|~S))+k[13]+1309151649&4294967295,x=O+(T<<21&4294967295|T>>>11),T=S+(O^(x|~P))+k[4]+4149444226&4294967295,S=x+(T<<6&4294967295|T>>>26),T=P+(x^(S|~O))+k[11]+3174756917&4294967295,P=S+(T<<10&4294967295|T>>>22),T=O+(S^(P|~x))+k[2]+718787259&4294967295,O=P+(T<<15&4294967295|T>>>17),T=x+(P^(O|~S))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(T<<21&4294967295|T>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var x=S-this.blockSize,k=this.B,O=this.h,P=0;P<S;){if(O==0)for(;P<=x;)o(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(k[O++]=M.charCodeAt(P++),O==this.blockSize){o(this,k),O=0;break}}else for(;P<S;)if(k[O++]=M[P++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var x=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=x&255,x/=256;for(this.u(M),M=Array(16),S=x=0;4>S;++S)for(var k=0;32>k;k+=8)M[x++]=this.g[S]>>>k&255;return M};function u(M,S){var x=p;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=S(M)}function h(M,S){this.h=S;for(var x=[],k=!0,O=M.length-1;0<=O;O--){var P=M[O]|0;k&&P==S||(x[O]=P,k=!1)}this.g=x}var p={};function g(M){return-128<=M&&128>M?u(M,function(S){return new h([S|0],0>S?-1:0)}):new h([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return R;if(0>M)return W(y(-M));for(var S=[],x=1,k=0;M>=x;k++)S[k]=M/x|0,x*=4294967296;return new h(S,0)}function _(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return W(_(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),k=R,O=0;O<M.length;O+=8){var P=Math.min(8,M.length-O),T=parseInt(M.substring(O,O+P),S);8>P?(P=y(Math.pow(S,P)),k=k.j(P).add(y(T))):(k=k.j(x),k=k.add(y(T)))}return k}var R=g(0),A=g(1),z=g(16777216);i=h.prototype,i.m=function(){if(ee(this))return-W(this).m();for(var M=0,S=1,x=0;x<this.g.length;x++){var k=this.i(x);M+=(0<=k?k:4294967296+k)*S,S*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Q(this))return"0";if(ee(this))return"-"+W(this).toString(M);for(var S=y(Math.pow(M,6)),x=this,k="";;){var O=Ie(x,S).g;x=le(x,O.j(S));var P=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=O,Q(x))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Q(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function ee(M){return M.h==-1}i.l=function(M){return M=le(this,M),ee(M)?-1:Q(M)?0:1};function W(M){for(var S=M.g.length,x=[],k=0;k<S;k++)x[k]=~M.g[k];return new h(x,~M.h).add(A)}i.abs=function(){return ee(this)?W(this):this},i.add=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],k=0,O=0;O<=S;O++){var P=k+(this.i(O)&65535)+(M.i(O)&65535),T=(P>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);k=T>>>16,P&=65535,T&=65535,x[O]=T<<16|P}return new h(x,x[x.length-1]&-2147483648?-1:0)};function le(M,S){return M.add(W(S))}i.j=function(M){if(Q(this)||Q(M))return R;if(ee(this))return ee(M)?W(this).j(W(M)):W(W(this).j(M));if(ee(M))return W(this.j(W(M)));if(0>this.l(z)&&0>M.l(z))return y(this.m()*M.m());for(var S=this.g.length+M.g.length,x=[],k=0;k<2*S;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<M.g.length;O++){var P=this.i(k)>>>16,T=this.i(k)&65535,He=M.i(O)>>>16,Xe=M.i(O)&65535;x[2*k+2*O]+=T*Xe,re(x,2*k+2*O),x[2*k+2*O+1]+=P*Xe,re(x,2*k+2*O+1),x[2*k+2*O+1]+=T*He,re(x,2*k+2*O+1),x[2*k+2*O+2]+=P*He,re(x,2*k+2*O+2)}for(k=0;k<S;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=S;k<2*S;k++)x[k]=0;return new h(x,0)};function re(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ne(M,S){this.g=M,this.h=S}function Ie(M,S){if(Q(S))throw Error("division by zero");if(Q(M))return new ne(R,R);if(ee(M))return S=Ie(W(M),S),new ne(W(S.g),W(S.h));if(ee(S))return S=Ie(M,W(S)),new ne(W(S.g),S.h);if(30<M.g.length){if(ee(M)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var x=A,k=S;0>=k.l(M);)x=_e(x),k=_e(k);var O=Me(x,1),P=Me(k,1);for(k=Me(k,2),x=Me(x,2);!Q(k);){var T=P.add(k);0>=T.l(M)&&(O=O.add(x),P=T),k=Me(k,1),x=Me(x,1)}return S=le(M,O.j(S)),new ne(O,S)}for(O=R;0<=M.l(S);){for(x=Math.max(1,Math.floor(M.m()/S.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=y(x),T=P.j(S);ee(T)||0<T.l(M);)x-=k,P=y(x),T=P.j(S);Q(P)&&(P=A),O=O.add(P),M=le(M,T)}return new ne(O,M)}i.A=function(M){return Ie(this,M).h},i.and=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)&M.i(k);return new h(x,this.h&M.h)},i.or=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)|M.i(k);return new h(x,this.h|M.h)},i.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)^M.i(k);return new h(x,this.h^M.h)};function _e(M){for(var S=M.g.length+1,x=[],k=0;k<S;k++)x[k]=M.i(k)<<1|M.i(k-1)>>>31;return new h(x,M.h)}function Me(M,S){var x=S>>5;S%=32;for(var k=M.g.length-x,O=[],P=0;P<k;P++)O[P]=0<S?M.i(P+x)>>>S|M.i(P+x+1)<<32-S:M.i(P+x);return new h(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,ls=h}).apply(typeof ib<"u"?ib:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gE,ou,yE,Od,Em,wE,vE,_E;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function o(c,m){if(m)e:{var w=s;c=c.split(".");for(var E=0;E<c.length-1;E++){var L=c[E];if(!(L in w))break e;w=w[L]}c=c[c.length-1],E=w[c],m=m(E),m!=E&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var w=0,E=!1,L={next:function(){if(!E&&w<c.length){var H=w++;return{value:m(H,c[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,w){return c.call.apply(c.bind,arguments)}function R(c,m,w){if(!c)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function A(c,m,w){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:R,A.apply(null,arguments)}function z(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var E=w.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function Q(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(E,L,H){for(var ie=Array(arguments.length-2),je=2;je<arguments.length;je++)ie[je-2]=arguments[je];return m.prototype[L].apply(E,ie)}}function ee(c){const m=c.length;if(0<m){const w=Array(m);for(let E=0;E<m;E++)w[E]=c[E];return w}return[]}function W(c,m){for(let w=1;w<arguments.length;w++){const E=arguments[w];if(g(E)){const L=c.length||0,H=E.length||0;c.length=L+H;for(let ie=0;ie<H;ie++)c[L+ie]=E[ie]}else c.push(E)}}class le{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var _e=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Me(c,m,w){for(const E in c)m.call(w,c[E],E,c)}function M(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function S(c){const m={};for(const w in c)m[w]=c[w];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,m){let w,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(w in E)c[w]=E[w];for(let H=0;H<x.length;H++)w=x[H],Object.prototype.hasOwnProperty.call(E,w)&&(c[w]=E[w])}}function O(c){var m=1;c=c.split(":");const w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function P(c){p.setTimeout(()=>{throw c},0)}function T(){var c=Ce;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class He{constructor(){this.h=this.g=null}add(m,w){const E=Xe.get();E.set(m,w),this.h?this.h.next=E:this.g=E,this.h=E}}var Xe=new le(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let se,pe=!1,Ce=new He,D=()=>{const c=p.Promise.resolve(void 0);se=()=>{c.then(X)}};var X=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(w){P(w)}var m=Xe;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}pe=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};p.addEventListener("test",w,m),p.removeEventListener("test",w,m)}catch{}return c})();function he(c,m){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(_e){e:{try{Ie(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&he.aa.h.call(this)}}Q(he,te);var ce={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Yt(c,m,w,E,L){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!E,this.ha=L,this.key=++Ke,this.da=this.fa=!1}function Ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ti(c){this.src=c,this.g={},this.h=0}ti.prototype.add=function(c,m,w,E,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ie=_s(c,m,E,L);return-1<ie?(m=c[ie],w||(m.fa=!1)):(m=new Yt(m,this.src,H,!!E,L),m.fa=w,c.push(m)),m};function vs(c,m){var w=m.type;if(w in c.g){var E=c.g[w],L=Array.prototype.indexOf.call(E,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(E,L,1),H&&(Ut(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function _s(c,m,w,E){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==m&&H.capture==!!w&&H.ha==E)return L}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),$o={};function Xu(c,m,w,E,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Xu(c,m[H],w,E,L);return null}return w=Wu(w),c&&c[We]?c.K(m,w,y(E)?!!E.capture:!1,L):zn(c,m,w,!1,E,L)}function zn(c,m,w,E,L,H){if(!m)throw Error("Invalid event type");var ie=y(L)?!!L.capture:!!L,je=ba(c);if(je||(c[bs]=je=new ti(c)),w=je.add(m,w,E,ie,H),w.proxy)return w;if(E=Yh(),w.proxy=E,E.src=c,E.listener=w,c.addEventListener)ye||(L=ie),L===void 0&&(L=!1),c.addEventListener(m.toString(),E,L);else if(c.attachEvent)c.attachEvent(Es(m.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Yh(){function c(w){return m.call(c.src,c.listener,w)}const m=Kh;return c}function Xo(c,m,w,E,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Xo(c,m[H],w,E,L);else E=y(E)?!!E.capture:!!E,w=Wu(w),c&&c[We]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],w=_s(H,w,E,L),-1<w&&(Ut(H[w]),Array.prototype.splice.call(H,w,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=ba(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_s(m,w,E,L)),(w=-1<c?m[c]:null)&&_a(w))}function _a(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[We])vs(m.i,c);else{var w=c.type,E=c.proxy;m.removeEventListener?m.removeEventListener(w,E,c.capture):m.detachEvent?m.detachEvent(Es(w),E):m.addListener&&m.removeListener&&m.removeListener(E),(w=ba(m))?(vs(w,c),w.h==0&&(w.src=null,m[bs]=null)):Ut(c)}}}function Es(c){return c in $o?$o[c]:$o[c]="on"+c}function Kh(c,m){if(c.da)c=!0;else{m=new he(m,this);var w=c.listener,E=c.ha||c.src;c.fa&&_a(c),c=w.call(E,m)}return c}function ba(c){return c=c[bs],c instanceof ti?c:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wu(c){return typeof c=="function"?c:(c[Wo]||(c[Wo]=function(m){return c.handleEvent(m)}),c[Wo])}function pt(){ae.call(this),this.i=new ti(this),this.M=this,this.F=null}Q(pt,ae),pt.prototype[We]=!0,pt.prototype.removeEventListener=function(c,m,w,E){Xo(this,c,m,w,E)};function Ze(c,m){var w,E=c.F;if(E)for(w=[];E;E=E.F)w.push(E);if(c=c.M,E=m.type||m,typeof m=="string")m=new te(m,c);else if(m instanceof te)m.target=m.target||c;else{var L=m;m=new te(E,c),k(m,L)}if(L=!0,w)for(var H=w.length-1;0<=H;H--){var ie=m.g=w[H];L=An(ie,E,!0,m)&&L}if(ie=m.g=c,L=An(ie,E,!0,m)&&L,L=An(ie,E,!1,m)&&L,w)for(H=0;H<w.length;H++)ie=m.g=w[H],L=An(ie,E,!1,m)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],E=0;E<w.length;E++)Ut(w[E]);delete c.g[m],c.h--}}this.F=null},pt.prototype.K=function(c,m,w,E){return this.i.add(String(c),m,!1,w,E)},pt.prototype.L=function(c,m,w,E){return this.i.add(String(c),m,!0,w,E)};function An(c,m,w,E){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var ie=m[H];if(ie&&!ie.da&&ie.capture==w){var je=ie.listener,Ot=ie.ha||ie.src;ie.fa&&vs(c.i,ie),L=je.call(Ot,E)!==!1&&L}}return L&&!E.defaultPrevented}function nn(c,m,w){if(typeof c=="function")w&&(c=A(c,w));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function Zu(c){c.g=nn(()=>{c.g=null,c.i&&(c.i=!1,Zu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class $h extends ae{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){ae.call(this),this.h=c,this.g={}}Q(Ts,ae);var As=[];function Ss(c){Me(c.g,function(m,w){this.g.hasOwnProperty(w)&&_a(m)},c),c.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),Ss(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=p.JSON.stringify,Ea=p.JSON.parse,Rs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function Zo(){}Zo.prototype.h=null;function Jo(c){return c.h||(c.h=c.i())}function el(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){te.call(this,"d")}Q(Bi,te);function tl(){te.call(this,"c")}Q(tl,te);var pi={},nl=null;function Tr(){return nl=nl||new pt}pi.La="serverreachability";function Ta(c){te.call(this,pi.La,c)}Q(Ta,te);function Ar(c){const m=Tr();Ze(m,new Ta(m))}pi.STAT_EVENT="statevent";function Ju(c,m){te.call(this,pi.STAT_EVENT,c),this.stat=m}Q(Ju,te);function ct(c){const m=Tr();Ze(m,new Ju(m,c))}pi.Ma="timingevent";function kt(c,m){te.call(this,pi.Ma,c),this.size=m}Q(kt,te);function St(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function il(c,m,w,E,L,H){c.info(function(){if(c.g)if(H)for(var ie="",je=H.split("&"),Ot=0;Ot<je.length;Ot++){var ze=je[Ot].split("=");if(1<ze.length){var zt=ze[0];ze=ze[1];var Mt=zt.split("_");ie=2<=Mt.length&&Mt[1]=="type"?ie+(zt+"="+ze+"&"):ie+(zt+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+w+`
`+ie})}function Xh(c,m,w,E,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+w+`
`+H+" "+ie})}function Sr(c,m,w,E){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Is(c,w)+(E?" "+E:"")})}function ec(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Is(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var E=w[c];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return ni(w)}catch{return m}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function gi(){}Q(gi,Zo),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},mi=new gi;function cn(c,m,w,E){this.j=c,this.i=m,this.l=w,this.R=E||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var rl={},Aa={};function ii(c,m,w){c.L=1,c.v=ks(Sn(m)),c.m=w,c.P=!0,Hi(c,null)}function Hi(c,m){c.F=Date.now(),xs(c),c.A=Sn(c.v);var w=c.A,E=c.R;Array.isArray(E)||(E=[String(E)]),cl(w.i,"t",E),c.C=0,w=c.j.J,c.h=new wt,c.g=gc(c.j,w?m:null,!c.m),0<c.O&&(c.M=new $h(A(c.Y,c,c.g),c.O)),m=c.U,w=c.g,E=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(As[0]=L.toString()),L=As);for(var H=0;H<L.length;H++){var ie=Xu(w,L[H],E||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ar(),il(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const m=this.M;m&&Gn(c)==3?m.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const Mt=Gn(this.g);var m=this.g.Ba();const Wi=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=Wi?Ar(3):Ar(2)),Ir(this);var w=this.g.Z();this.X=w;t:if(tc(this)){var E=lc(this.g);c="";var L=E.length,H=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),yi(this);var ie="";break t}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(E[m],{stream:!(H&&m==L-1)});E.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=w==200,Xh(this.i,this.u,this.A,this.l,this.R,Mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ot=this.g;if((je=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(je)){var ze=je;break t}}ze=null}if(w=ze)Sr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,w);else{this.o=!1,this.s=3,ct(12),Kt(this),yi(this);break e}}if(this.P){w=!0;let $t;for(;!this.J&&this.C<ie.length;)if($t=nc(this,ie),$t==Aa){Mt==4&&(this.s=4,ct(14),w=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==rl){this.s=4,ct(15),Sr(this.i,this.l,ie,"[Invalid Chunk]"),w=!1;break}else Sr(this.i,this.l,$t,null),Cs(this,$t);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ie.length!=0||this.h.h||(this.s=1,ct(16),w=!1),this.o=this.o&&w,!w)Sr(this.i,this.l,ie,"[Invalid Chunked Response]"),Kt(this),yi(this);else if(0<ie.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),zs(zt),zt.M=!0,ct(11))}}else Sr(this.i,this.l,ie,null),Cs(this,ie);Mt==4&&Kt(this),this.o&&!this.J&&(Mt==4?fc(this.j,this):(this.o=!1,xs(this)))}else tf(this.g),w==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Kt(this),yi(this)}}}catch{}finally{}};function tc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nc(c,m){var w=c.C,E=m.indexOf(`
`,w);return E==-1?Aa:(w=Number(m.substring(w,E)),isNaN(w)?rl:(E+=1,E+w>m.length?Aa:(m=m.slice(E,E+w),c.C=E+w,m)))}cn.prototype.cancel=function(){this.J=!0,Kt(this)};function xs(c){c.S=Date.now()+c.I,ic(c,c.I)}function ic(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=St(A(c.ba,c),m)}function Ir(c){c.B&&(p.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ec(this.i,this.A),this.L!=2&&(Ar(),ct(17)),Kt(this),this.s=2,yi(this)):ic(this,this.S-c)};function yi(c){c.j.G==0||c.J||fc(c.j,c)}function Kt(c){Ir(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Ss(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Cs(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||sl(w.h,c))){if(!c.K&&sl(w.h,c)&&w.G==3){try{var E=w.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Pa(w),Ma(w);else break e;ml(w),ct(18)}}else w.za=L[1],0<w.za-w.T&&37500>L[2]&&w.F&&w.v==0&&!w.C&&(w.C=St(A(w.Za,w),6e3));if(1>=Ra(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Xi(w,11)}else if((c.K||w.g==c)&&Pa(w),!re(m))for(L=w.Da.g.parse(m),m=0;m<L.length;m++){let ze=L[m];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const zt=ze[3];zt!=null&&(w.la=zt,w.j.info("VER="+w.la));const Mt=ze[4];Mt!=null&&(w.Aa=Mt,w.j.info("SVER="+w.Aa));const Wi=ze[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(E=1.5*Wi,w.L=E,w.j.info("backChannelRequestTimeoutMs_="+E)),E=w;const $t=c.g;if($t){const Ai=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var H=E.h;H.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ia(H,H.h),H.h=null))}if(E.D){const yl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(E.ya=yl,tt(E.I,E.D,yl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),E=w;var ie=c;if(E.qa=mc(E,E.J?E.ia:null,E.W),ie.K){dn(E.h,ie);var je=ie,Ot=E.L;Ot&&(je.I=Ot),je.B&&(Ir(je),xs(je)),E.g=ie}else dc(E);0<w.i.length&&Va(w)}else ze[0]!="stop"&&ze[0]!="close"||Xi(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Xi(w,7):fl(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}Ar(4)}catch{}}var rc=class{constructor(c,m){this.g=c,this.map=m}};function Fi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function sl(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ia(c,m){c.g?c.g.add(m):c.h=m}function dn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Fi.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function al(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.D);return m}return ee(c.i)}function Wh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],w=c.length,E=0;E<w;E++)m.push(c[E]);return m}m=[],w=0;for(E in c)m[w++]=c[E];return m}function xa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(const E in c)m[w++]=E;return m}}}function ol(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=xa(c),E=Wh(c),L=E.length,H=0;H<L;H++)m.call(void 0,E[H],w&&w[H],c)}var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var E=c[w].indexOf("="),L=null;if(0<=E){var H=c[w].substring(0,E);L=c[w].substring(E+1)}else H=c[w];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Rt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rt){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,xr(this,c.s),this.l=c.l;var m=c.i,w=new Qi;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),Gi(this,w),this.m=c.m}else c&&(m=String(c).match(Ds))?(this.h=!1,Ns(this,m[1]||"",!0),this.o=qn(m[2]||""),this.g=qn(m[3]||"",!0),xr(this,m[4]),this.l=qn(m[5]||"",!0),Gi(this,m[6]||"",!0),this.m=qn(m[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Rt.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Os(m,ll,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Os(m,ll,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Os(w,w.charAt(0)=="/"?Jh:ul,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Os(w,Ca)),c.join("")};function Sn(c){return new Rt(c)}function Ns(c,m,w){c.j=w?qn(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function xr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Gi(c,m,w){m instanceof Qi?(c.i=m,ac(c.i,c.h)):(w||(m=Os(m,ef)),c.i=new Qi(m,c.h))}function tt(c,m,w){c.i.set(m,w)}function ks(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,sc),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ll=/[#\/\?@]/g,ul=/[#\?:]/g,Jh=/[#\?]/g,ef=/[#\?@]/g,Ca=/#/g;function Qi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}i=Qi.prototype,i.add=function(c,m){Hn(this),this.i=null,c=wi(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function Yi(c,m){Hn(c),m=wi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ki(c,m){return Hn(c),m=wi(c,m),c.g.has(m)}i.forEach=function(c,m){Hn(this),this.g.forEach(function(w,E){w.forEach(function(L){c.call(m,L,E,this)},this)},this)},i.na=function(){Hn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let E=0;E<m.length;E++){const L=c[E];for(let H=0;H<L.length;H++)w.push(m[E])}return w},i.V=function(c){Hn(this);let m=[];if(typeof c=="string")Ki(this,c)&&(m=m.concat(this.g.get(wi(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},i.set=function(c,m){return Hn(this),this.i=null,c=wi(this,c),Ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},i.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function cl(c,m,w){Yi(c,m),0<w.length&&(c.i=null,c.g.set(wi(c,m),ee(w)),c.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var E=m[w];const H=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var L=H;ie[E]!==""&&(L+="="+encodeURIComponent(String(ie[E]))),c.push(L)}}return this.i=c.join("&")};function wi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ac(c,m){m&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(w,E){var L=E.toLowerCase();E!=L&&(Yi(this,E),cl(this,L,w))},c)),c.j=m}function Ms(c,m){const w=new Bn;if(p.Image){const E=new Image;E.onload=z(Fn,w,"TestLoadImage: loaded",!0,m,E),E.onerror=z(Fn,w,"TestLoadImage: error",!1,m,E),E.onabort=z(Fn,w,"TestLoadImage: abort",!1,m,E),E.ontimeout=z(Fn,w,"TestLoadImage: timeout",!1,m,E),p.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else m(!1)}function ri(c,m){const w=new Bn,E=new AbortController,L=setTimeout(()=>{E.abort(),Fn(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:E.signal}).then(H=>{clearTimeout(L),H.ok?Fn(w,"TestPingServer: ok",!0,m):Fn(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fn(w,"TestPingServer: error",!1,m)})}function Fn(c,m,w,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(w)}catch{}}function Vs(){this.g=new Rs}function vi(c,m,w){const E=w||"";try{ol(c,function(L,H){let ie=L;y(L)&&(ie=ni(L)),m.push(E+H+"="+encodeURIComponent(ie))})}catch(L){throw m.push(E+"type="+encodeURIComponent("_badmap")),L}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(Cr,Zo),Cr.prototype.g=function(){return new $i(this.l,this.j)},Cr.prototype.i=(function(c){return function(){return c}})({});function $i(c,m){pt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q($i,pt),i=$i.prototype,i.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,bi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_i(this):bi(this),this.readyState==3&&dl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},i.Qa=function(c){this.g&&(this.response=c,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bi(c)}i.setRequestHeader=function(c,m){this.u.append(c,m)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hl(c){let m="";return Me(c,function(w,E){m+=E,m+=":",m+=w,m+=`\r
`}),m}function jt(c,m,w){e:{for(E in w){var E=!1;break e}E=!0}E||(w=hl(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):tt(c,m,w))}function $e(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q($e,pt);var Da=/^https?$/i,Ps=["POST","PUT"];i=$e.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,m,w,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?Jo(this.o):Jo(mi),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){oc(this,H);return}if(c=w||"",w=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)w.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())w.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),L=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ps,m,void 0))||E||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of w)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){oc(this,H)}};function oc(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Na(c),Ei(c)}function Na(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),Ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},i.bb=function(){ka(this)};function ka(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)nn(c.Ea,0,c);else if(Ze(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var E;if(E=ie===0){var L=String(c.D).match(Ds)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),E=!Da.test(L?L.toLowerCase():"")}w=E}if(w)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var H=2<Gn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",Na(c)}}finally{Ei(c)}}}}function Ei(c,m){if(c.g){Ls(c);const w=c.g,E=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ze(c,"ready");try{w.onreadystatechange=E}catch{}}}function Ls(c){c.I&&(p.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ea(m)}};function lc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const m={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(re(c[E]))continue;var w=O(c[E]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=m[L]||[];m[L]=H,H.push(w)}M(m,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function Oa(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new Vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Oa.prototype,i.la=8,i.G=1,i.connect=function(c,m,w,E){ct(0),this.W=c,this.H=m||{},w&&E!==void 0&&(this.H.OSID=w,this.H.OAID=E),this.F=this.X,this.I=mc(this,null,this.W),Va(this)};function fl(c){if(uc(c),c.G==3){var m=c.U++,w=Sn(c.I);if(tt(w,"SID",c.K),tt(w,"RID",m),tt(w,"TYPE","terminate"),js(c,w),m=new cn(c,c.j,m),m.L=2,m.v=ks(Sn(w)),w=!1,p.navigator&&p.navigator.sendBeacon)try{w=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&p.Image&&(new Image().src=m.v,w=!0),w||(m.g=gc(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xs(m)}pc(c)}function Ma(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function uc(c){Ma(c),c.u&&(p.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Va(c){if(!Sa(c.h)&&!c.s){c.s=!0;var m=c.Ga;se||D(),pe||(se(),pe=!0),Ce.add(m,c),c.B=0}}function nf(c,m){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=St(A(c.Ga,c,m),gl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new cn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=S(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var E=this.i[w];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=cc(this,L,m),w=Sn(this.I),tt(w,"RID",c),tt(w,"CVER",22),this.D&&tt(w,"X-HTTP-Session-Id",this.D),js(this,w),H&&(this.O?m="headers="+encodeURIComponent(String(hl(H)))+"&"+m:this.m&&jt(w,this.m,H)),Ia(this.h,L),this.Ua&&tt(w,"TYPE","init"),this.P?(tt(w,"$req",m),tt(w,"SID","null"),L.T=!0,ii(L,w,null)):ii(L,w,m),this.G=2}}else this.G==3&&(c?pl(this,c):this.i.length==0||Sa(this.h)||pl(this))};function pl(c,m){var w;m?w=m.l:w=c.U++;const E=Sn(c.I);tt(E,"SID",c.K),tt(E,"RID",w),tt(E,"AID",c.T),js(c,E),c.m&&c.o&&jt(E,c.m,c.o),w=new cn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=cc(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ia(c.h,w),ii(w,E,m)}function js(c,m){c.H&&Me(c.H,function(w,E){tt(m,E,w)}),c.l&&ol({},function(w,E){tt(m,E,w)})}function cc(c,m,w){w=Math.min(c.i.length,w);var E=c.l?A(c.l.Na,c.l,c):null;e:{var L=c.i;let H=-1;for(;;){const ie=["count="+w];H==-1?0<w?(H=L[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let je=!0;for(let Ot=0;Ot<w;Ot++){let ze=L[Ot].g;const zt=L[Ot].map;if(ze-=H,0>ze)H=Math.max(0,L[Ot].g-100),je=!1;else try{vi(zt,ie,"req"+ze+"_")}catch{E&&E(zt)}}if(je){E=ie.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,E}function dc(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;se||D(),pe||(se(),pe=!0),Ce.add(m,c),c.v=0}}function ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=St(A(c.Fa,c),gl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=St(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Ma(this),hc(this))};function zs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function hc(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Sn(c.qa);tt(m,"RID","rpc"),tt(m,"SID",c.K),tt(m,"AID",c.T),tt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(m,"TO",c.ja),tt(m,"TYPE","xmlhttp"),js(c,m),c.m&&c.o&&jt(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=ks(Sn(m)),w.m=null,w.P=!0,Hi(w,c)}i.Za=function(){this.C!=null&&(this.C=null,Ma(this),ml(this),ct(19))};function Pa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function fc(c,m){var w=null;if(c.g==m){Pa(c),zs(c),c.g=null;var E=2}else if(sl(c.h,m))w=m.D,dn(c.h,m),E=1;else return;if(c.G!=0){if(m.o)if(E==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;E=Tr(),Ze(E,new kt(E,w)),Va(c)}else dc(c);else if(L=m.s,L==3||L==0&&0<m.X||!(E==1&&nf(c,m)||E==2&&ml(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),L){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function gl(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function Xi(c,m){if(c.j.info("Error code "+m),m==2){var w=A(c.fb,c),E=c.Xa;const L=!E;E=new Rt(E||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ns(E,"https"),ks(E),L?Ms(E.toString(),w):ri(E.toString(),w)}else ct(2);c.G=0,c.l&&c.l.sa(m),pc(c),uc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function pc(c){if(c.G=0,c.ka=[],c.l){const m=al(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ka,m),W(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function mc(c,m,w){var E=w instanceof Rt?Sn(w):new Rt(w);if(E.g!="")m&&(E.g=m+"."+E.g),xr(E,E.s);else{var L=p.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new Rt(null);E&&Ns(H,E),m&&(H.g=m),L&&xr(H,L),w&&(H.l=w),E=H}return w=c.D,m=c.ya,w&&m&&tt(E,w,m),tt(E,"VER",c.la),js(c,E),E}function gc(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new $e(new Cr({eb:w})):new $e(c.pa),m.Ha(c.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}i=yc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function La(){}La.prototype.g=function(c,m){return new hn(c,m)};function hn(c,m){pt.call(this),this.g=new Oa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!re(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!re(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ti(this)}Q(hn,pt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){fl(this.g)},hn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ni(c),c=w);m.i.push(new rc(m.Ya++,c)),m.G==3&&Va(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,hn.aa.N.call(this)};function wc(c){Bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}Q(wc,Bi);function vc(){tl.call(this),this.status=1}Q(vc,tl);function Ti(c){this.g=c}Q(Ti,yc),Ti.prototype.ua=function(){Ze(this.g,"a")},Ti.prototype.ta=function(c){Ze(this.g,new wc(c))},Ti.prototype.sa=function(c){Ze(this.g,new vc)},Ti.prototype.ra=function(){Ze(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,_E=function(){return new La},vE=function(){return Tr()},wE=pi,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Od=Rr,qi.COMPLETE="complete",yE=qi,el.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ou=el,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,gE=$e}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const rb="@firebase/firestore",sb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Fm("@firebase/firestore");function po(){return fa.logLevel}function ue(i,...e){if(fa.logLevel<=Ve.DEBUG){const t=e.map(ig);fa.debug(`Firestore (${jo}): ${i}`,...t)}}function yr(i,...e){if(fa.logLevel<=Ve.ERROR){const t=e.map(ig);fa.error(`Firestore (${jo}): ${i}`,...t)}}function Ro(i,...e){if(fa.logLevel<=Ve.WARN){const t=e.map(ig);fa.warn(`Firestore (${jo}): ${i}`,...t)}}function ig(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,bE(i,s,t)}function bE(i,e,t){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw yr(s),new Error(s)}function Ue(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||bE(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends _r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class Nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kx{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new di;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new di,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new di)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new EE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class Ox{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mx{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new Ox(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ab(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Px(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Tm(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Pe(o,u):om(o)?1:-1}return Pe(i.length,e.length)}const Lx=55296,Ux=57343;function om(i){const e=i.charCodeAt(0);return e>=Lx&&e<=Ux}function Io(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__name__";class Di{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&we(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Pe(e.length,t.length)}static compareSegments(e,t){const s=Di.isNumericId(e),o=Di.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(t)):Tm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class st extends Di{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Di{construct(e,t,s){return new en(e,t,s)}static isValidIdentifier(e){return jx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ob}static keyField(){return new en([ob])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(u(),o++)}if(u(),h)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(i,e,t){if(!t)throw new oe(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function zx(i,e,t,s){if(e===!0&&s===!0)throw new oe(K.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function lb(i){if(!ge.isDocumentKey(i))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ub(i){if(ge.isDocumentKey(i))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function AE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Th(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function Vn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Th(i);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pu(i,e){if(!AE(i))throw new oe(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new oe(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=-62135596800,db=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*db);return new ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cb)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/db}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Nt("string",ut._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new ut(0,0))}static max(){return new Te(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function Bx(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new ut(t+1,0):new ut(t,s));return new ds(o,ge.empty(),e)}function qx(i){return new ds(i.readTime,i.key,bu)}class ds{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ds(Te.min(),ge.empty(),bu)}static max(){return new ds(Te.max(),ge.empty(),bu)}}function Hx(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==Fx)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&t()}),(g=>s(g)))})),h=!0,u===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((_=>{h[y]=_,++p,p===u&&s(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new J(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function Qx(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function Lu(i){return i==null}function $d(i){return i===0&&1/i==-1/0}function Yx(i){return typeof i=="number"&&Number.isInteger(i)&&!$d(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function Kx(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=hb(e)),e=$x(i.get(t),e);return hb(e)}function $x(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case SE:t+="";break;default:t+=u}}return t}function hb(i){return i+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ys(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Xx(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function RE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Jt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Lt(en.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IE("Invalid base64 string: "+u):u}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(i){if(Ue(!!i,39018),typeof i=="string"){let e=0;const t=Wx.exec(i);if(Ue(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fs(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",CE="__type__",DE="__previous_value__",NE="__local_write_time__";function ag(i){return(i?.mapValue?.fields||{})[CE]?.stringValue===xE}function Sh(i){const e=i.mapValue.fields[DE];return ag(e)?Sh(e):e}function Eu(i){const e=hs(i.mapValue.fields[NE].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,s,o,u,h,p,g,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Xd="(default)";class Tu{constructor(e,t){this.projectId=e,this.database=t||Xd}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Xd}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",Jx="__max__",Td={mapValue:{}},OE="__vector__",Wd="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:tC(i)?9007199254740991:eC(i)?10:11:we(28295,{value:i})}function Li(i,e){if(i===e)return!0;const t=ps(i);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Eu(i).isEqual(Eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hs(o.timestampValue),p=hs(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),p=Et(u.doubleValue);return h===p?$d(h)===$d(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(fb(h)!==fb(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Li(h[g],p[g])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function Au(i,e){return(i.values||[]).find((t=>Li(t,e)))!==void 0}function xo(i,e){if(i===e)return 0;const t=ps(i),s=ps(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Et(u.integerValue||u.doubleValue),g=Et(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return mb(i.timestampValue,e.timestampValue);case 4:return mb(Eu(i),Eu(e));case 5:return Tm(i.stringValue,e.stringValue);case 6:return(function(u,h){const p=fs(u),g=fs(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Pe(p[y],g[y]);if(_!==0)return _}return Pe(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Pe(Et(u.latitude),Et(h.latitude));return p!==0?p:Pe(Et(u.longitude),Et(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return gb(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[Wd]?.arrayValue,_=g[Wd]?.arrayValue,R=Pe(y?.values?.length||0,_?.values?.length||0);return R!==0?R:gb(y,_)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Td.mapValue&&h===Td.mapValue)return 0;if(u===Td.mapValue)return 1;if(h===Td.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let R=0;R<g.length&&R<_.length;++R){const A=Tm(g[R],_[R]);if(A!==0)return A;const z=xo(p[g[R]],y[_[R]]);if(z!==0)return z}return Pe(g.length,_.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function mb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const t=hs(i),s=hs(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function gb(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=xo(t[o],s[o]);if(u)return u}return Pe(t.length,s.length)}function Co(i){return Am(i)}function Am(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=hs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return fs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ge.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Am(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Am(t.fields[h])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function Md(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(i);return e?16+Md(e):16;case 5:return 2*i.stringValue.length;case 6:return fs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Md(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,h)=>{o+=u.length+Md(h)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function yb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sm(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function wb(i){return!!i&&"nullValue"in i}function vb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vd(i){return!!i&&"mapValue"in i}function eC(i){return(i?.mapValue?.fields||{})[kE]?.stringValue===OE}function fu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ys(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=fu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(i.arrayValue.values[t]);return e}return{...i}}function tC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Vd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=en.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}h?s[p.lastSegment()]=fu(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Vd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Vd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ys(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(fu(this.value))}}function ME(i){const e=[];return ys(i.fields,((t,s)=>{const o=new en([t]);if(Vd(s)){const u=ME(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,s,o,u,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Gt(e,0,Te.min(),Te.min(),Te.min(),pn.empty(),0)}static newFoundDocument(e,t,s,o){return new Gt(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Te.min(),Te.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Te.min(),Te.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function _b(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=xo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Li(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t="asc"){this.field=e,this.dir=t}}function nC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class Dt extends VE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rC(e,t,s):t==="array-contains"?new oC(e,s):t==="in"?new lC(e,s):t==="not-in"?new uC(e,s):t==="array-contains-any"?new cC(e,s):new Dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sC(e,s):new aC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends VE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hi(e,t)}matches(e){return PE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PE(i){return i.op==="and"}function LE(i){return iC(i)&&PE(i)}function iC(i){for(const e of i.filters)if(e instanceof hi)return!1;return!0}function Rm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(LE(i))return i.filters.map((e=>Rm(e))).join(",");{const e=i.filters.map((t=>Rm(t))).join(",");return`${i.op}(${e})`}}function UE(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(i,e):i instanceof hi?(function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,p)=>u&&UE(h,o.filters[p])),!0):!1})(i,e):void we(19439)}function jE(i){return i instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`})(i):i instanceof hi?(function(t){return t.op.toString()+" {"+t.getFilters().map(jE).join(" ,")+"}"})(i):"Filter"}class rC extends Dt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class sC extends Dt{constructor(e,t){super(e,"in",t),this.keys=zE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aC extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=zE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function zE(i,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class oC extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&Au(t.arrayValue,this.value)}}class lC extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Au(this.value.arrayValue,t)}}class uC extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Au(this.value.arrayValue,t)}}class cC extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t=null,s=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function Eb(i,e=null,t=[],s=[],o=null,u=null,h=null){return new dC(i,e,t,s,o,u,h)}function lg(i){const e=Re(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Rm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=t}return e.Te}function ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!UE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!bb(i.startAt,e.startAt)&&bb(i.endAt,e.endAt)}function Im(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,s=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hC(i,e,t,s,o,u,h,p){return new qo(i,e,t,s,o,u,h,p)}function Rh(i){return new qo(i)}function Tb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BE(i){return i.collectionGroup!==null}function pu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Lt(en.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Su(u,s))})),t.has(en.keyField().canonicalString())||e.Ie.push(new Su(en.keyField(),s))}return e.Ie}function Mi(i){const e=Re(i);return e.Ee||(e.Ee=qE(e,pu(i))),e.Ee}function fC(i){const e=Re(i);return e.de||(e.de=qE(e,i.explicitOrderBy)),e.de}function qE(i,e){if(i.limitType==="F")return Eb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Su(o.field,u)}));const t=i.endAt?new Zd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zd(i.startAt.position,i.startAt.inclusive):null;return Eb(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function xm(i,e){const t=i.filters.concat([e]);return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Jd(i,e,t){return new qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ih(i,e){return ug(Mi(i),Mi(e))&&i.limitType===e.limitType}function HE(i){return`${lg(Mi(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>jE(o))).join(", ")}]`),Lu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Co(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Mi(i))}; limitType=${i.limitType})`}function xh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=_b(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,pu(s),o)||s.endAt&&!(function(h,p,g){const y=_b(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,pu(s),o))})(i,e)}function pC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function FE(i){return(e,t)=>{let s=!1;for(const o of pu(i)){const u=mC(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mC(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?xo(g,y):we(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new ft(ge.comparator);function wr(){return gC}const GE=new ft(ge.comparator);function lu(...i){let e=GE;for(const t of i)e=e.insert(t.key,t);return e}function QE(i){let e=GE;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function sa(){return mu()}function YE(){return mu()}function mu(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const yC=new ft(ge.comparator),wC=new Lt(ge.comparator);function Le(...i){let e=wC;for(const t of i)e=e.add(t);return e}const vC=new Lt(Pe);function _C(){return vC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function KE(i){return{integerValue:""+i}}function bC(i,e){return Yx(e)?KE(e):cg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function EC(i,e,t){return i instanceof Ru?(function(o,u){const h={fields:{[CE]:{stringValue:xE},[NE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=Sh(u)),u&&(h.fields[DE]=u),{mapValue:h}})(t,e):i instanceof Iu?XE(i,e):i instanceof xu?WE(i,e):(function(o,u){const h=$E(o,u),p=Ab(h)+Ab(o.Ae);return Sm(h)&&Sm(o.Ae)?KE(p):cg(o.serializer,p)})(i,e)}function TC(i,e,t){return i instanceof Iu?XE(i,e):i instanceof xu?WE(i,e):t}function $E(i,e){return i instanceof eh?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ru extends Ch{}class Iu extends Ch{constructor(e){super(),this.elements=e}}function XE(i,e){const t=ZE(e);for(const s of i.elements)t.some((o=>Li(o,s)))||t.push(s);return{arrayValue:{values:t}}}class xu extends Ch{constructor(e){super(),this.elements=e}}function WE(i,e){let t=ZE(e);for(const s of i.elements)t=t.filter((o=>!Li(o,s)));return{arrayValue:{values:t}}}class eh extends Ch{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ab(i){return Et(i.integerValue||i.doubleValue)}function ZE(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t){this.field=e,this.transform=t}}function SC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Iu&&o instanceof Iu||s instanceof xu&&o instanceof xu?Io(s.elements,o.elements,Li):s instanceof eh&&o instanceof eh?Li(s.Ae,o.Ae):s instanceof Ru&&o instanceof Ru})(i.transform,e.transform)}class RC{constructor(e,t){this.version=e,this.transformResults=t}}class mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Dh{}function JE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dg(i.key,mn.none()):new Uu(i.key,i.data,mn.none());{const t=i.data,s=pn.empty();let o=new Lt(en.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ws(i.key,s,new Mn(o.toArray()),mn.none())}}function IC(i,e,t){i instanceof Uu?(function(o,u,h){const p=o.value.clone(),g=Rb(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,t):i instanceof ws?(function(o,u,h){if(!Pd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Rb(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(eT(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function gu(i,e,t,s){return i instanceof Uu?(function(u,h,p,g){if(!Pd(u.precondition,h))return p;const y=u.value.clone(),_=Ib(u.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof ws?(function(u,h,p,g){if(!Pd(u.precondition,h))return p;const y=Ib(u.fieldTransforms,g,h),_=h.data;return _.setAll(eT(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(i,e,t,s):(function(u,h,p){return Pd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,t)}function xC(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$E(s.transform,o||null);u!=null&&(t===null&&(t=pn.empty()),t.set(s.field,u))}return t||null}function Sb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,h)=>SC(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uu extends Dh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ws extends Dh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function Rb(i,e,t){const s=new Map;Ue(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,p=e.data.field(u.field);s.set(u.field,TC(h,p,t[o]))}return s}function Ib(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,EC(u,h,e))}return s}class dg extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tT extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IC(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=YE();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=t.has(o.key)?null:p;const g=JE(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((t,s)=>Sb(t,s)))&&Io(this.baseMutations,e.baseMutations,((t,s)=>Sb(t,s)))}}class hg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return yC})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new hg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function nT(i){switch(i){case K.OK:return we(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function iT(i){if(i===void 0)return yr("GRPC error has no .code"),K.UNKNOWN;switch(i){case Ct.OK:return K.OK;case Ct.CANCELLED:return K.CANCELLED;case Ct.UNKNOWN:return K.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return K.INTERNAL;case Ct.UNAVAILABLE:return K.UNAVAILABLE;case Ct.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ct.NOT_FOUND:return K.NOT_FOUND;case Ct.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ct.ABORTED:return K.ABORTED;case Ct.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ct.DATA_LOSS:return K.DATA_LOSS;default:return we(39323,{code:i})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new ls([4294967295,4294967295],0);function xb(i){const e=OC().encode(i),t=new mE;return t.update(e),new Uint8Array(t.digest())}function Cb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ls.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(MC)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=xb(e),[s,o]=Cb(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fg(u,o,t);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=xb(e),[s,o]=Cb(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Nh(Te.min(),o,new ft(Pe),wr(),Le())}}class ju{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ju(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class rT{constructor(e,t){this.targetId=e,this.Ce=t}}class sT{constructor(e,t,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Db{constructor(){this.ve=0,this.Fe=Nb(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new ju(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Nb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VC{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=Ad(),this.He=Ad(),this.Ye=new ft(Pe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Im(u))if(s===0){const h=new ge(u.path);this.et(t,h,Gt.newNoDocument(h,Te.min()))}else Ue(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,p;try{h=fs(s).toUint8Array()}catch(g){if(g instanceof IE)return Ro("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new fg(h,o,u)}catch(g){return Ro(g instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Im(p.target)){const g=new ge(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Gt.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Nh(e,t,this.Ye,this.je,s);return this.je=wr(),this.Je=Ad(),this.He=Ad(),this.Ye=new ft(Pe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Db,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Lt(Pe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Lt(Pe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Db),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ad(){return new ft(ge.comparator)}function Nb(){return new ft(ge.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},LC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class jC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cm(i,e){return i.useProto3Json||Lu(e)?e:{value:e}}function th(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zC(i,e){return th(i,e.toTimestamp())}function Pn(i){return Ue(!!i,49232),Te.fromTimestamp((function(t){const s=hs(t);return new ut(s.seconds,s.nanos)})(i))}function pg(i,e){return Dm(i,e).canonicalString()}function Dm(i,e){const t=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function oT(i){const e=st.fromString(i);return Ue(pT(e),10190,{key:e.toString()}),e}function nh(i,e){return pg(i.databaseId,e.path)}function yu(i,e){const t=oT(e);if(t.get(1)!==i.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(uT(t))}function lT(i,e){return pg(i.databaseId,e)}function BC(i){const e=oT(i);return e.length===4?st.emptyPath():uT(e)}function Nm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uT(i){return Ue(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function kb(i,e,t){return{name:nh(i,e),fields:t.value.mapValue.fields}}function qC(i,e){return"found"in e?(function(s,o){Ue(!!o.found,43571),o.found.name,o.found.updateTime;const u=yu(s,o.found.name),h=Pn(o.found.updateTime),p=o.found.createTime?Pn(o.found.createTime):Te.min(),g=new pn({mapValue:{fields:o.found.fields}});return Gt.newFoundDocument(u,h,p,g)})(i,e):"missing"in e?(function(s,o){Ue(!!o.missing,3894),Ue(!!o.readTime,22933);const u=yu(s,o.missing),h=Pn(o.readTime);return Gt.newNoDocument(u,h)})(i,e):we(7234,{result:e})}function HC(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(Ue(_===void 0||typeof _=="string",58123),tn.fromBase64String(_||"")):(Ue(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),tn.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?K.UNKNOWN:iT(y.code);return new oe(_,y.message||"")})(h);t=new sT(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yu(i,s.document.name),u=Pn(s.document.updateTime),h=s.document.createTime?Pn(s.document.createTime):Te.min(),p=new pn({mapValue:{fields:s.document.fields}}),g=Gt.newFoundDocument(o,u,h,p),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Ld(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yu(i,s.document),u=s.readTime?Pn(s.readTime):Te.min(),h=Gt.newNoDocument(o,u),p=s.removedTargetIds||[];t=new Ld([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yu(i,s.document),u=s.removedTargetIds||[];t=new Ld([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new kC(o,u),p=s.targetId;t=new rT(p,h)}}return t}function cT(i,e){let t;if(e instanceof Uu)t={update:kb(i,e.key,e.value)};else if(e instanceof dg)t={delete:nh(i,e.key)};else if(e instanceof ws)t={update:kb(i,e.key,e.data),updateMask:ZC(e.fieldMask)};else{if(!(e instanceof tT))return we(16599,{Vt:e.type});t={verify:nh(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const p=h.transform;if(p instanceof Ru)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Iu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(i,e.precondition)),t}function FC(i,e){return i&&i.length>0?(Ue(e!==void 0,14353),i.map((t=>(function(o,u){let h=o.updateTime?Pn(o.updateTime):Pn(u);return h.isEqual(Te.min())&&(h=Pn(u)),new RC(h,o.transformResults||[])})(t,e)))):[]}function GC(i,e){return{documents:[lT(i,e.path)]}}function dT(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=lT(i,o);const u=(function(y){if(y.length!==0)return fT(hi.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:ts(A.field),direction:$C(A.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Cm(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function QC(i,e,t,s){const{ft:o,parent:u}=dT(i,e),h={},p=[];let g=0;return t.forEach((y=>{const _="aggregate_"+g++;h[_]=y.alias,y.aggregateType==="count"?p.push({alias:_,count:{}}):y.aggregateType==="avg"?p.push({alias:_,avg:{field:ts(y.fieldPath)}}):y.aggregateType==="sum"&&p.push({alias:_,sum:{field:ts(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:u}}function YC(i){let e=BC(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ue(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(R){const A=hT(R);return A instanceof hi&&LE(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(R){return R.map((A=>(function(Q){return new Su(go(Q.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(A)))})(t.orderBy));let p=null;t.limit&&(p=(function(R){let A;return A=typeof R=="object"?R.value:R,Lu(A)?null:A})(t.limit));let g=null;t.startAt&&(g=(function(R){const A=!!R.before,z=R.values||[];return new Zd(z,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(R){const A=!R.before,z=R.values||[];return new Zd(z,A)})(t.endAt)),hC(e,o,h,u,p,"F",g,y)}function KC(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(t.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Dt.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return hi.create(t.compositeFilter.filters.map((s=>hT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(t.compositeFilter.op))})(i):we(30097,{filter:i})}function $C(i){return PC[i]}function XC(i){return LC[i]}function WC(i){return UC[i]}function ts(i){return{fieldPath:i.canonicalString()}}function go(i){return en.fromServerFormat(i.fieldPath)}function fT(i){return i instanceof Dt?(function(t){if(t.op==="=="){if(vb(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NAN"}};if(wb(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vb(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NAN"}};if(wb(t.value))return{unaryFilter:{field:ts(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(t.field),op:XC(t.op),value:t.value}}})(i):i instanceof hi?(function(t){const s=t.getFilters().map((o=>fT(o)));return s.length===1?s[0]:{compositeFilter:{op:WC(t.op),filters:s}}})(i):we(54877,{filter:i})}function ZC(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,s,o,u=Te.min(),h=Te.min(),p=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.yt=e}}function eD(i){const e=YC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.Cn=new nD}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ds.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class nD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Lt(st.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(mT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="LruGarbageCollector",iD=1048576;function Vb([i,e],[t,s]){const o=Pe(i,t);return o===0?Pe(e,s):o}class rD{constructor(e){this.Ir=e,this.buffer=new Lt(Vb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Vb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Mb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bo(t)?ue(Mb,"Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.Vr(3e5)}))}}class aD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Ah.ce);const s=new rD(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ob)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ob):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(s=R,p=Date.now(),this.removeTargets(e,s,t)))).next((R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(y=Date.now(),po()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${R} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function oD(i,e){return new aD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.changes=new ga((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&gu(s.mutation,o,Mn.empty(),ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Le()){const o=sa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let h=lu();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=sa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Le())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,s,o){let u=wr();const h=mu(),p=(function(){return mu()})();return t.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof ws)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),gu(_.mutation,y,_.mutation.getFieldMask(),ut.now())):h.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,_)=>h.set(y,_))),t.forEach(((y,_)=>p.set(y,new uD(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=mu();let o=new ft(((h,p)=>h-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let _=s.get(g)||Mn.empty();_=p.applyToLocalView(y,_),s.set(g,_);const R=(o.get(p.batchId)||Le()).add(g);o=o.insert(p.batchId,R)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,R=YE();_.forEach((A=>{if(!u.has(A)){const z=JE(t.get(A),s.get(A));z!==null&&R.set(A,z),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,R))}return J.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(sa());let p=bu,g=u;return h.next((y=>J.forEach(y,((_,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),u.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Le()))).next((_=>({batchId:p,changes:QE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=lu();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const y=(function(R,A){return new qo(A,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((R,A)=>{h=h.insert(R,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((h=>{u.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Gt.newInvalidDocument(_)))}));let p=lu();return h.forEach(((g,y)=>{const _=u.get(g);_!==void 0&&gu(_.mutation,y,Mn.empty(),ut.now()),xh(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Pn(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:eD(o.bundledQuery),readTime:Pn(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.overlays=new ft(ge.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sa();return J.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=sa(),u=t.length+1,h=new ge(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=u.get(y.largestBatchId);_===null&&(_=sa(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=sa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return J.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new DC(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Qr=new Lt(Ft.$r),this.Ur=new Lt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ft(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ft(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ge(new st([])),s=new Ft(t,e),o=new Ft(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new st([])),s=new Ft(t,e),o=new Ft(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Ft(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Pe(e.Yr,t.Yr)}static Kr(e,t){return Pe(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ft.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CC(u,t,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Ft(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Lt(Pe);return t.forEach((o=>{const u=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{s=s.add(p.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Ft(new ge(u),0);let p=new Lt(Pe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),J.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ue(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const u=new Ft(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ft(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.ri=e,this.docs=(function(){return new ft(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let s=wr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Gt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=wr();const h=t.path,p=new ge(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Hx(qx(_),s)<=0||(o.has(_.key)||xh(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new gD(this)}getSize(e){return J.resolve(this.size)}}class gD extends lD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.persistence=e,this.si=new ga((t=>lg(t)),ug),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new mg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new fD,this.referenceDelegate=e(this),this.Pi=new yD(this),this.indexManager=new tD,this.remoteDocumentCache=(function(o){return new mD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new JC(t),this.Ii=new dD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new pD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new wD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class wD extends Gx{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new mg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.pi=new ga((s=>Kx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=oD(this,t)}static mi(e,t){return new ih(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Md(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FA()?8:Qx(ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new vD;return this.Ss(e,t,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(po()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(po()<=Ve.DEBUG&&ue("QueryEngine","Query:",mo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(po()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):J.resolve())}ys(e,t){if(Tb(t))return J.resolve(null);let s=Mi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Jd(t,null,"F"),s=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,Jd(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return Tb(t)||o.isEqual(Te.min())?J.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?J.resolve(null):(po()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(t)),this.vs(e,h,t,Bx(o,bu)).next((p=>p)))}))}Ds(e,t){let s=new Lt(FE(e));return t.forEach(((o,u)=>{xh(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return po()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",mo(t)),this.ps.getDocumentsMatchingQuery(e,t,ds.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",bD=3e8;class ED{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Pe),this.xs=new ga((u=>lg(u)),ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function TD(i,e,t,s){return new ED(i,e,t,s)}async function yT(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],p=[];let g=Le();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function AD(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const R=y.batch,A=R.keys();let z=J.resolve();return A.forEach((Q=>{z=z.next((()=>_.getEntry(g,Q))).next((ee=>{const W=y.docVersions.get(Q);Ue(W!==null,48541),ee.version.compareTo(W)<0&&(R.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),_.addEntry(ee)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(g,R)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function wT(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function SD(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((_,R)=>{const A=o.get(R);if(!A)return;p.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,R).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,R))));let z=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?z=z.withResumeToken(tn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):_.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(_.resumeToken,s)),o=o.insert(R,z),(function(ee,W,le){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=bD?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(A,z,_)&&p.push(t.Pi.updateTargetData(u,z))}));let g=wr(),y=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(RD(u,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Te.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((R=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(_)}return J.waitFor(p).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function RD(i,e,t){let s=Le(),o=Le();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=wr();return t.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ue(wg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function ID(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xD(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,J.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new ns(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function km(i,e,t){const s=Re(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Bo(h))throw h;ue(wg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Pb(i,e,t){const s=Re(i);let o=Te.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const R=Re(g),A=R.xs.get(_);return A!==void 0?J.resolve(R.Ms.get(A)):R.Pi.getTargetData(y,_)})(s,h,Mi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?u:Le()))).next((p=>(CD(s,pC(e),p),{documents:p,Qs:u})))))}function CD(i,e,t){let s=i.Os.get(e)||Te.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class Lb{constructor(){this.activeTargetIds=_C()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DD{constructor(){this.Mo=new Lb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="ConnectivityMonitor";class jb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Ub,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd=null;function Om(){return Sd===null?Sd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sd++,"0x"+Sd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=Om(),p=this.zo(e,t.toUriEncodedString());ue(lm,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),_=Po(y);return this.Jo(e,p,g,s,_).then((R=>(ue(lm,`Received RPC '${e}' ${h}: `,R),R)),(R=>{throw Ro(lm,`RPC '${e}' ${h} failed with error: `,R,"url: ",p,"request:",s),R}))}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=kD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class VD extends OD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Om();return new Promise(((p,g)=>{const y=new gE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Od.NO_ERROR:const R=y.getResponseJson();ue(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),p(R);break;case Od.TIMEOUT:ue(an,`RPC '${e}' ${h} timed out`),g(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const A=y.getStatus();if(ue(an,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const Q=z?.error;if(Q&&Q.status&&Q.message){const ee=(function(le){const re=le.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(re)>=0?re:K.UNKNOWN})(Q.status);g(new oe(ee,Q.message))}else g(new oe(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(K.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(an,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ue(an,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Om(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=_E(),p=vE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=u.join("");ue(an,`Creating RPC '${e}' stream ${o}: ${_}`,g);const R=h.createWebChannel(_,g);this.I_(R);let A=!1,z=!1;const Q=new MD({Yo:W=>{z?ue(an,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(A||(ue(an,`Opening RPC '${e}' stream ${o} transport.`),R.open(),A=!0),ue(an,`RPC '${e}' stream ${o} sending:`,W),R.send(W))},Zo:()=>R.close()}),ee=(W,le,re)=>{W.listen(le,(ne=>{try{re(ne)}catch(Ie){setTimeout((()=>{throw Ie}),0)}}))};return ee(R,ou.EventType.OPEN,(()=>{z||(ue(an,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),ee(R,ou.EventType.CLOSE,(()=>{z||(z=!0,ue(an,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(R))})),ee(R,ou.EventType.ERROR,(W=>{z||(z=!0,Ro(an,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),Q.a_(new oe(K.UNAVAILABLE,"The operation could not be completed")))})),ee(R,ou.EventType.MESSAGE,(W=>{if(!z){const le=W.data[0];Ue(!!le,16349);const re=le,ne=re?.error||re[0]?.error;if(ne){ue(an,`RPC '${e}' stream ${o} received error:`,ne);const Ie=ne.status;let _e=(function(S){const x=Ct[S];if(x!==void 0)return iT(x)})(Ie),Me=ne.message;_e===void 0&&(_e=K.INTERNAL,Me="Unknown error status: "+Ie+" with message "+ne.message),z=!0,Q.a_(new oe(_e,Me)),R.close()}else ue(an,`RPC '${e}' stream ${o} received:`,le),Q.u_(le)}})),ee(p,wE.STAT_EVENT,(W=>{W.stat===Em.PROXY?ue(an,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===Em.NOPROXY&&ue(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i){return new jC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="PersistentStream";class vT{constructor(e,t,s,o,u,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(zb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(zb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PD extends vT{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=HC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Pn(h.readTime):Te.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Nm(this.serializer),t.addTarget=(function(u,h){let p;const g=h.target;if(p=Im(g)?{documents:GC(u,g)}:{query:dT(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=aT(u,h.resumeToken);const y=Cm(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){p.readTime=th(u,h.snapshotVersion.toTimestamp());const y=Cm(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=KC(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Nm(this.serializer),t.removeTarget=e,this.q_(t)}}class LD extends vT{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=FC(e.writeResults,e.commitTime),s=Pn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Nm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>cT(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class jD extends UD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Dm(t,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(K.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Dm(t,s),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(K.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class BD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ya(this)&&(ue(pa,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await zu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Ra=new zD(s,o)}}async function Oh(i){if(ya(i))for(const e of i.da)await e(!0)}async function zu(i){for(const e of i.da)await e(!1)}function _T(i,e){const t=Re(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Tg(t)?Eg(t):Ho(t).O_()&&bg(t,e))}function _g(i,e){const t=Re(i),s=Ho(t);t.Ia.delete(e),s.O_()&&bT(t,e),t.Ia.size===0&&(s.O_()?s.L_():ya(t)&&t.Ra.set("Unknown"))}function bg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ho(i).Y_(e)}function bT(i,e){i.Va.Ue(e),Ho(i).Z_(e)}function Eg(i){i.Va=new VC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Ra.ua()}function Tg(i){return ya(i)&&!Ho(i).x_()&&i.Ia.size>0}function ya(i){return Re(i).Ea.size===0}function ET(i){i.Va=void 0}async function qD(i){i.Ra.set("Online")}async function HD(i){i.Ia.forEach(((e,t)=>{bg(i,e)}))}async function FD(i,e){ET(i),Tg(i)?(i.Ra.ha(e),Eg(i)):i.Ra.set("Unknown")}async function GD(i,e,t){if(i.Ra.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){ue(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rh(i,s)}else if(e instanceof Ld?i.Va.Ze(e):e instanceof rT?i.Va.st(e):i.Va.tt(e),!t.isEqual(Te.min()))try{const s=await wT(i.localStore);t.compareTo(s)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),bT(u,g);const R=new ns(_.target,g,y,_.sequenceNumber);bg(u,R)})),u.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(s){ue(pa,"Failed to raise snapshot:",s),await rh(i,s)}}async function rh(i,e,t){if(!Bo(e))throw e;i.Ea.add(1),await zu(i),i.Ra.set("Offline"),t||(t=()=>wT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(pa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Oh(i)}))}function TT(i,e){return e().catch((t=>rh(i,t,e)))}async function Mh(i){const e=Re(i),t=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;QD(e);)try{const o=await ID(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,YD(e,o)}catch(o){await rh(e,o)}AT(e)&&ST(e)}function QD(i){return ya(i)&&i.Ta.length<10}function YD(i,e){i.Ta.push(e);const t=ms(i);t.O_()&&t.X_&&t.ea(e.mutations)}function AT(i){return ya(i)&&!ms(i).x_()&&i.Ta.length>0}function ST(i){ms(i).start()}async function KD(i){ms(i).ra()}async function $D(i){const e=ms(i);for(const t of i.Ta)e.ea(t.mutations)}async function XD(i,e,t){const s=i.Ta.shift(),o=hg.from(s,e,t);await TT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Mh(i)}async function WD(i,e){e&&ms(i).X_&&await(async function(s,o){if((function(h){return nT(h)&&h!==K.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await TT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mh(s)}})(i,e),AT(i)&&ST(i)}async function Bb(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),ue(pa,"RemoteStore received new credentials");const s=ya(t);t.Ea.add(3),await zu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Oh(t)}async function ZD(i,e){const t=Re(i);e?(t.Ea.delete(2),await Oh(t)):e||(t.Ea.add(2),await zu(t),t.Ra.set("Unknown"))}function Ho(i){return i.ma||(i.ma=(function(t,s,o){const u=Re(t);return u.sa(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:qD.bind(null,i),t_:HD.bind(null,i),r_:FD.bind(null,i),H_:GD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Tg(i)?Eg(i):i.Ra.set("Unknown")):(await i.ma.stop(),ET(i))}))),i.ma}function ms(i){return i.fa||(i.fa=(function(t,s,o){const u=Re(t);return u.sa(),new LD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:KD.bind(null,i),r_:WD.bind(null,i),ta:$D.bind(null,i),na:XD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Mh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,p=new Ag(e,t,h,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Bo(i))return new oe(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.ga=new ft(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class No{constructor(e,t,s,o,u,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new No(e,t,bo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class eN{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=Hb(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function Hb(){return new ga((i=>HE(i)),Ih)}async function Rg(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new JD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Sg(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&xg(t)}async function Ig(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function tN(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&xg(t)}function nN(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function xg(i){i.Ca.forEach((e=>{e.next()}))}var Mm,Fb;(Fb=Mm||(Mm={})).Ma="default",Fb.Cache="cache";class Cg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class iN{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=FE(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new qb,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,R)=>{const A=o.get(_),z=xh(this.query,R)?R:null,Q=!!A&&this.mutatedKeys.has(A.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let W=!1;A&&z?A.data.isEqual(z.data)?Q!==ee&&(s.track({type:3,doc:z}),W=!0):this.su(A,z)||(s.track({type:2,doc:z}),W=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(p=!0)):!A&&z?(s.track({type:0,doc:z}),W=!0):A&&!z&&(s.track({type:1,doc:A}),W=!0,(g||y)&&(p=!0)),W&&(z?(h=h.add(z),u=ee?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,R)=>(function(z,Q){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:W})}};return ee(z)-ee(Q)})(_.type,R.type)||this.eu(_.doc,R.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new IT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new RT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dg="SyncEngine";class rN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class sN{constructor(e){this.key=e,this.hu=!1}}class aN{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ga((p=>HE(p)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new ft(ge.comparator),this.Au=new Map,this.Ru=new mg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oN(i,e,t=!0){const s=OT(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xT(s,e,t,!0),o}async function lN(i,e){const t=OT(i);await xT(t,e,!0,!1)}async function xT(i,e,t,s){const o=await xD(i.localStore,Mi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await uN(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&_T(i.remoteStore,o),p}async function uN(i,e,t,s,o){i.pu=(R,A,z)=>(async function(ee,W,le,re){let ne=W.view.ru(le);ne.Cs&&(ne=await Pb(ee.localStore,W.query,!1).then((({documents:M})=>W.view.ru(M,ne))));const Ie=re&&re.targetChanges.get(W.targetId),_e=re&&re.targetMismatches.get(W.targetId)!=null,Me=W.view.applyChanges(ne,ee.isPrimaryClient,Ie,_e);return Qb(ee,W.targetId,Me.au),Me.snapshot})(i,R,A,z);const u=await Pb(i.localStore,e,!0),h=new iN(e,u.Qs),p=h.ru(u.documents),g=ju.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);Qb(i,t,y.au);const _=new rN(e,t,h);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function cN(i,e,t){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Ih(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&_g(s.remoteStore,o.targetId),Vm(s,o.targetId)})).catch(zo)):(Vm(s,o.targetId),await km(s.localStore,o.targetId,!0))}async function dN(i,e){const t=Re(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),_g(t.remoteStore,s.targetId))}async function hN(i,e,t){const s=vN(i);try{const o=await(function(h,p){const g=Re(h),y=ut.now(),_=p.reduce(((z,Q)=>z.add(Q.key)),Le());let R,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Q=wr(),ee=Le();return g.Ns.getEntries(z,_).next((W=>{Q=W,Q.forEach(((le,re)=>{re.isValidDocument()||(ee=ee.add(le))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,Q))).next((W=>{R=W;const le=[];for(const re of p){const ne=xC(re,R.get(re.key).overlayedDocument);ne!=null&&le.push(new ws(re.key,ne,ME(ne.value.mapValue),mn.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,le,p)})).next((W=>{A=W;const le=W.applyToLocalDocumentSet(R,ee);return g.documentOverlayCache.saveOverlays(z,W.batchId,le)}))})).then((()=>({batchId:A.batchId,changes:QE(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new ft(Pe)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,t),await Bu(s,o.changes),await Mh(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");t.reject(u)}}async function CT(i,e){const t=Re(i);try{const s=await SD(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ue(h.hu,14607):o.removedDocuments.size>0&&(Ue(h.hu,42227),h.hu=!1))})),await Bu(t,s,e)}catch(s){await zo(s)}}function Gb(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Re(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,R)=>{for(const A of R.Sa)A.va(p)&&(y=!0)})),y&&xg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fN(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(ge.comparator);h=h.insert(u,Gt.newNoDocument(u,Te.min()));const p=Le().add(u),g=new Nh(Te.min(),new Map,new ft(Pe),h,p);await CT(s,g),s.du=s.du.remove(u),s.Au.delete(e),Ng(s)}else await km(s.localStore,e,!1).then((()=>Vm(s,e,t))).catch(zo)}async function pN(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await AD(t.localStore,e);NT(t,s,null),DT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(t,o)}catch(o){await zo(o)}}async function mN(i,e,t){const s=Re(i);try{const o=await(function(h,p){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((R=>(Ue(R!==null,37113),_=R.keys(),g.mutationQueue.removeMutationBatch(y,R)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);NT(s,e,t),DT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Bu(s,o)}catch(o){await zo(o)}}function DT(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function NT(i,e,t){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Vm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||kT(i,s)}))}function kT(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(_g(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Ng(i))}function Qb(i,e,t){for(const s of t)s instanceof RT?(i.Ru.addReference(s.key,e),gN(i,s)):s instanceof IT?(ue(Dg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||kT(i,s.key)):we(19791,{wu:s})}function gN(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ue(Dg,"New document in limbo: "+t),i.Eu.add(s),Ng(i))}function Ng(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ge(st.fromString(e)),s=i.fu.next();i.Au.set(s,new sN(t)),i.du=i.du.insert(t,s),_T(i.remoteStore,new ns(Mi(Rh(t.path)),s,"TargetPurposeLimboResolution",Ah.ce))}}async function Bu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=yg.As(g.targetId,y);u.push(_)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const _=Re(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>J.forEach(y,(A=>J.forEach(A.Es,(z=>_.persistence.referenceDelegate.addReference(R,A.targetId,z))).next((()=>J.forEach(A.ds,(z=>_.persistence.referenceDelegate.removeReference(R,A.targetId,z)))))))))}catch(R){if(!Bo(R))throw R;ue(wg,"Failed to update sequence numbers: "+R)}for(const R of y){const A=R.targetId;if(!R.fromCache){const z=_.Ms.get(A),Q=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion(Q);_.Ms=_.Ms.insert(A,ee)}}})(s.localStore,u))}async function yN(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){ue(Dg,"User change. New user:",e.toKey());const s=await yT(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(K.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(t,s.Ls)}}function wN(i,e){const t=Re(i),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function OT(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fN.bind(null,e),e.Pu.H_=tN.bind(null,e.eventManager),e.Pu.yu=nN.bind(null,e.eventManager),e}function vN(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mN.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return TD(this.persistence,new _D,e.initialUser,this.serializer)}Cu(e){return new gT(gg.mi,this.serializer)}Du(e){return new DD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class _N extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new gT((s=>ih.mi(s,t)),this.serializer)}}class Pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Gb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eN})()}createDatastore(e){const t=kh(e.databaseInfo.databaseId),s=(function(u){return new VD(u)})(e.databaseInfo);return(function(u,h,p,g){return new jD(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,h,p){return new BD(s,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>Gb(this.syncEngine,t,0)),(function(){return jb.v()?new jb:new ND})())}createSyncEngine(e,t){return(function(o,u,h,p,g,y,_){const R=new aN(o,u,h,p,g,y);return _&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Re(t);ue(pa,"RemoteStore shutting down."),s.Ea.add(5),await zu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const h=Re(o),p={documents:u.map((R=>nh(h.serializer,R)))},g=await h.Ho("BatchGetDocuments",h.serializer.databaseId,st.emptyPath(),p,u.length),y=new Map;g.forEach((R=>{const A=qC(h.serializer,R);y.set(A.key.toString(),A)}));const _=[];return u.forEach((R=>{const A=y.get(R.toString());Ue(!!A,55234,{key:R}),_.push(A)})),_})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new dg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=ge.fromPath(s);this.mutations.push(new tT(o,this.precondition(o)))})),await(async function(s,o){const u=Re(s),h={writes:o.map((p=>cT(u.serializer,p)))};await u.Go("Commit",u.serializer.databaseId,st.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{Gu:e.constructor.name});t=Te.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new oe(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Te.min())?mn.exists(!1):mn.updateTime(t):mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Te.min()))throw new oe(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(t)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new vg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new bN(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Lu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!nT(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class TN{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await yT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Yb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await AN(i);ue(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>Bb(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Bb(e.remoteStore,o))),i._onlineComponents=e}async function AN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(gs,"Using user provided OfflineComponentProvider");try{await cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await cm(i,new sh)}}else ue(gs,"Using default OfflineComponentProvider"),await cm(i,new _N(void 0));return i._offlineComponents}async function Og(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(gs,"Using user provided OnlineComponentProvider"),await Yb(i,i._uninitializedComponentsProvider._online)):(ue(gs,"Using default OnlineComponentProvider"),await Yb(i,new Pm))),i._onlineComponents}function SN(i){return Og(i).then((e=>e.syncEngine))}function MT(i){return Og(i).then((e=>e.datastore))}async function ah(i){const e=await Og(i),t=e.eventManager;return t.onListen=oN.bind(null,e.syncEngine),t.onUnlisten=cN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dN.bind(null,e.syncEngine),t}function RN(i,e,t={}){const s=new di;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const _=new kg({next:A=>{_.Nu(),h.enqueueAndForget((()=>Ig(u,R)));const z=A.docs.has(p);!z&&A.fromCache?y.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&A.fromCache&&g&&g.source==="server"?y.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),R=new Cg(Rh(p.path),_,{includeMetadataChanges:!0,qa:!0});return Rg(u,R)})(await ah(i),i.asyncQueue,e,t,s))),s.promise}function IN(i,e,t={}){const s=new di;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const _=new kg({next:A=>{_.Nu(),h.enqueueAndForget((()=>Ig(u,R))),A.fromCache&&g.source==="server"?y.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),R=new Cg(p,_,{includeMetadataChanges:!0,qa:!0});return Rg(u,R)})(await ah(i),i.asyncQueue,e,t,s))),s.promise}function xN(i,e,t){const s=new di;return i.asyncQueue.enqueueAndForget((async()=>{try{const o=await MT(i);s.resolve((async function(h,p,g){const y=Re(h),{request:_,gt:R,parent:A}=QC(y.serializer,fC(p),g);y.connection.$o||delete _.parent;const z=(await y.Ho("RunAggregationQuery",y.serializer.databaseId,A,_,1)).filter((ee=>!!ee.result));Ue(z.length===1,64727);const Q=z[0].result?.aggregateFields;return Object.keys(Q).reduce(((ee,W)=>(ee[R[W]]=Q[W],ee)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firestore.googleapis.com",$b=!0;class Xb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=$b}else this.host=e.host,this.ssl=e.ssl??$b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Dx;switch(s.type){case"firstParty":return new Mx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Kb.get(t);s&&(ue("ComponentProvider","Removing Datastore"),Kb.delete(t),s.terminate())})(this),Promise.resolve()}}function CN(i,e,t,s={}){i=Vn(i,Vh);const o=Po(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(S0(`https://${p}`),R0("Firestore",!0)),u.host!==PT&&u.host!==p&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!ua(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=on.MOCK_USER;else{y=VA(s.mockUserToken,i._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(R)}i._authCredentials=new Nx(new EE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Er(this.firestore,e,this._query)}}class yt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Pu(t,yt._jsonSchema))return new yt(e,s||null,new ge(st.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class us extends Er{constructor(e,t,s){super(e,t,Rh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ge(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Cu(i,e,...t){if(i=Tt(i),TE("collection","path",e),i instanceof Vh){const s=st.fromString(e,...t);return ub(s),new us(i,null,s)}{if(!(i instanceof yt||i instanceof us))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return ub(s),new us(i.firestore,null,s)}}function ko(i,e,...t){if(i=Tt(i),arguments.length===1&&(e=rg.newId()),TE("doc","path",e),i instanceof Vh){const s=st.fromString(e,...t);return lb(s),new yt(i,null,new ge(s))}{if(!(i instanceof yt||i instanceof us))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return lb(s),new yt(i.firestore,i instanceof us?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="AsyncQueue";class Zb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vg(this,"async_queue_retry"),this._c=()=>{const s=um();s&&ue(Wb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=um();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=um();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;ue(Wb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",Jb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ag.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:Jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Jb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class vr extends Vh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Zb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zb(e),this._firestoreClient=void 0,await e}}}function DN(i,e){const t=typeof i=="object"?i:D0(),s=typeof i=="string"?i:Xd,o=Qm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=OA("firestore");u&&CN(o,...u)}return o}function Fo(i){if(i._terminated)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NN(i),i._firestoreClient}function NN(i){const e=i._freezeSettings(),t=(function(o,u,h,p){return new Zx(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new TN(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class ON{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(tn.fromBase64String(e))}catch(t){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Nt("string",On._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Nt("string",Vi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Pi(e.vectorValues);throw new oe(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^__.*__$/;class VN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class LT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Mg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&MN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||kh(e)}Cc(e,t,s,o=!1){return new Mg({Ac:e,methodName:t,Dc:s,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(i){const e=i._freezeSettings(),t=kh(i._databaseId);return new PN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vg(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);Lg("Data must be an object, but it was:",h,s);const p=jT(s,h);let g,y;if(u.merge)g=new Mn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const R of u.mergeFields){const A=Lm(e,R,t);if(!h.contains(A))throw new oe(K.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);BT(_,A)||_.push(A)}g=new Mn(_),y=h.fieldTransforms.filter((R=>g.covers(R.field)))}else g=null,y=h.fieldTransforms;return new VN(new pn(p),g,y)}class jh extends Lh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}class Pg extends Lh{_toFieldTransform(e){return new AC(e.path,new Ru)}isEqual(e){return e instanceof Pg}}function LN(i,e,t,s){const o=i.Cc(1,e,t);Lg("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();ys(s,((g,y)=>{const _=Ug(e,g,t);y=Tt(y);const R=o.yc(_);if(y instanceof jh)u.push(_);else{const A=qu(y,R);A!=null&&(u.push(_),h.set(_,A))}}));const p=new Mn(u);return new LT(h,p,o.fieldTransforms)}function UN(i,e,t,s,o,u){const h=i.Cc(1,e,t),p=[Lm(e,s,t)],g=[o];if(u.length%2!=0)throw new oe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)p.push(Lm(e,u[A])),g.push(u[A+1]);const y=[],_=pn.empty();for(let A=p.length-1;A>=0;--A)if(!BT(y,p[A])){const z=p[A];let Q=g[A];Q=Tt(Q);const ee=h.yc(z);if(Q instanceof jh)y.push(z);else{const W=qu(Q,ee);W!=null&&(y.push(z),_.set(z,W))}}const R=new Mn(y);return new LT(_,R,h.fieldTransforms)}function jN(i,e,t,s=!1){return qu(t,i.Cc(s?4:3,e))}function qu(i,e){if(zT(i=Tt(i)))return Lg("Unsupported field value:",e,i),jT(i,e);if(i instanceof Lh)return(function(s,o){if(!UT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const p of s){let g=qu(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ut.fromDate(s);return{timestampValue:th(o.serializer,u)}}if(s instanceof ut){const u=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:aT(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(h,p){return{mapValue:{fields:{[kE]:{stringValue:OE},[Wd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return cg(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Th(s)}`)})(i,e)}function jT(i,e){const t={};return RE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(i,((s,o)=>{const u=qu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function zT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof Vi||i instanceof On||i instanceof yt||i instanceof Lh||i instanceof Pi)}function Lg(i,e,t){if(!zT(t)||!AE(t)){const s=Th(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Lm(i,e,t){if((e=Tt(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw oh("Field path arguments must be of type string or ",i,!1,void 0,t)}const zN=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(zN)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ph(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function oh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new oe(K.INVALID_ARGUMENT,p+i+g)}function BT(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BN extends lh{data(){return super.data()}}function zh(i,e){return typeof e=="string"?Ug(i,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class zg extends jg{}function HT(i,e,...t){let s=[];e instanceof jg&&s.push(e),s=s.concat(t),(function(u){const h=u.filter((g=>g instanceof Bg)).length,p=u.filter((g=>g instanceof Bh)).length;if(h>1||h>0&&p>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Bh extends zg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Bh(e,t,s)}_apply(e){const t=this._parse(e);return FT(e._query,t),new Er(e.firestore,e.converter,xm(e._query,t))}_parse(e){const t=Uh(e.firestore);return(function(u,h,p,g,y,_,R){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){n0(R,_);const Q=[];for(const ee of R)Q.push(t0(g,u,ee));A={arrayValue:{values:Q}}}else A=t0(g,u,R)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||n0(R,_),A=jN(p,h,R,_==="in"||_==="not-in");return Dt.create(y,_,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qN(i,e,t){const s=e,o=zh("where",i);return Bh._create(o,s,t)}class Bg extends jg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:hi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)FT(h,g),h=xm(h,g)})(e._query,t),new Er(e.firestore,e.converter,xm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qg(e,t)}_apply(e){const t=(function(o,u,h){if(o.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(u,h)})(e._query,this._field,this._direction);return new Er(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function HN(i,e="asc"){const t=e,s=zh("orderBy",i);return qg._create(s,t)}class Hg extends zg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Hg(e,t,s)}_apply(e){return new Er(e.firestore,e.converter,Jd(e._query,this._limit,this._limitType))}}function FN(i){return Hg._create("limit",i,"F")}function t0(i,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BE(e)&&t.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!ge.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return yb(i,new ge(s))}if(t instanceof yt)return yb(i,t._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function n0(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(i,e){const t=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GT{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Wd].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Pi(t)}convertGeoPoint(e){return new Vi(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const t=hs(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Ue(pT(s),9688,{name:e});const o=new Tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class GN extends GT{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function QN(){return new kN("count")}class yo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends lh{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(zh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Nt("string",cs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Ud extends cs{data(e={}){return super.data(e)}}class aa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Ud(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Ud(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Ud(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:YN(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(i){i=Vn(i,yt);const e=Vn(i.firestore,vr);return RN(Fo(e),i._key).then((t=>KT(e,i,t)))}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:Nt("string",aa._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Hu extends GT{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function $N(i){i=Vn(i,Er);const e=Vn(i.firestore,vr),t=Fo(e),s=new Hu(e);return qT(i._query),IN(t,i._query).then((o=>new aa(e,s,i,o)))}function QT(i,e,t){i=Vn(i,yt);const s=Vn(i.firestore,vr),o=Fg(i.converter,e,t);return YT(s,[Vg(Uh(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,mn.none())])}function Um(i,e){const t=Vn(i.firestore,vr),s=ko(i),o=Fg(i.converter,e);return YT(t,[Vg(Uh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,mn.exists(!1))]).then((()=>s))}function XN(i,...e){i=Tt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||e0(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(e0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,p;if(i instanceof yt)h=Vn(i.firestore,vr),p=Rh(i._key.path),u={next:g=>{e[s]&&e[s](KT(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=Vn(i,Er);h=Vn(g.firestore,vr),p=g._query;const y=new Hu(h);u={next:_=>{e[s]&&e[s](new aa(h,y,g,_))},error:e[s+1],complete:e[s+2]},qT(i._query)}return(function(y,_,R,A){const z=new kg(A),Q=new Cg(_,z,R);return y.asyncQueue.enqueueAndForget((async()=>Rg(await ah(y),Q))),()=>{z.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ig(await ah(y),Q)))}})(Fo(h),p,o,u)}function YT(i,e){return(function(s,o){const u=new di;return s.asyncQueue.enqueueAndForget((async()=>hN(await SN(s),o,u))),u.promise})(Fo(i),e)}function KT(i,e,t){const s=t.docs.get(e._key),o=new Hu(i);return new cs(i,o,e._key,s,new yo(t.hasPendingWrites,t.fromCache),e.converter)}function WN(i){return ZN(i,{count:QN()})}function ZN(i,e){const t=Vn(i.firestore,vr),s=Fo(t),o=Xx(e,((u,h)=>new NC(h,u.aggregateType,u._internalFieldPath)));return xN(s,i._query,o).then((u=>(function(p,g,y){const _=new Hu(p);return new ON(g,_,y)})(t,i,u)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={maxAttempts:5};function cu(i,e){if((i=Tt(i)).firestore!==e)throw new oe(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Uh(e)}get(e){const t=cu(e,this._firestore),s=new GN(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return we(24041);const u=o[0];if(u.isFoundDocument())return new lh(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new lh(this._firestore,s,t._key,null,t.converter);throw we(18433,{doc:u})}))}set(e,t,s){const o=cu(e,this._firestore),u=Fg(o.converter,t,s),h=Vg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(e,t,s,...o){const u=cu(e,this._firestore);let h;return h=typeof(t=Tt(t))=="string"||t instanceof Ph?UN(this._dataReader,"Transaction.update",u._key,t,s,o):LN(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4 extends e4{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cu(e,this._firestore),s=new Hu(this._firestore);return super.get(e).then((o=>new cs(this._firestore,s,t._key,o._document,new yo(!1,!1),t.converter)))}}function $T(i,e,t){i=Vn(i,vr);const s={...JN,...t};return(function(u){if(u.maxAttempts<1)throw new oe(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,p){const g=new di;return u.asyncQueue.enqueueAndForget((async()=>{const y=await MT(u);new EN(u.asyncQueue,y,p,h,g).ju()})),g.promise})(Fo(i),(o=>e(new t4(i,o))),s)}function oa(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(o){jo=o})(Lo),Ao(new ca("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),p=new vr(new kx(s.getProvider("auth-internal")),new Vx(h,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(y.options.projectId,_)})(h,o),h);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),os(rb,sb,e),os(rb,sb,"esm2020")})();var n4="firebase",i4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(n4,i4,"app");function r4(){return{apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"}}function Gg(){const i=ZS();return i.length?i[0]:C0(r4())}function s4(){const i=Gg();return xx(i)}function a4(){const i=Gg();return DN(i)}function o4(){const i=fe.useMemo(()=>Gg(),[]),e=fe.useMemo(()=>s4(),[]),t=fe.useMemo(()=>a4(),[]);return{app:i,auth:e,db:t}}function XT(i=900){const[e,t]=fe.useState(!1);return fe.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=u=>t(u.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}async function l4(i,e,t,s){const o=Cu(i,"spins"),u=ko(i,"userstats",e);await Um(o,{uid:e,...s,createdAt:oa()}),await $T(i,async h=>{const p=await h.get(u),g=p.exists()?p.data():{totalScore:0,totalSpins:0,displayName:t||"Annimo"},y={displayName:t||g.displayName||"Annimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:oa()};h.set(u,y,{merge:!0})})}async function u4(i){const e=HT(Cu(i,"userstats"),HN("totalScore","desc"),FN(10));return(await $N(e)).docs.map(s=>({id:s.id,...s.data()}))}async function c4(i,e){const t=HT(Cu(i,"userstats"),qN("totalScore",">",e||0));return((await WN(t)).data().count||0)+1}const d4={es:{questionForPoints:i=>`Pregunta por ${i} puntos`,true:"Verdadero",false:"Falso",time:i=>`Tiempo: ${i}s`,answerShortPlaceholder:"Escribe tu respuesta corta",reply:"Responder"}};function fo(i,...e){const s=d4.es[i];return typeof s=="function"?s(...e):s}function i0({open:i,onClose:e,question:t,points:s,onAnswer:o,category:u}){const[h,p]=fe.useState(""),g=t?.type==="tf",y=t?.type==="short",[_,R]=fe.useState(20),[A,z]=fe.useState(!1),[Q,ee]=fe.useState(null),W=fe.useMemo(()=>t?g?h==="true"||h==="false":y?h.trim().length>0:!1:!1,[t,g,y,h]);if(fe.useEffect(()=>{if(!i)return;R(20),z(!1),p(""),ee(null);const ne=setInterval(()=>R(Ie=>Ie-1),1e3);return()=>clearInterval(ne)},[i,t?.id]),fe.useEffect(()=>{_===0&&(g?o?.({timeout:!0}):e?.())},[_,g,o,e]),!i)return null;const le=()=>C.jsx("span",{"aria-hidden":!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:C.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 50 50",role:"img",children:[C.jsx("title",{children:"cargando"}),C.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"#94a3b8",strokeWidth:"4",fill:"none",opacity:".25"}),C.jsx("path",{d:"M25 5 a20 20 0 0 1 0 40",fill:"none",stroke:"#8be9e3",strokeWidth:"4",strokeLinecap:"round",children:C.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.9s",repeatCount:"indefinite"})})]})}),re=ne=>{if(ne?.preventDefault?.(),!W)return;const Ie=g?h==="true":h.trim().toLowerCase();o?.(Ie),p("")};return C.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",zIndex:50},children:C.jsxs("div",{className:"modal-card","aria-busy":A,style:{width:"min(560px, 92vw)",background:"#111827",border:"1px solid #3f3f46",borderRadius:12,boxShadow:"0 10px 30px #0006",overflow:"hidden",position:"relative"},children:[C.jsxs("header",{style:{padding:"12px 16px",borderBottom:"1px solid #27272a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsx("h3",{style:{margin:0,fontSize:18},children:fo("questionForPoints",s)}),C.jsx("button",{onClick:e,"aria-label":"Cerrar",style:{background:"transparent",border:0,color:"#e5e7eb",cursor:"pointer"},children:""})]}),C.jsxs("div",{style:{padding:16,display:"grid",gap:12},children:[u&&C.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Relacionada con la ruleta: ",C.jsx("b",{children:u})]}),C.jsx("p",{style:{margin:"4px 0 8px 0"},children:t?.text}),g&&i&&C.jsxs("div",{style:{display:"flex",gap:8},children:[C.jsx("button",{className:"btn",disabled:A,onClick:()=>{ee("true"),z(!0),o?.(!0)},style:{border:"1px solid #3f3f46",background:Q==="true"?"#16a34a":"#14532d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:A?.9:1,transition:"transform .12s ease, background .2s ease",transform:Q==="true"?"scale(1.04)":"scale(1)"},children:fo("true")}),C.jsx("button",{className:"btn",disabled:A,onClick:()=>{ee("false"),z(!0),o?.(!1)},style:{border:"1px solid #3f3f46",background:Q==="false"?"#dc2626":"#7f1d1d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:A?.9:1,transition:"transform .12s ease, background .2s ease",transform:Q==="false"?"scale(1.04)":"scale(1)"},children:fo("false")})]}),A&&C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 10px",border:"1px dashed #334155",borderRadius:8,background:"rgba(15,23,42,.35)"},children:[C.jsx(le,{}),C.jsx("span",{style:{fontSize:13,color:"#cbd5e1"},children:"Procesando respuesta"})]}),y&&C.jsx("form",{onSubmit:re,children:C.jsx("input",{autoFocus:!0,value:h,onChange:ne=>p(ne.target.value),placeholder:fo("answerShortPlaceholder"),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #3f3f46",background:"#0b0b0b",color:"#e5e7eb"}})})]}),C.jsxs("footer",{style:{padding:16,borderTop:"1px solid #27272a",display:"flex",justifyContent:"space-between",gap:8,alignItems:"center"},children:[C.jsx("span",{style:{opacity:.85},children:fo("time",_)}),y&&C.jsx("button",{className:"btn",onClick:re,disabled:!W,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"8px 12px",borderRadius:8},children:fo("reply")})]})]})})}const h4={Calidad:[{id:"cal1",type:"tf",text:"La calidad de datos incluye precisin, integridad y consistencia.",answer:!0,explain:"Son cualidades bsicas de un buen dato: correcto, completo y coherente."},{id:"cal2",type:"tf",text:"Un dato inexacto, aun til, sigue considerndose de alta calidad.",answer:!1,explain:"La utilidad no sustituye la precisin. Un dato inexacto no puede considerarse de alta calidad."},{id:"cal3",type:"tf",text:"La integridad es una dimensin de calidad que mide completitud.",answer:!0,explain:"Integridad se refiere a que no falten campos clave. Otras dimensiones: precisin, consistencia, oportunidad."},{id:"cal4",type:"tf",text:"La calidad de datos afecta directamente la toma de decisiones.",answer:!0,explain:"Decisiones basadas en datos de baja calidad llevan a errores y riesgos operativos."},{id:"cal5",type:"tf",text:"La oportunidad/puntualidad es una dimensin de calidad.",answer:!0,explain:"Se refiere a la disponibilidad del dato a tiempo para su uso."},{id:"cal6",type:"tf",text:"La consistencia implica que el mismo dato tenga el mismo valor en todos los sistemas.",answer:!0,explain:"Si un campo difiere entre fuentes, hay inconsistencia; esto deteriora la confianza y los anlisis."},{id:"cal7",type:"tf",text:"Un dato oportuno puede ser de baja calidad si es incorrecto.",answer:!0,explain:"La puntualidad no compensa la falta de precisin."},{id:"cal8",type:"tf",text:"Validaciones automticas antes de guardar mejoran la calidad.",answer:!0,explain:"Detectan errores temprano y reducen retrabajo."},{id:"cal9",type:"tf",text:"Los duplicados nunca afectan la calidad.",answer:!1,explain:"Los duplicados distorsionan conteos y anlisis."},{id:"cal10",type:"tf",text:"Usar estndares de formato (fechas, unidades) evita errores de interpretacin.",answer:!0,explain:"Estandarizar asegura que todos lean el dato igual."},{id:"cal11",type:"tf",text:"La calidad de datos solo importa para reportes y no para operaciones diarias.",answer:!1,explain:"Las operaciones tambin dependen de datos correctos; errores impactan procesos y clientes."},{id:"cal12",type:"tf",text:"Con suficiente volumen, los errores de calidad se compensan solos.",answer:!1,explain:"Ms volumen no corrige sesgos ni errores; puede amplificarlos."},{id:"cal13",type:"tf",text:"Eliminar validaciones acelera y mantiene la calidad estable.",answer:!1,explain:"Quitar controles aumenta errores y retrabajo; baja la calidad."},{id:"cal14",type:"tf",text:"La consistencia entre sistemas es opcional si el equipo se comunica bien.",answer:!1,explain:"La inconsistencia genera decisiones distintas sobre la misma informacin."},{id:"cal15",type:"tf",text:"No es necesario medir la calidad si los usuarios estn conformes.",answer:!1,explain:"Medir permite detectar y corregir problemas de forma objetiva."},{id:"calx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Hacer pausas al estudiar ayuda a retener mejor.",answer:!0,explain:"Las pausas mejoran la atencin y la memoria."},{id:"calx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Es recomendable desactivar todas las validaciones para ir ms rpido.",answer:!1,explain:"Quitar validaciones aumenta errores y baja la calidad."}],Seguridad:[{id:"seg1",type:"tf",text:"El control de acceso limita quin puede ver o modificar datos.",answer:!0,explain:"Sirve para que solo personas autorizadas entren o cambien la informacin."},{id:"seg2",type:"tf",text:"El cifrado sirve solo para datos en reposo.",answer:!1,explain:"El cifrado aplica en reposo y en trnsito; ambos son necesarios para proteger la confidencialidad."},{id:"seg3",type:"tf",text:"La autenticacin multifactor reduce el riesgo de acceso no autorizado.",answer:!0,explain:"Agregar un segundo factor (algo que tienes) mitiga robo de contraseas."},{id:"seg4",type:"tf",text:"ISO/IEC 27001 es un estndar de gestin de seguridad de la informacin.",answer:!0,explain:"Define requisitos de un SGSI (sistema de gestin de seguridad de la informacin)."},{id:"seg5",type:"tf",text:"Los respaldos forman parte de los controles de seguridad.",answer:!0,explain:"Las copias de seguridad permiten recuperar datos ante incidentes y mejoran la resiliencia."},{id:"seg6",type:"tf",text:"El principio de mnimo privilegio sugiere otorgar solo el acceso estrictamente necesario.",answer:!0,explain:"Reduce la superficie de ataque y el impacto de cuentas comprometidas."},{id:"seg7",type:"tf",text:"Actualizar sistemas y parches reduce riesgos por vulnerabilidades.",answer:!0,explain:"Cierra fallas conocidas aprovechadas por atacantes."},{id:"seg8",type:"tf",text:"Compartir contraseas por correo es seguro si es con un compaero.",answer:!1,explain:"Nunca compartas contraseas; usa gestores y 2 factores."},{id:"seg9",type:"tf",text:"Cerrar sesin en equipos compartidos reduce el riesgo.",answer:!0,explain:"Evita accesos no autorizados posteriores."},{id:"seg10",type:"tf",text:"La ingeniera social busca engaar para obtener acceso.",answer:!0,explain:"Desconfa de solicitudes urgentes e inesperadas."},{id:"seg11",type:"tf",text:"El antivirus reemplaza la necesidad de aplicar parches de seguridad.",answer:!1,explain:"Son controles complementarios; parches corrigen vulnerabilidades."},{id:"seg12",type:"tf",text:"Usar la misma contrasea en todos los sistemas es una buena prctica.",answer:!1,explain:"Reutilizar contraseas incrementa el riesgo por brechas en cascada."},{id:"seg13",type:"tf",text:"Compartir accesos administrativos entre varias personas mejora el control.",answer:!1,explain:"Las cuentas personales trazables son clave para la responsabilidad."},{id:"seg14",type:"tf",text:"Los logs de seguridad no aportan valor para detectar incidentes.",answer:!1,explain:"La observabilidad es esencial para detectar y responder incidentes."},{id:"seg15",type:"tf",text:"El cifrado hace que las copias de respaldo sean innecesarias.",answer:!1,explain:"Respaldo y cifrado cubren riesgos distintos: prdida vs. confidencialidad."},{id:"segx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Usar WiFi pblico sin proteccin es seguro para datos sensibles.",answer:!1,explain:"Las redes pblicas pueden ser interceptadas; evita enviar informacin sensible."},{id:"segx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Mantener el sistema operativo actualizado mejora la seguridad.",answer:!0,explain:"Las actualizaciones corrigen vulnerabilidades."}],Privacidad:[{id:"pri1",type:"tf",text:"La minimizacin de datos busca recolectar solo lo necesario.",answer:!0,explain:"Recolectar y procesar lo mnimo reduce riesgo y cumple principios de privacidad."},{id:"pri2",type:"tf",text:"Los datos personales siempre pueden hacerse pblicos si estn en internet.",answer:!1,explain:"Que algo est en internet no significa que puedas usarlo libremente."},{id:"pri3",type:"tf",text:"El consentimiento es un fundamento comn para tratar datos personales.",answer:!0,explain:"Adems del consentimiento, existen otros fundamentos como obligacin legal o inters legtimo."},{id:"pri4",type:"tf",text:"Privacidad por diseo integra privacidad desde el diseo y por defecto.",answer:!0,explain:"Es un enfoque proactivo que previene en lugar de corregir."},{id:"pri5",type:"tf",text:"Anonimizar y seudonimizar son exactamente lo mismo.",answer:!1,explain:"Anonimizar elimina el vnculo con el individuo; seudonimizar lo oculta, pero puede reidentificarse."},{id:"pri6",type:"tf",text:"La portabilidad de datos permite al titular obtener y reutilizar sus datos.",answer:!0,explain:"Es un derecho en varias normativas; fomenta competencia y control del usuario."},{id:"pri7",type:"tf",text:"El derecho de acceso permite saber qu datos se tratan sobre ti.",answer:!0,explain:"Puedes solicitar una copia y conocer fines y fuentes."},{id:"pri8",type:"tf",text:"Publicar fotos de otras personas siempre es legal si son en lugares pblicos.",answer:!1,explain:"Pueden requerir consentimiento y respetar derechos de imagen."},{id:"pri9",type:"tf",text:"Se debe informar la finalidad al recolectar datos personales.",answer:!0,explain:"La transparencia es un principio clave de privacidad."},{id:"pri10",type:"tf",text:"Eliminar datos cuando ya no se necesitan reduce riesgos.",answer:!0,explain:"Minimiza exposicin y cumplimiento de retencin."},{id:"pri11",type:"tf",text:"Si un usuario publica su correo en internet, cualquiera puede usarlo para cualquier fin.",answer:!1,explain:"La licitud del tratamiento no depende solo de que algo sea pblico."},{id:"pri12",type:"tf",text:"No hace falta informar al titular sobre el uso de sus datos si es obvio.",answer:!1,explain:"La transparencia exige informar finalidades y derechos."},{id:"pri13",type:"tf",text:"La seudonimizacin garantiza que nadie pueda reidentificar.",answer:!1,explain:"Puede reidentificarse con datos auxiliares; no equivale a anonimizar."},{id:"pri14",type:"tf",text:"Los derechos de los titulares pueden ignorarse si es costoso atenderlos.",answer:!1,explain:"Los derechos aplican conforme a la normativa; el costo no los invalida."},{id:"pri15",type:"tf",text:"El principio de minimizacin permite recolectar por si acaso.",answer:!1,explain:"Recolectar solo lo necesario para fines especficos."},{id:"prix11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Configurar privacidad en redes sociales limita quin ve tu informacin.",answer:!0,explain:"Ajustar visibilidad protege tus datos personales."},{id:"prix12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Compartir tu ubicacin en tiempo real siempre es seguro.",answer:!1,explain:"Compartir ubicacin aumenta riesgos si no se controla."}],Catlogo:[{id:"cat1",type:"tf",text:"Un catlogo de datos facilita descubrir y entender conjuntos de datos.",answer:!0,explain:"Centraliza metadatos, descripciones y responsables para acelerar el hallazgo."},{id:"cat2",type:"tf",text:"Un diccionario de datos describe campos y su significado.",answer:!0,explain:"Explica qu es cada campo y cmo se usa."},{id:"cat3",type:"tf",text:"Los metadatos ayudan a encontrar datos adecuados para un anlisis.",answer:!0,explain:"Los metadatos (descripcin, etiquetas, calidad) mejoran la bsqueda y seleccin."},{id:"cat4",type:"tf",text:"Un catlogo no necesita taxonomas ni etiquetas.",answer:!1,explain:"Taxonomas/etiquetas mejoran el orden y descubrimiento dentro del catlogo."},{id:"cat5",type:"tf",text:"El metadato propietario es clave para la gobernanza.",answer:!0,explain:"Acelera decisiones y clarifica responsabilidades."},{id:"cat6",type:"tf",text:"La calidad de metadatos impacta directamente la utilidad del catlogo.",answer:!0,explain:"Metadatos pobres dificultan el hallazgo y pueden conducir a mal uso del dato."},{id:"cat7",type:"tf",text:"Etiquetas coherentes facilitan encontrar datasets relacionados.",answer:!0,explain:"Etiquetar bien mejora el descubrimiento."},{id:"cat8",type:"tf",text:"Un catlogo sin buscador sigue siendo igual de til.",answer:!1,explain:"El buscador es clave cuando crece el contenido."},{id:"cat9",type:"tf",text:"La fecha de actualizacin ayuda a elegir datos vigentes.",answer:!0,explain:"Evita usar informacin desactualizada."},{id:"cat10",type:"tf",text:"La participacin de usuarios mejora la calidad del catlogo.",answer:!0,explain:"Sugerencias y correcciones elevan la utilidad."},{id:"cat11",type:"tf",text:"Un catlogo es solo una vitrina; no necesita gobierno ni procesos.",answer:!1,explain:"Requiere cuidado continuo: roles, calidad de metadatos y procesos."},{id:"cat12",type:"tf",text:"Es mejor permitir descripciones libres sin estructura en el catlogo.",answer:!1,explain:"Plantillas y campos estructurados mejoran la bsqueda y calidad."},{id:"cat13",type:"tf",text:"Actualizar metadatos no es necesario si el dataset cambia poco.",answer:!1,explain:"La vigencia de metadatos es clave para la confianza y el reuso."},{id:"cat14",type:"tf",text:"Los responsables de datos no deben figurar en el catlogo.",answer:!1,explain:"El contacto/responsable facilita soporte y decisiones."},{id:"cat15",type:"tf",text:"Un catlogo sin control de calidad funciona igual que uno curado.",answer:!1,explain:"La curadura mejora utilidad, precisin y adopcin."},{id:"catx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Mantener ordenadas carpetas personales no influye en catlogos de datos.",answer:!1,explain:"El orden personal tambin inspira mejores prcticas organizacionales."},{id:"catx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Una buena documentacin acelera el aprendizaje de herramientas.",answer:!0,explain:"Documentar reduce curva de aprendizaje."}],Propiedad:[{id:"pro1",type:"tf",text:"El data owner es responsable del uso y calidad del dato.",answer:!0,explain:"Define reglas, prioriza mejoras y asume responsabilidad por el dato."},{id:"pro2",type:"tf",text:"Data steward y data owner siempre son la misma persona.",answer:!1,explain:"El steward opera el dato; el owner es responsable. Pueden ser roles distintos."},{id:"pro3",type:"tf",text:"Definir responsables aclara quin decide sobre cambios en el dato.",answer:!0,explain:"La asignacin de roles evita ambigedad y acelera decisiones."},{id:"pro4",type:"tf",text:"El data steward gestiona la calidad y tareas del da a da del dato.",answer:!0,explain:"Ayuda a que el dato est bien cuidado y documentado."},{id:"pro5",type:"tf",text:"Sin propietarios definidos, la calidad tiende a mejorar.",answer:!1,explain:"Sin responsables claros, la calidad suele degradarse por falta de cuidado."},{id:"pro6",type:"tf",text:"La matriz RACI ayuda a clarificar roles y responsabilidades sobre el dato.",answer:!0,explain:"RACI = Responsable, Aprobador, Consultado e Informado. Sirve para definir quin hace qu."},{id:"pro7",type:"tf",text:"Definir sustitutos del propietario evita bloqueos por ausencias.",answer:!0,explain:"Garantiza continuidad de decisiones."},{id:"pro8",type:"tf",text:"Roles y lmites claros reducen conflictos entre equipos.",answer:!0,explain:"Cada uno sabe qu puede decidir."},{id:"pro9",type:"tf",text:"Un owner puede delegar tareas pero no la responsabilidad final.",answer:!0,explain:"La rendicin de cuentas sigue en el owner."},{id:"pro10",type:"tf",text:"Sin un modelo de roles, la gobernanza funciona igual de bien.",answer:!1,explain:"La falta de estructura genera retrasos y errores."},{id:"pro11",type:"tf",text:"Designar mltiples owners por dato siempre reduce ambigedad.",answer:!1,explain:"Demasiados owners diluyen la responsabilidad; debe haber claridad."},{id:"pro12",type:"tf",text:"La ausencia de responsables no afecta los tiempos de respuesta.",answer:!1,explain:"Sin responsables, las decisiones se retrasan y la calidad sufre."},{id:"pro13",type:"tf",text:"El owner puede transferir la rendicin de cuentas a cualquier rol.",answer:!1,explain:"Puede delegar tareas, no la responsabilidad final."},{id:"pro14",type:"tf",text:"No es necesario documentar reemplazos del owner en vacaciones.",answer:!1,explain:"Definir sustitutos evita bloqueos operativos."},{id:"pro15",type:"tf",text:"Un RACI complejo siempre es mejor que un RACI simple.",answer:!1,explain:"La claridad prima sobre la complejidad; evita confusin."},{id:"prox11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Un cronograma claro ayuda a coordinar proyectos.",answer:!0,explain:"La planificacin mejora la ejecucin."},{id:"prox12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Las reuniones sin agenda suelen ser eficientes.",answer:!1,explain:"La agenda mejora foco y tiempos."}],Trazabilidad:[{id:"tra1",type:"tf",text:"La trazabilidad permite conocer el origen y transformaciones del dato.",answer:!0,explain:"Registrar orgenes y procesos facilita auditoras y resolucin de problemas."},{id:"tra2",type:"tf",text:"El linaje de datos no es relevante para auditoras.",answer:!1,explain:"El linaje es clave para demostrar dnde, cmo y por quin pas el dato."},{id:"tra3",type:"tf",text:"El linaje ayuda a ver el impacto de cambios en las fuentes.",answer:!0,explain:"Saber de dnde viene el dato permite evaluar riesgos antes de cambiarlo."},{id:"tra4",type:"tf",text:"El linaje de datos describe el origen y las transformaciones del dato.",answer:!0,explain:"Es el rastro de dnde viene el dato y cmo cambi en el camino."},{id:"tra5",type:"tf",text:"Registrar transformaciones ayuda a reproducir resultados.",answer:!0,explain:"La reproducibilidad requiere conocer las transformaciones intermedias."},{id:"tra6",type:"tf",text:"Las herramientas de linaje pueden capturar orgenes de forma automtica.",answer:!0,explain:"Reducen trabajo manual y errores."},{id:"tra7",type:"tf",text:"El linaje apoya el cumplimiento en auditoras.",answer:!0,explain:"Demuestra la ruta del dato y controles aplicados."},{id:"tra8",type:"tf",text:"No es til registrar versiones de scripts de transformacin.",answer:!1,explain:"Versionar scripts es clave para reproducir y auditar."},{id:"tra9",type:"tf",text:"Identificadores nicos ayudan a seguir registros entre sistemas.",answer:!0,explain:"Facilitan correlacionar eventos a travs del flujo."},{id:"tra10",type:"tf",text:"La trazabilidad aumenta la confianza en reportes y decisiones.",answer:!0,explain:"Transparencia = mayor credibilidad."},{id:"tra11",type:"tf",text:"Si el equipo recuerda los pasos, no hace falta documentar el linaje.",answer:!1,explain:"La memoria es falible; se requiere registro verificable."},{id:"tra12",type:"tf",text:"El linaje solo interesa a TI, no al negocio.",answer:!1,explain:"Ambos lo usan: impacto de cambios, calidad y auditoras."},{id:"tra13",type:"tf",text:"Las transformaciones manuales no necesitan trazabilidad.",answer:!1,explain:"Toda transformacin relevante debe quedar registrada."},{id:"tra14",type:"tf",text:"Versionar scripts es innecesario si hay backups.",answer:!1,explain:"Versionado y backup resuelven problemas distintos."},{id:"tra15",type:"tf",text:"El linaje no ayuda a resolver discrepancias entre reportes.",answer:!1,explain:"Permite ubicar dnde cambi el dato y por qu."},{id:"trax11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Anotar pasos a mano puede ayudar a recordar cambios.",answer:!0,explain:"Registrar pasos evita olvidar decisiones."},{id:"trax12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Los historiales de edicin no sirven para aprender de errores.",answer:!1,explain:"Revisar historial ayuda a mejorar procesos."}],Polticas:[{id:"pol1",type:"tf",text:"Las polticas de datos definen reglas de uso, acceso y retencin.",answer:!0,explain:"Establecen el marco formal que gua el manejo y proteccin del dato."},{id:"pol2",type:"tf",text:"Si existen polticas, no se necesitan controles tcnicos.",answer:!1,explain:"Poltica y controles se complementan: reglas + mecanismos para cumplirlas."},{id:"pol3",type:"tf",text:"Las polticas deben ser comunicadas y versionadas.",answer:!0,explain:"Comunicar y versionar mantiene a todos alineados con los cambios."},{id:"pol4",type:"tf",text:"Los procedimientos convierten polticas en pasos claros.",answer:!0,explain:"Son instrucciones para cumplir lo que dicen las polticas."},{id:"pol5",type:"tf",text:"Las polticas no aplican a datos no estructurados.",answer:!1,explain:"Las polticas aplican a todos los datos, estructurados o no."},{id:"pol6",type:"tf",text:"Las polticas deben indicar responsables y excepciones permitidas.",answer:!0,explain:"Aclaran quin decide y en qu casos."},{id:"pol7",type:"tf",text:"Sin capacitacin, las polticas pueden no cumplirse.",answer:!0,explain:"La formacin ayuda a aplicarlas correctamente."},{id:"pol8",type:"tf",text:"La poltica de retencin define cunto tiempo guardar datos.",answer:!0,explain:"Evita retener ms de lo necesario."},{id:"pol9",type:"tf",text:"Las sanciones pueden ayudar a hacer cumplir las polticas.",answer:!0,explain:"Refuerzan la importancia del cumplimiento."},{id:"pol10",type:"tf",text:"No es necesario medir el cumplimiento de polticas.",answer:!1,explain:"Medir permite mejorar y corregir desviaciones."},{id:"pol11",type:"tf",text:"Las polticas por s solas garantizan el cumplimiento sin capacitacin.",answer:!1,explain:"Se requiere formacin, procesos y controles."},{id:"pol12",type:"tf",text:"Versionar polticas es innecesario si se comunican por correo.",answer:!1,explain:"El versionado controla cambios y asegura trazabilidad."},{id:"pol13",type:"tf",text:"Las excepciones nunca deben documentarse.",answer:!1,explain:"Documentarlas permite controlarlas y aprender de ellas."},{id:"pol14",type:"tf",text:"Medir cumplimiento puede omitirse si no hay auditoras externas.",answer:!1,explain:"La mejora continua requiere medicin, haya o no auditoras."},{id:"pol15",type:"tf",text:"Las polticas no aplican a proveedores ni terceros.",answer:!1,explain:"Alcance y obligaciones deben incluir terceros."},{id:"polx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Tener normas de convivencia mejora el trabajo en equipo.",answer:!0,explain:"Reglas claras facilitan colaboracin."},{id:"polx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Las reglas claras empeoran la comunicacin.",answer:!1,explain:"Claridad mejora la comunicacin."}],Interoperabilidad:[{id:"int1",type:"tf",text:"Los estndares y formatos abiertos mejoran la interoperabilidad.",answer:!0,explain:"Facilitan el intercambio al reducir dependencias de proveedor."},{id:"int2",type:"tf",text:"La interoperabilidad solo importa entre sistemas internos.",answer:!1,explain:"Tambin es clave para integraciones con socios, clientes y terceros."},{id:"int3",type:"tf",text:"Las API bien documentadas facilitan la integracin entre sistemas.",answer:!0,explain:"API = Interfaz de Programacin de Aplicaciones. Una buena documentacin evita errores al conectar sistemas."},{id:"int4",type:"tf",text:"JSON (JavaScript Object Notation) es un formato comn para intercambio de datos.",answer:!0,explain:"Es ligero, legible y ampliamente soportado."},{id:"int5",type:"tf",text:"Los esquemas y contratos evitan rupturas entre integraciones.",answer:!0,explain:"Los contratos estables permiten compatibilidad y evolucin controlada."},{id:"int6",type:"tf",text:"Versionar las API ayuda a mantener compatibilidad mientras evolucionan.",answer:!0,explain:"API = Interfaz de Programacin de Aplicaciones. Versionar evita romper clientes existentes y permite introducir cambios de forma controlada."},{id:"int7",type:"tf",text:"Las pruebas de contrato detectan rupturas temprano.",answer:!0,explain:"Validan que los acuerdos entre servicios sigan vlidos."},{id:"int8",type:"tf",text:"Alinear tipos y codificaciones evita errores de interpretacin.",answer:!0,explain:"Conviene acordar juegos de caracteres y tipos."},{id:"int9",type:"tf",text:"La interoperabilidad mejora con documentacin y ejemplos de uso.",answer:!0,explain:"Ejemplos reducen ambigedades al integrar."},{id:"int10",type:"tf",text:"Ignorar versiones de una API rara vez causa problemas.",answer:!1,explain:"Rompe clientes y genera fallos en produccin."},{id:"int11",type:"tf",text:"Si dos sistemas hablan JSON, ya no se necesitan contratos.",answer:!1,explain:"El contrato define estructura y semntica; formato no basta."},{id:"int12",type:"tf",text:"La documentacin de APIs puede omitirse si el cdigo es claro.",answer:!1,explain:"La doc publica y ejemplos reducen errores de integracin."},{id:"int13",type:"tf",text:"Cambiar un campo en la API sin comunicar no afecta a los clientes.",answer:!1,explain:"Es ruptura silenciosa; se debe versionar y comunicar."},{id:"int14",type:"tf",text:"Las pruebas de contrato sobran cuando hay tests unitarios.",answer:!1,explain:"Validan la compatibilidad entre servicios, no solo lgica interna."},{id:"int15",type:"tf",text:"Los esquemas no deben validar tipos para evitar rechazos.",answer:!1,explain:"Validar tipos previene errores de interpretacin y fallos."},{id:"intx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Nombres claros en variables ayudan a entender el cdigo.",answer:!0,explain:"Claridad mejora mantenimiento."},{id:"intx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta est un poco salida del tema (reserva). Copiar y pegar datos a mano siempre es mejor que automatizar.",answer:!1,explain:"La automatizacin reduce errores humanos."}]};function f4(i,e=new Set,t=[]){const s=[...h4[i]||[],...t||[]];if(!s.length)return null;const o=s.filter(y=>!e.has(y.id)),u=o.filter(y=>!y.offTopic),h=o.filter(y=>y.offTopic),p=u.length?u:h.length?h:s,g=Math.floor(Math.random()*p.length);return p[g]}async function p4(i,e,t,s,o,u){try{const y=Cu(i,"quizEvents");await Um(y,{uid:e,category:s.label,points:s.points,questionId:o?.id||null,correct:!!u,createdAt:oa()})}catch(y){console.warn("quizEvents not persisted:",y?.message||y)}const h=ko(i,"userstats",e),p=Cu(i,"spins"),g=u?s.points:-s.points;await Um(p,{uid:e,label:`${s.label}${u?"":" (fallo)"}`,points:g,createdAt:oa()}),await $T(i,async y=>{const _=await y.get(h),R=_.exists()?_.data():{totalScore:0,totalSpins:0,displayName:t||"Annimo"},A={displayName:t||R.displayName||"Annimo",totalScore:(R.totalScore||0)+g,totalSpins:(R.totalSpins||0)+1,updatedAt:oa()};y.set(h,A,{merge:!0})})}const m4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=";function r0({open:i,title:e,onClose:t,children:s}){return i?C.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:C.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:o=>o.stopPropagation(),children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[C.jsx("strong",{style:{fontSize:16},children:e}),C.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid var(--stroke)",background:"#18181b",color:"#fafafa",padding:"6px 10px"},children:"Cerrar"})]}),C.jsx("div",{style:{padding:12},children:s})]})}):null}function g4(){return C.jsxs("div",{className:"brand",children:[C.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:C.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),C.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}function jm(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}const y4=jm;function w4(i,e,t=36){const s=e*Math.PI/180,o=2*t*Math.sin(s/2)*.9,p=Math.min(5.2,o/(.6*Math.max(1,i.length)));return Math.max(3.2,p)}const li=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catlogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Polticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function s0({onResult:i,disabled:e,onBeforeFirstSpin:t}){const[s,o]=fe.useState(!1),[u,h]=fe.useState(0),[p,g]=fe.useState(!1),y=360/li.length,_=36,R=async()=>{if(s||e)return;if(!p&&t){try{t()}catch{}g(!0)}o(!0);const z=5+Math.floor(Math.random()*4),Q=Math.floor(Math.random()*li.length),ee=z*360+(li.length-Q)*y-y/2,W=u+ee;h(W),setTimeout(()=>{o(!1);const le=(W%360+360)%360,re=(li.length-Math.floor((le+y/2)/y))%li.length,ne=li[re];i?.(ne)},3800)},A=()=>{R()};return C.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[C.jsx("div",{className:"wheel-legend",children:li.map(z=>C.jsxs("div",{className:"legend-item",children:[C.jsx("span",{className:"legend-swatch",style:{background:z.color}}),C.jsx("span",{className:"legend-label",children:z.label}),C.jsxs("span",{className:"legend-points",children:["+",z.points]})]},z.label))}),C.jsxs("div",{className:"wheel-wrap",role:"button","aria-label":"Ruleta: tocar o presionar para girar","aria-disabled":s||e,tabIndex:0,onClick:A,onKeyDown:z=>{(z.key==="Enter"||z.key===" ")&&(z.preventDefault(),A())},style:{cursor:s||e?"not-allowed":"pointer",pointerEvents:s||e?"none":"auto"},children:[C.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),C.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${u}deg)`,transition:"transform 3.8s cubic-bezier(.17,.67,.35,1)",background:"#0c0c0c"},children:[li.map((z,Q)=>{const ee=Q*(360/li.length),W=ee+360/li.length,le=W-ee<=180?0:1,re=jm(50,50,49,W),ne=jm(50,50,49,ee),Ie=["M 50 50",`L ${re.x} ${re.y}`,`A 49 49 0 ${le} 0 ${ne.x} ${ne.y}`,"Z"].join(" "),_e=y4(50,50,_+1.5,ee+360/li.length/2),Me=w4(z.label,y,_);return C.jsxs("g",{children:[C.jsx("path",{d:Ie,fill:z.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),C.jsx("text",{x:_e.x,y:_e.y,fontSize:Me,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",children:z.label})]},z.label)}),C.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),C.jsx("button",{onClick:R,disabled:s||e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",opacity:s||e?.7:1},children:s?"Girando":" Girar ruleta!"})]})}function v4({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?C.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:""}):null}function Rd({db:i,currentUser:e,myStats:t}){const s=XT(980),[o,u]=fe.useState([]),[h,p]=fe.useState(!1),[g,y]=fe.useState(null),[_,R]=fe.useState(null),A=fe.useCallback(async()=>{p(!0),y(null);try{const re=await u4(i);u(re)}catch(re){console.error("Top10 load failed:",re),y("Error al consultar los datos del Top 10. Verifica tu conexin o permisos de Firebase."),u([])}finally{p(!1)}},[i]);fe.useEffect(()=>{A();const re=()=>A();return window.addEventListener("reload-top10",re),()=>window.removeEventListener("reload-top10",re)},[A]),fe.useEffect(()=>{(async()=>{if(!e){R(null);return}if(o.some(ne=>ne.id===e.uid)){R(null);return}try{const ne=await c4(i,t?.totalScore||0);R(ne)}catch(ne){console.error("rank error:",ne),R(null)}})()},[i,o,e,t?.totalScore]);const z=(re,ne,Ie={})=>C.jsxs("tr",{style:{borderBottom:"1px solid #222",background:Ie.highlight?"rgba(255,255,255,0.06)":"transparent"},children:[C.jsxs("td",{style:{padding:"6px 8px 6px 8px",width:"2.8ch",textAlign:"right"},children:["#",ne]}),C.jsx("td",{style:{padding:s?"6px 8px 6px 10px":"6px 16px 6px 10px"},children:C.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[C.jsx(v4,{rank:ne}),C.jsx("span",{children:re.displayName||re.id})]})}),C.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:C.jsx("b",{children:re.totalScore||0})}),C.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:re.totalSpins||0})]},Ie.key||re.id),Q=!!e,W=(Q?o.findIndex(re=>re.id===e.uid):-1)>=0,le=Q?{id:e.uid,displayName:t?.displayName||e.displayName||e.email,totalScore:t?.totalScore||0,totalSpins:t?.totalSpins||0}:null;return C.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[C.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),C.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:A,children:"Actualizar"})]}),h&&C.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando"}),g&&C.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:g}),C.jsx("div",{className:"table-wrap",children:C.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[C.jsx("thead",{children:C.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[C.jsx("th",{style:{padding:"6px 8px 6px 8px",borderBottom:"1px solid #333",width:"2.8ch",textAlign:"right"},children:"#"}),C.jsx("th",{style:{padding:s?"6px 8px 6px 10px":"6px 16px 6px 10px",borderBottom:"1px solid #333"},children:"Nombre"}),C.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Score total"}),C.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Giros totales"})]})}),C.jsxs("tbody",{children:[o.map((re,ne)=>z(re,ne+1)),Q&&!W&&le&&C.jsxs(C.Fragment,{children:[C.jsx("tr",{children:C.jsx("td",{colSpan:4,style:{padding:4}})}),z(le,_??"",{key:"me",highlight:!0})]})]})]})})]})}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function WT(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function _4(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a0(i,e){return i.get(WT(i,e))}function b4(i,e,t){_4(i,e),e.set(i,t)}function E4(i,e,t){return i.set(WT(i,e),t),t}const T4=100,ve={},A4=()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus()},S4=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{A4(),e()},T4),window.scrollTo(t,s)}),ZT="swal2-",R4=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],F=R4.reduce((i,e)=>(i[e]=ZT+e,i),{}),I4=["success","warning","info","question","error"],uh=I4.reduce((i,e)=>(i[e]=ZT+e,i),{}),JT="SweetAlert2:",Qg=i=>i.charAt(0).toUpperCase()+i.slice(1),gn=i=>{console.warn(`${JT} ${typeof i=="object"?i.join(" "):i}`)},wa=i=>{console.error(`${JT} ${i}`)},o0=[],x4=i=>{o0.includes(i)||(o0.push(i),gn(i))},e2=(i,e=null)=>{x4(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},qh=i=>typeof i=="function"?i():i,Yg=i=>i&&typeof i.toPromise=="function",Fu=i=>Yg(i)?i.toPromise():Promise.resolve(i),Kg=i=>i&&Promise.resolve(i)===i,yn=()=>document.body.querySelector(`.${F.container}`),Gu=i=>{const e=yn();return e?e.querySelector(i):null},Un=i=>Gu(`.${i}`),Ge=()=>Un(F.popup),Go=()=>Un(F.icon),C4=()=>Un(F["icon-content"]),t2=()=>Un(F.title),$g=()=>Un(F["html-container"]),n2=()=>Un(F.image),Xg=()=>Un(F["progress-steps"]),Hh=()=>Un(F["validation-message"]),Ui=()=>Gu(`.${F.actions} .${F.confirm}`),Qo=()=>Gu(`.${F.actions} .${F.cancel}`),va=()=>Gu(`.${F.actions} .${F.deny}`),D4=()=>Un(F["input-label"]),Yo=()=>Gu(`.${F.loader}`),Qu=()=>Un(F.actions),i2=()=>Un(F.footer),Fh=()=>Un(F["timer-progress-bar"]),Wg=()=>Un(F.close),N4=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Zg=()=>{const i=Ge();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,h)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),s=i.querySelectorAll(N4),o=Array.from(s).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>Tn(u))},Jg=()=>pr(document.body,F.shown)&&!pr(document.body,F["toast-shown"])&&!pr(document.body,F["no-backdrop"]),Gh=()=>{const i=Ge();return i?pr(i,F.toast):!1},k4=()=>{const i=Ge();return i?i.hasAttribute("data-loading"):!1},jn=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{i.appendChild(h)});const u=s.querySelector("body");u&&Array.from(u.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?i.appendChild(h.cloneNode(!0)):i.appendChild(h)})}},pr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},O4=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(F).includes(t)&&!Object.values(uh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},Ln=(i,e,t)=>{if(O4(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){gn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}Ye(i,s)}},Qh=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${F.popup} > .${F[e]}`);case"checkbox":return i.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return i.querySelector(`.${F.popup} > .${F.radio} input:checked`)||i.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return i.querySelector(`.${F.popup} > .${F.range} input`);default:return i.querySelector(`.${F.popup} > .${F.input}`)}},r2=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},s2=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},Ye=(i,e)=>{s2(i,e,!0)},ei=(i,e)=>{s2(i,e,!1)},is=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&pr(o,e))return o}},la=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},Qt=(i,e="flex")=>{i&&(i.style.display=e)},un=i=>{i&&(i.style.display="none")},ey=(i,e="block")=>{i&&new MutationObserver(()=>{Yu(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},l0=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},Yu=(i,e,t="flex")=>{e?Qt(i,t):un(i)},Tn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),M4=()=>!Tn(Ui())&&!Tn(va())&&!Tn(Qo()),zm=i=>i.scrollHeight>i.clientHeight,V4=(i,e)=>{let t=i;for(;t&&t!==e;){if(zm(t))return!0;t=t.parentElement}return!1},a2=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},ty=(i,e=!1)=>{const t=Fh();t&&Tn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},P4=()=>{const i=Fh();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},L4=()=>typeof window>"u"||typeof document>"u",U4=`
 <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">
   <button type="button" class="${F.close}"></button>
   <ul class="${F["progress-steps"]}"></ul>
   <div class="${F.icon}"></div>
   <img class="${F.image}" />
   <h2 class="${F.title}" id="${F.title}"></h2>
   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>
   <input class="${F.input}" id="${F.input}" />
   <input type="file" class="${F.file}" />
   <div class="${F.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${F.select}" id="${F.select}"></select>
   <div class="${F.radio}"></div>
   <label class="${F.checkbox}">
     <input type="checkbox" id="${F.checkbox}" />
     <span class="${F.label}"></span>
   </label>
   <textarea class="${F.textarea}" id="${F.textarea}"></textarea>
   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>
   <div class="${F.actions}">
     <div class="${F.loader}"></div>
     <button type="button" class="${F.confirm}"></button>
     <button type="button" class="${F.deny}"></button>
     <button type="button" class="${F.cancel}"></button>
   </div>
   <div class="${F.footer}"></div>
   <div class="${F["timer-progress-bar-container"]}">
     <div class="${F["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),j4=()=>{const i=yn();return i?(i.remove(),ei([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0):!1},na=()=>{ve.currentInstance.resetValidationMessage()},z4=()=>{const i=Ge(),e=is(i,F.input),t=is(i,F.file),s=i.querySelector(`.${F.range} input`),o=i.querySelector(`.${F.range} output`),u=is(i,F.select),h=i.querySelector(`.${F.checkbox} input`),p=is(i,F.textarea);e.oninput=na,t.onchange=na,u.onchange=na,h.onchange=na,p.oninput=na,s.oninput=()=>{na(),o.value=s.value},s.onchange=()=>{na(),o.value=s.value}},B4=i=>typeof i=="string"?document.querySelector(i):i,q4=i=>{const e=Ge();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},H4=i=>{window.getComputedStyle(i).direction==="rtl"&&Ye(yn(),F.rtl)},F4=i=>{const e=j4();if(L4()){wa("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=F.container,e&&Ye(t,F["no-transition"]),jn(t,U4),t.dataset.swal2Theme=i.theme;const s=B4(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),q4(i),H4(s),z4()},ny=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?G4(i,e):i&&jn(e,i)},G4=(i,e)=>{i.jquery?Q4(e,i):jn(e,i.toString())},Q4=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},Y4=(i,e)=>{const t=Qu(),s=Yo();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?un(t):Qt(t),Ln(t,e,"actions"),K4(t,s,e),jn(s,e.loaderHtml||""),Ln(s,e,"loader"))};function K4(i,e,t){const s=Ui(),o=va(),u=Qo();!s||!o||!u||(hm(s,"confirm",t),hm(o,"deny",t),hm(u,"cancel",t),$4(s,o,u,t),t.reverseButtons&&(t.toast?(i.insertBefore(u,s),i.insertBefore(o,s)):(i.insertBefore(u,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function $4(i,e,t,s){if(!s.buttonsStyling){ei([i,e,t],F.styled);return}Ye([i,e,t],F.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),dm(i),dm(e),dm(t)}function dm(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function hm(i,e,t){const s=Qg(e);Yu(i,t[`show${s}Button`],"inline-block"),jn(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=F[e],Ln(i,t,`${e}Button`)}const X4=(i,e)=>{const t=Wg();t&&(jn(t,e.closeButtonHtml||""),Ln(t,e,"closeButton"),Yu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},W4=(i,e)=>{const t=yn();t&&(Z4(t,e.backdrop),J4(t,e.position),ek(t,e.grow),Ln(t,e,"container"))};function Z4(i,e){typeof e=="string"?i.style.background=e:e||Ye([document.documentElement,document.body],F["no-backdrop"])}function J4(i,e){e&&(e in F?Ye(i,F[e]):(gn('The "position" parameter is not valid, defaulting to "center"'),Ye(i,F.center)))}function ek(i,e){e&&Ye(i,F[`grow-${e}`])}var lt={innerParams:new WeakMap,domCache:new WeakMap};const tk=["input","file","range","select","radio","checkbox","textarea"],nk=(i,e)=>{const t=Ge();if(!t)return;const s=lt.innerParams.get(i),o=!s||e.input!==s.input;tk.forEach(u=>{const h=is(t,F[u]);h&&(sk(u,e.inputAttributes),h.className=F[u],o&&un(h))}),e.input&&(o&&ik(e),ak(e))},ik=i=>{if(!i.input)return;if(!bt[i.input]){wa(`Unexpected type of input! Expected ${Object.keys(bt).join(" | ")}, got "${i.input}"`);return}const e=o2(i.input);if(!e)return;const t=bt[i.input](e,i);Qt(e),i.inputAutoFocus&&setTimeout(()=>{r2(t)})},rk=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},sk=(i,e)=>{const t=Ge();if(!t)return;const s=Qh(t,i);if(s){rk(s);for(const o in e)s.setAttribute(o,e[o])}},ak=i=>{if(!i.input)return;const e=o2(i.input);e&&Ln(e,i,"input")},iy=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},Ku=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=F["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&Ye(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},o2=i=>{const e=Ge();if(e)return is(e,F[i]||F.input)},ch=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Kg(e)||gn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},bt={};bt.text=bt.email=bt.password=bt.number=bt.tel=bt.url=bt.search=bt.date=bt["datetime-local"]=bt.time=bt.week=bt.month=(i,e)=>(ch(i,e.inputValue),Ku(i,i,e),iy(i,e),i.type=e.input,i);bt.file=(i,e)=>(Ku(i,i,e),iy(i,e),i);bt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return ch(t,e.inputValue),t.type=e.input,ch(s,e.inputValue),Ku(t,i,e),i};bt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");jn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return Ku(i,i,e),i};bt.radio=i=>(i.textContent="",i);bt.checkbox=(i,e)=>{const t=Qh(Ge(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return jn(s,e.inputPlaceholder||e.inputLabel),t};bt.textarea=(i,e)=>{ch(i,e.inputValue),iy(i,e),Ku(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Ge()).width),o=()=>{if(!document.body.contains(i))return;const u=i.offsetWidth+t(i);u>s?Ge().style.width=`${u}px`:la(Ge(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const ok=(i,e)=>{const t=$g();t&&(ey(t),Ln(t,e,"htmlContainer"),e.html?(ny(e.html,t),Qt(t,"block")):e.text?(t.textContent=e.text,Qt(t,"block")):un(t),nk(i,e))},lk=(i,e)=>{const t=i2();t&&(ey(t),Yu(t,e.footer,"block"),e.footer&&ny(e.footer,t),Ln(t,e,"footer"))},uk=(i,e)=>{const t=lt.innerParams.get(i),s=Go();if(!s)return;if(t&&e.icon===t.icon){c0(s,e),u0(s,e);return}if(!e.icon&&!e.iconHtml){un(s);return}if(e.icon&&Object.keys(uh).indexOf(e.icon)===-1){wa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),un(s);return}Qt(s),c0(s,e),u0(s,e),Ye(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l2)},u0=(i,e)=>{for(const[t,s]of Object.entries(uh))e.icon!==t&&ei(i,s);Ye(i,e.icon&&uh[e.icon]),hk(i,e),l2(),Ln(i,e,"icon")},l2=()=>{const i=Ge();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},ck=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,dk=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,c0=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=d0(e.iconHtml):e.icon==="success"?(s=ck(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=dk:e.icon&&(s=d0({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&jn(i,s)},hk=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])l0(i,t,"background-color",e.iconColor);l0(i,".swal2-success-ring","border-color",e.iconColor)}},d0=i=>`<div class="${F["icon-content"]}">${i}</div>`,fk=(i,e)=>{const t=n2();if(t){if(!e.imageUrl){un(t);return}Qt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),la(t,"width",e.imageWidth),la(t,"height",e.imageHeight),t.className=F.image,Ln(t,e,"image")}};let ry=!1,u2=0,c2=0,d2=0,h2=0;const pk=i=>{i.addEventListener("mousedown",dh),document.body.addEventListener("mousemove",hh),i.addEventListener("mouseup",fh),i.addEventListener("touchstart",dh),document.body.addEventListener("touchmove",hh),i.addEventListener("touchend",fh)},mk=i=>{i.removeEventListener("mousedown",dh),document.body.removeEventListener("mousemove",hh),i.removeEventListener("mouseup",fh),i.removeEventListener("touchstart",dh),document.body.removeEventListener("touchmove",hh),i.removeEventListener("touchend",fh)},dh=i=>{const e=Ge();if(i.target===e||Go().contains(i.target)){ry=!0;const t=f2(i);u2=t.clientX,c2=t.clientY,d2=parseInt(e.style.insetInlineStart)||0,h2=parseInt(e.style.insetBlockStart)||0,Ye(e,"swal2-dragging")}},hh=i=>{const e=Ge();if(ry){let{clientX:t,clientY:s}=f2(i);e.style.insetInlineStart=`${d2+(t-u2)}px`,e.style.insetBlockStart=`${h2+(s-c2)}px`}},fh=()=>{const i=Ge();ry=!1,ei(i,"swal2-dragging")},f2=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},gk=(i,e)=>{const t=yn(),s=Ge();if(!(!t||!s)){if(e.toast){la(t,"width",e.width),s.style.width="100%";const o=Yo();o&&s.insertBefore(o,Go())}else la(s,"width",e.width);la(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),un(Hh()),yk(s,e),e.draggable&&!e.toast?(Ye(s,F.draggable),pk(s)):(ei(s,F.draggable),mk(s))}},yk=(i,e)=>{const t=e.showClass||{};i.className=`${F.popup} ${Tn(i)?t.popup:""}`,e.toast?(Ye([document.documentElement,document.body],F["toast-shown"]),Ye(i,F.toast)):Ye(i,F.modal),Ln(i,e,"popup"),typeof e.customClass=="string"&&Ye(i,e.customClass),e.icon&&Ye(i,F[`icon-${e.icon}`])},wk=(i,e)=>{const t=Xg();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){un(t);return}Qt(t),t.textContent="",o>=s.length&&gn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((u,h)=>{const p=vk(u);if(t.appendChild(p),h===o&&Ye(p,F["active-progress-step"]),h!==s.length-1){const g=_k(e);t.appendChild(g)}})},vk=i=>{const e=document.createElement("li");return Ye(e,F["progress-step"]),jn(e,i),e},_k=i=>{const e=document.createElement("li");return Ye(e,F["progress-step-line"]),i.progressStepsDistance&&la(e,"width",i.progressStepsDistance),e},bk=(i,e)=>{const t=t2();t&&(ey(t),Yu(t,e.title||e.titleText,"block"),e.title&&ny(e.title,t),e.titleText&&(t.innerText=e.titleText),Ln(t,e,"title"))},p2=(i,e)=>{gk(i,e),W4(i,e),wk(i,e),uk(i,e),fk(i,e),bk(i,e),X4(i,e),ok(i,e),Y4(i,e),lk(i,e);const t=Ge();typeof e.didRender=="function"&&t&&e.didRender(t),ve.eventEmitter.emit("didRender",t)},Ek=()=>Tn(Ge()),m2=()=>{var i;return(i=Ui())===null||i===void 0?void 0:i.click()},Tk=()=>{var i;return(i=va())===null||i===void 0?void 0:i.click()},Ak=()=>{var i;return(i=Qo())===null||i===void 0?void 0:i.click()},Ko=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),g2=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},Sk=(i,e,t)=>{g2(i),e.toast||(i.keydownHandler=s=>Ik(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:Ge(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},Bm=(i,e)=>{var t;const s=Zg();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=Ge())===null||t===void 0||t.focus()},y2=["ArrowRight","ArrowDown"],Rk=["ArrowLeft","ArrowUp"],Ik=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?xk(e,i):e.key==="Tab"?Ck(e):[...y2,...Rk].includes(e.key)?Dk(e.key):e.key==="Escape"&&Nk(e,i,t)))},xk=(i,e)=>{if(!qh(e.allowEnterKey))return;const t=Qh(Ge(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;m2(),i.preventDefault()}},Ck=i=>{const e=i.target,t=Zg();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?Bm(s,-1):Bm(s,1),i.stopPropagation(),i.preventDefault()},Dk=i=>{const e=Qu(),t=Ui(),s=va(),o=Qo();if(!e||!t||!s||!o)return;const u=[t,s,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const h=y2.includes(i)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&Tn(p))break}p instanceof HTMLButtonElement&&p.focus()}},Nk=(i,e,t)=>{i.preventDefault(),qh(e.allowEscapeKey)&&t(Ko.esc)};var Oo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const kk=()=>{const i=yn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},w2=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},v2=typeof window<"u"&&!!window.GestureEvent,Ok=()=>{if(v2&&!pr(document.body,F.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Ye(document.body,F.iosfix),Mk()}},Mk=()=>{const i=yn();if(!i)return;let e;i.ontouchstart=t=>{e=Vk(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},Vk=i=>{const e=i.target,t=yn(),s=$g();return!t||!s||Pk(i)||Lk(i)?!1:e===t||!zm(t)&&e instanceof HTMLElement&&!V4(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(zm(s)&&s.contains(e))},Pk=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",Lk=i=>i.touches&&i.touches.length>1,Uk=()=>{if(pr(document.body,F.iosfix)){const i=parseInt(document.body.style.top,10);ei(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},jk=()=>{const i=document.createElement("div");i.className=F["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let Eo=null;const zk=i=>{Eo===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(Eo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Eo+jk()}px`)},Bk=()=>{Eo!==null&&(document.body.style.paddingRight=`${Eo}px`,Eo=null)};function _2(i,e,t,s){Gh()?h0(i,s):(S4(t).then(()=>h0(i,s)),g2(ve)),v2?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Jg()&&(Bk(),Uk(),w2()),qk()}function qk(){ei([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}function rs(i){i=Fk(i);const e=Oo.swalPromiseResolve.get(this),t=Hk(this);this.isAwaitingPromise?i.isDismissed||($u(this),e(i)):t&&e(i)}const Hk=i=>{const e=Ge();if(!e)return!1;const t=lt.innerParams.get(i);if(!t||pr(e,t.hideClass.popup))return!1;ei(e,t.showClass.popup),Ye(e,t.hideClass.popup);const s=yn();return ei(s,t.showClass.backdrop),Ye(s,t.hideClass.backdrop),Gk(i,e,t),!0};function b2(i){const e=Oo.swalPromiseReject.get(this);$u(this),e&&e(i)}const $u=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,lt.innerParams.get(i)||i._destroy())},Fk=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),Gk=(i,e,t)=>{var s;const o=yn(),u=a2(e);typeof t.willClose=="function"&&t.willClose(e),(s=ve.eventEmitter)===null||s===void 0||s.emit("willClose",e),u?Qk(i,e,o,t.returnFocus,t.didClose):_2(i,o,t.returnFocus,t.didClose)},Qk=(i,e,t,s,o)=>{ve.swalCloseEventFinishedCallback=_2.bind(null,i,t,s,o);const u=function(h){if(h.target===e){var p;(p=ve.swalCloseEventFinishedCallback)===null||p===void 0||p.call(ve),delete ve.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},h0=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=ve.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Mo=i=>{let e=Ge();if(e||new Vo,e=Ge(),!e)return;const t=Yo();Gh()?un(Go()):Yk(e,i),Qt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Yk=(i,e)=>{const t=Qu(),s=Yo();!t||!s||(!e&&Tn(Ui())&&(e=Ui()),Qt(t),e&&(un(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),Ye([i,t],F.loading))},Kk=(i,e)=>{e.input==="select"||e.input==="radio"?Jk(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Yg(e.inputValue)||Kg(e.inputValue))&&(Mo(Ui()),eO(i,e))},$k=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return Xk(t);case"radio":return Wk(t);case"file":return Zk(t);default:return e.inputAutoTrim?t.value.trim():t.value}},Xk=i=>i.checked?1:0,Wk=i=>i.checked?i.value:null,Zk=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,Jk=(i,e)=>{const t=Ge();if(!t)return;const s=o=>{e.input==="select"?tO(t,ph(o),e):e.input==="radio"&&nO(t,ph(o),e)};Yg(e.inputOptions)||Kg(e.inputOptions)?(Mo(Ui()),Fu(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):wa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},eO=(i,e)=>{const t=i.getInput();t&&(un(t),Fu(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Qt(t),t.focus(),i.hideLoading()}).catch(s=>{wa(`Error in inputValue promise: ${s}`),t.value="",Qt(t),t.focus(),i.hideLoading()}))};function tO(i,e,t){const s=is(i,F.select);if(!s)return;const o=(u,h,p)=>{const g=document.createElement("option");g.value=p,jn(g,h),g.selected=E2(p,t.inputValue),u.appendChild(g)};e.forEach(u=>{const h=u[0],p=u[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,s.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(s,p,h)}),s.focus()}function nO(i,e,t){const s=is(i,F.radio);if(!s)return;e.forEach(u=>{const h=u[0],p=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=F.radio,g.value=h,E2(h,t.inputValue)&&(g.checked=!0);const _=document.createElement("span");jn(_,p),_.className=F.label,y.appendChild(g),y.appendChild(_),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const ph=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=ph(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=ph(s)),e.push([t,s])}),e},E2=(i,e)=>!!e&&e.toString()===i.toString(),iO=i=>{const e=lt.innerParams.get(i);i.disableButtons(),e.input?T2(i,"confirm"):ay(i,!0)},rO=i=>{const e=lt.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?T2(i,"deny"):sy(i,!1)},sO=(i,e)=>{i.disableButtons(),e(Ko.cancel)},T2=(i,e)=>{const t=lt.innerParams.get(i);if(!t.input){wa(`The "input" parameter is needed to be set when using returnInputValueOn${Qg(e)}`);return}const s=i.getInput(),o=$k(i,t);t.inputValidator?aO(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?sy(i,o):ay(i,o)},aO=(i,e,t)=>{const s=lt.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Fu(s.inputValidator(e,s.validationMessage))).then(u=>{i.enableButtons(),i.enableInput(),u?i.showValidationMessage(u):t==="deny"?sy(i,e):ay(i,e)})},sy=(i,e)=>{const t=lt.innerParams.get(i||void 0);t.showLoaderOnDeny&&Mo(va()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Fu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),$u(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>A2(i||void 0,o))):i.close({isDenied:!0,value:e})},f0=(i,e)=>{i.close({isConfirmed:!0,value:e})},A2=(i,e)=>{i.rejectPromise(e)},ay=(i,e)=>{const t=lt.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Mo(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Fu(t.preConfirm(e,t.validationMessage))).then(o=>{Tn(Hh())||o===!1?(i.hideLoading(),$u(i)):f0(i,typeof o>"u"?e:o)}).catch(o=>A2(i||void 0,o))):f0(i,e)};function mh(){const i=lt.innerParams.get(this);if(!i)return;const e=lt.domCache.get(this);un(e.loader),Gh()?i.icon&&Qt(Go()):oO(e),ei([e.popup,e.actions],F.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const oO=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?Qt(e[0],"inline-block"):M4()&&un(i.actions)};function S2(){const i=lt.innerParams.get(this),e=lt.domCache.get(this);return e?Qh(e.popup,i.input):null}function R2(i,e,t){const s=lt.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function I2(i,e){const t=Ge();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${F.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function x2(){R2(this,["confirmButton","denyButton","cancelButton"],!1)}function C2(){R2(this,["confirmButton","denyButton","cancelButton"],!0)}function D2(){I2(this.getInput(),!1)}function N2(){I2(this.getInput(),!0)}function k2(i){const e=lt.domCache.get(this),t=lt.innerParams.get(this);jn(e.validationMessage,i),e.validationMessage.className=F["validation-message"],t.customClass&&t.customClass.validationMessage&&Ye(e.validationMessage,t.customClass.validationMessage),Qt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",F["validation-message"]),r2(s),Ye(s,F.inputerror))}function O2(){const i=lt.domCache.get(this);i.validationMessage&&un(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ei(e,F.inputerror))}const To={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},lO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],uO={allowEnterKey:void 0},cO=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],M2=i=>Object.prototype.hasOwnProperty.call(To,i),V2=i=>lO.indexOf(i)!==-1,P2=i=>uO[i],dO=i=>{M2(i)||gn(`Unknown parameter "${i}"`)},hO=i=>{cO.includes(i)&&gn(`The parameter "${i}" is incompatible with toasts`)},fO=i=>{const e=P2(i);e&&e2(i,e)},L2=i=>{i.backdrop===!1&&i.allowOutsideClick&&gn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&gn(`Invalid theme "${i.theme}"`);for(const e in i)dO(e),i.toast&&hO(e),fO(e)};function U2(i){const e=yn(),t=Ge(),s=lt.innerParams.get(this);if(!t||pr(t,s.hideClass.popup)){gn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=pO(i),u=Object.assign({},s,o);L2(u),e.dataset.swal2Theme=u.theme,p2(this,u),lt.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const pO=i=>{const e={};return Object.keys(i).forEach(t=>{V2(t)?e[t]=i[t]:gn(`Invalid parameter to update: ${t}`)}),e};function j2(){const i=lt.domCache.get(this),e=lt.innerParams.get(this);if(!e){z2(this);return}i.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ve.eventEmitter.emit("didDestroy"),mO(this)}const mO=i=>{z2(i),delete i.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},z2=i=>{i.isAwaitingPromise?(fm(lt,i),i.isAwaitingPromise=!0):(fm(Oo,i),fm(lt,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},fm=(i,e)=>{for(const t in i)i[t].delete(e)};var gO=Object.freeze({__proto__:null,_destroy:j2,close:rs,closeModal:rs,closePopup:rs,closeToast:rs,disableButtons:C2,disableInput:N2,disableLoading:mh,enableButtons:x2,enableInput:D2,getInput:S2,handleAwaitingPromise:$u,hideLoading:mh,rejectPromise:b2,resetValidationMessage:O2,showValidationMessage:k2,update:U2});const yO=(i,e,t)=>{i.toast?wO(i,e,t):(_O(e),bO(e),EO(i,e,t))},wO=(i,e,t)=>{e.popup.onclick=()=>{i&&(vO(i)||i.timer||i.input)||t(Ko.close)}},vO=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let gh=!1;const _O=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(gh=!0)}}},bO=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(gh=!0)}}},EO=(i,e,t)=>{e.container.onclick=s=>{if(gh){gh=!1;return}s.target===e.container&&qh(i.allowOutsideClick)&&t(Ko.backdrop)}},TO=i=>typeof i=="object"&&i.jquery,p0=i=>i instanceof Element||TO(i),AO=i=>{const e={};return typeof i[0]=="object"&&!p0(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||p0(o)?e[t]=o:o!==void 0&&wa(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function SO(...i){return new this(...i)}function RO(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const IO=()=>ve.timeout&&ve.timeout.getTimerLeft(),B2=()=>{if(ve.timeout)return P4(),ve.timeout.stop()},q2=()=>{if(ve.timeout){const i=ve.timeout.start();return ty(i),i}},xO=()=>{const i=ve.timeout;return i&&(i.running?B2():q2())},CO=i=>{if(ve.timeout){const e=ve.timeout.increase(i);return ty(e,!0),e}},DO=()=>!!(ve.timeout&&ve.timeout.isRunning());let m0=!1;const qm={};function NO(i="data-swal-template"){qm[i]=this,m0||(document.body.addEventListener("click",kO),m0=!0)}const kO=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in qm){const s=e.getAttribute(t);if(s){qm[t].fire({template:s});return}}};class OO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ve.eventEmitter=new OO;const MO=(i,e)=>{ve.eventEmitter.on(i,e)},VO=(i,e)=>{ve.eventEmitter.once(i,e)},PO=(i,e)=>{if(!i){ve.eventEmitter.reset();return}e?ve.eventEmitter.removeListener(i,e):ve.eventEmitter.removeAllListeners(i)};var LO=Object.freeze({__proto__:null,argsToParams:AO,bindClickHandler:NO,clickCancel:Ak,clickConfirm:m2,clickDeny:Tk,enableLoading:Mo,fire:SO,getActions:Qu,getCancelButton:Qo,getCloseButton:Wg,getConfirmButton:Ui,getContainer:yn,getDenyButton:va,getFocusableElements:Zg,getFooter:i2,getHtmlContainer:$g,getIcon:Go,getIconContent:C4,getImage:n2,getInputLabel:D4,getLoader:Yo,getPopup:Ge,getProgressSteps:Xg,getTimerLeft:IO,getTimerProgressBar:Fh,getTitle:t2,getValidationMessage:Hh,increaseTimer:CO,isDeprecatedParameter:P2,isLoading:k4,isTimerRunning:DO,isUpdatableParameter:V2,isValidParameter:M2,isVisible:Ek,mixin:RO,off:PO,on:MO,once:VO,resumeTimer:q2,showLoading:Mo,stopTimer:B2,toggleTimer:xO});class UO{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const H2=["swal-title","swal-html","swal-footer"],jO=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return YO(t),Object.assign(zO(t),BO(t),qO(t),HO(t),FO(t),GO(t),QO(t,H2))},zO=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{ma(s,["name","value"]);const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(typeof To[o]=="boolean"?e[o]=u!=="false":typeof To[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},BO=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),u=s.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},qO=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{ma(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${Qg(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},HO=i=>{const e={},t=i.querySelector("swal-image");return t&&(ma(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},FO=i=>{const e={},t=i.querySelector("swal-icon");return t&&(ma(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},GO=i=>{const e={},t=i.querySelector("swal-input");t&&(ma(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{ma(o,["value"]);const u=o.getAttribute("value");if(!u)return;const h=o.innerHTML;e.inputOptions[u]=h})),e},QO=(i,e)=>{const t={};for(const s in e){const o=e[s],u=i.querySelector(o);u&&(ma(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},YO=i=>{const e=H2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||gn(`Unrecognized element <${s}>`)})},ma=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&gn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},F2=10,KO=i=>{const e=yn(),t=Ge();typeof i.willOpen=="function"&&i.willOpen(t),ve.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;WO(e,t,i),setTimeout(()=>{$O(e,t)},F2),Jg()&&(XO(e,i.scrollbarPadding,o),kk()),!Gh()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),ve.eventEmitter.emit("didOpen",t),ei(e,F["no-transition"])},yh=i=>{const e=Ge();if(i.target!==e)return;const t=yn();e.removeEventListener("animationend",yh),e.removeEventListener("transitionend",yh),t.style.overflowY="auto"},$O=(i,e)=>{a2(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",yh),e.addEventListener("transitionend",yh)):i.style.overflowY="auto"},XO=(i,e,t)=>{Ok(),e&&t!=="hidden"&&zk(t),setTimeout(()=>{i.scrollTop=0})},WO=(i,e,t)=>{Ye(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Qt(e,"grid"),setTimeout(()=>{Ye(e,t.showClass.popup),e.style.removeProperty("opacity")},F2)):Qt(e,"grid"),Ye([document.documentElement,document.body],F.shown),t.heightAuto&&t.backdrop&&!t.toast&&Ye([document.documentElement,document.body],F["height-auto"])};var g0={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function ZO(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=g0.email),i.input==="url"&&(i.inputValidator=g0.url))}function JO(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(gn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function eM(i){ZO(i),i.showLoaderOnConfirm&&!i.preConfirm&&gn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),JO(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),F4(i)}let Ni;var Id=new WeakMap;class At{constructor(...e){if(b4(this,Id,void 0),typeof window>"u")return;Ni=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,E4(Id,this,this._main(Ni.params))}_main(e,t={}){if(L2(Object.assign({},t,e)),ve.currentInstance){const u=Oo.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:h}=ve.currentInstance;ve.currentInstance._destroy(),h||u({isDismissed:!0}),Jg()&&w2()}ve.currentInstance=Ni;const s=nM(e,t);eM(s),Object.freeze(s),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const o=iM(Ni);return p2(Ni,s),lt.innerParams.set(Ni,s),tM(Ni,o,s)}then(e){return a0(Id,this).then(e)}finally(e){return a0(Id,this).finally(e)}}const tM=(i,e,t)=>new Promise((s,o)=>{const u=h=>{i.close({isDismissed:!0,dismiss:h})};Oo.swalPromiseResolve.set(i,s),Oo.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{iO(i)},e.denyButton.onclick=()=>{rO(i)},e.cancelButton.onclick=()=>{sO(i,u)},e.closeButton.onclick=()=>{u(Ko.close)},yO(t,e,u),Sk(ve,t,u),Kk(i,t),KO(t),rM(ve,t,u),sM(e,t),setTimeout(()=>{e.container.scrollTop=0})}),nM=(i,e)=>{const t=jO(i),s=Object.assign({},To,e,t,i);return s.showClass=Object.assign({},To.showClass,s.showClass),s.hideClass=Object.assign({},To.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},iM=i=>{const e={popup:Ge(),container:yn(),actions:Qu(),confirmButton:Ui(),denyButton:va(),cancelButton:Qo(),loader:Yo(),closeButton:Wg(),validationMessage:Hh(),progressSteps:Xg()};return lt.domCache.set(i,e),e},rM=(i,e,t)=>{const s=Fh();un(s),e.timer&&(i.timeout=new UO(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(Qt(s),Ln(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&ty(e.timer)})))},sM=(i,e)=>{if(!e.toast){if(!qh(e.allowEnterKey)){e2("allowEnterKey"),lM();return}aM(i)||oM(i,e)||Bm(-1,1)}},aM=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Tn(t))return t.focus(),!0;return!1},oM=(i,e)=>e.focusDeny&&Tn(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&Tn(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&Tn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,lM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};At.prototype.disableButtons=C2;At.prototype.enableButtons=x2;At.prototype.getInput=S2;At.prototype.disableInput=N2;At.prototype.enableInput=D2;At.prototype.hideLoading=mh;At.prototype.disableLoading=mh;At.prototype.showValidationMessage=k2;At.prototype.resetValidationMessage=O2;At.prototype.close=rs;At.prototype.closePopup=rs;At.prototype.closeModal=rs;At.prototype.closeToast=rs;At.prototype.rejectPromise=b2;At.prototype.update=U2;At.prototype._destroy=j2;Object.assign(At,LO);Object.keys(gO).forEach(i=>{At[i]=function(...e){return Ni&&Ni[i]?Ni[i](...e):null}});At.DismissReason=Ko;At.version="11.22.4";const Vo=At;Vo.default=Vo;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function jd(i){Vo.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const xd={"auth/invalid-email":"El correo electrnico no es vlido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contrasea es incorrecta.","auth/email-already-in-use":"El correo ya est registrado.","auth/weak-password":"La contrasea es demasiado dbil.","auth/missing-password":"Debes ingresar una contrasea.","auth/too-many-requests":"Demasiados intentos. Intenta ms tarde.","auth/network-request-failed":"Error de red. Verifica tu conexin.","auth/invalid-credential":"Las credenciales ingresadas no son vlidas."};function zd(i){return i?typeof i=="string"&&xd[i]?xd[i]:i.code&&xd[i.code]?xd[i.code]:i.message||"Error desconocido.":"Error desconocido."}const y0=new dr;async function uM(i){try{await PI(i,y0)}catch(e){e.code==="auth/popup-blocked"||e.code==="auth/cancelled-popup-request"||e.code==="auth/operation-not-supported-in-this-environment"?await qI(i,y0):jd(zd(e))}}function w0({auth:i,db:e,onReady:t,onStartAuth:s}){const[o,u]=fe.useState("login"),[h,p]=fe.useState(""),[g,y]=fe.useState(""),[_,R]=fe.useState(""),[A,z]=fe.useState("X"),[Q,ee]=fe.useState(""),[W,le]=fe.useState(""),[re,ne]=fe.useState(!1),[Ie,_e]=fe.useState(!1),Me=fe.useCallback(async(T,He)=>{await QT(ko(e,"users",T),{...He,createdAt:oa()},{merge:!0})},[e]),k=o==="login"?async()=>{ne(!0),le("");try{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}s?.(),await cI(i,h,g),t?.()}catch(T){jd(zd(T))}finally{ne(!1)}}:o==="register"?async()=>{ne(!0),le("");try{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}s?.();const T=(_||"").trim();if(!T){await Vo.fire({icon:"warning",title:"Falta tu nombre",text:"Por favor escribe tu primer nombre antes de registrarte.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"});return}const He=await uI(i,h,g);await hI(He.user,{displayName:T}),await Me(He.user.uid,{displayName:T,gender:A,city:Q}),t?.()}catch(T){jd(zd(T))}finally{ne(!1)}}:async()=>{ne(!0),le("");try{await lI(i,h),Vo.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo est registrado, recibirs un enlace para restablecer tu contrasea.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(T){jd(zd(T))}finally{ne(!1)}},O=C.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:C.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),P=C.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:C.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})});return C.jsxs("section",{className:"auth-card",children:[C.jsxs("header",{className:"card-head",children:[C.jsx("h1",{children:o==="login"?"Bienvenido":o==="register"?"Crear cuenta":"Recuperar acceso"}),C.jsx("p",{className:"muted",children:o==="login"?"Inicia sesin para continuar":o==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contrasea"})]}),C.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(T=>C.jsx("button",{type:"button",onClick:()=>u(T),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:T===o?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:T===o?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:T===o?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:T==="login"?"Login":T==="register"?"Registro":"Reset"},T))}),W&&C.jsx("div",{className:"alert",style:{marginTop:10},children:W}),C.jsxs("form",{className:"form",onSubmit:T=>{T.preventDefault();const He=T.currentTarget;if(!He.checkValidity()){He.reportValidity();return}k()},noValidate:!0,style:{marginTop:12},children:[C.jsxs("div",{className:"field",children:[C.jsx("label",{htmlFor:"email",children:"Correo"}),C.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:h,onChange:T=>p(T.target.value)})]}),o!=="reset"&&C.jsxs("div",{className:"field",children:[C.jsx("label",{htmlFor:"password",children:"Contrasea"}),C.jsxs("div",{className:"pwd",children:[C.jsx("input",{id:"password",name:"password",type:Ie?"text":"password",placeholder:"",autoComplete:o==="login"?"current-password":"new-password",required:!0,value:g,onChange:T=>y(T.target.value)}),C.jsx("button",{type:"button",className:"icon-btn","aria-label":Ie?"Ocultar contrasea":"Mostrar contrasea",onClick:()=>_e(T=>!T),style:{background:"transparent"},children:Ie?P:O})]})]}),o==="register"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"field",children:[C.jsx("label",{htmlFor:"displayName",children:"Nombre"}),C.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:_,onChange:T=>{const He=T.target.value.replace(/\s.*/,"");R(He)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),C.jsxs("div",{className:"field",children:[C.jsx("label",{htmlFor:"city",children:"Ciudad"}),C.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:Q,onChange:T=>ee(T.target.value)})]}),C.jsxs("div",{className:"field",children:[C.jsx("label",{htmlFor:"gender",children:"Gnero"}),C.jsx("div",{style:{display:"flex",gap:10,rowGap:6,flexWrap:"wrap",background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:["M","F","X"].map(T=>C.jsx("button",{type:"button",onClick:()=>z(T),style:{background:A===T?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A===T?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A===T?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:T==="M"?"Masculino":T==="F"?"Femenino":"Prefiero no decir"},T))})]})]}),C.jsx("button",{className:"btn",disabled:re,children:re?"Procesando":o==="login"?"Ingresar":o==="register"?"Crear cuenta":"Enviar correo"}),o==="login"&&C.jsxs("button",{type:"button",onClick:()=>{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}uM(i)},style:{marginTop:10,width:"100%",height:46,borderRadius:12,border:"1px solid var(--stroke)",background:"#0f152d",color:"#e8ecf4",fontWeight:800,letterSpacing:.3,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},"aria-label":"Continuar con Google",children:[C.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":!0,children:[C.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.03,6.053,28.715,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),C.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.146,18.961,14,24,14c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.03,6.053,28.715,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),C.jsx("path",{fill:"#4CAF50",d:"M24,44c4.646,0,8.902-1.785,12.102-4.689l-5.586-4.727C28.471,36.977,26.345,38,24,38 c-5.202,0-9.607-3.317-11.264-7.946l-6.493,5.013C9.556,39.556,16.227,44,24,44z"}),C.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.236-2.231,4.166-4.187,5.584l0.003-0.002l5.586,4.727 C35.971,38.495,44,32,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Continuar con Google"]}),o==="login"&&C.jsxs("p",{className:"muted center mt-16",children:["No tienes cuenta?"," ",C.jsx("a",{className:"link",href:"#",onClick:T=>{T.preventDefault(),u("register")},children:"Crear cuenta"})," ",""," ",C.jsx("a",{className:"link",href:"#",onClick:T=>{T.preventDefault(),u("reset")},children:"Olvidaste tu contrasea?"})]})]})]})}function cM({open:i,correct:e,explain:t,onClose:s,durationMs:o=1e4,dismissable:u=!0,pointsDelta:h=0}){return fe.useEffect(()=>{if(!i)return;const p=setTimeout(()=>s?.(),o);return()=>clearTimeout(p)},[i,s,o]),i?C.jsx("div",{onClick:u?s:void 0,style:{position:"fixed",inset:0,display:"grid",placeItems:"center",zIndex:60,background:"linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.55))"},children:C.jsxs("div",{onClick:p=>p.stopPropagation(),style:{background:e?"linear-gradient(135deg, #34d399, #10b981)":"linear-gradient(135deg, #f87171, #ef4444)",color:"#0b0b0b",padding:"18px 20px",borderRadius:16,boxShadow:"0 14px 40px rgba(0,0,0,0.45)",maxWidth:"min(560px, 92vw)",transform:"translateY(0)",animation:e?"af-bounce .5s ease-out":"af-shake .4s ease-out"},children:[C.jsx("style",{children:`
          @keyframes af-bounce { 0% { transform: scale(.9); opacity:.6 } 50% { transform: scale(1.06); opacity:1 } 100% { transform: scale(1); opacity:1 } }
          @keyframes af-shake { 0% { transform: translateX(0) } 25% { transform: translateX(-6px) rotate(-1deg) } 50% { transform: translateX(6px) rotate(1deg) } 75% { transform: translateX(-4px) rotate(-1deg) } 100% { transform: translateX(0) }
          }
        `}),C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:6},children:[C.jsx("span",{"aria-hidden":!0,style:{fontSize:20},children:e?"":""}),C.jsx("div",{style:{fontWeight:900,fontSize:18},children:e?"Correcto!":"Incorrecto"})]}),C.jsx("div",{style:{fontSize:14,opacity:.95,marginBottom:4},children:e?`Ganaste +${Math.abs(h)} puntos`:`Perdiste -${Math.abs(h)} puntos`}),!e&&t&&C.jsx("div",{style:{fontSize:14,opacity:.95},children:t}),u&&C.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:C.jsx("button",{onClick:s,style:{border:"1px solid rgba(0,0,0,.2)",background:"#0b0b0b",color:"#f5f5f5",borderRadius:8,padding:"6px 10px"},children:"Cerrar"})})]})}):null}function dM({title:i="Bienvenidos",sub:e="al juego de la Ruleta de Datos",clickThrough:t=!1}){return C.jsx("div",{className:"splash-overlay",role:"dialog","aria-label":"Bienvenido",style:{pointerEvents:t?"none":"auto"},children:C.jsxs("div",{className:"splash-card",children:[C.jsxs("div",{className:"splash-wheel","aria-hidden":!0,children:[C.jsxs("svg",{viewBox:"0 0 100 100",children:[C.jsx("defs",{children:C.jsxs("radialGradient",{id:"g",cx:"50%",cy:"50%",r:"60%",children:[C.jsx("stop",{offset:"0%",stopColor:"#0b0b0b"}),C.jsx("stop",{offset:"100%",stopColor:"#171717"})]})}),C.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#g)",stroke:"#303030",strokeWidth:"1.5"}),["#60a5fa","#f59e0b","#10b981","#a78bfa","#f472b6","#34d399","#f87171","#22d3ee"].map((s,o)=>{const u=o*45,h=A=>(A-90)*Math.PI/180,p=50+48*Math.cos(h(u)),g=50+48*Math.sin(h(u)),y=50+48*Math.cos(h(u+45)),_=50+48*Math.sin(h(u+45)),R=`M 50 50 L ${p} ${g} A 48 48 0 0 1 ${y} ${_} Z`;return C.jsx("path",{d:R,fill:s,opacity:".9"},o)}),C.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"#0e0e0e",stroke:"#e5e7eb",strokeWidth:"1"})]}),C.jsx("span",{className:"splash-pin"})]}),C.jsx("h1",{className:"splash-title",children:i}),C.jsx("p",{className:"splash-sub",children:e}),C.jsx("div",{className:"splash-loading","aria-label":"Cargando"})]})})}function hM(){const{auth:i,db:e}=o4(),t=XT(900),[s,o]=fe.useState(null),[u,h]=fe.useState(!1),[p,g]=fe.useState(null),[y,_]=fe.useState(null),[R,A]=fe.useState(!1),[z,Q]=fe.useState(null),[ee,W]=fe.useState(!1),[le,re]=fe.useState(null),[ne,Ie]=fe.useState(null),[_e,Me]=fe.useState(new Set),[M,S]=fe.useState(!1),[x,k]=fe.useState(!1),[O,P]=fe.useState(""),[T,He]=fe.useState(!0),[Xe,G]=fe.useState({title:"Bienvenidos",sub:"al juego de la Ruleta de Datos"}),[se,pe]=fe.useState(!1),Ce=fe.useRef(null),D=fe.useRef(0),X=fe.useCallback((he,ce,We,Ke=!1)=>{Ce.current&&(clearTimeout(Ce.current),Ce.current=null);const Yt=D.current=(D.current+1)%Number.MAX_SAFE_INTEGER;(ce||We)&&G({title:ce??Xe.title,sub:We??Xe.sub}),pe(!!Ke),He(!0),Ce.current=setTimeout(()=>{D.current===Yt&&(He(!1),pe(!1)),Ce.current=null},he)},[Xe.title,Xe.sub]);fe.useEffect(()=>(X(2500),()=>{Ce.current&&(clearTimeout(Ce.current),Ce.current=null)}),[X]),fe.useEffect(()=>{try{if(!sessionStorage.getItem("wantSplashLogin"))return;FI(i).then(ce=>{ce&&ce.user&&X(3e3,"Cargando","Preparando tu juego")}).catch(ce=>{ce&&console.error("Google redirect error:",ce)})}catch{}},[i,X]),fe.useEffect(()=>mI(i,async he=>{if(o(he),!he){h(!1),Q(null);return}try{const ce=ko(e,"users",he.uid);(await KN(ce)).exists()||await QT(ce,{displayName:he.displayName||he.email,gender:"X",city:"N/A",createdAt:oa()},{merge:!0}),h(!0),g(null);try{if(sessionStorage.getItem("wantSplashLogin")){X(3e3,"Cargando","Preparando tu juego");try{sessionStorage.removeItem("wantSplashLogin")}catch{}}}catch{}try{sessionStorage.getItem("wantSplashLogin")&&(G({title:"Cargando",sub:"Preparando tu juego"}),He(!0),setTimeout(()=>{He(!1);try{sessionStorage.removeItem("wantSplashLogin")}catch{}},3e3))}catch{}}catch(ce){console.error("Perfil/Firestore no disponible:",ce),g(" Error conectando con Firestore. Se podr girar, pero no se guardarn resultados."),h(!0)}}),[i,e,X]),fe.useEffect(()=>{if(!s)return;const he=ko(e,"userstats",s.uid),ce=XN(he,We=>{Q(We.exists()?We.data():null)},We=>console.error("myStats error:",We));return()=>ce()},[e,s]);const ae=fe.useCallback(async he=>{_(he);const ce=f4(he.label,_e);ce&&s?(Ie(he),re(ce),W(!0)):s&&!p&&(await l4(e,s.uid,s.displayName||s.email,{label:he.label,points:he.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,p,_e]),te=fe.useCallback(async he=>{if(!le||!ne||!s){W(!1);return}const ce=typeof he=="object"&&he?.timeout,We=le.type==="tf"?!!he:String(he).toLowerCase(),Ke=le.type==="tf"?!!le.answer:String(le.answer).toLowerCase(),Yt=!ce&&We===Ke;try{await p4(e,s.uid,s.displayName||s.email,ne,le,Yt),window.dispatchEvent(new Event("reload-top10")),k(Yt),P(Yt?"":le.explain||""),S(!0),W(!1),re(null),Ie(null),Q(Ut=>{const ti=Yt?ne.points:-ne.points;return Ut&&{...Ut,totalScore:(Ut.totalScore||0)+ti,totalSpins:(Ut.totalSpins||0)+1}}),Me(Ut=>new Set(Ut).add(le.id))}catch(Ut){console.error("persistQuizOutcome failed",Ut),W(!1),re(null),Ie(null)}},[e,s,le,ne]),ye=async()=>{X(2500,"Gracias!","por participar en la actividad de Gobierno del Dato");try{await gI(i)}catch(he){console.error(he)}};return C.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[T&&C.jsx(dM,{title:Xe.title,sub:Xe.sub,clickThrough:se}),C.jsxs("header",{className:"app-header",children:[C.jsxs("div",{className:"brand-title",children:[C.jsx("span",{className:"app-emoji","aria-hidden":!0,children:""}),C.jsx("h1",{className:"app-title",children:"Ruleta de Datos"})]}),s?C.jsxs("div",{className:"user-strip",children:[C.jsx("span",{className:"user-label",children:"Conectado como"}),C.jsx("b",{className:"user-email",children:s.email}),C.jsx("button",{onClick:ye,className:"logout-icon",title:"Salir","aria-label":"Salir",children:C.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),C.jsx("polyline",{points:"16 17 21 12 16 7"}),C.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}):C.jsxs("div",{className:"ga-strip",children:[C.jsx("span",{className:"ga-title",children:"ACTIVIDAD GOOGLE ANALYTICS"}),C.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",className:"ga-badge",children:C.jsx("img",{src:m4,alt:"UNIR"})})]})]}),C.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?C.jsxs("div",{style:{display:"grid",gap:12},children:[C.jsx(w0,{auth:i,db:e,onStartAuth:()=>{X(3e3,"Cargando","Preparando tu juego")},onReady:()=>{}}),C.jsx("button",{onClick:()=>A(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),C.jsx(r0,{open:R,title:"Top 10 jugadores",onClose:()=>A(!1),children:C.jsx(Rd,{db:e})})]}):C.jsxs("div",{className:"auth-shell",children:[C.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[C.jsx(g4,{}),C.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[C.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.3,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),C.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:C.jsx(Rd,{db:e})})]})]}),C.jsx("main",{className:"auth-main",children:C.jsx(w0,{auth:i,db:e,onStartAuth:()=>{X(3e3,"Cargando","Preparando tu juego")},onReady:()=>{}})})]})),s&&u&&(t?C.jsxs(C.Fragment,{children:[C.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,flexWrap:"wrap",rowGap:6},children:[C.jsx("b",{children:"Gobierno del dato"}),C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[C.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",C.jsx("b",{children:z?.totalScore??0})]}),C.jsx("button",{className:"btn btn-sm",onClick:()=>A(!0),style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"}),p&&C.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:8},children:p})]})]}),C.jsx(s0,{onResult:ae,disabled:ee,onBeforeFirstSpin:async()=>{X(3e3,"A jugar!","Que te diviertas ",!0)}}),y&&C.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",C.jsx("b",{children:y.label}),"  Puntos: ",C.jsx("b",{children:y.points})]})]}),C.jsx(r0,{open:R,title:"Top 10 jugadores",onClose:()=>A(!1),children:C.jsx(Rd,{db:e,currentUser:s,myStats:z})}),C.jsx(i0,{open:ee,onClose:()=>W(!1),question:le,points:ne?.points,category:ne?.label,onAnswer:te})]}):C.jsxs("div",{className:"grid-main",children:[C.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[C.jsx("b",{children:"Gobierno del dato"}),p&&C.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:p})]}),C.jsx(s0,{onResult:ae,disabled:ee,onBeforeFirstSpin:async()=>{X(3e3,"A jugar!","Que te diviertas ",!0)}}),y&&C.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["ltimo resultado: ",C.jsx("b",{children:y.label}),"  Puntos: ",C.jsx("b",{children:y.points})]})]}),C.jsx(Rd,{db:e,currentUser:s,myStats:z}),C.jsx(i0,{open:ee,onClose:()=>W(!1),question:le,points:ne?.points,category:ne?.label,onAnswer:te})]})),C.jsx(cM,{open:M,correct:x,explain:O,onClose:()=>S(!1),durationMs:x?2e3:1e4,dismissable:!x,pointsDelta:y?.points||0})]})]})}AA.createRoot(document.getElementById("root")).render(C.jsx(fe.StrictMode,{children:C.jsx(hM,{})}));
