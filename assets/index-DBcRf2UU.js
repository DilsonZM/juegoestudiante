(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Wp={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function bA(){if(E_)return uc;E_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return uc.Fragment=e,uc.jsx=t,uc.jsxs=t,uc}var T_;function EA(){return T_||(T_=1,Wp.exports=bA()),Wp.exports}var S=EA(),Zp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function TA(){if(A_)return ke;A_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,ee={};function K(D,W,oe){this.props=D,this.context=W,this.refs=ee,this.updater=oe||z}K.prototype.isReactComponent={},K.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},K.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ne(){}ne.prototype=K.prototype;function ae(D,W,oe){this.props=D,this.context=W,this.refs=ee,this.updater=oe||z}var ie=ae.prototype=new ne;ie.constructor=ae,F(ie,K.prototype),ie.isPureReactComponent=!0;var Re=Array.isArray,ye={H:null,A:null,T:null,S:null,V:null},De=Object.prototype.hasOwnProperty;function M(D,W,oe,te,pe,Ie){return oe=Ie.ref,{$$typeof:i,type:D,key:W,ref:oe!==void 0?oe:null,props:Ie}}function x(D,W){return M(D.type,W,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return W[oe]})}var N=/\/+/g;function V(D,W){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):W.toString(36)}function I(){}function ce(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Pe(D,W,oe,te,pe){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=D._init,Pe(Ae(D._payload),W,oe,te,pe)}}if(Ae)return pe=pe(D),Ae=te===""?"."+V(D,0):te,Re(pe)?(oe="",Ae!=null&&(oe=Ae.replace(N,"$&/")+"/"),Pe(pe,W,oe,"",function(Gn){return Gn})):pe!=null&&(C(pe)&&(pe=x(pe,oe+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(N,"$&/")+"/")+Ae)),W.push(pe)),1;Ae=0;var bt=te===""?".":te+":";if(Re(D))for(var We=0;We<D.length;We++)te=D[We],Ie=bt+V(te,We),Ae+=Pe(te,W,oe,Ie,pe);else if(We=A(D),typeof We=="function")for(D=We.call(D),We=0;!(te=D.next()).done;)te=te.value,Ie=bt+V(te,We++),Ae+=Pe(te,W,oe,Ie,pe);else if(Ie==="object"){if(typeof D.then=="function")return Pe(ce(D),W,oe,te,pe);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(D,W,oe){if(D==null)return D;var te=[],pe=0;return Pe(D,te,"","",function(Ie){return W.call(oe,Ie,pe++)}),te}function re(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ge(){}return ke.Children={map:Q,forEach:function(D,W,oe){Q(D,function(){W.apply(this,arguments)},oe)},count:function(D){var W=0;return Q(D,function(){W++}),W},toArray:function(D){return Q(D,function(W){return W})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ke.Component=K,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=ae,ke.StrictMode=s,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye,ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ye.H.useMemoCache(D)}},ke.cache=function(D){return function(){return D.apply(null,arguments)}},ke.cloneElement=function(D,W,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=F({},D.props),pe=D.key,Ie=void 0;if(W!=null)for(Ae in W.ref!==void 0&&(Ie=void 0),W.key!==void 0&&(pe=""+W.key),W)!De.call(W,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&W.ref===void 0||(te[Ae]=W[Ae]);var Ae=arguments.length-2;if(Ae===1)te.children=oe;else if(1<Ae){for(var bt=Array(Ae),We=0;We<Ae;We++)bt[We]=arguments[We+2];te.children=bt}return M(D.type,pe,void 0,void 0,Ie,te)},ke.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},ke.createElement=function(D,W,oe){var te,pe={},Ie=null;if(W!=null)for(te in W.key!==void 0&&(Ie=""+W.key),W)De.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=W[te]);var Ae=arguments.length-2;if(Ae===1)pe.children=oe;else if(1<Ae){for(var bt=Array(Ae),We=0;We<Ae;We++)bt[We]=arguments[We+2];pe.children=bt}if(D&&D.defaultProps)for(te in Ae=D.defaultProps,Ae)pe[te]===void 0&&(pe[te]=Ae[te]);return M(D,Ie,void 0,void 0,null,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(D){return{$$typeof:p,render:D}},ke.isValidElement=C,ke.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:re}},ke.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},ke.startTransition=function(D){var W=ye.T,oe={};ye.T=oe;try{var te=D(),pe=ye.S;pe!==null&&pe(oe,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ge,fe)}catch(Ie){fe(Ie)}finally{ye.T=W}},ke.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()},ke.use=function(D){return ye.H.use(D)},ke.useActionState=function(D,W,oe){return ye.H.useActionState(D,W,oe)},ke.useCallback=function(D,W){return ye.H.useCallback(D,W)},ke.useContext=function(D){return ye.H.useContext(D)},ke.useDebugValue=function(){},ke.useDeferredValue=function(D,W){return ye.H.useDeferredValue(D,W)},ke.useEffect=function(D,W,oe){var te=ye.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,W)},ke.useId=function(){return ye.H.useId()},ke.useImperativeHandle=function(D,W,oe){return ye.H.useImperativeHandle(D,W,oe)},ke.useInsertionEffect=function(D,W){return ye.H.useInsertionEffect(D,W)},ke.useLayoutEffect=function(D,W){return ye.H.useLayoutEffect(D,W)},ke.useMemo=function(D,W){return ye.H.useMemo(D,W)},ke.useOptimistic=function(D,W){return ye.H.useOptimistic(D,W)},ke.useReducer=function(D,W,oe){return ye.H.useReducer(D,W,oe)},ke.useRef=function(D){return ye.H.useRef(D)},ke.useState=function(D){return ye.H.useState(D)},ke.useSyncExternalStore=function(D,W,oe){return ye.H.useSyncExternalStore(D,W,oe)},ke.useTransition=function(){return ye.H.useTransition()},ke.version="19.1.1",ke}var S_;function Ym(){return S_||(S_=1,Zp.exports=TA()),Zp.exports}var ue=Ym(),Jp={exports:{}},dc={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function AA(){return x_||(x_=1,(function(i){function e(Q,re){var fe=Q.length;Q.push(re);e:for(;0<fe;){var Ge=fe-1>>>1,D=Q[Ge];if(0<o(D,re))Q[Ge]=re,Q[fe]=D,fe=Ge;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var re=Q[0],fe=Q.pop();if(fe!==re){Q[0]=fe;e:for(var Ge=0,D=Q.length,W=D>>>1;Ge<W;){var oe=2*(Ge+1)-1,te=Q[oe],pe=oe+1,Ie=Q[pe];if(0>o(te,fe))pe<D&&0>o(Ie,te)?(Q[Ge]=Ie,Q[pe]=fe,Ge=pe):(Q[Ge]=te,Q[oe]=fe,Ge=oe);else if(pe<D&&0>o(Ie,fe))Q[Ge]=Ie,Q[pe]=fe,Ge=pe;else break e}}return re}function o(Q,re){var fe=Q.sortIndex-re.sortIndex;return fe!==0?fe:Q.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,T=null,A=3,z=!1,F=!1,ee=!1,K=!1,ne=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Re(Q){for(var re=t(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=Q)s(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=t(y)}}function ye(Q){if(ee=!1,Re(Q),!F)if(t(g)!==null)F=!0,De||(De=!0,V());else{var re=t(y);re!==null&&Pe(ye,re.startTime-Q)}}var De=!1,M=-1,x=5,C=-1;function O(){return K?!0:!(i.unstable_now()-C<x)}function N(){if(K=!1,De){var Q=i.unstable_now();C=Q;var re=!0;try{e:{F=!1,ee&&(ee=!1,ae(M),M=-1),z=!0;var fe=A;try{t:{for(Re(Q),T=t(g);T!==null&&!(T.expirationTime>Q&&O());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,A=T.priorityLevel;var D=Ge(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof D=="function"){T.callback=D,Re(Q),re=!0;break t}T===t(g)&&s(g),Re(Q)}else s(g);T=t(g)}if(T!==null)re=!0;else{var W=t(y);W!==null&&Pe(ye,W.startTime-Q),re=!1}}break e}finally{T=null,A=fe,z=!1}re=void 0}}finally{re?V():De=!1}}}var V;if(typeof ie=="function")V=function(){ie(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ce=I.port2;I.port1.onmessage=N,V=function(){ce.postMessage(null)}}else V=function(){ne(N,0)};function Pe(Q,re){M=ne(function(){Q(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var fe=A;A=re;try{return Q()}finally{A=fe}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=A;A=Q;try{return re()}finally{A=fe}},i.unstable_scheduleCallback=function(Q,re,fe){var Ge=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ge+fe:Ge):fe=Ge,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,Q={id:_++,callback:re,priorityLevel:Q,startTime:fe,expirationTime:D,sortIndex:-1},fe>Ge?(Q.sortIndex=fe,e(y,Q),t(g)===null&&Q===t(y)&&(ee?(ae(M),M=-1):ee=!0,Pe(ye,fe-Ge))):(Q.sortIndex=D,e(g,Q),F||z||(F=!0,De||(De=!0,V()))),Q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Q){var re=A;return function(){var fe=A;A=re;try{return Q.apply(this,arguments)}finally{A=fe}}}})(tm)),tm}var R_;function SA(){return R_||(R_=1,em.exports=AA()),em.exports}var nm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function xA(){if(I_)return cn;I_=1;var i=Ym();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},cn.flushSync=function(g){var y=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=_,s.d.f()}},cn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},cn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},cn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,T=p(_,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:z}):_==="script"&&s.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},cn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,T=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},cn.requestFormReset=function(g){s.d.r(g)},cn.unstable_batchedUpdates=function(g,y){return g(y)},cn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var C_;function RA(){if(C_)return nm.exports;C_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=xA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function IA(){if(D_)return dc;D_=1;var i=SA(),e=Ym(),t=RA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),n;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var w=!1,b=d.child;b;){if(b===a){w=!0,a=d,l=f;break}if(b===l){w=!0,l=d,a=f;break}b=b.sibling}if(!w){for(b=f.child;b;){if(b===a){w=!0,a=f,l=d;break}if(b===l){w=!0,l=f,a=d;break}b=b.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case K:return"Profiler";case ee:return"StrictMode";case ye:return"Suspense";case De:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case z:return"Portal";case ie:return(n.displayName||"Context")+".Provider";case ae:return(n._context.displayName||"Context")+".Consumer";case Re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:ce(n.type)||"Memo";case x:r=n._payload,n=n._init;try{return ce(n(r))}catch{}}return null}var Pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ge=[],D=-1;function W(n){return{current:n}}function oe(n){0>D||(n.current=Ge[D],Ge[D]=null,D--)}function te(n,r){D++,Ge[D]=n.current,n.current=r}var pe=W(null),Ie=W(null),Ae=W(null),bt=W(null);function We(n,r){switch(te(Ae,r),te(Ie,n),te(pe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Xw(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Xw(r),n=Ww(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(pe),te(pe,n)}function Gn(){oe(pe),oe(Ie),oe(Ae)}function oi(n){n.memoizedState!==null&&te(bt,n);var r=pe.current,a=Ww(r,n.type);r!==a&&(te(Ie,n),te(pe,a))}function Et(n){Ie.current===n&&(oe(pe),oe(Ie)),bt.current===n&&(oe(bt),sc._currentValue=fe)}var bi=Object.prototype.hasOwnProperty,Qn=i.unstable_scheduleCallback,Ei=i.unstable_cancelCallback,Ce=i.unstable_shouldYield,ut=i.unstable_requestPaint,at=i.unstable_now,$i=i.unstable_getCurrentPriorityLevel,Xi=i.unstable_ImmediatePriority,pn=i.unstable_UserBlockingPriority,li=i.unstable_NormalPriority,ks=i.unstable_LowPriority,yt=i.unstable_IdlePriority,an=i.log,Da=i.unstable_setDisableYieldValue,dt=null,Ze=null;function Cn(n){if(typeof an=="function"&&Da(n),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(dt,n)}catch{}}var on=Math.clz32?Math.clz32:Ns,iu=Math.log,Zh=Math.LN2;function Ns(n){return n>>>=0,n===0?32:31-(iu(n)/Zh|0)|0}var Os=256,Ms=4194304;function ci(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ka(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=ci(l):(w&=b,w!==0?d=ci(w):a||(a=b&~n,a!==0&&(d=ci(a))))):(b=l&~f,b!==0?d=ci(b):w!==0?d=ci(w):a||(a=l&~n,a!==0&&(d=ci(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Vs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function sl(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var n=Os;return Os<<=1,(Os&4194048)===0&&(Os=256),n}function ol(){var n=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),n}function Wi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Zi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ll(n,r,a,l,d,f){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,R=n.expirationTimes,j=n.hiddenUpdates;for(a=w&~a;0<a;){var Y=31-on(a),Z=1<<Y;b[Y]=0,R[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var q=B[Y];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Ti(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(w&~r))}function Ti(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-on(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function cl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-on(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function Vr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Pr(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:g_(n.type))}function ru(n,r){var a=re.p;try{return re.p=n,r()}finally{re.p=a}}var ft=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ft,Dt="__reactProps$"+ft,Kn="__reactContainer$"+ft,ul="__reactEvents$"+ft,Jh="__reactListeners$"+ft,Lr="__reactHandles$"+ft,su="__reactResources$"+ft,Ps="__reactMarker$"+ft;function Ur(n){delete n[Lt],delete n[Dt],delete n[ul],delete n[Jh],delete n[Lr]}function Ji(n){var r=n[Lt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Kn]||a[Lt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=t_(n);n!==null;){if(a=n[Lt])return a;n=t_(n)}return r}n=a,a=n.parentNode}return null}function Ai(n){if(n=n[Lt]||n[Kn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Si(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function mn(n){var r=n[su];return r||(r=n[su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Tt(n){n[Ps]=!0}var dl=new Set,Oa={};function ui(n,r){er(n,r),er(n+"Capture",r)}function er(n,r){for(Oa[n]=r,n=0;n<r.length;n++)dl.add(r[n])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},Ls={};function lu(n){return bi.call(Ls,n)?!0:bi.call(ou,n)?!1:au.test(n)?Ls[n]=!0:(ou[n]=!0,!1)}function jr(n,r,a){if(lu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function xi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Wt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Us,cu;function tr(n){if(Us===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Us=r&&r[1]||"",cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+n+cu}var Ma=!1;function Va(n,r){if(!n||Ma)return"";Ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var B=q}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(q){B=q}n.call(Z.prototype)}}else{try{throw Error()}catch(q){B=q}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],b=f[1];if(w&&b){var R=w.split(`
`),j=b.split(`
`);for(d=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(l===R.length||d===j.length)for(l=R.length-1,d=j.length-1;1<=l&&0<=d&&R[l]!==j[d];)d--;for(;1<=l&&0<=d;l--,d--)if(R[l]!==j[d]){if(l!==1||d!==1)do if(l--,d--,0>d||R[l]!==j[d]){var Y=`
`+R[l].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=l&&0<=d);break}}}finally{Ma=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?tr(a):""}function hl(n){switch(n.tag){case 26:case 27:case 5:return tr(n.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return Va(n.type,!1);case 11:return Va(n.type.render,!1);case 1:return Va(n.type,!0);case 31:return tr("Activity");default:return""}}function Pa(n){try{var r="";do r+=hl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ef(n){var r=fl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,f.call(this,w)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function La(n){n._valueTracker||(n._valueTracker=ef(n))}function pl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=fl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function js(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tf=/[\n"\\]/g;function kt(n){return n.replace(tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dn(n,r,a,l,d,f,w,b){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+gn(r)):n.value!==""+gn(r)&&(n.value=""+gn(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?zr(n,w,gn(r)):a!=null?zr(n,w,gn(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+gn(b):n.removeAttribute("name")}function zs(n,r,a,l,d,f,w,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+gn(a):"",r=r!=null?""+gn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function zr(n,r,a){r==="number"&&js(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function nr(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+gn(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function tt(n,r,a){if(r!=null&&(r=""+gn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+gn(a):""}function Bs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=gn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Yn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||qs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ml(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&uu(n,d,l)}else for(var f in r)r.hasOwnProperty(f)&&uu(n,f,r[f])}function gl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(n){return rf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ir=null;function $n(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,sr=null;function yl(n){var r=Ai(n);if(r&&(n=r.stateNode)){var a=n[Dt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Dn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[Dt]||null;if(!d)throw Error(s(90));Dn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&pl(l)}break e;case"textarea":tt(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&nr(n,!!a.multiple,r,!1)}}}var Ri=!1;function du(n,r,a){if(Ri)return n(r,a);Ri=!0;try{var l=n(r);return l}finally{if(Ri=!1,(rr!==null||sr!==null)&&(rd(),rr&&(r=rr,n=sr,sr=rr=null,yl(r),n)))for(r=0;r<n.length;r++)yl(n[r])}}function Hs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(di)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Xn=!1}var Ii=null,Br=null,ar=null;function vl(){if(ar)return ar;var n,r=Br,a=r.length,l,d="value"in Ii?Ii.value:Ii.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var w=a-n;for(l=1;l<=w&&r[a-l]===d[f-l];l++);return ar=d.slice(n,1<l?1-l:void 0)}function Ci(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Di(){return!0}function wl(){return!1}function Ht(n){function r(a,l,d,f,w){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:wl,this.isPropagationStopped=wl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Ht(Xe),Gs=_({},Xe,{view:0,detail:0}),hu=Ht(Gs),za,Ba,ki,Qs=_({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$s,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ki&&(ki&&n.type==="mousemove"?(za=n.screenX-ki.screenX,Ba=n.screenY-ki.screenY):Ba=za=0,ki=n),za)},movementY:function(n){return"movementY"in n?n.movementY:Ba}}),Wn=Ht(Qs),fu=_({},Qs,{dataTransfer:0}),sf=Ht(fu),Ks=_({},Gs,{relatedTarget:0}),qa=Ht(Ks),_l=_({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=Ht(_l),pu=_({},Xe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fa=Ht(pu),af=_({},Xe,{data:0}),bl=Ht(af),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=gu[n])?!!r[n]:!1}function $s(){return El}var yu=_({},Gs,{key:function(n){if(n.key){var r=Ys[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$s,charCode:function(n){return n.type==="keypress"?Ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ga=Ht(yu),vu=_({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=Ht(vu),or=_({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$s}),wu=Ht(or),_u=_({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),bu=Ht(_u),Eu=_({},Qs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=Ht(Eu),yn=_({},Xe,{newState:0,oldState:0}),Tu=Ht(yn),Au=[9,13,27,32],Ni=di&&"CompositionEvent"in window,u=null;di&&"documentMode"in document&&(u=document.documentMode);var m=di&&"TextEvent"in window&&!u,v=di&&(!Ni||u&&8<u&&11>=u),E=" ",L=!1;function H(n,r){switch(n){case"keyup":return Au.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Ut(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(L=!0,E);case"textInput":return n=r.data,n===E&&L?null:n;default:return null}}function qe(n,r){if(Be)return n==="compositionend"||!Ni&&H(n,r)?(n=vl(),ar=Br=Ii=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ft[n.type]:r==="textarea"}function lr(n,r,a,l){rr?sr?sr.push(l):sr=[l]:rr=l,r=ud(r,"onChange"),0<r.length&&(a=new ja("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Zt=null,Oi=null;function Al(n){Gw(n,0)}function Su(n){var r=Si(n);if(pl(r))return n}function hy(n,r){if(n==="change")return r}var fy=!1;if(di){var of;if(di){var lf="oninput"in document;if(!lf){var py=document.createElement("div");py.setAttribute("oninput","return;"),lf=typeof py.oninput=="function"}of=lf}else of=!1;fy=of&&(!document.documentMode||9<document.documentMode)}function my(){Zt&&(Zt.detachEvent("onpropertychange",gy),Oi=Zt=null)}function gy(n){if(n.propertyName==="value"&&Su(Oi)){var r=[];lr(r,Oi,n,$n(n)),du(Al,r)}}function WT(n,r,a){n==="focusin"?(my(),Zt=r,Oi=a,Zt.attachEvent("onpropertychange",gy)):n==="focusout"&&my()}function ZT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Su(Oi)}function JT(n,r){if(n==="click")return Su(r)}function e2(n,r){if(n==="input"||n==="change")return Su(r)}function t2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var kn=typeof Object.is=="function"?Object.is:t2;function Sl(n,r){if(kn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bi.call(r,d)||!kn(n[d],r[d]))return!1}return!0}function yy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vy(n,r){var a=yy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yy(a)}}function wy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function _y(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=js(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=js(n.document)}return r}function cf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var n2=di&&"documentMode"in document&&11>=document.documentMode,Ka=null,uf=null,xl=null,df=!1;function by(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Ka==null||Ka!==js(l)||(l=Ka,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&Sl(xl,l)||(xl=l,l=ud(uf,"onSelect"),0<l.length&&(r=new ja("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ka)))}function Xs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ya={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},hf={},Ey={};di&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Ws(n){if(hf[n])return hf[n];if(!Ya[n])return n;var r=Ya[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ey)return hf[n]=r[a];return n}var Ty=Ws("animationend"),Ay=Ws("animationiteration"),Sy=Ws("animationstart"),i2=Ws("transitionrun"),r2=Ws("transitionstart"),s2=Ws("transitioncancel"),xy=Ws("transitionend"),Ry=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function hi(n,r){Ry.set(n,r),ui(r,[n])}var Iy=new WeakMap;function Zn(n,r){if(typeof n=="object"&&n!==null){var a=Iy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Pa(r)},Iy.set(n,r),r)}return{value:n,source:r,stack:Pa(r)}}var Jn=[],$a=0,pf=0;function xu(){for(var n=$a,r=pf=$a=0;r<n;){var a=Jn[r];Jn[r++]=null;var l=Jn[r];Jn[r++]=null;var d=Jn[r];Jn[r++]=null;var f=Jn[r];if(Jn[r++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}f!==0&&Cy(a,d,f)}}function Ru(n,r,a,l){Jn[$a++]=n,Jn[$a++]=r,Jn[$a++]=a,Jn[$a++]=l,pf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function mf(n,r,a,l){return Ru(n,r,a,l),Iu(n)}function Xa(n,r){return Ru(n,null,null,r),Iu(n)}function Cy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&r!==null&&(d=31-on(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function Iu(n){if(50<Wl)throw Wl=0,bp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Wa={};function a2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,r,a,l){return new a2(n,r,a,l)}function gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cr(n,r){var a=n.alternate;return a===null?(a=Nn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Dy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Cu(n,r,a,l,d,f){var w=0;if(l=n,typeof n=="function")gf(n)&&(w=1);else if(typeof n=="string")w=lA(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Nn(31,a,r,d),n.elementType=C,n.lanes=f,n;case F:return Zs(a.children,d,f,r);case ee:w=8,d|=24;break;case K:return n=Nn(12,a,r,d|2),n.elementType=K,n.lanes=f,n;case ye:return n=Nn(13,a,r,d),n.elementType=ye,n.lanes=f,n;case De:return n=Nn(19,a,r,d),n.elementType=De,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case ie:w=10;break e;case ae:w=9;break e;case Re:w=11;break e;case M:w=14;break e;case x:w=16,l=null;break e}w=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Nn(w,a,r,d),r.elementType=n,r.type=l,r.lanes=f,r}function Zs(n,r,a,l){return n=Nn(7,n,l,r),n.lanes=a,n}function yf(n,r,a){return n=Nn(6,n,null,r),n.lanes=a,n}function vf(n,r,a){return r=Nn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Za=[],Ja=0,Du=null,ku=0,ei=[],ti=0,Js=null,ur=1,dr="";function ea(n,r){Za[Ja++]=ku,Za[Ja++]=Du,Du=n,ku=r}function ky(n,r,a){ei[ti++]=ur,ei[ti++]=dr,ei[ti++]=Js,Js=n;var l=ur;n=dr;var d=32-on(l)-1;l&=~(1<<d),a+=1;var f=32-on(r)+d;if(30<f){var w=d-d%5;f=(l&(1<<w)-1).toString(32),l>>=w,d-=w,ur=1<<32-on(r)+d|a<<d|l,dr=f+n}else ur=1<<f|a<<d|l,dr=n}function wf(n){n.return!==null&&(ea(n,1),ky(n,1,0))}function _f(n){for(;n===Du;)Du=Za[--Ja],Za[Ja]=null,ku=Za[--Ja],Za[Ja]=null;for(;n===Js;)Js=ei[--ti],ei[ti]=null,dr=ei[--ti],ei[ti]=null,ur=ei[--ti],ei[ti]=null}var vn=null,vt=null,Ye=!1,ta=null,Mi=!1,bf=Error(s(519));function na(n){var r=Error(s(418,""));throw Cl(Zn(r,n)),bf}function Ny(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Lt]=n,r[Dt]=l,a){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Ve(Jl[a],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),zs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Bs(r,l.value,l.defaultValue,l.children),La(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||$w(r.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=dd),r=!0):r=!1,r||na(n)}function Oy(n){for(vn=n.return;vn;)switch(vn.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:vn=vn.return}}function Rl(n){if(n!==vn)return!1;if(!Ye)return Oy(n),Ye=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Lp(n.type,n.memoizedProps)),a=!a),a&&vt&&na(n),Oy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){vt=pi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}vt=null}}else r===27?(r=vt,is(n.type)?(n=Bp,Bp=null,vt=n):vt=r):vt=vn?pi(n.stateNode.nextSibling):null;return!0}function Il(){vt=vn=null,Ye=!1}function My(){var n=ta;return n!==null&&(Sn===null?Sn=n:Sn.push.apply(Sn,n),ta=null),n}function Cl(n){ta===null?ta=[n]:ta.push(n)}var Ef=W(null),ia=null,hr=null;function qr(n,r,a){te(Ef,r._currentValue),r._currentValue=a}function fr(n){n._currentValue=Ef.current,oe(Ef)}function Tf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Af(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var w=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var R=0;R<r.length;R++)if(b.context===r[R]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Tf(f.return,a,n),l||(w=null);break e}f=b.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=a,f=w.alternate,f!==null&&(f.lanes|=a),Tf(w,a,n),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===n){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Dl(n,r,a,l){n=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var b=d.type;kn(d.pendingProps.value,w.value)||(n!==null?n.push(b):n=[b])}}else if(d===bt.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(sc):n=[sc])}d=d.return}n!==null&&Af(r,n,a,l),r.flags|=262144}function Nu(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ra(n){ia=n,hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ln(n){return Vy(ia,n)}function Ou(n,r){return ia===null&&ra(n),Vy(n,r)}function Vy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(n===null)throw Error(s(308));hr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else hr=hr.next=r;return a}var o2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},l2=i.unstable_scheduleCallback,c2=i.unstable_NormalPriority,zt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new o2,data:new Map,refCount:0}}function kl(n){n.refCount--,n.refCount===0&&l2(c2,function(){n.controller.abort()})}var Nl=null,xf=0,eo=0,to=null;function u2(n,r){if(Nl===null){var a=Nl=[];xf=0,eo=Ip(),to={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,r.then(Py,Py),r}function Py(){if(--xf===0&&Nl!==null){to!==null&&(to.status="fulfilled");var n=Nl;Nl=null,eo=0,to=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function d2(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Ly=Q.S;Q.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&u2(n,r),Ly!==null&&Ly(n,r)};var sa=W(null);function Rf(){var n=sa.current;return n!==null?n:lt.pooledCache}function Mu(n,r){r===null?te(sa,sa.current):te(sa,r.pool)}function Uy(){var n=Rf();return n===null?null:{parent:zt._currentValue,pool:n}}var Ol=Error(s(460)),jy=Error(s(474)),Vu=Error(s(542)),If={then:function(){}};function zy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pu(){}function By(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Pu,Pu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Hy(n),n;default:if(typeof r.status=="string")r.then(Pu,Pu);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Hy(n),n}throw Ml=r,Ol}}var Ml=null;function qy(){if(Ml===null)throw Error(s(459));var n=Ml;return Ml=null,n}function Hy(n){if(n===Ol||n===Vu)throw Error(s(483))}var Hr=!1;function Cf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Iu(n),Cy(n,null,a),r}return Ru(n,l,r,a),Iu(n)}function Vl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,cl(n,a)}}function kf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=w:f=f.next=w,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Nf=!1;function Pl(){if(Nf){var n=to;if(n!==null)throw n}}function Ll(n,r,a,l){Nf=!1;var d=n.updateQueue;Hr=!1;var f=d.firstBaseUpdate,w=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var R=b,j=R.next;R.next=null,w===null?f=j:w.next=j,w=R;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==w&&(b===null?Y.firstBaseUpdate=j:b.next=j,Y.lastBaseUpdate=R))}if(f!==null){var Z=d.baseState;w=0,Y=j=R=null,b=f;do{var B=b.lane&-536870913,q=B!==b.lane;if(q?(He&B)===B:(l&B)===B){B!==0&&B===eo&&(Nf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=n,_e=b;B=r;var rt=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){Z=Se.call(rt,Z,B);break e}Z=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,B=typeof Se=="function"?Se.call(rt,Z,B):Se,B==null)break e;Z=_({},Z,B);break e;case 2:Hr=!0}}B=b.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=d.callbacks,q===null?d.callbacks=[B]:q.push(B))}else q={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(j=Y=q,R=Z):Y=Y.next=q,w|=B;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;q=b,b=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);Y===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=j,d.lastBaseUpdate=Y,f===null&&(d.shared.lanes=0),Jr|=w,n.lanes=w,n.memoizedState=Z}}function Fy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Gy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Fy(a[n],r)}var no=W(null),Lu=W(0);function Qy(n,r){n=_r,te(Lu,n),te(no,r),_r=n|r.baseLanes}function Of(){te(Lu,_r),te(no,no.current)}function Mf(){_r=Lu.current,oe(no),oe(Lu)}var Qr=0,Ne=null,nt=null,Nt=null,Uu=!1,io=!1,aa=!1,ju=0,Ul=0,ro=null,h2=0;function At(){throw Error(s(321))}function Vf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!kn(n[a],r[a]))return!1;return!0}function Pf(n,r,a,l,d,f){return Qr=f,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=n===null||n.memoizedState===null?Cv:Dv,aa=!1,f=a(l,d),aa=!1,io&&(f=Yy(r,a,l,d)),Ky(n),f}function Ky(n){Q.H=Gu;var r=nt!==null&&nt.next!==null;if(Qr=0,Nt=nt=Ne=null,Uu=!1,Ul=0,ro=null,r)throw Error(s(300));n===null||Gt||(n=n.dependencies,n!==null&&Nu(n)&&(Gt=!0))}function Yy(n,r,a,l){Ne=n;var d=0;do{if(io&&(ro=null),Ul=0,io=!1,25<=d)throw Error(s(301));if(d+=1,Nt=nt=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=w2,f=r(a,l)}while(io);return f}function f2(){var n=Q.H,r=n.useState()[0];return r=typeof r.then=="function"?jl(r):r,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ne.flags|=1024),r}function Lf(){var n=ju!==0;return ju=0,n}function Uf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function jf(n){if(Uu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Uu=!1}Qr=0,Nt=nt=Ne=null,io=!1,Ul=ju=0,ro=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ne.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Ot(){if(nt===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=Nt===null?Ne.memoizedState:Nt.next;if(r!==null)Nt=r,nt=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Nt===null?Ne.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(n){var r=Ul;return Ul+=1,ro===null&&(ro=[]),n=By(ro,n,r),r=Ne,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?Cv:Dv),n}function zu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return jl(n);if(n.$$typeof===ie)return ln(n)}throw Error(s(438,String(n)))}function Bf(n){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zf(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=O;return r.index++,a}function pr(n,r){return typeof r=="function"?r(n):r}function Bu(n){var r=Ot();return qf(r,nt,n)}function qf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var w=d.next;d.next=f.next,f.next=w}r.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{r=d.next;var b=w=null,R=null,j=r,Y=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(He&Z)===Z:(Qr&Z)===Z){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===eo&&(Y=!0);else if((Qr&B)===B){j=j.next,B===eo&&(Y=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(b=R=Z,w=f):R=R.next=Z,Ne.lanes|=B,Jr|=B;Z=j.action,aa&&a(f,Z),f=j.hasEagerState?j.eagerState:a(f,Z)}else B={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(b=R=B,w=f):R=R.next=B,Ne.lanes|=Z,Jr|=Z;j=j.next}while(j!==null&&j!==r);if(R===null?w=f:R.next=b,!kn(f,n.memoizedState)&&(Gt=!0,Y&&(a=to,a!==null)))throw a;n.memoizedState=f,n.baseState=w,n.baseQueue=R,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Hf(n){var r=Ot(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do f=n(f,w.action),w=w.next;while(w!==d);kn(f,r.memoizedState)||(Gt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function $y(n,r,a){var l=Ne,d=Ot(),f=Ye;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!kn((nt||d).memoizedState,a);w&&(d.memoizedState=a,Gt=!0),d=d.queue;var b=Zy.bind(null,l,d,n);if(zl(2048,8,b,[n]),d.getSnapshot!==r||w||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,so(9,qu(),Wy.bind(null,l,d,a,r),null),lt===null)throw Error(s(349));f||(Qr&124)!==0||Xy(l,r,a)}return a}function Xy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=zf(),Ne.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Wy(n,r,a,l){r.value=a,r.getSnapshot=l,Jy(r)&&ev(n)}function Zy(n,r,a){return a(function(){Jy(r)&&ev(n)})}function Jy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!kn(n,a)}catch{return!0}}function ev(n){var r=Xa(n,2);r!==null&&Ln(r,n,2)}function Ff(n){var r=Tn();if(typeof n=="function"){var a=n;if(n=a(),aa){Cn(!0);try{a()}finally{Cn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:n},r}function tv(n,r,a,l){return n.baseState=a,qf(n,nt,typeof l=="function"?l:pr)}function p2(n,r,a,l,d){if(Fu(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,nv(r,f)):(f.next=a.next,r.pending=a.next=f)}}function nv(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var f=Q.T,w={};Q.T=w;try{var b=a(d,l),R=Q.S;R!==null&&R(w,b),iv(n,r,b)}catch(j){Gf(n,r,j)}finally{Q.T=f}}else try{f=a(d,l),iv(n,r,f)}catch(j){Gf(n,r,j)}}function iv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){rv(n,r,l)},function(l){return Gf(n,r,l)}):rv(n,r,a)}function rv(n,r,a){r.status="fulfilled",r.value=a,sv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,nv(n,a)))}function Gf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,sv(r),r=r.next;while(r!==l)}n.action=null}function sv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function av(n,r){return r}function ov(n,r){if(Ye){var a=lt.formState;if(a!==null){e:{var l=Ne;if(Ye){if(vt){t:{for(var d=vt,f=Mi;d.nodeType!==8;){if(!f){d=null;break t}if(d=pi(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){vt=pi(d.nextSibling),l=d.data==="F!";break e}}na(l)}l=!1}l&&(r=a[0])}}return a=Tn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:r},a.queue=l,a=xv.bind(null,Ne,l),l.dispatch=a,l=Ff(!1),f=Xf.bind(null,Ne,!1,l.queue),l=Tn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=p2.bind(null,Ne,d,f,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function lv(n){var r=Ot();return cv(r,nt,n)}function cv(n,r,a){if(r=qf(n,r,av)[0],n=Bu(pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=jl(r)}catch(w){throw w===Ol?Vu:w}else l=r;r=Ot();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,so(9,qu(),m2.bind(null,d,a),null)),[l,f,n]}function m2(n,r){n.action=r}function uv(n){var r=Ot(),a=nt;if(a!==null)return cv(r,a,n);Ot(),r=r.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function so(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=zf(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function qu(){return{destroy:void 0,resource:void 0}}function dv(){return Ot().memoizedState}function Hu(n,r,a,l){var d=Tn();l=l===void 0?null:l,Ne.flags|=n,d.memoizedState=so(1|r,qu(),a,l)}function zl(n,r,a,l){var d=Ot();l=l===void 0?null:l;var f=d.memoizedState.inst;nt!==null&&l!==null&&Vf(l,nt.memoizedState.deps)?d.memoizedState=so(r,f,a,l):(Ne.flags|=n,d.memoizedState=so(1|r,f,a,l))}function hv(n,r){Hu(8390656,8,n,r)}function fv(n,r){zl(2048,8,n,r)}function pv(n,r){return zl(4,2,n,r)}function mv(n,r){return zl(4,4,n,r)}function gv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function yv(n,r,a){a=a!=null?a.concat([n]):null,zl(4,4,gv.bind(null,r,n),a)}function Qf(){}function vv(n,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Vf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function wv(n,r){var a=Ot();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Vf(r,l[1]))return l[0];if(l=n(),aa){Cn(!0);try{n()}finally{Cn(!1)}}return a.memoizedState=[l,r],l}function Kf(n,r,a){return a===void 0||(Qr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Ew(),Ne.lanes|=n,Jr|=n,a)}function _v(n,r,a,l){return kn(a,r)?a:no.current!==null?(n=Kf(n,a,l),kn(n,r)||(Gt=!0),n):(Qr&42)===0?(Gt=!0,n.memoizedState=a):(n=Ew(),Ne.lanes|=n,Jr|=n,r)}function bv(n,r,a,l,d){var f=re.p;re.p=f!==0&&8>f?f:8;var w=Q.T,b={};Q.T=b,Xf(n,!1,r,a);try{var R=d(),j=Q.S;if(j!==null&&j(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=d2(R,l);Bl(n,r,Y,Pn(n))}else Bl(n,r,l,Pn(n))}catch(Z){Bl(n,r,{then:function(){},status:"rejected",reason:Z},Pn())}finally{re.p=f,Q.T=w}}function g2(){}function Yf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=Ev(n).queue;bv(n,d,r,fe,a===null?g2:function(){return Tv(n),a(l)})}function Ev(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Tv(n){var r=Ev(n).next.queue;Bl(n,r,{},Pn())}function $f(){return ln(sc)}function Av(){return Ot().memoizedState}function Sv(){return Ot().memoizedState}function y2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Pn();n=Fr(a);var l=Gr(r,n,a);l!==null&&(Ln(l,r,a),Vl(l,r,a)),r={cache:Sf()},n.payload=r;return}r=r.return}}function v2(n,r,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(n)?Rv(r,a):(a=mf(n,r,a,l),a!==null&&(Ln(a,n,l),Iv(a,r,l)))}function xv(n,r,a){var l=Pn();Bl(n,r,a,l)}function Bl(n,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(n))Rv(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var w=r.lastRenderedState,b=f(w,a);if(d.hasEagerState=!0,d.eagerState=b,kn(b,w))return Ru(n,r,d,0),lt===null&&xu(),!1}catch{}finally{}if(a=mf(n,r,d,l),a!==null)return Ln(a,n,l),Iv(a,r,l),!0}return!1}function Xf(n,r,a,l){if(l={lane:2,revertLane:Ip(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(n)){if(r)throw Error(s(479))}else r=mf(n,a,l,2),r!==null&&Ln(r,n,2)}function Fu(n){var r=n.alternate;return n===Ne||r!==null&&r===Ne}function Rv(n,r){io=Uu=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Iv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,cl(n,a)}}var Gu={readContext:ln,use:zu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Cv={readContext:ln,use:zu,useCallback:function(n,r){return Tn().memoizedState=[n,r===void 0?null:r],n},useContext:ln,useEffect:hv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Hu(4194308,4,gv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Hu(4194308,4,n,r)},useInsertionEffect:function(n,r){Hu(4,2,n,r)},useMemo:function(n,r){var a=Tn();r=r===void 0?null:r;var l=n();if(aa){Cn(!0);try{n()}finally{Cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=Tn();if(a!==void 0){var d=a(r);if(aa){Cn(!0);try{a(r)}finally{Cn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=v2.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var r=Tn();return n={current:n},r.memoizedState=n},useState:function(n){n=Ff(n);var r=n.queue,a=xv.bind(null,Ne,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(n,r){var a=Tn();return Kf(a,n,r)},useTransition:function(){var n=Ff(!1);return n=bv.bind(null,Ne,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ne,d=Tn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),lt===null)throw Error(s(349));(He&124)!==0||Xy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,hv(Zy.bind(null,l,f,n),[n]),l.flags|=2048,so(9,qu(),Wy.bind(null,l,f,a,r),null),a},useId:function(){var n=Tn(),r=lt.identifierPrefix;if(Ye){var a=dr,l=ur;a=(l&~(1<<32-on(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=ju++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=h2++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:$f,useFormState:ov,useActionState:ov,useOptimistic:function(n){var r=Tn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xf.bind(null,Ne,!0,a),a.dispatch=r,[n,r]},useMemoCache:Bf,useCacheRefresh:function(){return Tn().memoizedState=y2.bind(null,Ne)}},Dv={readContext:ln,use:zu,useCallback:vv,useContext:ln,useEffect:fv,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:wv,useReducer:Bu,useRef:dv,useState:function(){return Bu(pr)},useDebugValue:Qf,useDeferredValue:function(n,r){var a=Ot();return _v(a,nt.memoizedState,n,r)},useTransition:function(){var n=Bu(pr)[0],r=Ot().memoizedState;return[typeof n=="boolean"?n:jl(n),r]},useSyncExternalStore:$y,useId:Av,useHostTransitionStatus:$f,useFormState:lv,useActionState:lv,useOptimistic:function(n,r){var a=Ot();return tv(a,nt,n,r)},useMemoCache:Bf,useCacheRefresh:Sv},w2={readContext:ln,use:zu,useCallback:vv,useContext:ln,useEffect:fv,useImperativeHandle:yv,useInsertionEffect:pv,useLayoutEffect:mv,useMemo:wv,useReducer:Hf,useRef:dv,useState:function(){return Hf(pr)},useDebugValue:Qf,useDeferredValue:function(n,r){var a=Ot();return nt===null?Kf(a,n,r):_v(a,nt.memoizedState,n,r)},useTransition:function(){var n=Hf(pr)[0],r=Ot().memoizedState;return[typeof n=="boolean"?n:jl(n),r]},useSyncExternalStore:$y,useId:Av,useHostTransitionStatus:$f,useFormState:uv,useActionState:uv,useOptimistic:function(n,r){var a=Ot();return nt!==null?tv(a,nt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Sv},ao=null,ql=0;function Qu(n){var r=ql;return ql+=1,ao===null&&(ao=[]),By(ao,n,r)}function Hl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ku(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function kv(n){var r=n._init;return r(n._payload)}function Nv(n){function r(P,k){if(n){var U=P.deletions;U===null?(P.deletions=[k],P.flags|=16):U.push(k)}}function a(P,k){if(!n)return null;for(;k!==null;)r(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function d(P,k){return P=cr(P,k),P.index=0,P.sibling=null,P}function f(P,k,U){return P.index=U,n?(U=P.alternate,U!==null?(U=U.index,U<k?(P.flags|=67108866,k):U):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function w(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,k,U,X){return k===null||k.tag!==6?(k=yf(U,P.mode,X),k.return=P,k):(k=d(k,U),k.return=P,k)}function R(P,k,U,X){var he=U.type;return he===F?Y(P,k,U.props.children,X,U.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===x&&kv(he)===k.type)?(k=d(k,U.props),Hl(k,U),k.return=P,k):(k=Cu(U.type,U.key,U.props,null,P.mode,X),Hl(k,U),k.return=P,k)}function j(P,k,U,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=vf(U,P.mode,X),k.return=P,k):(k=d(k,U.children||[]),k.return=P,k)}function Y(P,k,U,X,he){return k===null||k.tag!==7?(k=Zs(U,P.mode,X,he),k.return=P,k):(k=d(k,U),k.return=P,k)}function Z(P,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=yf(""+k,P.mode,U),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return U=Cu(k.type,k.key,k.props,null,P.mode,U),Hl(U,k),U.return=P,U;case z:return k=vf(k,P.mode,U),k.return=P,k;case x:var X=k._init;return k=X(k._payload),Z(P,k,U)}if(Pe(k)||V(k))return k=Zs(k,P.mode,U,null),k.return=P,k;if(typeof k.then=="function")return Z(P,Qu(k),U);if(k.$$typeof===ie)return Z(P,Ou(P,k),U);Ku(P,k)}return null}function B(P,k,U,X){var he=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:b(P,k,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===he?R(P,k,U,X):null;case z:return U.key===he?j(P,k,U,X):null;case x:return he=U._init,U=he(U._payload),B(P,k,U,X)}if(Pe(U)||V(U))return he!==null?null:Y(P,k,U,X,null);if(typeof U.then=="function")return B(P,k,Qu(U),X);if(U.$$typeof===ie)return B(P,k,Ou(P,U),X);Ku(P,U)}return null}function q(P,k,U,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(U)||null,b(k,P,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return P=P.get(X.key===null?U:X.key)||null,R(k,P,X,he);case z:return P=P.get(X.key===null?U:X.key)||null,j(k,P,X,he);case x:var Oe=X._init;return X=Oe(X._payload),q(P,k,U,X,he)}if(Pe(X)||V(X))return P=P.get(U)||null,Y(k,P,X,he,null);if(typeof X.then=="function")return q(P,k,U,Qu(X),he);if(X.$$typeof===ie)return q(P,k,U,Ou(k,X),he);Ku(k,X)}return null}function Se(P,k,U,X){for(var he=null,Oe=null,me=k,be=k=0,Kt=null;me!==null&&be<U.length;be++){me.index>be?(Kt=me,me=null):Kt=me.sibling;var Qe=B(P,me,U[be],X);if(Qe===null){me===null&&(me=Kt);break}n&&me&&Qe.alternate===null&&r(P,me),k=f(Qe,k,be),Oe===null?he=Qe:Oe.sibling=Qe,Oe=Qe,me=Kt}if(be===U.length)return a(P,me),Ye&&ea(P,be),he;if(me===null){for(;be<U.length;be++)me=Z(P,U[be],X),me!==null&&(k=f(me,k,be),Oe===null?he=me:Oe.sibling=me,Oe=me);return Ye&&ea(P,be),he}for(me=l(me);be<U.length;be++)Kt=q(me,P,be,U[be],X),Kt!==null&&(n&&Kt.alternate!==null&&me.delete(Kt.key===null?be:Kt.key),k=f(Kt,k,be),Oe===null?he=Kt:Oe.sibling=Kt,Oe=Kt);return n&&me.forEach(function(ls){return r(P,ls)}),Ye&&ea(P,be),he}function _e(P,k,U,X){if(U==null)throw Error(s(151));for(var he=null,Oe=null,me=k,be=k=0,Kt=null,Qe=U.next();me!==null&&!Qe.done;be++,Qe=U.next()){me.index>be?(Kt=me,me=null):Kt=me.sibling;var ls=B(P,me,Qe.value,X);if(ls===null){me===null&&(me=Kt);break}n&&me&&ls.alternate===null&&r(P,me),k=f(ls,k,be),Oe===null?he=ls:Oe.sibling=ls,Oe=ls,me=Kt}if(Qe.done)return a(P,me),Ye&&ea(P,be),he;if(me===null){for(;!Qe.done;be++,Qe=U.next())Qe=Z(P,Qe.value,X),Qe!==null&&(k=f(Qe,k,be),Oe===null?he=Qe:Oe.sibling=Qe,Oe=Qe);return Ye&&ea(P,be),he}for(me=l(me);!Qe.done;be++,Qe=U.next())Qe=q(me,P,be,Qe.value,X),Qe!==null&&(n&&Qe.alternate!==null&&me.delete(Qe.key===null?be:Qe.key),k=f(Qe,k,be),Oe===null?he=Qe:Oe.sibling=Qe,Oe=Qe);return n&&me.forEach(function(_A){return r(P,_A)}),Ye&&ea(P,be),he}function rt(P,k,U,X){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var he=U.key;k!==null;){if(k.key===he){if(he=U.type,he===F){if(k.tag===7){a(P,k.sibling),X=d(k,U.props.children),X.return=P,P=X;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===x&&kv(he)===k.type){a(P,k.sibling),X=d(k,U.props),Hl(X,U),X.return=P,P=X;break e}a(P,k);break}else r(P,k);k=k.sibling}U.type===F?(X=Zs(U.props.children,P.mode,X,U.key),X.return=P,P=X):(X=Cu(U.type,U.key,U.props,null,P.mode,X),Hl(X,U),X.return=P,P=X)}return w(P);case z:e:{for(he=U.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(P,k.sibling),X=d(k,U.children||[]),X.return=P,P=X;break e}else{a(P,k);break}else r(P,k);k=k.sibling}X=vf(U,P.mode,X),X.return=P,P=X}return w(P);case x:return he=U._init,U=he(U._payload),rt(P,k,U,X)}if(Pe(U))return Se(P,k,U,X);if(V(U)){if(he=V(U),typeof he!="function")throw Error(s(150));return U=he.call(U),_e(P,k,U,X)}if(typeof U.then=="function")return rt(P,k,Qu(U),X);if(U.$$typeof===ie)return rt(P,k,Ou(P,U),X);Ku(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(P,k.sibling),X=d(k,U),X.return=P,P=X):(a(P,k),X=yf(U,P.mode,X),X.return=P,P=X),w(P)):a(P,k)}return function(P,k,U,X){try{ql=0;var he=rt(P,k,U,X);return ao=null,he}catch(me){if(me===Ol||me===Vu)throw me;var Oe=Nn(29,me,null,P.mode);return Oe.lanes=X,Oe.return=P,Oe}finally{}}}var oo=Nv(!0),Ov=Nv(!1),ni=W(null),Vi=null;function Kr(n){var r=n.alternate;te(Bt,Bt.current&1),te(ni,n),Vi===null&&(r===null||no.current!==null||r.memoizedState!==null)&&(Vi=n)}function Mv(n){if(n.tag===22){if(te(Bt,Bt.current),te(ni,n),Vi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Vi=n)}}else Yr()}function Yr(){te(Bt,Bt.current),te(ni,ni.current)}function mr(n){oe(ni),Vi===n&&(Vi=null),oe(Bt)}var Bt=W(0);function Yu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zf={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Pn(),d=Fr(l);d.payload=r,a!=null&&(d.callback=a),r=Gr(n,d,l),r!==null&&(Ln(r,n,l),Vl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Pn(),d=Fr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Gr(n,d,l),r!==null&&(Ln(r,n,l),Vl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Pn(),l=Fr(a);l.tag=2,r!=null&&(l.callback=r),r=Gr(n,l,a),r!==null&&(Ln(r,n,a),Vl(r,n,a))}};function Vv(n,r,a,l,d,f,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,w):r.prototype&&r.prototype.isPureReactComponent?!Sl(a,l)||!Sl(d,f):!0}function Pv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Zf.enqueueReplaceState(r,r.state,null)}function oa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var $u=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Lv(n){$u(n)}function Uv(n){console.error(n)}function jv(n){$u(n)}function Xu(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function zv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Jf(n,r,a){return a=Fr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(n,r)},a}function Bv(n){return n=Fr(n),n.tag=3,n}function qv(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){zv(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){zv(r,a,l),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function _2(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Dl(r,a,d,!0),a=ni.current,a!==null){switch(a.tag){case 13:return Vi===null?Tp():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===If?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Sp(n,l,d)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Sp(n,l,d)),!1}throw Error(s(435,a.tag))}return Sp(n,l,d),Tp(),!1}if(Ye)return r=ni.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==bf&&(n=Error(s(422),{cause:l}),Cl(Zn(n,a)))):(l!==bf&&(r=Error(s(423),{cause:l}),Cl(Zn(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Zn(l,a),d=Jf(n.stateNode,l,d),kf(n,d),wt!==4&&(wt=2)),!1;var f=Error(s(520),{cause:l});if(f=Zn(f,a),Xl===null?Xl=[f]:Xl.push(f),wt!==4&&(wt=2),r===null)return!0;l=Zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Jf(a.stateNode,l,n),kf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(es===null||!es.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Bv(d),qv(d,n,a,l),kf(a,d),!1}a=a.return}while(a!==null);return!1}var Hv=Error(s(461)),Gt=!1;function Jt(n,r,a,l){r.child=n===null?Ov(r,null,a,l):oo(r,n.child,a,l)}function Fv(n,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var w={};for(var b in l)b!=="ref"&&(w[b]=l[b])}else w=l;return ra(r),l=Pf(n,r,a,w,f,d),b=Lf(),n!==null&&!Gt?(Uf(n,r,d),gr(n,r,d)):(Ye&&b&&wf(r),r.flags|=1,Jt(n,r,l,d),r.child)}function Gv(n,r,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!gf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Qv(n,r,f,l,d)):(n=Cu(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!op(n,d)){var w=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(w,l)&&n.ref===r.ref)return gr(n,r,d)}return r.flags|=1,n=cr(f,l),n.ref=r.ref,n.return=r,r.child=n}function Qv(n,r,a,l,d){if(n!==null){var f=n.memoizedProps;if(Sl(f,l)&&n.ref===r.ref)if(Gt=!1,r.pendingProps=l=f,op(n,d))(n.flags&131072)!==0&&(Gt=!0);else return r.lanes=n.lanes,gr(n,r,d)}return ep(n,r,a,l,d)}function Kv(n,r,a){var l=r.pendingProps,d=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(d=r.child=n.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Yv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mu(r,f!==null?f.cachePool:null),f!==null?Qy(r,f):Of(),Mv(r);else return r.lanes=r.childLanes=536870912,Yv(n,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(Mu(r,f.cachePool),Qy(r,f),Yr(),r.memoizedState=null):(n!==null&&Mu(r,null),Of(),Yr());return Jt(n,r,d,a),r.child}function Yv(n,r,a,l){var d=Rf();return d=d===null?null:{parent:zt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Mu(r,null),Of(),Mv(r),n!==null&&Dl(n,r,l,!0),null}function Wu(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function ep(n,r,a,l,d){return ra(r),a=Pf(n,r,a,l,void 0,d),l=Lf(),n!==null&&!Gt?(Uf(n,r,d),gr(n,r,d)):(Ye&&l&&wf(r),r.flags|=1,Jt(n,r,a,d),r.child)}function $v(n,r,a,l,d,f){return ra(r),r.updateQueue=null,a=Yy(r,l,a,d),Ky(n),l=Lf(),n!==null&&!Gt?(Uf(n,r,f),gr(n,r,f)):(Ye&&l&&wf(r),r.flags|=1,Jt(n,r,a,f),r.child)}function Xv(n,r,a,l,d){if(ra(r),r.stateNode===null){var f=Wa,w=a.contextType;typeof w=="object"&&w!==null&&(f=ln(w)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Cf(r),w=a.contextType,f.context=typeof w=="object"&&w!==null?ln(w):Wa,f.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Wf(r,a,w,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Zf.enqueueReplaceState(f,f.state,null),Ll(r,l,f,d),Pl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var b=r.memoizedProps,R=oa(a,b);f.props=R;var j=f.context,Y=a.contextType;w=Wa,typeof Y=="object"&&Y!==null&&(w=ln(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||j!==w)&&Pv(r,f,l,w),Hr=!1;var B=r.memoizedState;f.state=B,Ll(r,l,f,d),Pl(),j=r.memoizedState,b||B!==j||Hr?(typeof Z=="function"&&(Wf(r,a,Z,l),j=r.memoizedState),(R=Hr||Vv(r,a,R,l,B,j,w))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),f.props=l,f.state=j,f.context=w,l=R):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Df(n,r),w=r.memoizedProps,Y=oa(a,w),f.props=Y,Z=r.pendingProps,B=f.context,j=a.contextType,R=Wa,typeof j=="object"&&j!==null&&(R=ln(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==Z||B!==R)&&Pv(r,f,l,R),Hr=!1,B=r.memoizedState,f.state=B,Ll(r,l,f,d),Pl();var q=r.memoizedState;w!==Z||B!==q||Hr||n!==null&&n.dependencies!==null&&Nu(n.dependencies)?(typeof b=="function"&&(Wf(r,a,b,l),q=r.memoizedState),(Y=Hr||Vv(r,a,Y,l,B,q,R)||n!==null&&n.dependencies!==null&&Nu(n.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=R,l=Y):(typeof f.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,Wu(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=oo(r,n.child,null,d),r.child=oo(r,null,a,d)):Jt(n,r,a,d),r.memoizedState=f.state,n=r.child):n=gr(n,r,d),n}function Wv(n,r,a,l){return Il(),r.flags|=256,Jt(n,r,a,l),r.child}var tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function np(n){return{baseLanes:n,cachePool:Uy()}}function ip(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=ii),n}function Zv(n,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,w;if((w=f)||(w=n!==null&&n.memoizedState===null?!1:(Bt.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ye){if(d?Kr(r):Yr(),Ye){var b=vt,R;if(R=b){e:{for(R=b,b=Mi;R.nodeType!==8;){if(!b){b=null;break e}if(R=pi(R.nextSibling),R===null){b=null;break e}}b=R}b!==null?(r.memoizedState={dehydrated:b,treeContext:Js!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},R=Nn(18,null,null,0),R.stateNode=b,R.return=r,r.child=R,vn=r,vt=null,R=!0):R=!1}R||na(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return zp(b)?r.lanes=32:r.lanes=536870912,null;mr(r)}return b=l.children,l=l.fallback,d?(Yr(),d=r.mode,b=Zu({mode:"hidden",children:b},d),l=Zs(l,d,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,d=r.child,d.memoizedState=np(a),d.childLanes=ip(n,w,a),r.memoizedState=tp,l):(Kr(r),rp(r,b))}if(R=n.memoizedState,R!==null&&(b=R.dehydrated,b!==null)){if(f)r.flags&256?(Kr(r),r.flags&=-257,r=sp(n,r,a)):r.memoizedState!==null?(Yr(),r.child=n.child,r.flags|=128,r=null):(Yr(),d=l.fallback,b=r.mode,l=Zu({mode:"visible",children:l.children},b),d=Zs(d,b,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,oo(r,n.child,null,a),l=r.child,l.memoizedState=np(a),l.childLanes=ip(n,w,a),r.memoizedState=tp,r=d);else if(Kr(r),zp(b)){if(w=b.nextSibling&&b.nextSibling.dataset,w)var j=w.dgst;w=j,l=Error(s(419)),l.stack="",l.digest=w,Cl({value:l,source:null,stack:null}),r=sp(n,r,a)}else if(Gt||Dl(n,r,a,!1),w=(a&n.childLanes)!==0,Gt||w){if(w=lt,w!==null&&(l=a&-a,l=(l&42)!==0?1:Vr(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Xa(n,l),Ln(w,n,l),Hv;b.data==="$?"||Tp(),r=sp(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=R.treeContext,vt=pi(b.nextSibling),vn=r,Ye=!0,ta=null,Mi=!1,n!==null&&(ei[ti++]=ur,ei[ti++]=dr,ei[ti++]=Js,ur=n.id,dr=n.overflow,Js=r),r=rp(r,l.children),r.flags|=4096);return r}return d?(Yr(),d=l.fallback,b=r.mode,R=n.child,j=R.sibling,l=cr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?d=cr(j,d):(d=Zs(d,b,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,b=n.child.memoizedState,b===null?b=np(a):(R=b.cachePool,R!==null?(j=zt._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Uy(),b={baseLanes:b.baseLanes|a,cachePool:R}),d.memoizedState=b,d.childLanes=ip(n,w,a),r.memoizedState=tp,l):(Kr(r),a=n.child,n=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=a,r.memoizedState=null,a)}function rp(n,r){return r=Zu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Zu(n,r){return n=Nn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function sp(n,r,a){return oo(r,n.child,null,a),n=rp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Jv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Tf(n.return,r,a)}function ap(n,r,a,l,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function ew(n,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;if(Jt(n,r,l.children,a),l=Bt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jv(n,a,r);else if(n.tag===19)Jv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Bt,l),d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Yu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),ap(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Yu(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ap(r,!0,a,null,f);break;case"together":ap(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Jr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=cr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=cr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function op(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Nu(n)))}function b2(n,r,a){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),qr(r,zt,n.memoizedState.cache),Il();break;case 27:case 5:oi(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Zv(n,r,a):(Kr(r),n=gr(n,r,a),n!==null?n.sibling:null);Kr(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Dl(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return ew(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(Bt,Bt.current),l)break;return null;case 22:case 23:return r.lanes=0,Kv(n,r,a);case 24:qr(r,zt,n.memoizedState.cache)}return gr(n,r,a)}function tw(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Gt=!0;else{if(!op(n,a)&&(r.flags&128)===0)return Gt=!1,b2(n,r,a);Gt=(n.flags&131072)!==0}else Gt=!1,Ye&&(r.flags&1048576)!==0&&ky(r,ku,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")gf(l)?(n=oa(l,n),r.tag=1,r=Xv(null,r,l,n,a)):(r.tag=0,r=ep(null,r,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===Re){r.tag=11,r=Fv(null,r,l,n,a);break e}else if(d===M){r.tag=14,r=Gv(null,r,l,n,a);break e}}throw r=ce(l)||l,Error(s(306,r,""))}}return r;case 0:return ep(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=oa(l,r.pendingProps),Xv(n,r,l,d,a);case 3:e:{if(We(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,Df(n,r),Ll(r,l,null,a);var w=r.memoizedState;if(l=w.cache,qr(r,zt,l),l!==f.cache&&Af(r,[zt],a,!0),Pl(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Wv(n,r,l,a);break e}else if(l!==d){d=Zn(Error(s(424)),r),Cl(d),r=Wv(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=pi(n.firstChild),vn=r,Ye=!0,ta=null,Mi=!0,a=Ov(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Il(),l===d){r=gr(n,r,a);break e}Jt(n,r,l,a)}r=r.child}return r;case 26:return Wu(n,r),n===null?(a=s_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,n=r.pendingProps,l=hd(Ae.current).createElement(a),l[Lt]=r,l[Dt]=n,tn(l,a,n),Tt(l),r.stateNode=l):r.memoizedState=s_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return oi(r),n===null&&Ye&&(l=r.stateNode=n_(r.type,r.pendingProps,Ae.current),vn=r,Mi=!0,d=vt,is(r.type)?(Bp=d,vt=pi(l.firstChild)):vt=d),Jt(n,r,r.pendingProps.children,a),Wu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ye&&((d=l=vt)&&(l=$2(l,r.type,r.pendingProps,Mi),l!==null?(r.stateNode=l,vn=r,vt=pi(l.firstChild),Mi=!1,d=!0):d=!1),d||na(r)),oi(r),d=r.type,f=r.pendingProps,w=n!==null?n.memoizedProps:null,l=f.children,Lp(d,f)?l=null:w!==null&&Lp(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=Pf(n,r,f2,null,null,a),sc._currentValue=d),Wu(n,r),Jt(n,r,l,a),r.child;case 6:return n===null&&Ye&&((n=a=vt)&&(a=X2(a,r.pendingProps,Mi),a!==null?(r.stateNode=a,vn=r,vt=null,n=!0):n=!1),n||na(r)),null;case 13:return Zv(n,r,a);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=oo(r,null,l,a):Jt(n,r,l,a),r.child;case 11:return Fv(n,r,r.type,r.pendingProps,a);case 7:return Jt(n,r,r.pendingProps,a),r.child;case 8:return Jt(n,r,r.pendingProps.children,a),r.child;case 12:return Jt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qr(r,r.type,l.value),Jt(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,ra(r),d=ln(d),l=l(d),r.flags|=1,Jt(n,r,l,a),r.child;case 14:return Gv(n,r,r.type,r.pendingProps,a);case 15:return Qv(n,r,r.type,r.pendingProps,a);case 19:return ew(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Zu(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=cr(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Kv(n,r,a);case 24:return ra(r),l=ln(zt),n===null?(d=Rf(),d===null&&(d=lt,f=Sf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Cf(r),qr(r,zt,d)):((n.lanes&a)!==0&&(Df(n,r),Ll(r,null,null,a),Pl()),d=n.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),qr(r,zt,l)):(l=f.cache,qr(r,zt,l),l!==d.cache&&Af(r,[zt],a,!0))),Jt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function yr(n){n.flags|=4}function nw(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!u_(r)){if(r=ni.current,r!==null&&((He&4194048)===He?Vi!==null:(He&62914560)!==He&&(He&536870912)===0||r!==Vi))throw Ml=If,jy;n.flags|=8192}}function Ju(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ol():536870912,n.lanes|=r,ho|=r)}function Fl(n,r){if(!Ye)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function mt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function E2(n,r,a){var l=r.pendingProps;switch(_f(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),fr(zt),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Rl(r)?yr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,My())),mt(r),null;case 26:return a=r.memoizedState,n===null?(yr(r),a!==null?(mt(r),nw(r,a)):(mt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(yr(r),mt(r),nw(r,a)):(mt(r),r.flags&=-16777217):(n.memoizedProps!==l&&yr(r),mt(r),r.flags&=-16777217),null;case 27:Et(r),a=Ae.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return mt(r),null}n=pe.current,Rl(r)?Ny(r):(n=n_(d,l,a),r.stateNode=n,yr(r))}return mt(r),null;case 5:if(Et(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return mt(r),null}if(n=pe.current,Rl(r))Ny(r);else{switch(d=hd(Ae.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Lt]=r,n[Dt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(tn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&yr(r)}}return mt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ae.current,Rl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=vn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Lt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$w(n.nodeValue,a)),n||na(r)}else n=hd(n).createTextNode(l),n[Lt]=r,r.stateNode=n}return mt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Rl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Lt]=r}else Il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),d=!1}else d=My(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(mr(r),r):(mr(r),null)}if(mr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Ju(r,r.updateQueue),mt(r),null;case 4:return Gn(),n===null&&Np(r.stateNode.containerInfo),mt(r),null;case 10:return fr(r.type),mt(r),null;case 19:if(oe(Bt),d=r.memoizedState,d===null)return mt(r),null;if(l=(r.flags&128)!==0,f=d.rendering,f===null)if(l)Fl(d,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=Yu(n),f!==null){for(r.flags|=128,Fl(d,!1),n=f.updateQueue,r.updateQueue=n,Ju(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Dy(a,n),a=a.sibling;return te(Bt,Bt.current&1|2),r.child}n=n.sibling}d.tail!==null&&at()>nd&&(r.flags|=128,l=!0,Fl(d,!1),r.lanes=4194304)}else{if(!l)if(n=Yu(f),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Ju(r,n),Fl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ye)return mt(r),null}else 2*at()-d.renderingStartTime>nd&&a!==536870912&&(r.flags|=128,l=!0,Fl(d,!1),r.lanes=4194304);d.isBackwards?(f.sibling=r.child,r.child=f):(n=d.last,n!==null?n.sibling=f:r.child=f,d.last=f)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=at(),r.sibling=null,n=Bt.current,te(Bt,l?n&1|2:n&1),r):(mt(r),null);case 22:case 23:return mr(r),Mf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),a=r.updateQueue,a!==null&&Ju(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&oe(sa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fr(zt),mt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function T2(n,r){switch(_f(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return fr(zt),Gn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Et(r),null;case 13:if(mr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Il()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(Bt),null;case 4:return Gn(),null;case 10:return fr(r.type),null;case 22:case 23:return mr(r),Mf(),n!==null&&oe(sa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return fr(zt),null;case 25:return null;default:return null}}function iw(n,r){switch(_f(r),r.tag){case 3:fr(zt),Gn();break;case 26:case 27:case 5:Et(r);break;case 4:Gn();break;case 13:mr(r);break;case 19:oe(Bt);break;case 10:fr(r.type);break;case 22:case 23:mr(r),Mf(),n!==null&&oe(sa);break;case 24:fr(zt)}}function Gl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,w=a.inst;l=f(),w.destroy=l}a=a.next}while(a!==d)}}catch(b){ot(r,r.return,b)}}function $r(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var w=l.inst,b=w.destroy;if(b!==void 0){w.destroy=void 0,d=r;var R=a,j=b;try{j()}catch(Y){ot(d,R,Y)}}}l=l.next}while(l!==f)}}catch(Y){ot(r,r.return,Y)}}function rw(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Gy(r,a)}catch(l){ot(n,n.return,l)}}}function sw(n,r,a){a.props=oa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ot(n,r,l)}}function Ql(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){ot(n,r,d)}}function Pi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ot(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ot(n,r,d)}else a.current=null}function aw(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ot(n,n.return,d)}}function lp(n,r,a){try{var l=n.stateNode;F2(l,n.type,a,r),l[Dt]=r}catch(d){ot(n,n.return,d)}}function ow(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&is(n.type)||n.tag===4}function cp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ow(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&is(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function up(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=dd));else if(l!==4&&(l===27&&is(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(up(n,r,a),n=n.sibling;n!==null;)up(n,r,a),n=n.sibling}function ed(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&is(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ed(n,r,a),n=n.sibling;n!==null;)ed(n,r,a),n=n.sibling}function lw(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);tn(r,l,a),r[Lt]=n,r[Dt]=a}catch(f){ot(n,n.return,f)}}var vr=!1,St=!1,dp=!1,cw=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function A2(n,r){if(n=n.containerInfo,Vp=vd,n=_y(n),cf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var w=0,b=-1,R=-1,j=0,Y=0,Z=n,B=null;t:for(;;){for(var q;Z!==a||d!==0&&Z.nodeType!==3||(b=w+d),Z!==f||l!==0&&Z.nodeType!==3||(R=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(q=Z.firstChild)!==null;)B=Z,Z=q;for(;;){if(Z===n)break t;if(B===a&&++j===d&&(b=w),B===f&&++Y===l&&(R=w),(q=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=q}a=b===-1||R===-1?null:{start:b,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pp={focusedElem:n,selectionRange:a},vd=!1,Qt=r;Qt!==null;)if(r=Qt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Qt=n;else for(;Qt!==null;){switch(r=Qt,f=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Se=oa(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){ot(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)jp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Qt=n;break}Qt=r.return}}function uw(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xr(n,a),l&4&&Gl(5,a);break;case 1:if(Xr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){ot(a,a.return,w)}else{var d=oa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){ot(a,a.return,w)}}l&64&&rw(a),l&512&&Ql(a,a.return);break;case 3:if(Xr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Gy(n,r)}catch(w){ot(a,a.return,w)}}break;case 27:r===null&&l&4&&lw(a);case 26:case 5:Xr(n,a),r===null&&l&4&&aw(a),l&512&&Ql(a,a.return);break;case 12:Xr(n,a);break;case 13:Xr(n,a),l&4&&fw(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=O2.bind(null,a),W2(n,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){r=r!==null&&r.memoizedState!==null||St,d=vr;var f=St;vr=l,(St=r)&&!f?Wr(n,a,(a.subtreeFlags&8772)!==0):Xr(n,a),vr=d,St=f}break;case 30:break;default:Xr(n,a)}}function dw(n){var r=n.alternate;r!==null&&(n.alternate=null,dw(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ur(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,An=!1;function wr(n,r,a){for(a=a.child;a!==null;)hw(n,r,a),a=a.sibling}function hw(n,r,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:St||Pi(a,r),wr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Pi(a,r);var l=pt,d=An;is(a.type)&&(pt=a.stateNode,An=!1),wr(n,r,a),tc(a.stateNode),pt=l,An=d;break;case 5:St||Pi(a,r);case 6:if(l=pt,d=An,pt=null,wr(n,r,a),pt=l,An=d,pt!==null)if(An)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){ot(a,r,f)}else try{pt.removeChild(a.stateNode)}catch(f){ot(a,r,f)}break;case 18:pt!==null&&(An?(n=pt,e_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),cc(n)):e_(pt,a.stateNode));break;case 4:l=pt,d=An,pt=a.stateNode.containerInfo,An=!0,wr(n,r,a),pt=l,An=d;break;case 0:case 11:case 14:case 15:St||$r(2,a,r),St||$r(4,a,r),wr(n,r,a);break;case 1:St||(Pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sw(a,r,l)),wr(n,r,a);break;case 21:wr(n,r,a);break;case 22:St=(l=St)||a.memoizedState!==null,wr(n,r,a),St=l;break;default:wr(n,r,a)}}function fw(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cc(n)}catch(a){ot(r,r.return,a)}}function S2(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new cw),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new cw),r;default:throw Error(s(435,n.tag))}}function hp(n,r){var a=S2(n);r.forEach(function(l){var d=M2.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function On(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,w=r,b=w;e:for(;b!==null;){switch(b.tag){case 27:if(is(b.type)){pt=b.stateNode,An=!1;break e}break;case 5:pt=b.stateNode,An=!1;break e;case 3:case 4:pt=b.stateNode.containerInfo,An=!0;break e}b=b.return}if(pt===null)throw Error(s(160));hw(f,w,d),pt=null,An=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)pw(r,n),r=r.sibling}var fi=null;function pw(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:On(r,n),Mn(n),l&4&&($r(3,n,n.return),Gl(3,n),$r(5,n,n.return));break;case 1:On(r,n),Mn(n),l&512&&(St||a===null||Pi(a,a.return)),l&64&&vr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=fi;if(On(r,n),Mn(n),l&512&&(St||a===null||Pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ps]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),tn(f,l,a),f[Lt]=n,Tt(f),l=f;break e;case"link":var w=l_("link","href",d).get(l+(a.href||""));if(w){for(var b=0;b<w.length;b++)if(f=w[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(b,1);break t}}f=d.createElement(l),tn(f,l,a),d.head.appendChild(f);break;case"meta":if(w=l_("meta","content",d).get(l+(a.content||""))){for(b=0;b<w.length;b++)if(f=w[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(b,1);break t}}f=d.createElement(l),tn(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Lt]=n,Tt(f),l=f}n.stateNode=l}else c_(d,n.type,n.stateNode);else n.stateNode=o_(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?c_(d,n.type,n.stateNode):o_(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&lp(n,n.memoizedProps,a.memoizedProps)}break;case 27:On(r,n),Mn(n),l&512&&(St||a===null||Pi(a,a.return)),a!==null&&l&4&&lp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(On(r,n),Mn(n),l&512&&(St||a===null||Pi(a,a.return)),n.flags&32){d=n.stateNode;try{Yn(d,"")}catch(q){ot(n,n.return,q)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,lp(n,d,a!==null?a.memoizedProps:d)),l&1024&&(dp=!0);break;case 6:if(On(r,n),Mn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(q){ot(n,n.return,q)}}break;case 3:if(md=null,d=fi,fi=fd(r.containerInfo),On(r,n),fi=d,Mn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cc(r.containerInfo)}catch(q){ot(n,n.return,q)}dp&&(dp=!1,mw(n));break;case 4:l=fi,fi=fd(n.stateNode.containerInfo),On(r,n),Mn(n),fi=l;break;case 12:On(r,n),Mn(n);break;case 13:On(r,n),Mn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vp=at()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,hp(n,l)));break;case 22:d=n.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=vr,Y=St;if(vr=j||d,St=Y||R,On(r,n),St=Y,vr=j,Mn(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||R||vr||St||la(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){R=a=r;try{if(f=R.stateNode,d)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{b=R.stateNode;var Z=R.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){ot(R,R.return,q)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(q){ot(R,R.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hp(n,a))));break;case 19:On(r,n),Mn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,hp(n,l)));break;case 30:break;case 21:break;default:On(r,n),Mn(n)}}function Mn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(ow(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=cp(n);ed(n,f,d);break;case 5:var w=a.stateNode;a.flags&32&&(Yn(w,""),a.flags&=-33);var b=cp(n);ed(n,b,w);break;case 3:case 4:var R=a.stateNode.containerInfo,j=cp(n);up(n,j,R);break;default:throw Error(s(161))}}catch(Y){ot(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function mw(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;mw(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Xr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)uw(n,r.alternate,r),r=r.sibling}function la(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),la(r);break;case 1:Pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&sw(r,r.return,a),la(r);break;case 27:tc(r.stateNode);case 26:case 5:Pi(r,r.return),la(r);break;case 22:r.memoizedState===null&&la(r);break;case 30:la(r);break;default:la(r)}n=n.sibling}}function Wr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,f=r,w=f.flags;switch(f.tag){case 0:case 11:case 15:Wr(d,f,a),Gl(4,f);break;case 1:if(Wr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){ot(l,l.return,j)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Fy(R[d],b)}catch(j){ot(l,l.return,j)}}a&&w&64&&rw(f),Ql(f,f.return);break;case 27:lw(f);case 26:case 5:Wr(d,f,a),a&&l===null&&w&4&&aw(f),Ql(f,f.return);break;case 12:Wr(d,f,a);break;case 13:Wr(d,f,a),a&&w&4&&fw(d,f);break;case 22:f.memoizedState===null&&Wr(d,f,a),Ql(f,f.return);break;case 30:break;default:Wr(d,f,a)}r=r.sibling}}function fp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&kl(a))}function pp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&kl(n))}function Li(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)gw(n,r,a,l),r=r.sibling}function gw(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Li(n,r,a,l),d&2048&&Gl(9,r);break;case 1:Li(n,r,a,l);break;case 3:Li(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&kl(n)));break;case 12:if(d&2048){Li(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,w=f.id,b=f.onPostCommit;typeof b=="function"&&b(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){ot(r,r.return,R)}}else Li(n,r,a,l);break;case 13:Li(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,w=r.alternate,r.memoizedState!==null?f._visibility&2?Li(n,r,a,l):Kl(n,r):f._visibility&2?Li(n,r,a,l):(f._visibility|=2,lo(n,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&fp(w,r);break;case 24:Li(n,r,a,l),d&2048&&pp(r.alternate,r);break;default:Li(n,r,a,l)}}function lo(n,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=n,w=r,b=a,R=l,j=w.flags;switch(w.tag){case 0:case 11:case 15:lo(f,w,b,R,d),Gl(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?lo(f,w,b,R,d):Kl(f,w):(Y._visibility|=2,lo(f,w,b,R,d)),d&&j&2048&&fp(w.alternate,w);break;case 24:lo(f,w,b,R,d),d&&j&2048&&pp(w.alternate,w);break;default:lo(f,w,b,R,d)}r=r.sibling}}function Kl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:Kl(a,l),d&2048&&fp(l.alternate,l);break;case 24:Kl(a,l),d&2048&&pp(l.alternate,l);break;default:Kl(a,l)}r=r.sibling}}var Yl=8192;function co(n){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)yw(n),n=n.sibling}function yw(n){switch(n.tag){case 26:co(n),n.flags&Yl&&n.memoizedState!==null&&uA(fi,n.memoizedState,n.memoizedProps);break;case 5:co(n);break;case 3:case 4:var r=fi;fi=fd(n.stateNode.containerInfo),co(n),fi=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Yl,Yl=16777216,co(n),Yl=r):co(n));break;default:co(n)}}function vw(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function $l(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qt=l,_w(l,n)}vw(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ww(n),n=n.sibling}function ww(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&$r(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,td(n)):$l(n);break;default:$l(n)}}function td(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qt=l,_w(l,n)}vw(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$r(8,r,r.return),td(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,td(r));break;default:td(r)}n=n.sibling}}function _w(n,r){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qt=l;else e:for(a=n;Qt!==null;){l=Qt;var d=l.sibling,f=l.return;if(dw(l),l===a){Qt=null;break e}if(d!==null){d.return=f,Qt=d;break e}Qt=f}}}var x2={getCacheForType:function(n){var r=ln(zt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},R2=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Me=null,He=0,et=0,Vn=null,Zr=!1,uo=!1,mp=!1,_r=0,wt=0,Jr=0,ca=0,gp=0,ii=0,ho=0,Xl=null,Sn=null,yp=!1,vp=0,nd=1/0,id=null,es=null,en=0,ts=null,fo=null,po=0,wp=0,_p=null,bw=null,Wl=0,bp=null;function Pn(){if((Je&2)!==0&&He!==0)return He&-He;if(Q.T!==null){var n=eo;return n!==0?n:Ip()}return Pr()}function Ew(){ii===0&&(ii=(He&536870912)===0||Ye?al():536870912);var n=ni.current;return n!==null&&(n.flags|=32),ii}function Ln(n,r,a){(n===lt&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(mo(n,0),ns(n,He,ii,!1)),Zi(n,a),((Je&2)===0||n!==lt)&&(n===lt&&((Je&2)===0&&(ca|=a),wt===4&&ns(n,He,ii,!1)),Ui(n))}function Tw(n,r,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Vs(n,r),d=l?D2(n,r):Ap(n,r,!0),f=l;do{if(d===0){uo&&!l&&ns(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!I2(a)){d=Ap(n,r,!1),f=!1;continue}if(d===2){if(f=r,n.errorRecoveryDisabledLanes&f)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var b=n;d=Xl;var R=b.current.memoizedState.isDehydrated;if(R&&(mo(b,w).flags|=256),w=Ap(b,w,!1),w!==2){if(mp&&!R){b.errorRecoveryDisabledLanes|=f,ca|=f,d=4;break e}f=Sn,Sn=d,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}d=w}if(f=!1,d!==2)continue}}if(d===1){mo(n,0),ns(n,r,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,ii,!Zr);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=vp+300-at(),10<d)){if(ns(l,r,ii,!Zr),ka(l,0,!0)!==0)break e;l.timeoutHandle=Zw(Aw.bind(null,l,a,Sn,id,yp,r,ii,ca,ho,Zr,f,2,-0,0),d);break e}Aw(l,a,Sn,id,yp,r,ii,ca,ho,Zr,f,0,-0,0)}}break}while(!0);Ui(n)}function Aw(n,r,a,l,d,f,w,b,R,j,Y,Z,B,q){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(rc={stylesheets:null,count:0,unsuspend:cA},yw(r),Z=dA(),Z!==null)){n.cancelPendingCommit=Z(kw.bind(null,n,r,f,a,l,d,w,b,R,Y,1,B,q)),ns(n,f,w,!j);return}kw(n,r,f,a,l,d,w,b,R)}function I2(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!kn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(n,r,a,l){r&=~gp,r&=~ca,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var f=31-on(d),w=1<<f;l[f]=-1,d&=~w}a!==0&&Ti(n,a,r)}function rd(){return(Je&6)===0?(Zl(0),!1):!0}function Ep(){if(Me!==null){if(et===0)var n=Me.return;else n=Me,hr=ia=null,jf(n),ao=null,ql=0,n=Me;for(;n!==null;)iw(n.alternate,n),n=n.return;Me=null}}function mo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Q2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ep(),lt=n,Me=a=cr(n.current,null),He=r,et=0,Vn=null,Zr=!1,uo=Vs(n,r),mp=!1,ho=ii=gp=ca=Jr=wt=0,Sn=Xl=null,yp=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-on(l),f=1<<d;r|=n[d],l&=~f}return _r=r,xu(),a}function Sw(n,r){Ne=null,Q.H=Gu,r===Ol||r===Vu?(r=qy(),et=3):r===jy?(r=qy(),et=4):et=r===Hv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Me===null&&(wt=1,Xu(n,Zn(r,n.current)))}function xw(){var n=Q.H;return Q.H=Gu,n===null?Gu:n}function Rw(){var n=Q.A;return Q.A=x2,n}function Tp(){wt=4,Zr||(He&4194048)!==He&&ni.current!==null||(uo=!0),(Jr&134217727)===0&&(ca&134217727)===0||lt===null||ns(lt,He,ii,!1)}function Ap(n,r,a){var l=Je;Je|=2;var d=xw(),f=Rw();(lt!==n||He!==r)&&(id=null,mo(n,r)),r=!1;var w=wt;e:do try{if(et!==0&&Me!==null){var b=Me,R=Vn;switch(et){case 8:Ep(),w=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(r=!0);var j=et;if(et=0,Vn=null,go(n,b,R,j),a&&uo){w=0;break e}break;default:j=et,et=0,Vn=null,go(n,b,R,j)}}C2(),w=wt;break}catch(Y){Sw(n,Y)}while(!0);return r&&n.shellSuspendCounter++,hr=ia=null,Je=l,Q.H=d,Q.A=f,Me===null&&(lt=null,He=0,xu()),w}function C2(){for(;Me!==null;)Iw(Me)}function D2(n,r){var a=Je;Je|=2;var l=xw(),d=Rw();lt!==n||He!==r?(id=null,nd=at()+500,mo(n,r)):uo=Vs(n,r);e:do try{if(et!==0&&Me!==null){r=Me;var f=Vn;t:switch(et){case 1:et=0,Vn=null,go(n,r,f,1);break;case 2:case 9:if(zy(f)){et=0,Vn=null,Cw(r);break}r=function(){et!==2&&et!==9||lt!==n||(et=7),Ui(n)},f.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:zy(f)?(et=0,Vn=null,Cw(r)):(et=0,Vn=null,go(n,r,f,7));break;case 5:var w=null;switch(Me.tag){case 26:w=Me.memoizedState;case 5:case 27:var b=Me;if(!w||u_(w)){et=0,Vn=null;var R=b.sibling;if(R!==null)Me=R;else{var j=b.return;j!==null?(Me=j,sd(j)):Me=null}break t}}et=0,Vn=null,go(n,r,f,5);break;case 6:et=0,Vn=null,go(n,r,f,6);break;case 8:Ep(),wt=6;break e;default:throw Error(s(462))}}k2();break}catch(Y){Sw(n,Y)}while(!0);return hr=ia=null,Q.H=l,Q.A=d,Je=a,Me!==null?0:(lt=null,He=0,xu(),wt)}function k2(){for(;Me!==null&&!Ce();)Iw(Me)}function Iw(n){var r=tw(n.alternate,n,_r);n.memoizedProps=n.pendingProps,r===null?sd(n):Me=r}function Cw(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=$v(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=$v(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:jf(r);default:iw(a,r),r=Me=Dy(r,_r),r=tw(a,r,_r)}n.memoizedProps=n.pendingProps,r===null?sd(n):Me=r}function go(n,r,a,l){hr=ia=null,jf(r),ao=null,ql=0;var d=r.return;try{if(_2(n,d,r,a,He)){wt=1,Xu(n,Zn(a,n.current)),Me=null;return}}catch(f){if(d!==null)throw Me=d,f;wt=1,Xu(n,Zn(a,n.current)),Me=null;return}r.flags&32768?(Ye||l===1?n=!0:uo||(He&536870912)!==0?n=!1:(Zr=n=!0,(l===2||l===9||l===3||l===6)&&(l=ni.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dw(r,n)):sd(r)}function sd(n){var r=n;do{if((r.flags&32768)!==0){Dw(r,Zr);return}n=r.return;var a=E2(r.alternate,r,_r);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);wt===0&&(wt=5)}function Dw(n,r){do{var a=T2(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);wt=6,Me=null}function kw(n,r,a,l,d,f,w,b,R){n.cancelPendingCommit=null;do ad();while(en!==0);if((Je&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=pf,ll(n,a,f,w,b,R),n===lt&&(Me=lt=null,He=0),fo=r,ts=n,po=a,wp=f,_p=d,bw=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,V2(li,function(){return Pw(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=re.p,re.p=2,w=Je,Je|=4;try{A2(n,r,a)}finally{Je=w,re.p=d,Q.T=l}}en=1,Nw(),Ow(),Mw()}}function Nw(){if(en===1){en=0;var n=ts,r=fo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var d=Je;Je|=4;try{pw(r,n);var f=Pp,w=_y(n.containerInfo),b=f.focusedElem,R=f.selectionRange;if(w!==b&&b&&b.ownerDocument&&wy(b.ownerDocument.documentElement,b)){if(R!==null&&cf(b)){var j=R.start,Y=R.end;if(Y===void 0&&(Y=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(Y,b.value.length);else{var Z=b.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var q=B.getSelection(),Se=b.textContent.length,_e=Math.min(R.start,Se),rt=R.end===void 0?_e:Math.min(R.end,Se);!q.extend&&_e>rt&&(w=rt,rt=_e,_e=w);var P=vy(b,_e),k=vy(b,rt);if(P&&k&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var U=Z.createRange();U.setStart(P.node,P.offset),q.removeAllRanges(),_e>rt?(q.addRange(U),q.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),q.addRange(U))}}}}for(Z=[],q=b;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var X=Z[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}vd=!!Vp,Pp=Vp=null}finally{Je=d,re.p=l,Q.T=a}}n.current=r,en=2}}function Ow(){if(en===2){en=0;var n=ts,r=fo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var d=Je;Je|=4;try{uw(n,r.alternate,r)}finally{Je=d,re.p=l,Q.T=a}}en=3}}function Mw(){if(en===4||en===3){en=0,ut();var n=ts,r=fo,a=po,l=bw;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?en=5:(en=0,fo=ts=null,Vw(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(es=null),Na(a),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,d=re.p,re.p=2,Q.T=null;try{for(var f=n.onRecoverableError,w=0;w<l.length;w++){var b=l[w];f(b.value,{componentStack:b.stack})}}finally{Q.T=r,re.p=d}}(po&3)!==0&&ad(),Ui(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===bp?Wl++:(Wl=0,bp=n):Wl=0,Zl(0)}}function Vw(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,kl(r)))}function ad(n){return Nw(),Ow(),Mw(),Pw()}function Pw(){if(en!==5)return!1;var n=ts,r=wp;wp=0;var a=Na(po),l=Q.T,d=re.p;try{re.p=32>a?32:a,Q.T=null,a=_p,_p=null;var f=ts,w=po;if(en=0,fo=ts=null,po=0,(Je&6)!==0)throw Error(s(331));var b=Je;if(Je|=4,ww(f.current),gw(f,f.current,w,a),Je=b,Zl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(dt,f)}catch{}return!0}finally{re.p=d,Q.T=l,Vw(n,r)}}function Lw(n,r,a){r=Zn(a,r),r=Jf(n.stateNode,r,2),n=Gr(n,r,2),n!==null&&(Zi(n,2),Ui(n))}function ot(n,r,a){if(n.tag===3)Lw(n,n,a);else for(;r!==null;){if(r.tag===3){Lw(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){n=Zn(a,n),a=Bv(2),l=Gr(r,a,2),l!==null&&(qv(a,l,r,n),Zi(l,2),Ui(l));break}}r=r.return}}function Sp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new R2;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(mp=!0,d.add(a),n=N2.bind(null,n,r,a),r.then(n,n))}function N2(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(He&a)===a&&(wt===4||wt===3&&(He&62914560)===He&&300>at()-vp?(Je&2)===0&&mo(n,0):gp|=a,ho===He&&(ho=0)),Ui(n)}function Uw(n,r){r===0&&(r=ol()),n=Xa(n,r),n!==null&&(Zi(n,r),Ui(n))}function O2(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Uw(n,a)}function M2(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Uw(n,a)}function V2(n,r){return Qn(n,r)}var od=null,yo=null,xp=!1,ld=!1,Rp=!1,ua=0;function Ui(n){n!==yo&&n.next===null&&(yo===null?od=yo=n:yo=yo.next=n),ld=!0,xp||(xp=!0,L2())}function Zl(n,r){if(!Rp&&ld){Rp=!0;do for(var a=!1,l=od;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var w=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-on(42|n)+1)-1,f&=d&~(w&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,qw(l,f))}else f=He,f=ka(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Vs(l,f)||(a=!0,qw(l,f));l=l.next}while(a);Rp=!1}}function P2(){jw()}function jw(){ld=xp=!1;var n=0;ua!==0&&(G2()&&(n=ua),ua=0);for(var r=at(),a=null,l=od;l!==null;){var d=l.next,f=zw(l,r);f===0?(l.next=null,a===null?od=d:a.next=d,d===null&&(yo=a)):(a=l,(n!==0||(f&3)!==0)&&(ld=!0)),l=d}Zl(n)}function zw(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var w=31-on(f),b=1<<w,R=d[w];R===-1?((b&a)===0||(b&l)!==0)&&(d[w]=sl(b,r)):R<=r&&(n.expiredLanes|=b),f&=~b}if(r=lt,a=He,a=ka(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ei(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Vs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Ei(l),Na(a)){case 2:case 8:a=pn;break;case 32:a=li;break;case 268435456:a=yt;break;default:a=li}return l=Bw.bind(null,n),a=Qn(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Ei(l),n.callbackPriority=2,n.callbackNode=null,2}function Bw(n,r){if(en!==0&&en!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(ad()&&n.callbackNode!==a)return null;var l=He;return l=ka(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Tw(n,l,r),zw(n,at()),n.callbackNode!=null&&n.callbackNode===a?Bw.bind(null,n):null)}function qw(n,r){if(ad())return null;Tw(n,r,!0)}function L2(){K2(function(){(Je&6)!==0?Qn(Xi,P2):jw()})}function Ip(){return ua===0&&(ua=al()),ua}function Hw(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ua(""+n)}function Fw(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function U2(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Hw((d[Dt]||null).action),w=l.submitter;w&&(r=(r=w[Dt]||null)?Hw(r.formAction):w.getAttribute("formAction"),r!==null&&(f=r,w=null));var b=new ja("action","action",null,l,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var R=w?Fw(d,w):new FormData(d);Yf(a,{pending:!0,data:R,method:d.method,action:f},null,R)}}else typeof f=="function"&&(b.preventDefault(),R=w?Fw(d,w):new FormData(d),Yf(a,{pending:!0,data:R,method:d.method,action:f},f,R))},currentTarget:d}]})}}for(var Cp=0;Cp<ff.length;Cp++){var Dp=ff[Cp],j2=Dp.toLowerCase(),z2=Dp[0].toUpperCase()+Dp.slice(1);hi(j2,"on"+z2)}hi(Ty,"onAnimationEnd"),hi(Ay,"onAnimationIteration"),hi(Sy,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(i2,"onTransitionRun"),hi(r2,"onTransitionStart"),hi(s2,"onTransitionCancel"),hi(xy,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function Gw(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var w=l.length-1;0<=w;w--){var b=l[w],R=b.instance,j=b.currentTarget;if(b=b.listener,R!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=j;try{f(d)}catch(Y){$u(Y)}d.currentTarget=null,f=R}else for(w=0;w<l.length;w++){if(b=l[w],R=b.instance,j=b.currentTarget,b=b.listener,R!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=j;try{f(d)}catch(Y){$u(Y)}d.currentTarget=null,f=R}}}}function Ve(n,r){var a=r[ul];a===void 0&&(a=r[ul]=new Set);var l=n+"__bubble";a.has(l)||(Qw(r,n,2,!1),a.add(l))}function kp(n,r,a){var l=0;r&&(l|=4),Qw(a,n,l,r)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Np(n){if(!n[cd]){n[cd]=!0,dl.forEach(function(a){a!=="selectionchange"&&(B2.has(a)||kp(a,!1,n),kp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[cd]||(r[cd]=!0,kp("selectionchange",!1,r))}}function Qw(n,r,a,l){switch(g_(r)){case 2:var d=pA;break;case 8:d=mA;break;default:d=Qp}a=d.bind(null,r,a,n),d=void 0,!Xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Op(n,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var b=l.stateNode.containerInfo;if(b===d)break;if(w===4)for(w=l.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;b!==null;){if(w=Ji(b),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){l=f=w;continue e}b=b.parentNode}}l=l.return}du(function(){var j=f,Y=$n(a),Z=[];e:{var B=Ry.get(n);if(B!==void 0){var q=ja,Se=n;switch(n){case"keypress":if(Ci(a)===0)break e;case"keydown":case"keyup":q=Ga;break;case"focusin":Se="focus",q=qa;break;case"focusout":Se="blur",q=qa;break;case"beforeblur":case"afterblur":q=qa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=wu;break;case Ty:case Ay:case Sy:q=Ha;break;case xy:q=bu;break;case"scroll":case"scrollend":q=hu;break;case"wheel":q=Qa;break;case"copy":case"cut":case"paste":q=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Tl;break;case"toggle":case"beforetoggle":q=Tu}var _e=(r&4)!==0,rt=!_e&&(n==="scroll"||n==="scrollend"),P=_e?B!==null?B+"Capture":null:B;_e=[];for(var k=j,U;k!==null;){var X=k;if(U=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||U===null||P===null||(X=Hs(k,P),X!=null&&_e.push(ec(k,X,U))),rt)break;k=k.return}0<_e.length&&(B=new q(B,Se,null,a,Y),Z.push({event:B,listeners:_e}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&a!==ir&&(Se=a.relatedTarget||a.fromElement)&&(Ji(Se)||Se[Kn]))break e;if((q||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Se=a.relatedTarget||a.toElement,q=j,Se=Se?Ji(Se):null,Se!==null&&(rt=c(Se),_e=Se.tag,Se!==rt||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(q=null,Se=j),q!==Se)){if(_e=Wn,X="onMouseLeave",P="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Tl,X="onPointerLeave",P="onPointerEnter",k="pointer"),rt=q==null?B:Si(q),U=Se==null?B:Si(Se),B=new _e(X,k+"leave",q,a,Y),B.target=rt,B.relatedTarget=U,X=null,Ji(Y)===j&&(_e=new _e(P,k+"enter",Se,a,Y),_e.target=U,_e.relatedTarget=rt,X=_e),rt=X,q&&Se)t:{for(_e=q,P=Se,k=0,U=_e;U;U=vo(U))k++;for(U=0,X=P;X;X=vo(X))U++;for(;0<k-U;)_e=vo(_e),k--;for(;0<U-k;)P=vo(P),U--;for(;k--;){if(_e===P||P!==null&&_e===P.alternate)break t;_e=vo(_e),P=vo(P)}_e=null}else _e=null;q!==null&&Kw(Z,B,q,_e,!1),Se!==null&&rt!==null&&Kw(Z,rt,Se,_e,!0)}}e:{if(B=j?Si(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var he=hy;else if(jt(B))if(fy)he=e2;else{he=ZT;var Oe=WT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&gl(j.elementType)&&(he=hy):he=JT;if(he&&(he=he(n,j))){lr(Z,he,a,Y);break e}Oe&&Oe(n,B,j),n==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&zr(B,"number",B.value)}switch(Oe=j?Si(j):window,n){case"focusin":(jt(Oe)||Oe.contentEditable==="true")&&(Ka=Oe,uf=j,xl=null);break;case"focusout":xl=uf=Ka=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,by(Z,a,Y);break;case"selectionchange":if(n2)break;case"keydown":case"keyup":by(Z,a,Y)}var me;if(Ni)e:{switch(n){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Be?H(n,a)&&(be="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(Be||be!=="onCompositionStart"?be==="onCompositionEnd"&&Be&&(me=vl()):(Ii=Y,Br="value"in Ii?Ii.value:Ii.textContent,Be=!0)),Oe=ud(j,be),0<Oe.length&&(be=new bl(be,n,null,a,Y),Z.push({event:be,listeners:Oe}),me?be.data=me:(me=se(a),me!==null&&(be.data=me)))),(me=m?Ut(n,a):qe(n,a))&&(be=ud(j,"onBeforeInput"),0<be.length&&(Oe=new bl("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Oe,listeners:be}),Oe.data=me)),U2(Z,n,j,a,Y)}Gw(Z,r)})}function ec(n,r,a){return{instance:n,listener:r,currentTarget:a}}function ud(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Hs(n,a),d!=null&&l.unshift(ec(n,d,f)),d=Hs(n,r),d!=null&&l.push(ec(n,d,f))),n.tag===3)return l;n=n.return}return[]}function vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Kw(n,r,a,l,d){for(var f=r._reactName,w=[];a!==null&&a!==l;){var b=a,R=b.alternate,j=b.stateNode;if(b=b.tag,R!==null&&R===l)break;b!==5&&b!==26&&b!==27||j===null||(R=j,d?(j=Hs(a,f),j!=null&&w.unshift(ec(a,j,R))):d||(j=Hs(a,f),j!=null&&w.push(ec(a,j,R)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var q2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function Yw(n){return(typeof n=="string"?n:""+n).replace(q2,`
`).replace(H2,"")}function $w(n,r){return r=Yw(r),Yw(n)===r}function dd(){}function it(n,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Yn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Yn(n,""+l);break;case"className":xi(n,"class",l);break;case"tabIndex":xi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(n,a,l);break;case"style":ml(n,l,f);break;case"data":if(r!=="object"){xi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&it(n,r,"name",d.name,d,null),it(n,r,"formEncType",d.formEncType,d,null),it(n,r,"formMethod",d.formMethod,d,null),it(n,r,"formTarget",d.formTarget,d,null)):(it(n,r,"encType",d.encType,d,null),it(n,r,"method",d.method,d,null),it(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ua(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=dd);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ua(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),jr(n,"popover",l);break;case"xlinkActuate":Wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,jr(n,a,l))}}function Mp(n,r,a,l,d,f){switch(a){case"style":ml(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Yn(n,l):(typeof l=="number"||typeof l=="bigint")&&Yn(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=dd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=n[Dt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):jr(n,a,l)}}}function tn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var w=a[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,f,w,a,null)}}d&&it(n,r,"srcSet",a.srcSet,a,null),l&&it(n,r,"src",a.src,a,null);return;case"input":Ve("invalid",n);var b=f=w=d=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":d=Y;break;case"type":w=Y;break;case"checked":R=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:it(n,r,l,Y,a,null)}}zs(n,f,b,R,j,w,d,!1),La(n);return;case"select":Ve("invalid",n),l=w=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":w=b;break;case"multiple":l=b;default:it(n,r,d,b,a,null)}r=f,a=w,n.multiple=!!l,r!=null?nr(n,!!l,r,!1):a!=null&&nr(n,!!l,a,!0);return;case"textarea":Ve("invalid",n),f=d=l=null;for(w in a)if(a.hasOwnProperty(w)&&(b=a[w],b!=null))switch(w){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:it(n,r,w,b,a,null)}Bs(n,l,d,f),La(n);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(n,r,R,l,a,null)}return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Ve(Jl[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,j,l,a,null)}return;default:if(gl(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Mp(n,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&it(n,r,b,l,a,null))}function F2(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,w=null,b=null,R=null,j=null,Y=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(q)||it(n,r,q,null,l,Z)}}for(var B in l){var q=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(q!=null||Z!=null))switch(B){case"type":f=q;break;case"name":d=q;break;case"checked":j=q;break;case"defaultChecked":Y=q;break;case"value":w=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Z&&it(n,r,B,q,l,Z)}}Dn(n,w,b,R,j,Y,f,d);return;case"select":q=w=b=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||it(n,r,f,null,l,R)}for(d in l)if(f=l[d],R=a[d],l.hasOwnProperty(d)&&(f!=null||R!=null))switch(d){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":w=f;default:f!==R&&it(n,r,d,f,l,R)}r=b,a=w,l=q,B!=null?nr(n,!!a,B,!1):!!l!=!!a&&(r!=null?nr(n,!!a,r,!0):nr(n,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(n,r,b,null,l,d)}for(w in l)if(d=l[w],f=a[w],l.hasOwnProperty(w)&&(d!=null||f!=null))switch(w){case"value":B=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&it(n,r,w,d,l,f)}tt(n,B,q);return;case"option":for(var Se in a)if(B=a[Se],a.hasOwnProperty(Se)&&B!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:it(n,r,Se,null,l,B)}for(R in l)if(B=l[R],q=a[R],l.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:it(n,r,R,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&it(n,r,_e,null,l,B);for(j in l)if(B=l[j],q=a[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:it(n,r,j,B,l,q)}return;default:if(gl(r)){for(var rt in a)B=a[rt],a.hasOwnProperty(rt)&&B!==void 0&&!l.hasOwnProperty(rt)&&Mp(n,r,rt,void 0,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B===void 0&&q===void 0||Mp(n,r,Y,B,l,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&it(n,r,P,null,l,B);for(Z in l)B=l[Z],q=a[Z],!l.hasOwnProperty(Z)||B===q||B==null&&q==null||it(n,r,Z,B,l,q)}var Vp=null,Pp=null;function hd(n){return n.nodeType===9?n:n.ownerDocument}function Xw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ww(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Lp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Up=null;function G2(){var n=window.event;return n&&n.type==="popstate"?n===Up?!1:(Up=n,!0):(Up=null,!1)}var Zw=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,Jw=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jw<"u"?function(n){return Jw.resolve(null).then(n).catch(Y2)}:Zw;function Y2(n){setTimeout(function(){throw n})}function is(n){return n==="head"}function e_(n,r){var a=r,l=0,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var w=n.ownerDocument;if(a&1&&tc(w.documentElement),a&2&&tc(w.body),a&4)for(a=w.head,tc(a),w=a.firstChild;w;){var b=w.nextSibling,R=w.nodeName;w[Ps]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=b}}if(d===0){n.removeChild(f),cc(r);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);cc(r)}function jp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jp(a),Ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function $2(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ps])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=pi(n.nextSibling),n===null)break}return null}function X2(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=pi(n.nextSibling),n===null))return null;return n}function zp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function W2(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function pi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Bp=null;function t_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function n_(n,r,a){switch(r=hd(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function tc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ur(n)}var ri=new Map,i_=new Set;function fd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var br=re.d;re.d={f:Z2,r:J2,D:eA,C:tA,L:nA,m:iA,X:sA,S:rA,M:aA};function Z2(){var n=br.f(),r=rd();return n||r}function J2(n){var r=Ai(n);r!==null&&r.tag===5&&r.type==="form"?Tv(r):br.r(n)}var wo=typeof document>"u"?null:document;function r_(n,r,a){var l=wo;if(l&&typeof r=="string"&&r){var d=kt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),i_.has(d)||(i_.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),tn(r,"link",n),Tt(r),l.head.appendChild(r)))}}function eA(n){br.D(n),r_("dns-prefetch",n,null)}function tA(n,r){br.C(n,r),r_("preconnect",n,r)}function nA(n,r,a){br.L(n,r,a);var l=wo;if(l&&n&&r){var d='link[rel="preload"][as="'+kt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+kt(a.imageSizes)+'"]')):d+='[href="'+kt(n)+'"]';var f=d;switch(r){case"style":f=_o(n);break;case"script":f=bo(n)}ri.has(f)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ri.set(f,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(nc(f))||r==="script"&&l.querySelector(ic(f))||(r=l.createElement("link"),tn(r,"link",n),Tt(r),l.head.appendChild(r)))}}function iA(n,r){br.m(n,r);var a=wo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=bo(n)}if(!ri.has(f)&&(n=_({rel:"modulepreload",href:n},r),ri.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ic(f)))return}l=a.createElement("link"),tn(l,"link",n),Tt(l),a.head.appendChild(l)}}}function rA(n,r,a){br.S(n,r,a);var l=wo;if(l&&n){var d=mn(l).hoistableStyles,f=_o(n);r=r||"default";var w=d.get(f);if(!w){var b={loading:0,preload:null};if(w=l.querySelector(nc(f)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ri.get(f))&&qp(n,a);var R=w=l.createElement("link");Tt(R),tn(R,"link",n),R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,pd(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:b},d.set(f,w)}}}function sA(n,r){br.X(n,r);var a=wo;if(a&&n){var l=mn(a).hoistableScripts,d=bo(n),f=l.get(d);f||(f=a.querySelector(ic(d)),f||(n=_({src:n,async:!0},r),(r=ri.get(d))&&Hp(n,r),f=a.createElement("script"),Tt(f),tn(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function aA(n,r){br.M(n,r);var a=wo;if(a&&n){var l=mn(a).hoistableScripts,d=bo(n),f=l.get(d);f||(f=a.querySelector(ic(d)),f||(n=_({src:n,async:!0,type:"module"},r),(r=ri.get(d))&&Hp(n,r),f=a.createElement("script"),Tt(f),tn(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function s_(n,r,a,l){var d=(d=Ae.current)?fd(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=mn(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=_o(a.href);var f=mn(d).hoistableStyles,w=f.get(n);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,w),(f=d.querySelector(nc(n)))&&!f._p&&(w.instance=f,w.state.loading=5),ri.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ri.set(n,a),f||oA(d,n,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=mn(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function _o(n){return'href="'+kt(n)+'"'}function nc(n){return'link[rel="stylesheet"]['+n+"]"}function a_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function oA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tn(r,"link",a),Tt(r),n.head.appendChild(r))}function bo(n){return'[src="'+kt(n)+'"]'}function ic(n){return"script[async]"+n}function o_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return r.instance=l,Tt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Tt(l),tn(l,"style",d),pd(l,a.precedence,n),r.instance=l;case"stylesheet":d=_o(a.href);var f=n.querySelector(nc(d));if(f)return r.state.loading|=4,r.instance=f,Tt(f),f;l=a_(a),(d=ri.get(d))&&qp(l,d),f=(n.ownerDocument||n).createElement("link"),Tt(f);var w=f;return w._p=new Promise(function(b,R){w.onload=b,w.onerror=R}),tn(f,"link",l),r.state.loading|=4,pd(f,a.precedence,n),r.instance=f;case"script":return f=bo(a.src),(d=n.querySelector(ic(f)))?(r.instance=d,Tt(d),d):(l=a,(d=ri.get(f))&&(l=_({},a),Hp(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),Tt(d),tn(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,pd(l,a.precedence,n));return r.instance}function pd(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,w=0;w<l.length;w++){var b=l[w];if(b.dataset.precedence===r)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function qp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Hp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var md=null;function l_(n,r,a){if(md===null){var l=new Map,d=md=new Map;d.set(a,l)}else d=md,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Ps]||f[Lt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(r)||"";w=n+w;var b=l.get(w);b?b.push(f):l.set(w,[f])}}return l}function c_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function lA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function u_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var rc=null;function cA(){}function uA(n,r,a){if(rc===null)throw Error(s(475));var l=rc;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=_o(a.href),f=n.querySelector(nc(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=gd.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=f,Tt(f);return}f=n.ownerDocument||n,a=a_(a),(d=ri.get(d))&&qp(a,d),f=f.createElement("link"),Tt(f);var w=f;w._p=new Promise(function(b,R){w.onload=b,w.onerror=R}),tn(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=gd.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function dA(){if(rc===null)throw Error(s(475));var n=rc;return n.stylesheets&&n.count===0&&Fp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Fp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function gd(){if(this.count--,this.count===0){if(this.stylesheets)Fp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yd=null;function Fp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yd=new Map,r.forEach(hA,n),yd=null,gd.call(n))}function hA(n,r){if(!(r.state.loading&4)){var a=yd.get(n);if(a)var l=a.get(null);else{a=new Map,yd.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var w=d[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}d=r.instance,w=d.getAttribute("data-precedence"),f=a.get(w)||l,f===l&&a.set(null,d),a.set(w,d),this.count++,l=gd.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var sc={$$typeof:ie,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function fA(n,r,a,l,d,f,w,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function d_(n,r,a,l,d,f,w,b,R,j,Y,Z){return n=new fA(n,r,a,w,b,R,j,Z),r=1,f===!0&&(r|=24),f=Nn(3,null,null,r),n.current=f,f.stateNode=n,r=Sf(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Cf(f),n}function h_(n){return n?(n=Wa,n):Wa}function f_(n,r,a,l,d,f){d=h_(d),l.context===null?l.context=d:l.pendingContext=d,l=Fr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gr(n,l,r),a!==null&&(Ln(a,n,r),Vl(a,n,r))}function p_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Gp(n,r){p_(n,r),(n=n.alternate)&&p_(n,r)}function m_(n){if(n.tag===13){var r=Xa(n,67108864);r!==null&&Ln(r,n,67108864),Gp(n,67108864)}}var vd=!0;function pA(n,r,a,l){var d=Q.T;Q.T=null;var f=re.p;try{re.p=2,Qp(n,r,a,l)}finally{re.p=f,Q.T=d}}function mA(n,r,a,l){var d=Q.T;Q.T=null;var f=re.p;try{re.p=8,Qp(n,r,a,l)}finally{re.p=f,Q.T=d}}function Qp(n,r,a,l){if(vd){var d=Kp(l);if(d===null)Op(n,r,l,wd,a),y_(n,l);else if(yA(d,n,r,a,l))l.stopPropagation();else if(y_(n,l),r&4&&-1<gA.indexOf(n)){for(;d!==null;){var f=Ai(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=ci(f.pendingLanes);if(w!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;w;){var R=1<<31-on(w);b.entanglements[1]|=R,w&=~R}Ui(f),(Je&6)===0&&(nd=at()+500,Zl(0))}}break;case 13:b=Xa(f,2),b!==null&&Ln(b,f,2),rd(),Gp(f,2)}if(f=Kp(l),f===null&&Op(n,r,l,wd,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Op(n,r,l,null,a)}}function Kp(n){return n=$n(n),Yp(n)}var wd=null;function Yp(n){if(wd=null,n=Ji(n),n!==null){var r=c(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return wd=n,null}function g_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case Xi:return 2;case pn:return 8;case li:case ks:return 32;case yt:return 268435456;default:return 32}default:return 32}}var $p=!1,rs=null,ss=null,as=null,ac=new Map,oc=new Map,os=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(n,r){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(r.pointerId)}}function lc(n,r,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Ai(r),r!==null&&m_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function yA(n,r,a,l,d){switch(r){case"focusin":return rs=lc(rs,n,r,a,l,d),!0;case"dragenter":return ss=lc(ss,n,r,a,l,d),!0;case"mouseover":return as=lc(as,n,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return ac.set(f,lc(ac.get(f)||null,n,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,oc.set(f,lc(oc.get(f)||null,n,r,a,l,d)),!0}return!1}function v_(n){var r=Ji(n.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,ru(n.priority,function(){if(a.tag===13){var l=Pn();l=Vr(l);var d=Xa(a,l);d!==null&&Ln(d,a,l),Gp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _d(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Kp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ir=l,a.target.dispatchEvent(l),ir=null}else return r=Ai(a),r!==null&&m_(r),n.blockedOn=a,!1;r.shift()}return!0}function w_(n,r,a){_d(n)&&a.delete(r)}function vA(){$p=!1,rs!==null&&_d(rs)&&(rs=null),ss!==null&&_d(ss)&&(ss=null),as!==null&&_d(as)&&(as=null),ac.forEach(w_),oc.forEach(w_)}function bd(n,r){n.blockedOn===r&&(n.blockedOn=null,$p||($p=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vA)))}var Ed=null;function __(n){Ed!==n&&(Ed=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ed===n&&(Ed=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(Yp(l||a)===null)continue;break}var f=Ai(a);f!==null&&(n.splice(r,3),r-=3,Yf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function cc(n){function r(R){return bd(R,n)}rs!==null&&bd(rs,n),ss!==null&&bd(ss,n),as!==null&&bd(as,n),ac.forEach(r),oc.forEach(r);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)v_(a),a.blockedOn===null&&os.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],w=d[Dt]||null;if(typeof f=="function")w||__(a);else if(w){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,w=f[Dt]||null)b=w.formAction;else if(Yp(d)!==null)continue}else b=w.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),__(a)}}}function Xp(n){this._internalRoot=n}Td.prototype.render=Xp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Pn();f_(a,l,n,r,null,null)},Td.prototype.unmount=Xp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;f_(n.current,2,null,n,null,null),rd(),r[Kn]=null}};function Td(n){this._internalRoot=n}Td.prototype.unstable_scheduleHydration=function(n){if(n){var r=Pr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,n),a===0&&v_(n)}};var b_=e.version;if(b_!=="19.1.1")throw Error(s(527,b_,"19.1.1"));re.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var wA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{dt=Ad.inject(wA),Ze=Ad}catch{}}return dc.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=Lv,f=Uv,w=jv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=d_(n,1,!1,null,null,a,l,d,f,w,b,null),n[Kn]=r.current,Np(n),new Xp(r)},dc.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=Lv,w=Uv,b=jv,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=d_(n,1,!0,r,a??null,l,d,f,w,b,R,j),r.context=h_(null),a=r.current,l=Pn(),l=Vr(l),d=Fr(l),d.callback=null,Gr(a,d,l),a=l,r.current.lanes=a,Zi(r,a),Ui(r),n[Kn]=r.current,Np(n),new Td(r)},dc.version="19.1.1",dc}var k_;function CA(){if(k_)return Jp.exports;k_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jp.exports=IA(),Jp.exports}var DA=CA();const kA=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NA=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],h=i[t++],p=i[t++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=c>>2,T=(c&3)<<4|p>>4;let A=(p&15)<<2|y>>6,z=y&63;g||(z=64,h||(A=64)),s.push(t[_],t[T],t[A],t[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Tb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):NA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||p==null||y==null||T==null)throw new OA;const A=c<<2|p>>4;if(s.push(A),y!==64){const z=p<<4&240|y>>2;if(s.push(z),T!==64){const F=y<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(i){const e=Tb(i);return Ab.encodeByteArray(e,!0)},Qd=function(i){return MA(i).replace(/\./g,"")},Sb=function(i){try{return Ab.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=()=>VA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof N_>"u")return;const i=N_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Sb(i[1]);return e&&JSON.parse(e)},Th=()=>{try{return kA()||PA()||LA()||UA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},xb=i=>Th()?.emulatorHosts?.[i],jA=i=>{const e=xb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Rb=()=>Th()?.config,Ib=i=>Th()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Qd(JSON.stringify(t)),Qd(JSON.stringify(h)),""].join(".")}const vc={};function qA(){const i={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?i.emulator.push(e):i.prod.push(e);return i}function HA(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let O_=!1;function Db(i,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||vc[i]===e||vc[i]||O_)return;vc[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=qA().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,z){A.setAttribute("width","24"),A.setAttribute("id",z),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{O_=!0,h()},A}function _(A,z){A.setAttribute("id",z),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=HA(s),z=t("text"),F=document.getElementById(z)||document.createElement("span"),ee=t("learnmore"),K=document.getElementById(ee)||document.createElement("a"),ne=t("preprendIcon"),ae=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;p(ie),_(K,ee);const Re=y();g(ae,ne),ie.append(ae,F,K,Re),document.body.appendChild(ie)}c?(F.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function GA(){const i=Th()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XA(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="FirebaseError";class Nr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=JA,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?eS(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Nr(o,p,s)}}function eS(i,e){return i.replace(tS,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const tS=/\{\$([^}]+)}/g;function nS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function wa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=i[o],h=e[o];if(M_(c)&&M_(h)){if(!wa(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function M_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function fc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function iS(i,e){const t=new rS(i,e);return t.subscribe.bind(t)}class rS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");sS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i){return i&&i._delegate?i._delegate:i}class _a{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new zA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lS(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:oS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(i){return i===ha?void 0:i}function lS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const uS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},dS=Le.INFO,hS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},fS=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=hS[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=dS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const pS=(i,e)=>e.some(t=>i instanceof t);let V_,P_;function mS(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,vm=new WeakMap,Nb=new WeakMap,rm=new WeakMap,Xm=new WeakMap;function yS(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{t(ys(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&kb.set(t,i)}).catch(()=>{}),Xm.set(e,i),e}function vS(i){if(vm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});vm.set(i,e)}let wm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Nb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function wS(i){wm=i(wm)}function _S(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(sm(this),e,...t);return Nb.set(s,e.sort?e.sort():[e]),ys(s)}:gS().includes(i)?function(...e){return i.apply(sm(this),e),ys(kb.get(this))}:function(...e){return ys(i.apply(sm(this),e))}}function bS(i){return typeof i=="function"?_S(i):(i instanceof IDBTransaction&&vS(i),pS(i,mS())?new Proxy(i,wm):i)}function ys(i){if(i instanceof IDBRequest)return yS(i);if(rm.has(i))return rm.get(i);const e=bS(i);return e!==i&&(rm.set(i,e),Xm.set(e,i)),e}const sm=i=>Xm.get(i);function ES(i,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),p=ys(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ys(h.result),g.oldVersion,g.newVersion,ys(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const TS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],am=new Map;function L_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=AS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||TS.includes(t)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return am.set(e,c),c}wS(i=>({...i,get:(e,t,s)=>L_(e,t)||i.get(e,t,s),has:(e,t)=>!!L_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function xS(i){return i.getComponent()?.type==="VERSION"}const _m="@firebase/app",U_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new $m("@firebase/app"),RS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",DS="@firebase/app-check-compat",kS="@firebase/app-check",NS="@firebase/auth",OS="@firebase/auth-compat",MS="@firebase/database",VS="@firebase/data-connect",PS="@firebase/database-compat",LS="@firebase/functions",US="@firebase/functions-compat",jS="@firebase/installations",zS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",FS="@firebase/performance-compat",GS="@firebase/remote-config",QS="@firebase/remote-config-compat",KS="@firebase/storage",YS="@firebase/storage-compat",$S="@firebase/firestore",XS="@firebase/ai",WS="@firebase/firestore-compat",ZS="firebase",JS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",ex={[_m]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[kS]:"fire-app-check",[DS]:"fire-app-check-compat",[NS]:"fire-auth",[OS]:"fire-auth-compat",[MS]:"fire-rtdb",[VS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[LS]:"fire-fn",[US]:"fire-fn-compat",[jS]:"fire-iid",[zS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[FS]:"fire-perf-compat",[GS]:"fire-rc",[QS]:"fire-rc-compat",[KS]:"fire-gcs",[YS]:"fire-gcs-compat",[$S]:"fire-fst",[WS]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,tx=new Map,Em=new Map;function j_(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Mo(i){const e=i.name;if(Em.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,i);for(const t of Sc.values())j_(t,i);for(const t of tx.values())j_(t,i);return!0}function Wm(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Rn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Lc("app","Firebase",nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=JS;function Ob(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw vs.create("bad-app-name",{appName:String(o)});if(t||(t=Rb()),!t)throw vs.create("no-options");const c=Sc.get(o);if(c){if(wa(t,c.options)&&wa(s,c.config))return c;throw vs.create("duplicate-app",{appName:o})}const h=new cS(o);for(const g of Em.values())h.addComponent(g);const p=new ix(t,s,h);return Sc.set(o,p),p}function Mb(i=bm){const e=Sc.get(i);if(!e&&i===bm&&Rb())return Ob();if(!e)throw vs.create("no-app",{appName:i});return e}function rx(){return Array.from(Sc.values())}function ws(i,e,t){let s=ex[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(h.join(" "));return}Mo(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebase-heartbeat-database",ax=1,xc="firebase-heartbeat-store";let om=null;function Vb(){return om||(om=ES(sx,ax,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(xc)}catch(t){console.warn(t)}}}}).catch(i=>{throw vs.create("idb-open",{originalErrorMessage:i.message})})),om}async function ox(i){try{const t=(await Vb()).transaction(xc),s=await t.objectStore(xc).get(Pb(i));return await t.done,s}catch(e){if(e instanceof Nr)Rr.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function z_(i,e){try{const s=(await Vb()).transaction(xc,"readwrite");await s.objectStore(xc).put(e,Pb(i)),await s.done}catch(t){if(t instanceof Nr)Rr.warn(t.message);else{const s=vs.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(s.message)}}}function Pb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=1024,cx=30;class ux{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>cx){const o=fx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B_(),{heartbeatsToSend:t,unsentEntries:s}=dx(this._heartbeatsCache.heartbeats),o=Qd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function B_(){return new Date().toISOString().substring(0,10)}function dx(i,e=lx){const t=[];let s=i.slice();for(const o of i){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),q_(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),q_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ox(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function q_(i){return Qd(JSON.stringify({version:2,heartbeats:i})).length}function fx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i){Mo(new _a("platform-logger",e=>new SS(e),"PRIVATE")),Mo(new _a("heartbeat",e=>new ux(e),"PRIVATE")),ws(_m,U_,i),ws(_m,U_,"esm2020"),ws("fire-js","")}px("");function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mx=Lb,Ub=new Lc("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new $m("@firebase/auth");function gx(i,...e){Kd.logLevel<=Le.WARN&&Kd.warn(`Auth (${Ko}): ${i}`,...e)}function Md(i,...e){Kd.logLevel<=Le.ERROR&&Kd.error(`Auth (${Ko}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(i,...e){throw Jm(i,...e)}function yi(i,...e){return Jm(i,...e)}function Zm(i,e,t){const s={...mx(),[e]:t};return new Lc("auth","Firebase",s).create(e,{appName:i.name})}function Bi(i){return Zm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jb(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&si(i,"argument-error"),Zm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jm(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return Ub.create(i,...e)}function Te(i,e,...t){if(!i)throw Jm(e,...t)}function Tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Md(e),new Error(e)}function Ir(i,e){i||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){return typeof self<"u"&&self.location?.href||""}function yx(){return H_()==="http:"||H_()==="https:"}function H_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yx()||KA()||"connection"in navigator)?navigator.onLine:!0}function wx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=FA()||YA()}get(){return vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i,e){Ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ex=new jc(3e4,6e4);function Or(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Yi(i,e,t,s,o={}){return Bb(i,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=Uc({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return QA()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Qo(i.emulatorConfig.host)&&(y.credentials="include"),zb.fetch()(await qb(i,i.config.apiHost,t,p),y)})}async function Bb(i,e,t){i._canInitEmulator=!1;const s={..._x,...e};try{const o=new Ax(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Sd(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Sd(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Sd(i,"user-disabled",h);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Zm(i,_,y);si(i,_)}}catch(o){if(o instanceof Nr)throw o;si(i,"network-request-failed",{message:String(o)})}}async function zc(i,e,t,s,o={}){const c=await Yi(i,e,t,s,o);return"mfaPendingCredential"in c&&si(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function qb(i,e,t,s){const o=`${e}${t}?${s}`,c=i,h=c.config.emulator?eg(i.config,o):`${i.config.apiScheme}://${o}`;return bx.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function Tx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ax{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),Ex.get())})}}function Sd(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=yi(i,e,s);return o.customData._tokenResponse=t,o}function F_(i){return i!==void 0&&i.enterprise!==void 0}class Sx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Tx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xx(i,e){return Yi(i,"GET","/v2/recaptchaConfig",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(i,e){return Yi(i,"POST","/v1/accounts:delete",e)}async function Yd(i,e){return Yi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ix(i,e=!1){const t=It(i),s=await t.getIdToken(e),o=tg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:wc(lm(o.auth_time)),issuedAtTime:wc(lm(o.iat)),expirationTime:wc(lm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(i){return Number(i)*1e3}function tg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const o=Sb(t);return o?JSON.parse(o):(Md("Failed to decode base64 JWT payload"),null)}catch(o){return Md("Caught error parsing JWT payload as JSON",o?.toString()),null}}function G_(i){const e=tg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Nr&&Cx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Cx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(i){const e=i.auth,t=await i.getIdToken(),s=await Vo(i,Yd(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?Hb(o.providerUserInfo):[],h=Nx(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function kx(i){const e=It(i);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Hb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(i,e){const t=await Bb(i,{},async()=>{const s=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await qb(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&Qo(i.emulatorConfig.host)&&(g.credentials="include"),zb.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Mx(i,e){return Yi(i,"POST","/v2/accounts:revokeToken",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=G_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await Ox(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,h=new Io;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ix(this,e)}reload(){return kx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await $d(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Vo(this,Rx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:z,providerData:F,stsTokenManager:ee}=t;Te(T&&ee,e,"internal-error");const K=Io.fromJSON(this.name,ee);Te(typeof T=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof z=="boolean",e,"internal-error"),cs(c,e.name),cs(h,e.name),cs(p,e.name),cs(g,e.name),cs(y,e.name),cs(_,e.name);const ne=new gi({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:z,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:K,createdAt:y,lastLoginAt:_});return F&&Array.isArray(F)&&(ne.providerData=F.map(ae=>({...ae}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,t,s=!1){const o=new Io;o.updateFromServerResponse(t);const c=new gi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $d(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Hb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new Io;p.updateFromIdToken(s);const g=new gi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function Ar(i){Ir(i instanceof Function,"Expected a class definition");let e=Q_.get(i);return e?(Ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Q_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fb.type="NONE";const K_=Fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(i,e,t){return`firebase:${i}:${e}:${t}`}class Co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Vd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vd("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yd(this.auth,{idToken:e}).catch(()=>{});return t?gi._fromGetAccountInfoResponse(this.auth,t,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Co(Ar(K_),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ar(K_);const h=Vd(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const _=await y._get(h);if(_){let T;if(typeof _=="string"){const A=await Yd(e,{idToken:_}).catch(()=>{});if(!A)break;T=await gi._fromGetAccountInfoResponse(e,A,_)}else T=gi._fromJSON(e,_);y!==c&&(p=T),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Co(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if(Wb(e))return"Webos";if(Qb(e))return"Safari";if((e.includes("chrome/")||Kb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function Gb(i=hn()){return/firefox\//i.test(i)}function Qb(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kb(i=hn()){return/crios\//i.test(i)}function Yb(i=hn()){return/iemobile/i.test(i)}function $b(i=hn()){return/android/i.test(i)}function Xb(i=hn()){return/blackberry/i.test(i)}function Wb(i=hn()){return/webos/i.test(i)}function ng(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Vx(i=hn()){return ng(i)&&!!window.navigator?.standalone}function Px(){return $A()&&document.documentMode===10}function Zb(i=hn()){return ng(i)||$b(i)||Wb(i)||Xb(i)||/windows phone/i.test(i)||Yb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i,e=[]){let t;switch(i){case"Browser":t=Y_(hn());break;case"Worker":t=`${Y_(hn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(i,e={}){return Yi(i,"GET","/v2/passwordPolicy",Or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=6;class zx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new Lx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yd(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Bi(this));const t=e?It(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ux(this),t=new zx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Mx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _i(i){return It(i)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iS(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qx(i){Ah=i}function eE(i){return Ah.loadJS(i)}function Hx(){return Ah.recaptchaEnterpriseScript}function Fx(){return Ah.gapiScript}function Gx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Qx{constructor(){this.enterprise=new Kx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Kx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Yx="recaptcha-enterprise",tE="NO_RECAPTCHA";class $x{constructor(e){this.type=Yx,this.auth=_i(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{xx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Sx(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;F_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(tE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qx().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!t&&F_(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Hx();g.length!==0&&(g+=p),eE(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function X_(i,e,t,s=!1,o=!1){const c=new $x(i);let h;if(o)h=tE;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xd(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await X_(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await X_(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(i,e){const t=Wm(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(wa(c,e??{}))return o;si(o,"already-initialized")}return t.initialize({options:e})}function Wx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Zx(i,e,t){const s=_i(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=nE(e),{host:h,port:p}=Jx(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(wa(y,s.config.emulator)&&wa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Qo(h)?(Cb(`${c}//${h}${g}`),Db("Auth",!0)):eR()}function nE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Jx(i){const e=nE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:W_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:W_(h)}}}function W_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eR(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function tR(i,e){return Yi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(i,e){return zc(i,"POST","/v1/accounts:signInWithPassword",Or(i,e))}async function iR(i,e){return Yi(i,"POST","/v1/accounts:sendOobCode",Or(i,e))}async function rR(i,e){return iR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(i,e){return zc(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}async function aR(i,e){return zc(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends ig{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Rc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,t,"signInWithPassword",nR);case"emailLink":return sR(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(e,s,"signUpPassword",tR);case"emailLink":return aR(e,{idToken:t,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i,e){return zc(i,"POST","/v1/accounts:signInWithIdp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="http://localhost";class ba extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const h=new ba(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Do(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:oR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cR(i){const e=hc(fc(i)).link,t=e?hc(fc(e)).deep_link_id:null,s=hc(fc(i)).deep_link_id;return(s?hc(fc(s)).link:null)||s||t||e||i}class rg{constructor(e){const t=hc(fc(e)),s=t.apiKey??null,o=t.oobCode??null,c=lR(t.mode??null);Te(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=cR(e);try{return new rg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=rg.parseLink(t);return Te(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Sh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Bc{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Er.credential(t,s)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Bc{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Bc{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hs.credential(t,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(i,e){return zc(i,"POST","/v1/accounts:signUp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await gi._fromIdTokenResponse(e,s,o),h=Z_(s);return new Ea({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Z_(s);return new Ea({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Z_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Nr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Wd(e,t,s,o)}}function iE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(i,c,e,s):c})}async function dR(i,e,t=!1){const s=await Vo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ea._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(i,e,t=!1){const{auth:s}=i;if(Rn(s.app))return Promise.reject(Bi(s));const o="reauthenticate";try{const c=await Vo(i,iE(s,o,e,i),t);Te(c.idToken,s,"internal-error");const h=tg(c.idToken);Te(h,s,"internal-error");const{sub:p}=h;return Te(i.uid===p,s,"user-mismatch"),Ea._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&si(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(i,e,t=!1){if(Rn(i.app))return Promise.reject(Bi(i));const s="signIn",o=await iE(i,s,e),c=await Ea._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(c.user),c}async function fR(i,e){return rE(_i(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(i){const e=_i(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pR(i,e,t){const s=_i(i);await Xd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",rR)}async function mR(i,e,t){if(Rn(i.app))return Promise.reject(Bi(i));const s=_i(i),h=await Xd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&sE(i),g}),p=await Ea._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function gR(i,e,t){return Rn(i.app)?Promise.reject(Bi(i)):fR(It(i),Yo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&sE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,e){return Yi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=It(i),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Vo(s,yR(s.auth,c));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function wR(i,e,t,s){return It(i).onIdTokenChanged(e,t,s)}function _R(i,e,t){return It(i).beforeAuthStateChanged(e,t)}function bR(i,e,t,s){return It(i).onAuthStateChanged(e,t,s)}function ER(i){return It(i).signOut()}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1e3,AR=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);Px()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const SR=oE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lE.type="SESSION";const cE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,c)),g=await xR(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=sg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(A.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function IR(i){qi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function CR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DR(){return navigator?.serviceWorker?.controller||null}function kR(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebaseLocalStorageDb",NR=1,Jd="firebaseLocalStorage",hE="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(i,e){return i.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function OR(){const i=indexedDB.deleteDatabase(dE);return new qc(i).toPromise()}function Sm(){const i=indexedDB.open(dE,NR);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Jd,{keyPath:hE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Jd)?e(s):(s.close(),await OR(),e(await Sm()))})})}async function J_(i,e,t){const s=Rh(i,!0).put({[hE]:e,value:t});return new qc(s).toPromise()}async function MR(i,e){const t=Rh(i,!1).get(e),s=await new qc(t).toPromise();return s===void 0?null:s.value}function e0(i,e){const t=Rh(i,!0).delete(e);return new qc(t).toPromise()}const VR=800,PR=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>PR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(kR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CR(),!this.activeServiceWorker)return;this.sender=new RR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await J_(e,Zd,"1"),await e0(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>J_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>MR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>e0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Rh(o,!1).getAll();return new qc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const LR=fE;new jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(i,e){return e?Ar(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UR(i){return rE(i.auth,new og(i),i.bypassAuthState)}function jR(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),hR(t,new og(i),i.bypassAuthState)}async function zR(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),dR(t,new og(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:si(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new jc(2e3,1e4);async function qR(i,e,t){if(Rn(i.app))return Promise.reject(yi(i,"operation-not-supported-in-this-environment"));const s=_i(i);jb(i,e,Sh);const o=ag(s,t);return new fa(s,"signInViaPopup",e,o).executeNotNull()}class fa extends pE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="pendingRedirect",Pd=new Map;class FR extends pE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const s=await GR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GR(i,e){const t=gE(e),s=mE(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function QR(i,e){return mE(i)._set(gE(e),"true")}function KR(i,e){Pd.set(i._key(),e)}function mE(i){return Ar(i._redirectPersistence)}function gE(i){return Vd(HR,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(i,e,t){return YR(i,e,t)}async function YR(i,e,t){if(Rn(i.app))return Promise.reject(Bi(i));const s=_i(i);jb(i,e,Sh),await s._initializationPromise;const o=ag(s,t);return await QR(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function $R(i,e){return await _i(i)._initializationPromise,yE(i,e,!1)}async function yE(i,e,t=!1){if(Rn(i.app))return Promise.reject(Bi(i));const s=_i(i),o=ag(s,e),h=await new FR(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=600*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ZR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(i,e={}){return Yi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function nI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JR(i);for(const t of e)try{if(iI(t))return}catch{}si(i,"unauthorized-domain")}function iI(i){const e=Tm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!tI.test(t))return!1;if(eI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new jc(3e4,6e4);function i0(){const i=qi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function sI(i){return new Promise((e,t)=>{function s(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),t(yi(i,"network-request-failed"))},timeout:rI.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=Gx("iframefcb");return qi()[o]=()=>{gapi.load?s():t(yi(i,"network-request-failed"))},eE(`${Fx()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function aI(i){return Ld=Ld||sI(i),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new jc(5e3,15e3),lI="__/auth/iframe",cI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?eg(e,cI):`https://${i.config.authDomain}/${lI}`,s={apiKey:e.apiKey,appName:i.name,v:Ko},o=dI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Uc(s).slice(1)}`}async function fI(i){const e=await aI(i),t=qi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:hI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=yi(i,"network-request-failed"),p=qi().setTimeout(()=>{c(h)},oI.get());function g(){qi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,gI=600,yI="_blank",vI="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wI(i,e,t,s=mI,o=gI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...pI,width:s.toString(),height:o.toString(),top:c,left:h},y=hn().toLowerCase();t&&(p=Kb(y)?yI:t),Gb(y)&&(e=e||vI,g.scrollbars="yes");const _=Object.entries(g).reduce((A,[z,F])=>`${A}${z}=${F},`,"");if(Vx(y)&&p!=="_self")return _I(e||"",p),new r0(null);const T=window.open(e||"",p,_);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new r0(T)}function _I(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__/auth/handler",EI="emulator/auth/handler",TI=encodeURIComponent("fac");async function s0(i,e,t,s,o,c){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ko,eventId:o};if(e instanceof Sh){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",nS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Bc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await i._getAppCheckToken(),y=g?`#${TI}=${encodeURIComponent(g)}`:"";return`${AI(i)}?${Uc(p).slice(1)}${y}`}function AI({config:i}){return i.emulator?eg(i,EI):`https://${i.authDomain}/${bI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=yE,this._overrideRedirectResult=KR}async _openPopup(e,t,s,o){Ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await s0(e,t,s,Tm(),o);return wI(e,c,sg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await s0(e,t,s,Tm(),o);return IR(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await fI(e),s=new WR(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cm,{type:cm},o=>{const c=o?.[0]?.[cm];c!==void 0&&t(!!c),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zb()||Qb()||ng()}}const xI=SI;var a0="@firebase/auth",o0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CI(i){Mo(new _a("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(i)},y=new Bx(s,o,c,g);return Wx(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Mo(new _a("auth-internal",e=>{const t=_i(e.getProvider("auth").getImmediate());return(s=>new RI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(a0,o0,II(i)),ws(a0,o0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=300,kI=Ib("authIdTokenMaxAge")||DI;let l0=null;const NI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>kI)return;const o=t?.token;l0!==o&&(l0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OI(i=Mb()){const e=Wm(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Xx(i,{popupRedirectResolver:xI,persistence:[LR,SR,cE]}),s=Ib("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=NI(c.toString());_R(t,h,()=>h(t.currentUser)),wR(t,p=>h(p))}}const o=xb("auth");return o&&Zx(t,`http://${o}`),t}function MI(){return document.getElementsByTagName("head")?.[0]??document}qx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=yi("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",MI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CI("Browser");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,wE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function C(){}C.prototype=x.prototype,M.D=x.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(O,N,V){for(var I=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)I[ce-2]=arguments[ce];return x.prototype[N].apply(O,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,x,C){C||(C=0);var O=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)O[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;16>N;++N)O[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=M.g[0],C=M.g[1],N=M.g[2];var V=M.g[3],I=x+(V^C&(N^V))+O[0]+3614090360&4294967295;x=C+(I<<7&4294967295|I>>>25),I=V+(N^x&(C^N))+O[1]+3905402710&4294967295,V=x+(I<<12&4294967295|I>>>20),I=N+(C^V&(x^C))+O[2]+606105819&4294967295,N=V+(I<<17&4294967295|I>>>15),I=C+(x^N&(V^x))+O[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=x+(V^C&(N^V))+O[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=V+(N^x&(C^N))+O[5]+1200080426&4294967295,V=x+(I<<12&4294967295|I>>>20),I=N+(C^V&(x^C))+O[6]+2821735955&4294967295,N=V+(I<<17&4294967295|I>>>15),I=C+(x^N&(V^x))+O[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=x+(V^C&(N^V))+O[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=V+(N^x&(C^N))+O[9]+2336552879&4294967295,V=x+(I<<12&4294967295|I>>>20),I=N+(C^V&(x^C))+O[10]+4294925233&4294967295,N=V+(I<<17&4294967295|I>>>15),I=C+(x^N&(V^x))+O[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=x+(V^C&(N^V))+O[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=V+(N^x&(C^N))+O[13]+4254626195&4294967295,V=x+(I<<12&4294967295|I>>>20),I=N+(C^V&(x^C))+O[14]+2792965006&4294967295,N=V+(I<<17&4294967295|I>>>15),I=C+(x^N&(V^x))+O[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=x+(N^V&(C^N))+O[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=V+(C^N&(x^C))+O[6]+3225465664&4294967295,V=x+(I<<9&4294967295|I>>>23),I=N+(x^C&(V^x))+O[11]+643717713&4294967295,N=V+(I<<14&4294967295|I>>>18),I=C+(V^x&(N^V))+O[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=x+(N^V&(C^N))+O[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=V+(C^N&(x^C))+O[10]+38016083&4294967295,V=x+(I<<9&4294967295|I>>>23),I=N+(x^C&(V^x))+O[15]+3634488961&4294967295,N=V+(I<<14&4294967295|I>>>18),I=C+(V^x&(N^V))+O[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=x+(N^V&(C^N))+O[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=V+(C^N&(x^C))+O[14]+3275163606&4294967295,V=x+(I<<9&4294967295|I>>>23),I=N+(x^C&(V^x))+O[3]+4107603335&4294967295,N=V+(I<<14&4294967295|I>>>18),I=C+(V^x&(N^V))+O[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=x+(N^V&(C^N))+O[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=V+(C^N&(x^C))+O[2]+4243563512&4294967295,V=x+(I<<9&4294967295|I>>>23),I=N+(x^C&(V^x))+O[7]+1735328473&4294967295,N=V+(I<<14&4294967295|I>>>18),I=C+(V^x&(N^V))+O[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=x+(C^N^V)+O[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=V+(x^C^N)+O[8]+2272392833&4294967295,V=x+(I<<11&4294967295|I>>>21),I=N+(V^x^C)+O[11]+1839030562&4294967295,N=V+(I<<16&4294967295|I>>>16),I=C+(N^V^x)+O[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=x+(C^N^V)+O[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=V+(x^C^N)+O[4]+1272893353&4294967295,V=x+(I<<11&4294967295|I>>>21),I=N+(V^x^C)+O[7]+4139469664&4294967295,N=V+(I<<16&4294967295|I>>>16),I=C+(N^V^x)+O[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=x+(C^N^V)+O[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=V+(x^C^N)+O[0]+3936430074&4294967295,V=x+(I<<11&4294967295|I>>>21),I=N+(V^x^C)+O[3]+3572445317&4294967295,N=V+(I<<16&4294967295|I>>>16),I=C+(N^V^x)+O[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=x+(C^N^V)+O[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=V+(x^C^N)+O[12]+3873151461&4294967295,V=x+(I<<11&4294967295|I>>>21),I=N+(V^x^C)+O[15]+530742520&4294967295,N=V+(I<<16&4294967295|I>>>16),I=C+(N^V^x)+O[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=x+(N^(C|~V))+O[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=V+(C^(x|~N))+O[7]+1126891415&4294967295,V=x+(I<<10&4294967295|I>>>22),I=N+(x^(V|~C))+O[14]+2878612391&4294967295,N=V+(I<<15&4294967295|I>>>17),I=C+(V^(N|~x))+O[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=x+(N^(C|~V))+O[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=V+(C^(x|~N))+O[3]+2399980690&4294967295,V=x+(I<<10&4294967295|I>>>22),I=N+(x^(V|~C))+O[10]+4293915773&4294967295,N=V+(I<<15&4294967295|I>>>17),I=C+(V^(N|~x))+O[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=x+(N^(C|~V))+O[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=V+(C^(x|~N))+O[15]+4264355552&4294967295,V=x+(I<<10&4294967295|I>>>22),I=N+(x^(V|~C))+O[6]+2734768916&4294967295,N=V+(I<<15&4294967295|I>>>17),I=C+(V^(N|~x))+O[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=x+(N^(C|~V))+O[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=V+(C^(x|~N))+O[11]+3174756917&4294967295,V=x+(I<<10&4294967295|I>>>22),I=N+(x^(V|~C))+O[2]+718787259&4294967295,N=V+(I<<15&4294967295|I>>>17),I=C+(V^(N|~x))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+V&4294967295}s.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var C=x-this.blockSize,O=this.B,N=this.h,V=0;V<x;){if(N==0)for(;V<=C;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<x;)if(O[N++]=M.charCodeAt(V++),N==this.blockSize){o(this,O),N=0;break}}else for(;V<x;)if(O[N++]=M[V++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=x},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var C=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=C&255,C/=256;for(this.u(M),M=Array(16),x=C=0;4>x;++x)for(var O=0;32>O;O+=8)M[C++]=this.g[x]>>>O&255;return M};function c(M,x){var C=p;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=x(M)}function h(M,x){this.h=x;for(var C=[],O=!0,N=M.length-1;0<=N;N--){var V=M[N]|0;O&&V==x||(C[N]=V,O=!1)}this.g=C}var p={};function g(M){return-128<=M&&128>M?c(M,function(x){return new h([x|0],0>x?-1:0)}):new h([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return K(y(-M));for(var x=[],C=1,O=0;M>=C;O++)x[O]=M/C|0,C*=4294967296;return new h(x,0)}function _(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return K(_(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(x,8)),O=T,N=0;N<M.length;N+=8){var V=Math.min(8,M.length-N),I=parseInt(M.substring(N,N+V),x);8>V?(V=y(Math.pow(x,V)),O=O.j(V).add(y(I))):(O=O.j(C),O=O.add(y(I)))}return O}var T=g(0),A=g(1),z=g(16777216);i=h.prototype,i.m=function(){if(ee(this))return-K(this).m();for(var M=0,x=1,C=0;C<this.g.length;C++){var O=this.i(C);M+=(0<=O?O:4294967296+O)*x,x*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if(ee(this))return"-"+K(this).toString(M);for(var x=y(Math.pow(M,6)),C=this,O="";;){var N=Re(C,x).g;C=ne(C,N.j(x));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=N,F(C))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function ee(M){return M.h==-1}i.l=function(M){return M=ne(this,M),ee(M)?-1:F(M)?0:1};function K(M){for(var x=M.g.length,C=[],O=0;O<x;O++)C[O]=~M.g[O];return new h(C,~M.h).add(A)}i.abs=function(){return ee(this)?K(this):this},i.add=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],O=0,N=0;N<=x;N++){var V=O+(this.i(N)&65535)+(M.i(N)&65535),I=(V>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);O=I>>>16,V&=65535,I&=65535,C[N]=I<<16|V}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ne(M,x){return M.add(K(x))}i.j=function(M){if(F(this)||F(M))return T;if(ee(this))return ee(M)?K(this).j(K(M)):K(K(this).j(M));if(ee(M))return K(this.j(K(M)));if(0>this.l(z)&&0>M.l(z))return y(this.m()*M.m());for(var x=this.g.length+M.g.length,C=[],O=0;O<2*x;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<M.g.length;N++){var V=this.i(O)>>>16,I=this.i(O)&65535,ce=M.i(N)>>>16,Pe=M.i(N)&65535;C[2*O+2*N]+=I*Pe,ae(C,2*O+2*N),C[2*O+2*N+1]+=V*Pe,ae(C,2*O+2*N+1),C[2*O+2*N+1]+=I*ce,ae(C,2*O+2*N+1),C[2*O+2*N+2]+=V*ce,ae(C,2*O+2*N+2)}for(O=0;O<x;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=x;O<2*x;O++)C[O]=0;return new h(C,0)};function ae(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function ie(M,x){this.g=M,this.h=x}function Re(M,x){if(F(x))throw Error("division by zero");if(F(M))return new ie(T,T);if(ee(M))return x=Re(K(M),x),new ie(K(x.g),K(x.h));if(ee(x))return x=Re(M,K(x)),new ie(K(x.g),x.h);if(30<M.g.length){if(ee(M)||ee(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=x;0>=O.l(M);)C=ye(C),O=ye(O);var N=De(C,1),V=De(O,1);for(O=De(O,2),C=De(C,2);!F(O);){var I=V.add(O);0>=I.l(M)&&(N=N.add(C),V=I),O=De(O,1),C=De(C,1)}return x=ne(M,N.j(x)),new ie(N,x)}for(N=T;0<=M.l(x);){for(C=Math.max(1,Math.floor(M.m()/x.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=y(C),I=V.j(x);ee(I)||0<I.l(M);)C-=O,V=y(C),I=V.j(x);F(V)&&(V=A),N=N.add(V),M=ne(M,I)}return new ie(N,M)}i.A=function(M){return Re(this,M).h},i.and=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)&M.i(O);return new h(C,this.h&M.h)},i.or=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)|M.i(O);return new h(C,this.h|M.h)},i.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),C=[],O=0;O<x;O++)C[O]=this.i(O)^M.i(O);return new h(C,this.h^M.h)};function ye(M){for(var x=M.g.length+1,C=[],O=0;O<x;O++)C[O]=M.i(O)<<1|M.i(O-1)>>>31;return new h(C,M.h)}function De(M,x){var C=x>>5;x%=32;for(var O=M.g.length-C,N=[],V=0;V<O;V++)N[V]=0<x?M.i(V+C)>>>x|M.i(V+C+1)<<32-x:M.i(V+C);return new h(N,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,_s=h}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _E,pc,bE,Ud,xm,EE,TE,AE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in v))break e;v=v[L]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,E=!1,L={next:function(){if(!E&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,A.apply(null,arguments)}function z(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function F(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,L,H){for(var se=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)se[Be-2]=arguments[Be];return m.prototype[L].apply(E,se)}}function ee(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function K(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(g(E)){const L=u.length||0,H=E.length||0;u.length=L+H;for(let se=0;se<H;se++)u[L+se]=E[se]}else u.push(E)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ae(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Re(u){return Re[" "](u),u}Re[" "]=function(){};var ye=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function De(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function M(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let v,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(v in E)u[v]=E[v];for(let H=0;H<C.length;H++)v=C[H],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function V(u){p.setTimeout(()=>{throw u},0)}function I(){var u=Ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,v){const E=Pe.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Pe=new ne(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,Ge=new ce,D=()=>{const u=p.Promise.resolve(void 0);re=()=>{u.then(W)}};var W=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(v){V(v)}var m=Pe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}fe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u})();function Ie(u,m){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ye){e:{try{Re(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ie.aa.h.call(this)}}F(Ie,te);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),We=0;function Gn(u,m,v,E,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=L,this.key=++We,this.da=this.fa=!1}function oi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Et(u){this.src=u,this.g={},this.h=0}Et.prototype.add=function(u,m,v,E,L){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var se=Qn(u,m,E,L);return-1<se?(m=u[se],v||(m.fa=!1)):(m=new Gn(m,this.src,H,!!E,L),m.fa=v,u.push(m)),m};function bi(u,m){var v=m.type;if(v in u.g){var E=u.g[v],L=Array.prototype.indexOf.call(E,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(E,L,1),H&&(oi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Qn(u,m,v,E){for(var L=0;L<u.length;++L){var H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==E)return L}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Ce={};function ut(u,m,v,E,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)ut(u,m[H],v,E,L);return null}return v=Da(v),u&&u[bt]?u.K(m,v,y(E)?!!E.capture:!1,L):at(u,m,v,!1,E,L)}function at(u,m,v,E,L,H){if(!m)throw Error("Invalid event type");var se=y(L)?!!L.capture:!!L,Be=yt(u);if(Be||(u[Ei]=Be=new Et(u)),v=Be.add(m,v,E,se,H),v.proxy)return v;if(E=$i(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)pe||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),E,L);else if(u.attachEvent)u.attachEvent(li(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $i(){function u(v){return m.call(u.src,u.listener,v)}const m=ks;return u}function Xi(u,m,v,E,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Xi(u,m[H],v,E,L);else E=y(E)?!!E.capture:!!E,v=Da(v),u&&u[bt]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=Qn(H,v,E,L),-1<v&&(oi(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=yt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Qn(m,v,E,L)),(v=-1<u?m[u]:null)&&pn(v))}function pn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])bi(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(li(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=yt(m))?(bi(v,u),v.h==0&&(v.src=null,m[Ei]=null)):oi(u)}}}function li(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ks(u,m){if(u.da)u=!0;else{m=new Ie(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&pn(u),u=v.call(E,m)}return u}function yt(u){return u=u[Ei],u instanceof Et?u:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(u){return typeof u=="function"?u:(u[an]||(u[an]=function(m){return u.handleEvent(m)}),u[an])}function dt(){oe.call(this),this.i=new Et(this),this.M=this,this.F=null}F(dt,oe),dt.prototype[bt]=!0,dt.prototype.removeEventListener=function(u,m,v,E){Xi(this,u,m,v,E)};function Ze(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new te(m,u);else if(m instanceof te)m.target=m.target||u;else{var L=m;m=new te(E,u),O(m,L)}if(L=!0,v)for(var H=v.length-1;0<=H;H--){var se=m.g=v[H];L=Cn(se,E,!0,m)&&L}if(se=m.g=u,L=Cn(se,E,!0,m)&&L,L=Cn(se,E,!1,m)&&L,v)for(H=0;H<v.length;H++)se=m.g=v[H],L=Cn(se,E,!1,m)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)oi(v[E]);delete u.g[m],u.h--}}this.F=null},dt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},dt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Cn(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var se=m[H];if(se&&!se.da&&se.capture==v){var Be=se.listener,Ut=se.ha||se.src;se.fa&&bi(u.i,se),L=Be.call(Ut,E)!==!1&&L}}return L&&!E.defaultPrevented}function on(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function iu(u){u.g=on(()=>{u.g=null,u.i&&(u.i=!1,iu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zh extends oe{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(u){oe.call(this),this.h=u,this.g={}}F(Ns,oe);var Os=[];function Ms(u){De(u.g,function(m,v){this.g.hasOwnProperty(v)&&pn(m)},u),u.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),Ms(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=p.JSON.stringify,ka=p.JSON.parse,Vs=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function sl(){}sl.prototype.h=null;function al(u){return u.h||(u.h=u.i())}function ol(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){te.call(this,"d")}F(Zi,te);function ll(){te.call(this,"c")}F(ll,te);var Ti={},cl=null;function Vr(){return cl=cl||new dt}Ti.La="serverreachability";function Na(u){te.call(this,Ti.La,u)}F(Na,te);function Pr(u){const m=Vr();Ze(m,new Na(m))}Ti.STAT_EVENT="statevent";function ru(u,m){te.call(this,Ti.STAT_EVENT,u),this.stat=m}F(ru,te);function ft(u){const m=Vr();Ze(m,new ru(m,u))}Ti.Ma="timingevent";function Lt(u,m){te.call(this,Ti.Ma,u),this.size=m}F(Lt,te);function Dt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function ul(u,m,v,E,L,H){u.info(function(){if(u.g)if(H)for(var se="",Be=H.split("&"),Ut=0;Ut<Be.length;Ut++){var qe=Be[Ut].split("=");if(1<qe.length){var Ft=qe[0];qe=qe[1];var jt=Ft.split("_");se=2<=jt.length&&jt[1]=="type"?se+(Ft+"="+qe+"&"):se+(Ft+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function Jh(u,m,v,E,L,H,se){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+se})}function Lr(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ps(u,v)+(E?" "+E:"")})}function su(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Ps(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<L.length;se++)L[se]=""}}}}return ci(v)}catch{return m}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function Si(){}F(Si,sl),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},Ai=new Si;function mn(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var dl={},Oa={};function ui(u,m,v){u.L=1,u.v=Bs(Dn(m)),u.m=v,u.P=!0,er(u,null)}function er(u,m){u.F=Date.now(),Ls(u),u.A=Dn(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),yl(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Tt,u.g=bu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Zh(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Os[0]=L.toString()),L=Os);for(var H=0;H<L.length;H++){var se=ut(v,L[H],E||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pr(),ul(u.i,u.u,u.A,u.l,u.R,u.m)}mn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Wn(u)==3?m.j():this.Y(u)},mn.prototype.Y=function(u){try{if(u==this.g)e:{const jt=Wn(this.g);var m=this.g.Ba();const lr=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||jt!=4||m==7||(m==8||0>=lr?Pr(3):Pr(2)),jr(this);var v=this.g.Z();this.X=v;t:if(au(this)){var E=fu(this.g);u="";var L=E.length,H=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),xi(this);var se="";break t}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(H&&m==L-1)});E.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Jh(this.i,this.u,this.A,this.l,this.R,jt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ut=this.g;if((Be=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Be)){var qe=Be;break t}}qe=null}if(v=qe)Lr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Us(this,v);else{this.o=!1,this.s=3,ft(12),Wt(this),xi(this);break e}}if(this.P){v=!0;let Zt;for(;!this.J&&this.C<se.length;)if(Zt=ou(this,se),Zt==Oa){jt==4&&(this.s=4,ft(14),v=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==dl){this.s=4,ft(15),Lr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Lr(this.i,this.l,Zt,null),Us(this,Zt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||se.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)Lr(this.i,this.l,se,"[Invalid Chunked Response]"),Wt(this),xi(this);else if(0<se.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),$s(Ft),Ft.M=!0,ft(11))}}else Lr(this.i,this.l,se,null),Us(this,se);jt==4&&Wt(this),this.o&&!this.J&&(jt==4?vu(this.j,this):(this.o=!1,Ls(this)))}else sf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Wt(this),xi(this)}}}catch{}finally{}};function au(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ou(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Oa:(v=Number(m.substring(v,E)),isNaN(v)?dl:(E+=1,E+v>m.length?Oa:(m=m.slice(E,E+v),u.C=E+v,m)))}mn.prototype.cancel=function(){this.J=!0,Wt(this)};function Ls(u){u.S=Date.now()+u.I,lu(u,u.I)}function lu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Dt(A(u.ba,u),m)}function jr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}mn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(su(this.i,this.A),this.L!=2&&(Pr(),ft(17)),Wt(this),this.s=2,xi(this)):lu(this,this.S-u)};function xi(u){u.j.G==0||u.J||vu(u.j,u)}function Wt(u){jr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ms(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Us(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||hl(v.h,u))){if(!u.K&&hl(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ga(v),Ha(v);else break e;El(v),ft(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Dt(A(v.Za,v),6e3));if(1>=Va(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else or(v,11)}else if((u.K||v.g==u)&&Ga(v),!ae(m))for(L=v.Da.g.parse(m),m=0;m<L.length;m++){let qe=L[m];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const Ft=qe[3];Ft!=null&&(v.la=Ft,v.j.info("VER="+v.la));const jt=qe[4];jt!=null&&(v.Aa=jt,v.j.info("SVER="+v.Aa));const lr=qe[5];lr!=null&&typeof lr=="number"&&0<lr&&(E=1.5*lr,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const Zt=u.g;if(Zt){const Oi=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var H=E.h;H.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Pa(H,H.h),H.h=null))}if(E.D){const Al=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(E.ya=Al,tt(E.I,E.D,Al))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var se=u;if(E.qa=_u(E,E.J?E.ia:null,E.W),se.K){gn(E.h,se);var Be=se,Ut=E.L;Ut&&(Be.I=Ut),Be.B&&(jr(Be),Ls(Be)),E.g=se}else gu(E);0<v.i.length&&Fa(v)}else qe[0]!="stop"&&qe[0]!="close"||or(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?or(v,7):_l(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}Pr(4)}catch{}}var cu=class{constructor(u,m){this.g=u,this.map=m}};function tr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Va(u){return u.h?1:u.g?u.g.size:0}function hl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Pa(u,m){u.g?u.g.add(m):u.h=m}function gn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}tr.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return ee(u.i)}function ef(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function La(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function pl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=La(u),E=ef(u),L=E.length,H=0;H<L;H++)m.call(void 0,E[H],v&&v[H],u)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),L=null;if(0<=E){var H=u[v].substring(0,E);L=u[v].substring(E+1)}else H=u[v];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function kt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof kt){this.h=u.h,zs(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var m=u.i,v=new ir;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),nr(this,v),this.m=u.m}else u&&(m=String(u).match(js))?(this.h=!1,zs(this,m[1]||"",!0),this.o=Yn(m[2]||""),this.g=Yn(m[3]||"",!0),zr(this,m[4]),this.l=Yn(m[5]||"",!0),nr(this,m[6]||"",!0),this.m=Yn(m[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}kt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qs(m,ml,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qs(m,ml,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(qs(v,v.charAt(0)=="/"?nf:gl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",qs(v,Ua)),u.join("")};function Dn(u){return new kt(u)}function zs(u,m,v){u.j=v?Yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function nr(u,m,v){m instanceof ir?(u.i=m,du(u.i,u.h)):(v||(m=qs(m,rf)),u.i=new ir(m,u.h))}function tt(u,m,v){u.i.set(m,v)}function Bs(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,uu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ml=/[#\/\?@]/g,gl=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,Ua=/#/g;function ir(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function $n(u){u.g||(u.g=new Map,u.h=0,u.i&&tf(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}i=ir.prototype,i.add=function(u,m){$n(this),this.i=null,u=Ri(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function rr(u,m){$n(u),m=Ri(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sr(u,m){return $n(u),m=Ri(u,m),u.g.has(m)}i.forEach=function(u,m){$n(this),this.g.forEach(function(v,E){v.forEach(function(L){u.call(m,L,E,this)},this)},this)},i.na=function(){$n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const L=u[E];for(let H=0;H<L.length;H++)v.push(m[E])}return v},i.V=function(u){$n(this);let m=[];if(typeof u=="string")sr(this,u)&&(m=m.concat(this.g.get(Ri(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},i.set=function(u,m){return $n(this),this.i=null,u=Ri(this,u),sr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yl(u,m,v){rr(u,m),0<v.length&&(u.i=null,u.g.set(Ri(u,m),ee(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const H=encodeURIComponent(String(E)),se=this.V(E);for(E=0;E<se.length;E++){var L=H;se[E]!==""&&(L+="="+encodeURIComponent(String(se[E]))),u.push(L)}}return this.i=u.join("&")};function Ri(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function du(u,m){m&&!u.j&&($n(u),u.i=null,u.g.forEach(function(v,E){var L=E.toLowerCase();E!=L&&(rr(this,E),yl(this,L,v))},u)),u.j=m}function Hs(u,m){const v=new Kn;if(p.Image){const E=new Image;E.onload=z(Xn,v,"TestLoadImage: loaded",!0,m,E),E.onerror=z(Xn,v,"TestLoadImage: error",!1,m,E),E.onabort=z(Xn,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=z(Xn,v,"TestLoadImage: timeout",!1,m,E),p.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function di(u,m){const v=new Kn,E=new AbortController,L=setTimeout(()=>{E.abort(),Xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(H=>{clearTimeout(L),H.ok?Xn(v,"TestPingServer: ok",!0,m):Xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Xn(v,"TestPingServer: error",!1,m)})}function Xn(u,m,v,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(v)}catch{}}function Fs(){this.g=new Vs}function Ii(u,m,v){const E=v||"";try{pl(u,function(L,H){let se=L;y(L)&&(se=ci(L)),m.push(E+H+"="+encodeURIComponent(se))})}catch(L){throw m.push(E+"type="+encodeURIComponent("_badmap")),L}}function Br(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Br,sl),Br.prototype.g=function(){return new ar(this.l,this.j)},Br.prototype.i=(function(u){return function(){return u}})({});function ar(u,m){dt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(ar,dt),i=ar.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Di(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ci(this):Di(this),this.readyState==3&&vl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Ci(this))},i.Qa=function(u){this.g&&(this.response=u,Ci(this))},i.ga=function(){this.g&&Ci(this)};function Ci(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Di(u)}i.setRequestHeader=function(u,m){this.u.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wl(u){let m="";return De(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function Ht(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=wl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):tt(u,m,v))}function Xe(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Xe,dt);var ja=/^https?$/i,Gs=["POST","PUT"];i=Xe.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?al(this.o):al(Ai),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){hu(this,H);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)v.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())v.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Gs,m,void 0))||E||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){hu(this,H)}};function hu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,za(u),ki(u)}function za(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),ki(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},i.bb=function(){Ba(this)};function Ba(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Wn(u)!=4||u.Z()!=2)){if(u.u&&Wn(u)==4)on(u.Ea,0,u);else if(Ze(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=se===0){var L=String(u.D).match(js)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),E=!ja.test(L?L.toLowerCase():"")}v=E}if(v)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var H=2<Wn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",za(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){Qs(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ze(u,"ready");try{v.onreadystatechange=E}catch{}}}function Qs(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ka(m)}};function fu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(u){const m={};u=(u.g&&2<=Wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ae(u[E]))continue;var v=N(u[E]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}M(m,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function qa(u){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,u),this.cb=Ks("retryDelaySeedMs",1e4,u),this.Wa=Ks("forwardChannelMaxRetries",2,u),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tr(u&&u.concurrentRequestLimit),this.Da=new Fs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=qa.prototype,i.la=8,i.G=1,i.connect=function(u,m,v,E){ft(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=_u(this,null,this.W),Fa(this)};function _l(u){if(pu(u),u.G==3){var m=u.U++,v=Dn(u.I);if(tt(v,"SID",u.K),tt(v,"RID",m),tt(v,"TYPE","terminate"),Ys(u,v),m=new mn(u,u.j,m),m.L=2,m.v=Bs(Dn(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ls(m)}wu(u)}function Ha(u){u.g&&($s(u),u.g.cancel(),u.g=null)}function pu(u){Ha(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ga(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Fa(u){if(!Ma(u.h)&&!u.s){u.s=!0;var m=u.Ga;re||D(),fe||(re(),fe=!0),Ge.add(m,u),u.B=0}}function af(u,m){return Va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Dt(A(u.Ga,u,m),Tl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new mn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=x(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),v=Dn(this.I),tt(v,"RID",u),tt(v,"CVER",22),this.D&&tt(v,"X-HTTP-Session-Id",this.D),Ys(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(wl(H)))+"&"+m:this.m&&Ht(v,this.m,H)),Pa(this.h,L),this.Ua&&tt(v,"TYPE","init"),this.P?(tt(v,"$req",m),tt(v,"SID","null"),L.T=!0,ui(L,v,null)):ui(L,v,m),this.G=2}}else this.G==3&&(u?bl(this,u):this.i.length==0||Ma(this.h)||bl(this))};function bl(u,m){var v;m?v=m.l:v=u.U++;const E=Dn(u.I);tt(E,"SID",u.K),tt(E,"RID",v),tt(E,"AID",u.T),Ys(u,E),u.m&&u.o&&Ht(E,u.m,u.o),v=new mn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=mu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Pa(u.h,v),ui(v,E,m)}function Ys(u,m){u.H&&De(u.H,function(v,E){tt(m,E,v)}),u.l&&pl({},function(v,E){tt(m,E,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);var E=u.l?A(u.l.Na,u.l,u):null;e:{var L=u.i;let H=-1;for(;;){const se=["count="+v];H==-1?0<v?(H=L[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let Be=!0;for(let Ut=0;Ut<v;Ut++){let qe=L[Ut].g;const Ft=L[Ut].map;if(qe-=H,0>qe)H=Math.max(0,L[Ut].g-100),Be=!1;else try{Ii(Ft,se,"req"+qe+"_")}catch{E&&E(Ft)}}if(Be){E=se.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function gu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;re||D(),fe||(re(),fe=!0),Ge.add(m,u),u.v=0}}function El(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Dt(A(u.Fa,u),Tl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Dt(A(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ha(this),yu(this))};function $s(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new mn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Dn(u.qa);tt(m,"RID","rpc"),tt(m,"SID",u.K),tt(m,"AID",u.T),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(m,"TO",u.ja),tt(m,"TYPE","xmlhttp"),Ys(u,m),u.m&&u.o&&Ht(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Bs(Dn(m)),v.m=null,v.P=!0,er(v,u)}i.Za=function(){this.C!=null&&(this.C=null,Ha(this),El(this),ft(19))};function Ga(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){Ga(u),$s(u),u.g=null;var E=2}else if(hl(u.h,m))v=m.D,gn(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;E=Vr(),Ze(E,new Lt(E,v)),Fa(u)}else gu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(E==1&&af(u,m)||E==2&&El(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),L){case 1:or(u,5);break;case 4:or(u,10);break;case 3:or(u,6);break;default:or(u,2)}}}function Tl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function or(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),E=u.Xa;const L=!E;E=new kt(E||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||zs(E,"https"),Bs(E),L?Hs(E.toString(),v):di(E.toString(),v)}else ft(2);u.G=0,u.l&&u.l.sa(m),wu(u),pu(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function wu(u){if(u.G=0,u.ka=[],u.l){const m=fl(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.ra()}}function _u(u,m,v){var E=v instanceof kt?Dn(v):new kt(v);if(E.g!="")m&&(E.g=m+"."+E.g),zr(E,E.s);else{var L=p.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new kt(null);E&&zs(H,E),m&&(H.g=m),L&&zr(H,L),v&&(H.l=v),E=H}return v=u.D,m=u.ya,v&&m&&tt(E,v,m),tt(E,"VER",u.la),Ys(u,E),E}function bu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new Br({eb:v})):new Xe(u.pa),m.Ha(u.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}i=Eu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Qa(){}Qa.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){dt.call(this),this.g=new qa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ae(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ae(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}F(yn,dt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){_l(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ci(u),u=v);m.i.push(new cu(m.Ya++,u)),m.G==3&&Fa(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,yn.aa.N.call(this)};function Tu(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Tu,Zi);function Au(){ll.call(this),this.status=1}F(Au,ll);function Ni(u){this.g=u}F(Ni,Eu),Ni.prototype.ua=function(){Ze(this.g,"a")},Ni.prototype.ta=function(u){Ze(this.g,new Tu(u))},Ni.prototype.sa=function(u){Ze(this.g,new Au)},Ni.prototype.ra=function(){Ze(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,AE=function(){return new Qa},TE=function(){return Vr()},EE=Ti,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Ud=Ur,Ji.COMPLETE="complete",bE=Ji,ol.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",dt.prototype.listen=dt.prototype.K,pc=ol,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,_E=Xe}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const u0="@firebase/firestore",d0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new $m("@firebase/firestore");function Ao(){return Ta.logLevel}function de(i,...e){if(Ta.logLevel<=Le.DEBUG){const t=e.map(lg);Ta.debug(`Firestore (${$o}): ${i}`,...t)}}function Cr(i,...e){if(Ta.logLevel<=Le.ERROR){const t=e.map(lg);Ta.error(`Firestore (${$o}): ${i}`,...t)}}function Po(i,...e){if(Ta.logLevel<=Le.WARN){const t=e.map(lg);Ta.warn(`Firestore (${$o}): ${i}`,...t)}}function lg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,SE(i,s,t)}function SE(i,e,t){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Cr(s),new Error(s)}function ze(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||SE(e,o,s)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class PI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LI{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let c=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new xE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class UI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new h0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Rm(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return um(o)===um(c)?Ue(o,c):um(o)?1:-1}return Ue(i.length,e.length)}const qI=55296,HI=57343;function um(i){const e=i.charCodeAt(0);return e>=qI&&e<=HI}function Lo(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class ji{constructor(e,t,s){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ve(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=ji.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ue(e.length,t.length)}static compareSegments(e,t){const s=ji.isNumericId(e),o=ji.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ji.extractNumericId(e).compare(ji.extractNumericId(t)):Rm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class st extends ji{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ji{construct(e,t,s){return new rn(e,t,s)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new rn([f0])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(i,e,t){if(!t)throw new le($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GI(i,e,t,s){if(e===!0&&s===!0)throw new le($.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function p0(i){if(!ge.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function m0(i){if(ge.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function IE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ih(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function zn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ih(i);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Hc(i,e){if(!IE(i))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new le($.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,y0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*y0);return new ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<g0)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Pt("string",ht._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ht(0,0))}static max(){return new Ee(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function QI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new ht(t+1,0):new ht(t,s));return new Ts(o,ge.empty(),e)}function KI(i){return new Ts(i.readTime,i.key,Ic)}class Ts{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ts(Ee.min(),ge.empty(),Ic)}static max(){return new Ts(Ee.max(),ge.empty(),Ic)}}function YI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==$I)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&t()}),(g=>s(g)))})),h=!0,c===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((_=>{h[y]=_,++p,p===c&&s(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new J(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function WI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function Fc(i){return i==null}function eh(i){return i===0&&1/i==-1/0}function ZI(i){return typeof i=="number"&&Number.isInteger(i)&&!eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="";function JI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=v0(e)),e=eC(i.get(t),e);return v0(e)}function eC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case CE:t+="";break;default:t+=c}}return t}function v0(i){return i+CE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Cs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function tC(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function DE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new nn(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new jn([])}unionWith(e){let t=new qt(rn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kE("Invalid base64 string: "+c):c}})(e);return new sn(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(i){if(ze(!!i,39018),typeof i=="string"){let e=0;const t=nC.exec(i);if(ze(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ss(i){return typeof i=="string"?sn.fromBase64String(i):sn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="server_timestamp",OE="__type__",ME="__previous_value__",VE="__local_write_time__";function dg(i){return(i?.mapValue?.fields||{})[OE]?.stringValue===NE}function Dh(i){const e=i.mapValue.fields[ME];return dg(e)?Dh(e):e}function Cc(i){const e=As(i.mapValue.fields[VE].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,s,o,c,h,p,g,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const th="(default)";class Dc{constructor(e,t){this.projectId=e,this.database=t||th}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="__type__",rC="__max__",Id={mapValue:{}},LE="__vector__",nh="value";function xs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?dg(i)?4:aC(i)?9007199254740991:sC(i)?10:11:ve(28295,{value:i})}function Qi(i,e){if(i===e)return!0;const t=xs(i);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cc(i).isEqual(Cc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=As(o.timestampValue),p=As(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Ss(o.bytesValue).isEqual(Ss(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Rt(o.doubleValue),p=Rt(c.doubleValue);return h===p?eh(h)===eh(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(w0(h)!==w0(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Qi(h[g],p[g])))return!1;return!0})(i,e);default:return ve(52216,{left:i})}}function kc(i,e){return(i.values||[]).find((t=>Qi(t,e)))!==void 0}function Uo(i,e){if(i===e)return 0;const t=xs(i),s=xs(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Rt(c.integerValue||c.doubleValue),g=Rt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return b0(i.timestampValue,e.timestampValue);case 4:return b0(Cc(i),Cc(e));case 5:return Rm(i.stringValue,e.stringValue);case 6:return(function(c,h){const p=Ss(c),g=Ss(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=Ue(p[y],g[y]);if(_!==0)return _}return Ue(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ue(Rt(c.latitude),Rt(h.latitude));return p!==0?p:Ue(Rt(c.longitude),Rt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return E0(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[nh]?.arrayValue,_=g[nh]?.arrayValue,T=Ue(y?.values?.length||0,_?.values?.length||0);return T!==0?T:E0(y,_)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Id.mapValue&&h===Id.mapValue)return 0;if(c===Id.mapValue)return 1;if(h===Id.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const A=Rm(g[T],_[T]);if(A!==0)return A;const z=Uo(p[g[T]],y[_[T]]);if(z!==0)return z}return Ue(g.length,_.length)})(i.mapValue,e.mapValue);default:throw ve(23264,{he:t})}}function b0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=As(i),s=As(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function E0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Uo(t[o],s[o]);if(c)return c}return Ue(t.length,s.length)}function jo(i){return Im(i)}function Im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=As(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Ss(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ge.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Im(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Im(t.fields[h])}`;return o+"}"})(i.mapValue):ve(61005,{value:i})}function jd(i){switch(xs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(i);return e?16+jd(e):16;case 5:return 2*i.stringValue.length;case 6:return Ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+jd(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((c,h)=>{o+=c.length+jd(h)})),o})(i.mapValue);default:throw ve(13486,{value:i})}}function T0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cm(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function A0(i){return!!i&&"nullValue"in i}function S0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zd(i){return!!i&&"mapValue"in i}function sC(i){return(i?.mapValue?.fields||{})[PE]?.stringValue===LE}function _c(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Cs(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=_c(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_c(i.arrayValue.values[t]);return e}return{...i}}function aC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=rn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}h?s[p.lastSegment()]=_c(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Cs(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new wn(_c(this.value))}}function UE(i){const e=[];return Cs(i.fields,((t,s)=>{const o=new rn([t]);if(zd(s)){const c=UE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,s,o,c,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new $t(e,0,Ee.min(),Ee.min(),Ee.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ee.min(),Ee.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ee.min(),Ee.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.position=e,this.inclusive=t}}function x0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Uo(h,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function R0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Qi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function oC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{}class Vt extends jE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new cC(e,t,s):t==="array-contains"?new hC(e,s):t==="in"?new fC(e,s):t==="not-in"?new pC(e,s):t==="array-contains-any"?new mC(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new uC(e,s):new dC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Uo(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends jE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wi(e,t)}matches(e){return zE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zE(i){return i.op==="and"}function BE(i){return lC(i)&&zE(i)}function lC(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function Dm(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+jo(i.value);if(BE(i))return i.filters.map((e=>Dm(e))).join(",");{const e=i.filters.map((t=>Dm(t))).join(",");return`${i.op}(${e})`}}function qE(i,e){return i instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Qi(s.value,o.value)})(i,e):i instanceof wi?(function(s,o){return o instanceof wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&qE(h,o.filters[p])),!0):!1})(i,e):void ve(19439)}function HE(i){return i instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`})(i):i instanceof wi?(function(t){return t.op.toString()+" {"+t.getFilters().map(HE).join(" ,")+"}"})(i):"Filter"}class cC extends Vt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class uC extends Vt{constructor(e,t){super(e,"in",t),this.keys=FE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class dC extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=FE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function FE(i,e){return(e.arrayValue?.values||[]).map((t=>ge.fromName(t.referenceValue)))}class hC extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&kc(t.arrayValue,this.value)}}class fC extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kc(this.value.arrayValue,t)}}class pC extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!kc(this.value.arrayValue,t)}}class mC extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>kc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function I0(i,e=null,t=[],s=[],o=null,c=null,h=null){return new gC(i,e,t,s,o,c,h)}function fg(i){const e=xe(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Dm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>jo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>jo(s))).join(",")),e.Te=t}return e.Te}function pg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!oC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!qE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!R0(i.startAt,e.startAt)&&R0(i.endAt,e.endAt)}function km(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yC(i,e,t,s,o,c,h,p){return new Zo(i,e,t,s,o,c,h,p)}function kh(i){return new Zo(i)}function C0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function GE(i){return i.collectionGroup!==null}function bc(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new qt(rn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Nc(c,s))})),t.has(rn.keyField().canonicalString())||e.Ie.push(new Nc(rn.keyField(),s))}return e.Ie}function Hi(i){const e=xe(i);return e.Ee||(e.Ee=QE(e,bc(i))),e.Ee}function vC(i){const e=xe(i);return e.de||(e.de=QE(e,i.explicitOrderBy)),e.de}function QE(i,e){if(i.limitType==="F")return I0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Nc(o.field,c)}));const t=i.endAt?new ih(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ih(i.startAt.position,i.startAt.inclusive):null;return I0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Nm(i,e){const t=i.filters.concat([e]);return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function rh(i,e,t){return new Zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Nh(i,e){return pg(Hi(i),Hi(e))&&i.limitType===e.limitType}function KE(i){return`${fg(Hi(i))}|lt:${i.limitType}`}function So(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>HE(o))).join(", ")}]`),Fc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>jo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>jo(o))).join(",")),`Target(${s})`})(Hi(i))}; limitType=${i.limitType})`}function Oh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of bc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=x0(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,bc(s),o)||s.endAt&&!(function(h,p,g){const y=x0(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,bc(s),o))})(i,e)}function wC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function YE(i){return(e,t)=>{let s=!1;for(const o of bc(i)){const c=_C(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function _C(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Uo(g,y):ve(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new gt(ge.comparator);function Dr(){return bC}const $E=new gt(ge.comparator);function mc(...i){let e=$E;for(const t of i)e=e.insert(t.key,t);return e}function XE(i){let e=$E;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function pa(){return Ec()}function WE(){return Ec()}function Ec(){return new xa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const EC=new gt(ge.comparator),TC=new qt(ge.comparator);function je(...i){let e=TC;for(const t of i)e=e.add(t);return e}const AC=new qt(Ue);function SC(){return AC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function ZE(i){return{integerValue:""+i}}function xC(i,e){return ZI(e)?ZE(e):mg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function RC(i,e,t){return i instanceof Oc?(function(o,c){const h={fields:{[OE]:{stringValue:NE},[VE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&dg(c)&&(c=Dh(c)),c&&(h.fields[ME]=c),{mapValue:h}})(t,e):i instanceof Mc?e1(i,e):i instanceof Vc?t1(i,e):(function(o,c){const h=JE(o,c),p=D0(h)+D0(o.Ae);return Cm(h)&&Cm(o.Ae)?ZE(p):mg(o.serializer,p)})(i,e)}function IC(i,e,t){return i instanceof Mc?e1(i,e):i instanceof Vc?t1(i,e):t}function JE(i,e){return i instanceof sh?(function(s){return Cm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Oc extends Mh{}class Mc extends Mh{constructor(e){super(),this.elements=e}}function e1(i,e){const t=n1(e);for(const s of i.elements)t.some((o=>Qi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Vc extends Mh{constructor(e){super(),this.elements=e}}function t1(i,e){let t=n1(e);for(const s of i.elements)t=t.filter((o=>!Qi(o,s)));return{arrayValue:{values:t}}}class sh extends Mh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function D0(i){return Rt(i.integerValue||i.doubleValue)}function n1(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t){this.field=e,this.transform=t}}function DC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Mc&&o instanceof Mc||s instanceof Vc&&o instanceof Vc?Lo(s.elements,o.elements,Qi):s instanceof sh&&o instanceof sh?Qi(s.Ae,o.Ae):s instanceof Oc&&o instanceof Oc})(i.transform,e.transform)}class kC{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Vh{}function i1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gg(i.key,_n.none()):new Gc(i.key,i.data,_n.none());{const t=i.data,s=wn.empty();let o=new qt(rn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ds(i.key,s,new jn(o.toArray()),_n.none())}}function NC(i,e,t){i instanceof Gc?(function(o,c,h){const p=o.value.clone(),g=N0(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,t):i instanceof Ds?(function(o,c,h){if(!Bd(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=N0(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(r1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,t):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Tc(i,e,t,s){return i instanceof Gc?(function(c,h,p,g){if(!Bd(c.precondition,h))return p;const y=c.value.clone(),_=O0(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ds?(function(c,h,p,g){if(!Bd(c.precondition,h))return p;const y=O0(c.fieldTransforms,g,h),_=h.data;return _.setAll(r1(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,t,s):(function(c,h,p){return Bd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,t)}function OC(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=JE(s.transform,o||null);c!=null&&(t===null&&(t=wn.empty()),t.set(s.field,c))}return t||null}function k0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((c,h)=>DC(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Gc extends Vh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Vh{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function r1(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function N0(i,e,t){const s=new Map;ze(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const c=i[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,IC(h,p,t[o]))}return s}function O0(i,e,t){const s=new Map;for(const o of i){const c=o.transform,h=t.data.field(o.field);s.set(o.field,RC(c,h,e))}return s}class gg extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends Vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&NC(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=WE();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=t.has(o.key)?null:p;const g=i1(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((t,s)=>k0(t,s)))&&Lo(this.baseMutations,e.baseMutations,((t,s)=>k0(t,s)))}}class yg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return EC})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new yg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Fe;function a1(i){switch(i){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function o1(i){if(i===void 0)return Cr("GRPC error has no .code"),$.UNKNOWN;switch(i){case Mt.OK:return $.OK;case Mt.CANCELLED:return $.CANCELLED;case Mt.UNKNOWN:return $.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return $.INTERNAL;case Mt.UNAVAILABLE:return $.UNAVAILABLE;case Mt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Mt.NOT_FOUND:return $.NOT_FOUND;case Mt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Mt.ABORTED:return $.ABORTED;case Mt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Mt.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:i})}}(Fe=Mt||(Mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new _s([4294967295,4294967295],0);function M0(i){const e=UC().encode(i),t=new wE;return t.update(e),new Uint8Array(t.digest())}function V0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _s([t,s],0),new _s([o,c],0)]}class vg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new gc(`Invalid padding: ${t}`);if(s<0)throw new gc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new gc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_s.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(_s.fromNumber(s)));return o.compare(jC)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=M0(e),[s,o]=V0(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new vg(c,o,t);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=M0(e),[s,o]=V0(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ph(Ee.min(),o,new gt(Ue),Dr(),je())}}class Qc{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Qc(s,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class l1{constructor(e,t){this.targetId=e,this.Ce=t}}class c1{constructor(e,t,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class P0{constructor(){this.ve=0,this.Fe=L0(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),s=je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:c})}})),new Qc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=L0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=Cd(),this.He=Cd(),this.Ye=new gt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(km(c))if(s===0){const h=new ge(c.path);this.et(t,h,$t.newNoDocument(h,Ee.min()))}else ze(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let h,p;try{h=Ss(s).toUint8Array()}catch(g){if(g instanceof kE)return Po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new vg(h,o,c)}catch(g){return Po(g instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&km(p.target)){const g=new ge(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,$t.newNoDocument(g,e))}c.Be&&(t.set(h,c.ke()),c.qe())}}));let s=je();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Ph(e,t,this.Ye,this.je,s);return this.je=Dr(),this.Je=Cd(),this.He=Cd(),this.Ye=new gt(Ue),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new P0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Cd(){return new gt(ge.comparator)}function L0(){return new gt(ge.comparator)}const BC={asc:"ASCENDING",desc:"DESCENDING"},qC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HC={and:"AND",or:"OR"};class FC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Om(i,e){return i.useProto3Json||Fc(e)?e:{value:e}}function ah(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function GC(i,e){return ah(i,e.toTimestamp())}function Bn(i){return ze(!!i,49232),Ee.fromTimestamp((function(t){const s=As(t);return new ht(s.seconds,s.nanos)})(i))}function wg(i,e){return Mm(i,e).canonicalString()}function Mm(i,e){const t=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function d1(i){const e=st.fromString(i);return ze(v1(e),10190,{key:e.toString()}),e}function oh(i,e){return wg(i.databaseId,e.path)}function Ac(i,e){const t=d1(e);if(t.get(1)!==i.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(f1(t))}function h1(i,e){return wg(i.databaseId,e)}function QC(i){const e=d1(i);return e.length===4?st.emptyPath():f1(e)}function Vm(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function f1(i){return ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function U0(i,e,t){return{name:oh(i,e),fields:t.value.mapValue.fields}}function KC(i,e){return"found"in e?(function(s,o){ze(!!o.found,43571),o.found.name,o.found.updateTime;const c=Ac(s,o.found.name),h=Bn(o.found.updateTime),p=o.found.createTime?Bn(o.found.createTime):Ee.min(),g=new wn({mapValue:{fields:o.found.fields}});return $t.newFoundDocument(c,h,p,g)})(i,e):"missing"in e?(function(s,o){ze(!!o.missing,3894),ze(!!o.readTime,22933);const c=Ac(s,o.missing),h=Bn(o.readTime);return $t.newNoDocument(c,h)})(i,e):ve(7234,{result:e})}function YC(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(ze(_===void 0||typeof _=="string",58123),sn.fromBase64String(_||"")):(ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),sn.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?$.UNKNOWN:o1(y.code);return new le(_,y.message||"")})(h);t=new c1(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ac(i,s.document.name),c=Bn(s.document.updateTime),h=s.document.createTime?Bn(s.document.createTime):Ee.min(),p=new wn({mapValue:{fields:s.document.fields}}),g=$t.newFoundDocument(o,c,h,p),y=s.targetIds||[],_=s.removedTargetIds||[];t=new qd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ac(i,s.document),c=s.readTime?Bn(s.readTime):Ee.min(),h=$t.newNoDocument(o,c),p=s.removedTargetIds||[];t=new qd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ac(i,s.document),c=s.removedTargetIds||[];t=new qd([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new LC(o,c),p=s.targetId;t=new l1(p,h)}}return t}function p1(i,e){let t;if(e instanceof Gc)t={update:U0(i,e.key,e.value)};else if(e instanceof gg)t={delete:oh(i,e.key)};else if(e instanceof Ds)t={update:U0(i,e.key,e.data),updateMask:iD(e.fieldMask)};else{if(!(e instanceof s1))return ve(16599,{Vt:e.type});t={verify:oh(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof Oc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:GC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(i,e.precondition)),t}function $C(i,e){return i&&i.length>0?(ze(e!==void 0,14353),i.map((t=>(function(o,c){let h=o.updateTime?Bn(o.updateTime):Bn(c);return h.isEqual(Ee.min())&&(h=Bn(c)),new kC(h,o.transformResults||[])})(t,e)))):[]}function XC(i,e){return{documents:[h1(i,e.path)]}}function m1(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=h1(i,o);const c=(function(y){if(y.length!==0)return y1(wi.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((_=>(function(A){return{field:fs(A.field),direction:eD(A.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Om(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function WC(i,e,t,s){const{ft:o,parent:c}=m1(i,e),h={},p=[];let g=0;return t.forEach((y=>{const _="aggregate_"+g++;h[_]=y.alias,y.aggregateType==="count"?p.push({alias:_,count:{}}):y.aggregateType==="avg"?p.push({alias:_,avg:{field:fs(y.fieldPath)}}):y.aggregateType==="sum"&&p.push({alias:_,sum:{field:fs(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:c}}function ZC(i){let e=QC(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=(function(T){const A=g1(T);return A instanceof wi&&BE(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new Nc(xo(F.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(t.orderBy));let p=null;t.limit&&(p=(function(T){let A;return A=typeof T=="object"?T.value:T,Fc(A)?null:A})(t.limit));let g=null;t.startAt&&(g=(function(T){const A=!!T.before,z=T.values||[];return new ih(z,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const A=!T.before,z=T.values||[];return new ih(z,A)})(t.endAt)),yC(e,o,h,c,p,"F",g,y)}function JC(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g1(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xo(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xo(t.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xo(t.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Vt.create(xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return wi.create(t.compositeFilter.filters.map((s=>g1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(t.compositeFilter.op))})(i):ve(30097,{filter:i})}function eD(i){return BC[i]}function tD(i){return qC[i]}function nD(i){return HC[i]}function fs(i){return{fieldPath:i.canonicalString()}}function xo(i){return rn.fromServerFormat(i.fieldPath)}function y1(i){return i instanceof Vt?(function(t){if(t.op==="=="){if(S0(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NAN"}};if(A0(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S0(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NOT_NAN"}};if(A0(t.value))return{unaryFilter:{field:fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(t.field),op:tD(t.op),value:t.value}}})(i):i instanceof wi?(function(t){const s=t.getFilters().map((o=>y1(o)));return s.length===1?s[0]:{compositeFilter:{op:nD(t.op),filters:s}}})(i):ve(54877,{filter:i})}function iD(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function v1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t,s,o,c=Ee.min(),h=Ee.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.yt=e}}function sD(i){const e=ZC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Cn=new oD}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ts.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class oD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new qt(st.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(w1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zo(0)}static cr(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LruGarbageCollector",lD=1048576;function B0([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class cD{constructor(e){this.Ir=e,this.buffer=new qt(B0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();B0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?de(z0,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.Vr(3e5)}))}}class dD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Ch.ce);const s=new cD(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(j0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,t)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Ao()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function hD(i,e){return new dD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.changes=new xa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Tc(s.mutation,o,jn.empty(),ht.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=je()){const o=pa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let h=mc();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=pa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,je())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,s,o){let c=Dr();const h=Ec(),p=(function(){return Ec()})();return t.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ds)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Tc(_.mutation,y,_.mutation.getFieldMask(),ht.now())):h.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>h.set(y,_))),t.forEach(((y,_)=>p.set(y,new pD(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Ec();let o=new gt(((h,p)=>h-p)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let _=s.get(g)||jn.empty();_=p.applyToLocalView(y,_),s.set(g,_);const T=(o.get(p.batchId)||je()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,T=WE();_.forEach((A=>{if(!c.has(A)){const z=i1(t.get(A),s.get(A));z!==null&&T.set(A,z),c=c.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return J.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):J.resolve(pa());let p=Ic,g=c;return h.next((y=>J.forEach(y,((_,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((A=>{g=g.insert(_,A)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,je()))).next((_=>({batchId:p,changes:XE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let o=mc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let h=mc();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(g=>{const y=(function(T,A){return new Zo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,$t.newInvalidDocument(_)))}));let p=mc();return h.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Tc(_.mutation,y,jn.empty(),ht.now()),Oh(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Bn(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:sD(o.bundledQuery),readTime:Bn(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new gt(ge.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=pa();return J.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=pa(),c=t.length+1,h=new ge(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new gt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=pa(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=pa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return J.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new VC(t,s));let c=this.qr.get(t);c===void 0&&(c=je(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.Qr=new qt(Yt.$r),this.Ur=new qt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Yt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ge(new st([])),s=new Yt(t,e),o=new Yt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new st([])),s=new Yt(t,e),o=new Yt(t,e+1);let c=je();return this.Ur.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new Yt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Yt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new MC(c,t,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Yt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qt(Ue);return t.forEach((o=>{const c=new Yt(o,0),h=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{s=s.add(p.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const h=new Yt(new ge(c),0);let p=new qt(Ue);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),J.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const c=new Yt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Yt(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.ri=e,this.docs=(function(){return new gt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=Dr();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$t.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Dr();const h=t.path,p=new ge(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||YI(KI(_),s)<=0||(o.has(_.key)||Oh(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,t,s,o){ve(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new bD(this)}getSize(e){return J.resolve(this.size)}}class bD extends fD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.persistence=e,this.si=new xa((t=>fg(t)),pg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new _g,this.targetCount=0,this.ai=zo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new vD,this.referenceDelegate=e(this),this.Pi=new ED(this),this.indexManager=new aD,this.remoteDocumentCache=(function(o){return new _D(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new rD(t),this.Ii=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new wD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new TD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class TD extends XI{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new _g,this.Vi=null}static mi(e){return new bg(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.pi=new xa((s=>JI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=hD(this,t)}static mi(e,t){return new lh(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(s++,c.removeEntry(h,Ee.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jd(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=je(),o=je();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Eg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XA()?8:WI(hn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new AD;return this.Ss(e,t,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Ao()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ao()<=Le.DEBUG&&de("QueryEngine","Query:",So(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ao()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):J.resolve())}ys(e,t){if(C0(t))return J.resolve(null);let s=Hi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=rh(t,null,"F"),s=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=je(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,rh(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return C0(t)||o.isEqual(Ee.min())?J.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(t,c);return this.Cs(t,h,s,o)?J.resolve(null):(Ao()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(t)),this.vs(e,h,t,QI(o,Ic)).next((p=>p)))}))}Ds(e,t){let s=new qt(YE(e));return t.forEach(((o,c)=>{Oh(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Ao()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",So(t)),this.ps.getDocumentsMatchingQuery(e,t,Ts.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",xD=3e8;class RD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new gt(Ue),this.xs=new xa((c=>fg(c)),pg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ID(i,e,t,s){return new RD(i,e,t,s)}async function b1(i,e){const t=xe(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=je();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function CD(i,e){const t=xe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const T=y.batch,A=T.keys();let z=J.resolve();return A.forEach((F=>{z=z.next((()=>_.getEntry(g,F))).next((ee=>{const K=y.docVersions.get(F);ze(K!==null,48541),ee.version.compareTo(K)<0&&(T.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),_.addEntry(ee)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=je();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function E1(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function DD(i,e){const t=xe(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((_,T)=>{const A=o.get(T);if(!A)return;p.push(t.Pi.removeMatchingKeys(c,_.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(c,_.addedDocuments,T))));let z=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?z=z.withResumeToken(sn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(_.resumeToken,s)),o=o.insert(T,z),(function(ee,K,ne){return ee.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=xD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,z,_)&&p.push(t.Pi.updateTargetData(c,z))}));let g=Dr(),y=je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(kD(c,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Ee.min())){const _=t.Pi.getLastRemoteSnapshotVersion(c).next((T=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return J.waitFor(p).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.Ms=o,c)))}function kD(i,e,t){let s=je(),o=je();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Dr();return t.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):de(Tg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function ND(i,e){const t=xe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ug),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function OD(i,e){const t=xe(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,J.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new ps(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Pm(i,e,t){const s=xe(i),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Wo(h))throw h;de(Tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function q0(i,e,t){const s=xe(i);let o=Ee.min(),c=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const T=xe(g),A=T.xs.get(_);return A!==void 0?J.resolve(T.Ms.get(A)):T.Pi.getTargetData(y,_)})(s,h,Hi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?c:je()))).next((p=>(MD(s,wC(e),p),{documents:p,Qs:c})))))}function MD(i,e,t){let s=i.Os.get(e)||Ee.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class H0{constructor(){this.activeTargetIds=SC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VD{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class G0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(F0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Lm(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",LD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const h=Lm(),p=this.zo(e,t.toUriEncodedString());de(dm,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=Qo(y);return this.Jo(e,p,g,s,_).then((T=>(de(dm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Po(dm,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,t,s,o,c,h){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=LD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class zD extends UD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const h=Lm();return new Promise(((p,g)=>{const y=new _E;y.setWithCredentials(!0),y.listenOnce(bE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ud.NO_ERROR:const T=y.getResponseJson();de(un,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case Ud.TIMEOUT:de(un,`RPC '${e}' ${h} timed out`),g(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const A=y.getStatus();if(de(un,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const ee=(function(ne){const ae=ne.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ae)>=0?ae:$.UNKNOWN})(F.status);g(new le(ee,F.message))}else g(new le($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(un,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);de(un,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=AE(),p=TE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=c.join("");de(un,`Creating RPC '${e}' stream ${o}: ${_}`,g);const T=h.createWebChannel(_,g);this.I_(T);let A=!1,z=!1;const F=new jD({Yo:K=>{z?de(un,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(A||(de(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),de(un,`RPC '${e}' stream ${o} sending:`,K),T.send(K))},Zo:()=>T.close()}),ee=(K,ne,ae)=>{K.listen(ne,(ie=>{try{ae(ie)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return ee(T,pc.EventType.OPEN,(()=>{z||(de(un,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),ee(T,pc.EventType.CLOSE,(()=>{z||(z=!0,de(un,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),ee(T,pc.EventType.ERROR,(K=>{z||(z=!0,Po(un,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),F.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),ee(T,pc.EventType.MESSAGE,(K=>{if(!z){const ne=K.data[0];ze(!!ne,16349);const ae=ne,ie=ae?.error||ae[0]?.error;if(ie){de(un,`RPC '${e}' stream ${o} received error:`,ie);const Re=ie.status;let ye=(function(x){const C=Mt[x];if(C!==void 0)return o1(C)})(Re),De=ie.message;ye===void 0&&(ye=$.INTERNAL,De="Unknown error status: "+Re+" with message "+ie.message),z=!0,F.a_(new le(ye,De)),T.close()}else de(un,`RPC '${e}' stream ${o} received:`,ne),F.u_(ne)}})),ee(p,EE.STAT_EVENT,(K=>{K.stat===xm.PROXY?de(un,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===xm.NOPROXY&&de(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(i){return new FC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class T1{constructor(e,t,s,o,c,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ag(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BD extends T1{constructor(e,t,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=YC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Bn(h.readTime):Ee.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Vm(this.serializer),t.addTarget=(function(c,h){let p;const g=h.target;if(p=km(g)?{documents:XC(c,g)}:{query:m1(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=u1(c,h.resumeToken);const y=Om(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){p.readTime=ah(c,h.snapshotVersion.toTimestamp());const y=Om(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=JC(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Vm(this.serializer),t.removeTarget=e,this.q_(t)}}class qD extends T1{constructor(e,t,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$C(e.writeResults,e.commitTime),s=Bn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>p1(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class FD extends HD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Mm(t,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Mm(t,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le($.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class QD{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ra(this)&&(de(Aa,"Restarting streams for network reachability change."),await(async function(g){const y=xe(g);y.Ea.add(4),await Kc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Ra=new GD(s,o)}}async function Uh(i){if(Ra(i))for(const e of i.da)await e(!0)}async function Kc(i){for(const e of i.da)await e(!1)}function A1(i,e){const t=xe(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ig(t)?Rg(t):Jo(t).O_()&&xg(t,e))}function Sg(i,e){const t=xe(i),s=Jo(t);t.Ia.delete(e),s.O_()&&S1(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ra(t)&&t.Ra.set("Unknown"))}function xg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(i).Y_(e)}function S1(i,e){i.Va.Ue(e),Jo(i).Z_(e)}function Rg(i){i.Va=new zC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jo(i).start(),i.Ra.ua()}function Ig(i){return Ra(i)&&!Jo(i).x_()&&i.Ia.size>0}function Ra(i){return xe(i).Ea.size===0}function x1(i){i.Va=void 0}async function KD(i){i.Ra.set("Online")}async function YD(i){i.Ia.forEach(((e,t)=>{xg(i,e)}))}async function $D(i,e){x1(i),Ig(i)?(i.Ra.ha(e),Rg(i)):i.Ra.set("Unknown")}async function XD(i,e,t){if(i.Ra.set("Online"),e instanceof c1&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){de(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ch(i,s)}else if(e instanceof qd?i.Va.Ze(e):e instanceof l1?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ee.min()))try{const s=await E1(i.localStore);t.compareTo(s)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),S1(c,g);const T=new ps(_.target,g,y,_.sequenceNumber);xg(c,T)})),c.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(s){de(Aa,"Failed to raise snapshot:",s),await ch(i,s)}}async function ch(i,e,t){if(!Wo(e))throw e;i.Ea.add(1),await Kc(i),i.Ra.set("Offline"),t||(t=()=>E1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(Aa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Uh(i)}))}function R1(i,e){return e().catch((t=>ch(i,t,e)))}async function jh(i){const e=xe(i),t=Rs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;WD(e);)try{const o=await ND(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,ZD(e,o)}catch(o){await ch(e,o)}I1(e)&&C1(e)}function WD(i){return Ra(i)&&i.Ta.length<10}function ZD(i,e){i.Ta.push(e);const t=Rs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function I1(i){return Ra(i)&&!Rs(i).x_()&&i.Ta.length>0}function C1(i){Rs(i).start()}async function JD(i){Rs(i).ra()}async function e4(i){const e=Rs(i);for(const t of i.Ta)e.ea(t.mutations)}async function t4(i,e,t){const s=i.Ta.shift(),o=yg.from(s,e,t);await R1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await jh(i)}async function n4(i,e){e&&Rs(i).X_&&await(async function(s,o){if((function(h){return a1(h)&&h!==$.ABORTED})(o.code)){const c=s.Ta.shift();Rs(s).B_(),await R1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(s)}})(i,e),I1(i)&&C1(i)}async function K0(i,e){const t=xe(i);t.asyncQueue.verifyOperationInProgress(),de(Aa,"RemoteStore received new credentials");const s=Ra(t);t.Ea.add(3),await Kc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uh(t)}async function i4(i,e){const t=xe(i);e?(t.Ea.delete(2),await Uh(t)):e||(t.Ea.add(2),await Kc(t),t.Ra.set("Unknown"))}function Jo(i){return i.ma||(i.ma=(function(t,s,o){const c=xe(t);return c.sa(),new BD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:KD.bind(null,i),t_:YD.bind(null,i),r_:$D.bind(null,i),H_:XD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Ig(i)?Rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),x1(i))}))),i.ma}function Rs(i){return i.fa||(i.fa=(function(t,s,o){const c=xe(t);return c.sa(),new qD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:JD.bind(null,i),r_:n4.bind(null,i),ta:e4.bind(null,i),na:t4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await jh(i)):(await i.fa.stop(),i.Ta.length>0&&(de(Aa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const h=Date.now()+s,p=new Cg(e,t,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),Wo(i))return new le($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=mc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.ga=new gt(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Bo{constructor(e,t,s,o,c,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new Bo(e,t,ko.emptySet(t),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class s4{constructor(){this.queries=$0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=xe(t),c=o.queries;o.queries=$0(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function $0(){return new xa((i=>KE(i)),Nh)}async function kg(i,e){const t=xe(i);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new r4,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Dg(h,`Initialization of query '${So(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Og(t)}async function Ng(i,e){const t=xe(i),s=e.query;let o=3;const c=t.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function a4(i,e){const t=xe(i);let s=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&Og(t)}function o4(i,e,t){const s=xe(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function Og(i){i.Ca.forEach((e=>{e.next()}))}var Um,X0;(X0=Um||(Um={})).Ma="default",X0.Cache="cache";class Mg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.key=e}}class k1{constructor(e){this.key=e}}class l4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=YE(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Y0,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const A=o.get(_),z=Oh(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let K=!1;A&&z?A.data.isEqual(z.data)?F!==ee&&(s.track({type:3,doc:z}),K=!0):this.su(A,z)||(s.track({type:2,doc:z}),K=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(p=!0)):!A&&z?(s.track({type:0,doc:z}),K=!0):A&&!z&&(s.track({type:1,doc:A}),K=!0,(g||y)&&(p=!0)),K&&(z?(h=h.add(z),c=ee?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(z,F){const ee=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:K})}};return ee(z)-ee(F)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Bo(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new k1(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new D1(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vg="SyncEngine";class c4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class u4{constructor(e){this.key=e,this.hu=!1}}class d4{constructor(e,t,s,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new xa((p=>KE(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ge.comparator),this.Au=new Map,this.Ru=new _g,this.Vu={},this.mu=new Map,this.fu=zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h4(i,e,t=!0){const s=L1(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await N1(s,e,t,!0),o}async function f4(i,e){const t=L1(i);await N1(t,e,!0,!1)}async function N1(i,e,t,s){const o=await OD(i.localStore,Hi(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await p4(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&A1(i.remoteStore,o),p}async function p4(i,e,t,s,o){i.pu=(T,A,z)=>(async function(ee,K,ne,ae){let ie=K.view.ru(ne);ie.Cs&&(ie=await q0(ee.localStore,K.query,!1).then((({documents:M})=>K.view.ru(M,ie))));const Re=ae&&ae.targetChanges.get(K.targetId),ye=ae&&ae.targetMismatches.get(K.targetId)!=null,De=K.view.applyChanges(ie,ee.isPrimaryClient,Re,ye);return Z0(ee,K.targetId,De.au),De.snapshot})(i,T,A,z);const c=await q0(i.localStore,e,!0),h=new l4(e,c.Qs),p=h.ru(c.documents),g=Qc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);Z0(i,t,y.au);const _=new c4(e,t,h);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function m4(i,e,t){const s=xe(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Nh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sg(s.remoteStore,o.targetId),jm(s,o.targetId)})).catch(Xo)):(jm(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function g4(i,e){const t=xe(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(t.remoteStore,s.targetId))}async function y4(i,e,t){const s=A4(i);try{const o=await(function(h,p){const g=xe(h),y=ht.now(),_=p.reduce(((z,F)=>z.add(F.key)),je());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=Dr(),ee=je();return g.Ns.getEntries(z,_).next((K=>{F=K,F.forEach(((ne,ae)=>{ae.isValidDocument()||(ee=ee.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,F))).next((K=>{T=K;const ne=[];for(const ae of p){const ie=OC(ae,T.get(ae.key).overlayedDocument);ie!=null&&ne.push(new Ds(ae.key,ie,UE(ie.value.mapValue),_n.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,ne,p)})).next((K=>{A=K;const ne=K.applyToLocalDocumentSet(T,ee);return g.documentOverlayCache.saveOverlays(z,K.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:XE(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new gt(Ue)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,t),await Yc(s,o.changes),await jh(s.remoteStore)}catch(o){const c=Dg(o,"Failed to persist write");t.reject(c)}}async function O1(i,e){const t=xe(i);try{const s=await DD(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=t.Au.get(c);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ze(h.hu,14607):o.removedDocuments.size>0&&(ze(h.hu,42227),h.hu=!1))})),await Yc(t,s,e)}catch(s){await Xo(s)}}function W0(i,e,t){const s=xe(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=xe(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,T)=>{for(const A of T.Sa)A.va(p)&&(y=!0)})),y&&Og(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function v4(i,e,t){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new gt(ge.comparator);h=h.insert(c,$t.newNoDocument(c,Ee.min()));const p=je().add(c),g=new Ph(Ee.min(),new Map,new gt(Ue),h,p);await O1(s,g),s.du=s.du.remove(c),s.Au.delete(e),Pg(s)}else await Pm(s.localStore,e,!1).then((()=>jm(s,e,t))).catch(Xo)}async function w4(i,e){const t=xe(i),s=e.batch.batchId;try{const o=await CD(t.localStore,e);V1(t,s,null),M1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Yc(t,o)}catch(o){await Xo(o)}}async function _4(i,e,t){const s=xe(i);try{const o=await(function(h,p){const g=xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((T=>(ze(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);V1(s,e,t),M1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Yc(s,o)}catch(o){await Xo(o)}}function M1(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function V1(i,e,t){const s=xe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||P1(i,s)}))}function P1(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Sg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Pg(i))}function Z0(i,e,t){for(const s of t)s instanceof D1?(i.Ru.addReference(s.key,e),b4(i,s)):s instanceof k1?(de(Vg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||P1(i,s.key)):ve(19791,{wu:s})}function b4(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(de(Vg,"New document in limbo: "+t),i.Eu.add(s),Pg(i))}function Pg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ge(st.fromString(e)),s=i.fu.next();i.Au.set(s,new u4(t)),i.du=i.du.insert(t,s),A1(i.remoteStore,new ps(Hi(kh(t.path)),s,"TargetPurposeLimboResolution",Ch.ce))}}async function Yc(i,e,t){const s=xe(i),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Eg.As(g.targetId,y);c.push(_)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const _=xe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>J.forEach(y,(A=>J.forEach(A.Es,(z=>_.persistence.referenceDelegate.addReference(T,A.targetId,z))).next((()=>J.forEach(A.ds,(z=>_.persistence.referenceDelegate.removeReference(T,A.targetId,z)))))))))}catch(T){if(!Wo(T))throw T;de(Tg,"Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const z=_.Ms.get(A),F=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion(F);_.Ms=_.Ms.insert(A,ee)}}})(s.localStore,c))}async function E4(i,e){const t=xe(i);if(!t.currentUser.isEqual(e)){de(Vg,"User change. New user:",e.toKey());const s=await b1(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new le($.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yc(t,s.Ls)}}function T4(i,e){const t=xe(i),s=t.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function L1(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v4.bind(null,e),e.Pu.H_=a4.bind(null,e.eventManager),e.Pu.yu=o4.bind(null,e.eventManager),e}function A4(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ID(this.persistence,new SD,e.initialUser,this.serializer)}Cu(e){return new _1(bg.mi,this.serializer)}Du(e){return new VD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class S4 extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new _1((s=>lh.mi(s,t)),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>W0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await i4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new s4})()}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),s=(function(c){return new zD(c)})(e.databaseInfo);return(function(c,h,p,g){return new FD(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,h,p){return new QD(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>W0(this.syncEngine,t,0)),(function(){return G0.v()?new G0:new PD})())}createSyncEngine(e,t){return(function(o,c,h,p,g,y,_){const T=new d4(o,c,h,p,g,y);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=xe(t);de(Aa,"RemoteStore shutting down."),s.Ea.add(5),await Kc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,c){const h=xe(o),p={documents:c.map((T=>oh(h.serializer,T)))},g=await h.Ho("BatchGetDocuments",h.serializer.databaseId,st.emptyPath(),p,c.length),y=new Map;g.forEach((T=>{const A=KC(h.serializer,T);y.set(A.key.toString(),A)}));const _=[];return c.forEach((T=>{const A=y.get(T.toString());ze(!!A,55234,{key:T}),_.push(A)})),_})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new gg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=ge.fromPath(s);this.mutations.push(new s1(o,this.precondition(o)))})),await(async function(s,o){const c=xe(s),h={writes:o.map((p=>p1(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,st.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ve(50498,{Gu:e.constructor.name});t=Ee.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new le($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?_n.exists(!1):_n.updateTime(t):_n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new le($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(t)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,s,o,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=c,this.zu=s.maxAttempts,this.M_=new Ag(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new x4(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Fc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!a1(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class I4{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{de(Is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(Is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Dg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fm(i,e){i.asyncQueue.verifyOperationInProgress(),de(Is,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await b1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function J0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await C4(i);de(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>K0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>K0(e.remoteStore,o))),i._onlineComponents=e}async function C4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Is,"Using user provided OfflineComponentProvider");try{await fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await fm(i,new uh)}}else de(Is,"Using default OfflineComponentProvider"),await fm(i,new S4(void 0));return i._offlineComponents}async function Ug(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Is,"Using user provided OnlineComponentProvider"),await J0(i,i._uninitializedComponentsProvider._online)):(de(Is,"Using default OnlineComponentProvider"),await J0(i,new zm))),i._onlineComponents}function D4(i){return Ug(i).then((e=>e.syncEngine))}function U1(i){return Ug(i).then((e=>e.datastore))}async function dh(i){const e=await Ug(i),t=e.eventManager;return t.onListen=h4.bind(null,e.syncEngine),t.onUnlisten=m4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),t}function k4(i,e,t={}){const s=new vi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const _=new Lg({next:A=>{_.Nu(),h.enqueueAndForget((()=>Ng(c,T)));const z=A.docs.has(p);!z&&A.fromCache?y.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&A.fromCache&&g&&g.source==="server"?y.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Mg(kh(p.path),_,{includeMetadataChanges:!0,qa:!0});return kg(c,T)})(await dh(i),i.asyncQueue,e,t,s))),s.promise}function N4(i,e,t={}){const s=new vi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const _=new Lg({next:A=>{_.Nu(),h.enqueueAndForget((()=>Ng(c,T))),A.fromCache&&g.source==="server"?y.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),T=new Mg(p,_,{includeMetadataChanges:!0,qa:!0});return kg(c,T)})(await dh(i),i.asyncQueue,e,t,s))),s.promise}function O4(i,e,t){const s=new vi;return i.asyncQueue.enqueueAndForget((async()=>{try{const o=await U1(i);s.resolve((async function(h,p,g){const y=xe(h),{request:_,gt:T,parent:A}=WC(y.serializer,vC(p),g);y.connection.$o||delete _.parent;const z=(await y.Ho("RunAggregationQuery",y.serializer.databaseId,A,_,1)).filter((ee=>!!ee.result));ze(z.length===1,64727);const F=z[0].result?.aggregateFields;return Object.keys(F).reduce(((ee,K)=>(ee[T[K]]=F[K],ee)),{})})(o,e,t))}catch(o){s.reject(o)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firestore.googleapis.com",tb=!0;class nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=tb}else this.host=e.host,this.ssl=e.ssl??tb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lD)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new jI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=eb.get(t);s&&(de("ComponentProvider","Removing Datastore"),eb.delete(t),s.terminate())})(this),Promise.resolve()}}function M4(i,e,t,s={}){i=zn(i,zh);const o=Qo(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(Cb(`https://${p}`),Db("Firestore",!0)),c.host!==z1&&c.host!==p&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!wa(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=dn.MOCK_USER;else{y=BA(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(T)}i._authCredentials=new PI(new xE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class _t{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Hc(t,_t._jsonSchema))return new _t(e,s||null,new ge(st.fromString(t.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Pt("string",_t._jsonSchemaVersion),referencePath:Pt("string")};class bs extends Mr{constructor(e,t,s){super(e,t,kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new ge(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function Pc(i,e,...t){if(i=It(i),RE("collection","path",e),i instanceof zh){const s=st.fromString(e,...t);return m0(s),new bs(i,null,s)}{if(!(i instanceof _t||i instanceof bs))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return m0(s),new bs(i.firestore,null,s)}}function qo(i,e,...t){if(i=It(i),arguments.length===1&&(e=cg.newId()),RE("doc","path",e),i instanceof zh){const s=st.fromString(e,...t);return p0(s),new _t(i,null,new ge(s))}{if(!(i instanceof _t||i instanceof bs))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return p0(s),new _t(i.firestore,i instanceof bs?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="AsyncQueue";class rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ag(this,"async_queue_retry"),this._c=()=>{const s=hm();s&&de(ib,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;de(ib,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",sb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sb(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class kr extends zh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new rb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rb(e),this._firestoreClient=void 0,await e}}}function V4(i,e){const t=typeof i=="object"?i:Mb(),s=typeof i=="string"?i:th,o=Wm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=jA("firestore");c&&M4(o,...c)}return o}function el(i){if(i._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||P4(i),i._firestoreClient}function P4(i){const e=i._freezeSettings(),t=(function(o,c,h,p){return new iC(o,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,j1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new I4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class U4{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(sn.fromBase64String(e))}catch(t){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Un(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hc(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Pt("string",Un._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Hc(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Pt("string",Fi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hc(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Gi(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Pt("string",Gi._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=/^__.*__$/;class z4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gc(e,this.data,t,this.fieldTransforms)}}class B1{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function q1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class jg{constructor(e,t,s,o,c,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(q1(this.Ac)&&j4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lh(e)}Cc(e,t,s,o=!1){return new jg({Ac:e,methodName:t,Dc:s,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(i){const e=i._freezeSettings(),t=Lh(i._databaseId);return new B4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function zg(i,e,t,s,o,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,t,o);qg("Data must be an object, but it was:",h,s);const p=H1(s,h);let g,y;if(c.merge)g=new jn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const T of c.mergeFields){const A=Bm(e,T,t);if(!h.contains(A))throw new le($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);G1(_,A)||_.push(A)}g=new jn(_),y=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=h.fieldTransforms;return new z4(new wn(p),g,y)}class Fh extends qh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}class Bg extends qh{_toFieldTransform(e){return new CC(e.path,new Oc)}isEqual(e){return e instanceof Bg}}function q4(i,e,t,s){const o=i.Cc(1,e,t);qg("Data must be an object, but it was:",o,s);const c=[],h=wn.empty();Cs(s,((g,y)=>{const _=Hg(e,g,t);y=It(y);const T=o.yc(_);if(y instanceof Fh)c.push(_);else{const A=$c(y,T);A!=null&&(c.push(_),h.set(_,A))}}));const p=new jn(c);return new B1(h,p,o.fieldTransforms)}function H4(i,e,t,s,o,c){const h=i.Cc(1,e,t),p=[Bm(e,s,t)],g=[o];if(c.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)p.push(Bm(e,c[A])),g.push(c[A+1]);const y=[],_=wn.empty();for(let A=p.length-1;A>=0;--A)if(!G1(y,p[A])){const z=p[A];let F=g[A];F=It(F);const ee=h.yc(z);if(F instanceof Fh)y.push(z);else{const K=$c(F,ee);K!=null&&(y.push(z),_.set(z,K))}}const T=new jn(y);return new B1(_,T,h.fieldTransforms)}function F4(i,e,t,s=!1){return $c(t,i.Cc(s?4:3,e))}function $c(i,e){if(F1(i=It(i)))return qg("Unsupported field value:",e,i),H1(i,e);if(i instanceof qh)return(function(s,o){if(!q1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=$c(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ht.fromDate(s);return{timestampValue:ah(o.serializer,c)}}if(s instanceof ht){const c=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:u1(o.serializer,s._byteString)};if(s instanceof _t){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gi)return(function(h,p){return{mapValue:{fields:{[PE]:{stringValue:LE},[nh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return mg(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ih(s)}`)})(i,e)}function H1(i,e){const t={};return DE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(i,((s,o)=>{const c=$c(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function F1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof Fi||i instanceof Un||i instanceof _t||i instanceof qh||i instanceof Gi)}function qg(i,e,t){if(!F1(t)||!IE(t)){const s=Ih(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Bm(i,e,t){if((e=It(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return Hg(i,e);throw hh("Field path arguments must be of type string or ",i,!1,void 0,t)}const G4=new RegExp("[~\\*/\\[\\]]");function Hg(i,e,t){if(e.search(G4)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Bh(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function hh(i,e,t,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new le($.INVALID_ARGUMENT,p+i+g)}function G1(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Q4 extends fh{data(){return super.data()}}function Gh(i,e){return typeof e=="string"?Hg(i,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class Gg extends Fg{}function K1(i,e,...t){let s=[];e instanceof Fg&&s.push(e),s=s.concat(t),(function(c){const h=c.filter((g=>g instanceof Qg)).length,p=c.filter((g=>g instanceof Qh)).length;if(h>1||h>0&&p>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Qh extends Gg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Qh(e,t,s)}_apply(e){const t=this._parse(e);return Y1(e._query,t),new Mr(e.firestore,e.converter,Nm(e._query,t))}_parse(e){const t=Hh(e.firestore);return(function(c,h,p,g,y,_,T){let A;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){lb(T,_);const F=[];for(const ee of T)F.push(ob(g,c,ee));A={arrayValue:{values:F}}}else A=ob(g,c,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||lb(T,_),A=F4(p,h,T,_==="in"||_==="not-in");return Vt.create(y,_,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function K4(i,e,t){const s=e,o=Gh("where",i);return Qh._create(o,s,t)}class Qg extends Fg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:wi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)Y1(h,g),h=Nm(h,g)})(e._query,t),new Mr(e.firestore,e.converter,Nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends Gg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=(function(o,c,h){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nc(c,h)})(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,(function(o,c){const h=o.explicitOrderBy.concat([c]);return new Zo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Y4(i,e="asc"){const t=e,s=Gh("orderBy",i);return Kg._create(s,t)}class Yg extends Gg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Yg(e,t,s)}_apply(e){return new Mr(e.firestore,e.converter,rh(e._query,this._limit,this._limitType))}}function $4(i){return Yg._create("limit",i,"F")}function ob(i,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(e)&&t.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!ge.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return T0(i,new ge(s))}if(t instanceof _t)return T0(i,t._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(t)}.`)}function lb(i,e){if(!Array.isArray(i)||i.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y1(i,e){const t=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $1{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Cs(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[nh].arrayValue?.values?.map((s=>Rt(s.doubleValue)));return new Gi(t)}convertGeoPoint(e){return new Fi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Dh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=As(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);ze(v1(s),9688,{name:e});const o=new Dc(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return o.isEqual(t)||Cr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class X4 extends $1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function W4(){return new L4("count")}class Ro{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends fh{constructor(e,t,s,o,c,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Es._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:Pt("string",Es._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Hd extends Es{data(e={}){return super.data(e)}}class ma{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Hd(this._firestore,this._userDataWriter,s.key,s,new Ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Hd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ro(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Hd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ro(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:Z4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(i){i=zn(i,_t);const e=zn(i.firestore,kr);return k4(el(e),i._key).then((t=>Z1(e,i,t)))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:Pt("string",ma._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Xc extends $1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function ek(i){i=zn(i,Mr);const e=zn(i.firestore,kr),t=el(e),s=new Xc(e);return Q1(i._query),N4(t,i._query).then((o=>new ma(e,s,i,o)))}function X1(i,e,t){i=zn(i,_t);const s=zn(i.firestore,kr),o=$g(i.converter,e,t);return W1(s,[zg(Hh(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,_n.none())])}function qm(i,e){const t=zn(i.firestore,kr),s=qo(i),o=$g(i.converter,e);return W1(t,[zg(Hh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,_n.exists(!1))]).then((()=>s))}function tk(i,...e){i=It(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ab(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ab(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,h,p;if(i instanceof _t)h=zn(i.firestore,kr),p=kh(i._key.path),c={next:g=>{e[s]&&e[s](Z1(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=zn(i,Mr);h=zn(g.firestore,kr),p=g._query;const y=new Xc(h);c={next:_=>{e[s]&&e[s](new ma(h,y,g,_))},error:e[s+1],complete:e[s+2]},Q1(i._query)}return(function(y,_,T,A){const z=new Lg(A),F=new Mg(_,z,T);return y.asyncQueue.enqueueAndForget((async()=>kg(await dh(y),F))),()=>{z.Nu(),y.asyncQueue.enqueueAndForget((async()=>Ng(await dh(y),F)))}})(el(h),p,o,c)}function W1(i,e){return(function(s,o){const c=new vi;return s.asyncQueue.enqueueAndForget((async()=>y4(await D4(s),o,c))),c.promise})(el(i),e)}function Z1(i,e,t){const s=t.docs.get(e._key),o=new Xc(i);return new Es(i,o,e._key,s,new Ro(t.hasPendingWrites,t.fromCache),e.converter)}function nk(i){return ik(i,{count:W4()})}function ik(i,e){const t=zn(i.firestore,kr),s=el(t),o=tC(e,((c,h)=>new PC(h,c.aggregateType,c._internalFieldPath)));return O4(s,i._query,o).then((c=>(function(p,g,y){const _=new Xc(p);return new U4(g,_,y)})(t,i,c)))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={maxAttempts:5};function yc(i,e){if((i=It(i)).firestore!==e)throw new le($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hh(e)}get(e){const t=yc(e,this._firestore),s=new X4(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return ve(24041);const c=o[0];if(c.isFoundDocument())return new fh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new fh(this._firestore,s,t._key,null,t.converter);throw ve(18433,{doc:c})}))}set(e,t,s){const o=yc(e,this._firestore),c=$g(o.converter,t,s),h=zg(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(e,t,s,...o){const c=yc(e,this._firestore);let h;return h=typeof(t=It(t))=="string"||t instanceof Bh?H4(this._dataReader,"Transaction.update",c._key,t,s,o):q4(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=yc(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak extends sk{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yc(e,this._firestore),s=new Xc(this._firestore);return super.get(e).then((o=>new Es(this._firestore,s,t._key,o._document,new Ro(!1,!1),t.converter)))}}function J1(i,e,t){i=zn(i,kr);const s={...rk,...t};return(function(c){if(c.maxAttempts<1)throw new le($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(c,h,p){const g=new vi;return c.asyncQueue.enqueueAndForget((async()=>{const y=await U1(c);new R4(c.asyncQueue,y,p,h,g).ju()})),g.promise})(el(i),(o=>e(new ak(i,o))),s)}function ga(){return new Bg("serverTimestamp")}(function(e,t=!0){(function(o){$o=o})(Ko),Mo(new _a("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new kr(new LI(s.getProvider("auth-internal")),new zI(h,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(y.options.projectId,_)})(h,o),h);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ws(u0,d0,e),ws(u0,d0,"esm2020")})();var ok="firebase",lk="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(ok,lk,"app");function ck(){return{apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"}}function Xg(){const i=rx();return i.length?i[0]:Ob(ck())}function uk(){const i=Xg();return OI(i)}function dk(){const i=Xg();return V4(i)}function hk(){const i=ue.useMemo(()=>Xg(),[]),e=ue.useMemo(()=>uk(),[]),t=ue.useMemo(()=>dk(),[]);return{app:i,auth:e,db:t}}function eT(i=900){const[e,t]=ue.useState(!1);return ue.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=c=>t(c.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}async function fk(i,e,t,s){const o=Pc(i,"spins"),c=qo(i,"userstats",e);await qm(o,{uid:e,...s,createdAt:ga()}),await J1(i,async h=>{const p=await h.get(c),g=p.exists()?p.data():{totalScore:0,totalSpins:0,displayName:t||"Anónimo"},y={displayName:t||g.displayName||"Anónimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:ga()};h.set(c,y,{merge:!0})})}async function pk(i){const e=K1(Pc(i,"userstats"),Y4("totalScore","desc"),$4(10));return(await ek(e)).docs.map(s=>({id:s.id,...s.data()}))}async function mk(i,e){const t=K1(Pc(i,"userstats"),K4("totalScore",">",e||0));return((await nk(t)).data().count||0)+1}const gk={es:{questionForPoints:i=>`Pregunta por ${i} puntos`,true:"Verdadero",false:"Falso",time:i=>`Tiempo: ${i}s`,answerShortPlaceholder:"Escribe tu respuesta corta",reply:"Responder"}};function Eo(i,...e){const s=gk.es[i];return typeof s=="function"?s(...e):s}let To;function tT(){if(typeof window>"u")return null;try{To||(To=new(window.AudioContext||window.webkitAudioContext)),To&&To.state==="suspended"&&To.resume().catch(()=>{})}catch{}return To}function Ho(i){try{navigator?.vibrate&&navigator.vibrate(i)}catch{}}function Sr({freq:i=660,duration:e=120,type:t="sine",volume:s=.03}={}){const o=tT();if(!o)return;const c=()=>{const h=o.createOscillator(),p=o.createGain();h.type=t,h.frequency.value=i,p.gain.value=s,h.connect(p),p.connect(o.destination);const g=o.currentTime;h.start(g),h.stop(g+e/1e3)};if(o.state!=="running")try{o.resume().then(c).catch(()=>{})}catch{}else c()}function yk(i=!0){Ho(12),i&&Sr({freq:480,duration:60,type:"triangle",volume:.025})}function vk({volume:i=.028}={}){const e=tT();if(!e)return;const t=()=>{const o=e.createBuffer(1,Math.floor(e.sampleRate*.04),e.sampleRate),c=o.getChannelData(0);for(let z=0;z<c.length;z++)c[z]=(Math.random()*2-1)*.6;const h=e.createBufferSource();h.buffer=o;const p=e.createBiquadFilter();p.type="bandpass",p.frequency.value=1600+Math.random()*300,p.Q.value=5;const g=e.createBiquadFilter();g.type="highpass",g.frequency.value=500,g.Q.value=.7;const y=e.createGain();y.gain.value=1e-4,h.connect(p),p.connect(g),g.connect(y),y.connect(e.destination);const _=e.currentTime;y.gain.exponentialRampToValueAtTime(i,_+.004),y.gain.exponentialRampToValueAtTime(1e-4,_+.032),h.start(_),h.stop(_+.04);const T=e.createOscillator(),A=e.createGain();T.type="sine",T.frequency.value=1900+Math.random()*150,A.gain.value=1e-4,T.connect(A),A.connect(e.destination),A.gain.exponentialRampToValueAtTime(i*.6,_+.003),A.gain.exponentialRampToValueAtTime(1e-4,_+.02),T.start(_),T.stop(_+.022)};if(e.state!=="running")try{e.resume().then(t).catch(()=>{})}catch{}else t()}function wk(i=!0,{durationMs:e=3800,totalTicks:t=40}={}){if(!i)return;const s=Math.max(10,t),o=24,c=2e3,h=ee=>1-Math.pow(1-ee,3),p=[];let g=0;for(let ee=0;ee<s;ee++){const K=ee/(s-1),ne=o+(c-o)*h(K);g+=ne,p.push(g)}const y=e/g,_=p.map(ee=>Math.floor(ee*y)),T=800,A=340,z=[];for(let ee=0;ee<_.length;ee++){const K=_[ee],ne=z.length?z[z.length-1]:-1/0;K>=e-T&&K-ne<A||z.push(K)}const F=z.length;z.forEach((ee,K)=>{const ne=F>1?K/(F-1):1,ae=.022+(ne>.66?.01*(ne-.66)/.34:0);setTimeout(()=>vk({volume:ae}),ee)})}function _k(i=!0){Ho([12,60,12]),i&&(Sr({freq:680,duration:90,type:"sine",volume:.035}),setTimeout(()=>Sr({freq:820,duration:80,type:"sine",volume:.035}),90))}function bk(i=!0){Ho(70),i&&Sr({freq:180,duration:150,type:"sawtooth",volume:.03})}function Ek(i=!0,e=1){if(Ho([20,40,20]),!i)return;const t=520,s=120,o=Math.min(3,1+e);for(let c=0;c<o;c++)setTimeout(()=>Sr({freq:t+c*s,duration:90,type:"sine",volume:.04}),c*100)}function cb({open:i,question:e,points:t,onAnswer:s,category:o}){const[c,h]=ue.useState(""),p=e?.type==="tf",g=e?.type==="short",[y,_]=ue.useState(20),[T,A]=ue.useState(!1),[z,F]=ue.useState(null),[ee,K]=ue.useState(!1),ne=ue.useRef(null),[ae,ie]=ue.useState(!1),ye=(N=>N<=5?.5:N<=10?.75:1)(y),De=t?Math.max(1,Math.round(t*ye)):0,M=y<=20&&t>0,x=ue.useMemo(()=>e?p?c==="true"||c==="false":g?c.trim().length>0:!1:!1,[e,p,g,c]);if(ue.useEffect(()=>{if(i)return _(20),A(!1),h(""),F(null),K(!1),ie(!1),ne.current&&(clearInterval(ne.current),ne.current=null),ne.current=setInterval(()=>{_(N=>Math.max(0,N-1))},1e3),()=>{ne.current&&(clearInterval(ne.current),ne.current=null)}},[i,e?.id]),ue.useEffect(()=>{T&&ne.current&&(clearInterval(ne.current),ne.current=null)},[T]),ue.useEffect(()=>{if(y===0&&!T){A(!0),ne.current&&(clearInterval(ne.current),ne.current=null),ie(!0);try{Ho([30,40,60])}catch{}try{Sr({freq:1200,duration:70,type:"triangle",volume:.05}),setTimeout(()=>Sr({freq:900,duration:70,type:"triangle",volume:.05}),60),setTimeout(()=>Sr({freq:600,duration:90,type:"sawtooth",volume:.05}),120)}catch{}s?.({timeout:!0,secondsLeft:0})}},[y,T,s]),ue.useEffect(()=>{if(!(!i||T)&&y<=5&&y>0){try{Ho(30)}catch{}try{Sr({freq:720-y*40,duration:80,type:"sine",volume:.04})}catch{}}},[i,T,y]),!i)return null;const C=()=>S.jsx("span",{"aria-hidden":!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:S.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 50 50",role:"img",children:[S.jsx("title",{children:"cargando"}),S.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"#94a3b8",strokeWidth:"4",fill:"none",opacity:".25"}),S.jsx("path",{d:"M25 5 a20 20 0 0 1 0 40",fill:"none",stroke:"#8be9e3",strokeWidth:"4",strokeLinecap:"round",children:S.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.9s",repeatCount:"indefinite"})})]})}),O=N=>{if(N?.preventDefault?.(),!x)return;const V=p?c==="true":c.trim().toLowerCase();s?.(V),h("")};return S.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",zIndex:50},children:S.jsxs("div",{className:`modal-card ${y<=5&&y>0?"shake-hard":""}`,"aria-busy":T,style:{width:"min(560px, 92vw)",background:"#111827",border:"1px solid #3f3f46",borderRadius:12,boxShadow:"0 10px 30px #0006",overflow:"hidden",position:"relative"},children:[S.jsxs("header",{style:{padding:"12px 16px",borderBottom:"1px solid #27272a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:2},children:[S.jsx("h3",{style:{margin:0,fontSize:18},children:Eo("questionForPoints",t)}),M&&S.jsxs("span",{style:{fontSize:14,color:"#8be9e3",fontWeight:600},children:["Ahora: ",De," punto",De!==1?"s":""," ",ye<1&&S.jsx("span",{style:{color:"#ef4444",fontWeight:500},children:"(por tiempo)"})]})]}),S.jsx("button",{disabled:T,onClick:()=>{T||(K(!0),A(!0),s?.({timeout:!0}))},"aria-label":"Cerrar",style:{background:"transparent",border:0,color:"#e5e7eb",cursor:T?"not-allowed":"pointer",opacity:T?.6:1},children:"✕"})]}),ae&&S.jsx("div",{className:"shatter-overlay","aria-hidden":!0,children:Array.from({length:14}).map((N,V)=>{const I=V/14*Math.PI*2,ce=120+V%3*40,Pe=Math.cos(I)*ce,Q=Math.sin(I)*ce,re=V*27%90-45;return S.jsx("span",{className:"shard",style:{"--dx":`${Pe}px`,"--dy":`${Q}px`,"--rot":`${re}deg`,left:"50%",top:"50%"}},V)})}),S.jsxs("div",{style:{padding:16,display:"grid",gap:12},children:[o&&S.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Relacionada con la ruleta: ",S.jsx("b",{children:o})]}),S.jsx("p",{style:{margin:"4px 0 8px 0"},children:e?.text}),p&&i&&S.jsxs("div",{style:{display:"flex",gap:8},children:[S.jsx("button",{className:"btn",disabled:T,onClick:()=>{F("true"),A(!0),s?.({choice:!0,secondsLeft:y})},style:{border:"1px solid #3f3f46",background:z==="true"?"#16a34a":"#14532d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:T?.9:1,transition:"transform .12s ease, background .2s ease",transform:z==="true"?"scale(1.04)":"scale(1)"},children:Eo("true")}),S.jsx("button",{className:"btn",disabled:T,onClick:()=>{F("false"),A(!0),s?.({choice:!1,secondsLeft:y})},style:{border:"1px solid #3f3f46",background:z==="false"?"#dc2626":"#7f1d1d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:T?.9:1,transition:"transform .12s ease, background .2s ease",transform:z==="false"?"scale(1.04)":"scale(1)"},children:Eo("false")})]}),T&&S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 10px",border:"1px dashed #334155",borderRadius:8,background:"rgba(15,23,42,.35)"},children:[S.jsx(C,{}),S.jsx("span",{style:{fontSize:13,color:"#cbd5e1"},children:ee?"Omitiendo pregunta…":"Procesando respuesta…"})]}),g&&S.jsx("form",{onSubmit:O,children:S.jsx("input",{autoFocus:!0,value:c,onChange:N=>h(N.target.value),placeholder:Eo("answerShortPlaceholder"),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #3f3f46",background:"#0b0b0b",color:"#e5e7eb"}})})]}),S.jsxs("footer",{style:{padding:16,borderTop:"1px solid #27272a",display:"flex",justifyContent:"space-between",gap:8,alignItems:"center"},children:[S.jsx("span",{className:y<=5&&y>0?"countdown-pop":void 0,style:{opacity:.95,color:y<=5?"#ef4444":"#e5e7eb",fontWeight:y<=5?700:500},children:Eo("time",y)},y),g&&S.jsx("button",{className:"btn",onClick:N=>{N?.preventDefault?.(),x&&(A(!0),s?.({value:c.trim().toLowerCase(),secondsLeft:y}))},disabled:!x,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"8px 12px",borderRadius:8},children:Eo("reply")})]})]})})}const Tk={Calidad:[{id:"cal1",type:"tf",text:"La calidad de datos incluye precisión, integridad y consistencia.",answer:!0,explain:"Son cualidades básicas de un buen dato: correcto, completo y coherente."},{id:"cal2",type:"tf",text:"Un dato inexacto, aun útil, sigue considerándose de alta calidad.",answer:!1,explain:"La utilidad no sustituye la precisión. Un dato inexacto no puede considerarse de alta calidad."},{id:"cal3",type:"tf",text:"La integridad es una dimensión de calidad que mide completitud.",answer:!0,explain:"Integridad se refiere a que no falten campos clave. Otras dimensiones: precisión, consistencia, oportunidad."},{id:"cal4",type:"tf",text:"La calidad de datos afecta directamente la toma de decisiones.",answer:!0,explain:"Decisiones basadas en datos de baja calidad llevan a errores y riesgos operativos."},{id:"cal5",type:"tf",text:"La oportunidad/puntualidad es una dimensión de calidad.",answer:!0,explain:"Se refiere a la disponibilidad del dato a tiempo para su uso."},{id:"cal6",type:"tf",text:"La consistencia implica que el mismo dato tenga el mismo valor en todos los sistemas.",answer:!0,explain:"Si un campo difiere entre fuentes, hay inconsistencia; esto deteriora la confianza y los análisis."},{id:"cal7",type:"tf",text:"Un dato oportuno puede ser de baja calidad si es incorrecto.",answer:!0,explain:"La puntualidad no compensa la falta de precisión."},{id:"cal8",type:"tf",text:"Validaciones automáticas antes de guardar mejoran la calidad.",answer:!0,explain:"Detectan errores temprano y reducen retrabajo."},{id:"cal9",type:"tf",text:"Los duplicados nunca afectan la calidad.",answer:!1,explain:"Los duplicados distorsionan conteos y análisis."},{id:"cal10",type:"tf",text:"Usar estándares de formato (fechas, unidades) evita errores de interpretación.",answer:!0,explain:"Estandarizar asegura que todos lean el dato igual."},{id:"cal11",type:"tf",text:"La calidad de datos solo importa para reportes y no para operaciones diarias.",answer:!1,explain:"Las operaciones también dependen de datos correctos; errores impactan procesos y clientes."},{id:"cal12",type:"tf",text:"Con suficiente volumen, los errores de calidad se compensan solos.",answer:!1,explain:"Más volumen no corrige sesgos ni errores; puede amplificarlos."},{id:"cal13",type:"tf",text:"Eliminar validaciones acelera y mantiene la calidad estable.",answer:!1,explain:"Quitar controles aumenta errores y retrabajo; baja la calidad."},{id:"cal14",type:"tf",text:"La consistencia entre sistemas es opcional si el equipo se comunica bien.",answer:!1,explain:"La inconsistencia genera decisiones distintas sobre la misma información."},{id:"cal15",type:"tf",text:"No es necesario medir la calidad si los usuarios están conformes.",answer:!1,explain:"Medir permite detectar y corregir problemas de forma objetiva."},{id:"cal16",type:"tf",text:"Definir umbrales y KPI de calidad permite monitorear desviaciones.",answer:!0,explain:"Indicadores objetivos ayudan a detectar y priorizar correcciones."},{id:"cal17",type:"tf",text:"La calidad de datos es responsabilidad exclusiva del área de TI.",answer:!1,explain:"Es responsabilidad compartida con el negocio (propietarios y stewards)."},{id:"cal18",type:"tf",text:"Muestreos y controles estadísticos ayudan a detectar anomalías en los datos.",answer:!0,explain:"El control estadístico permite encontrar errores sistemáticos o atípicos."},{id:"cal19",type:"tf",text:"Los datos maestros no requieren reglas de deduplicación.",answer:!1,explain:"La deduplicación es clave para evitar registros duplicados en maestros."},{id:"cal20",type:"tf",text:"Mejorar la calidad una vez al año es suficiente para cualquier organización.",answer:!1,explain:"La mejora continua es necesaria; la calidad cambia con los procesos."},{id:"calx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Hacer pausas al estudiar ayuda a retener mejor.",answer:!0,explain:"Las pausas mejoran la atención y la memoria."},{id:"calx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Es recomendable desactivar todas las validaciones para ir más rápido.",answer:!1,explain:"Quitar validaciones aumenta errores y baja la calidad."}],Seguridad:[{id:"seg1",type:"tf",text:"El control de acceso limita quién puede ver o modificar datos.",answer:!0,explain:"Sirve para que solo personas autorizadas entren o cambien la información."},{id:"seg2",type:"tf",text:"El cifrado sirve solo para datos en reposo.",answer:!1,explain:"El cifrado aplica en reposo y en tránsito; ambos son necesarios para proteger la confidencialidad."},{id:"seg3",type:"tf",text:"La autenticación multifactor reduce el riesgo de acceso no autorizado.",answer:!0,explain:"Agregar un segundo factor (algo que tienes) mitiga robo de contraseñas."},{id:"seg4",type:"tf",text:"ISO/IEC 27001 es un estándar de gestión de seguridad de la información.",answer:!0,explain:"Define requisitos de un SGSI (sistema de gestión de seguridad de la información)."},{id:"seg5",type:"tf",text:"Los respaldos forman parte de los controles de seguridad.",answer:!0,explain:"Las copias de seguridad permiten recuperar datos ante incidentes y mejoran la resiliencia."},{id:"seg6",type:"tf",text:"El principio de mínimo privilegio sugiere otorgar solo el acceso estrictamente necesario.",answer:!0,explain:"Reduce la superficie de ataque y el impacto de cuentas comprometidas."},{id:"seg7",type:"tf",text:"Actualizar sistemas y parches reduce riesgos por vulnerabilidades.",answer:!0,explain:"Cierra fallas conocidas aprovechadas por atacantes."},{id:"seg8",type:"tf",text:"Compartir contraseñas por correo es seguro si es con un compañero.",answer:!1,explain:"Nunca compartas contraseñas; usa gestores y 2 factores."},{id:"seg9",type:"tf",text:"Cerrar sesión en equipos compartidos reduce el riesgo.",answer:!0,explain:"Evita accesos no autorizados posteriores."},{id:"seg10",type:"tf",text:"La ingeniería social busca engañar para obtener acceso.",answer:!0,explain:"Desconfía de solicitudes urgentes e inesperadas."},{id:"seg11",type:"tf",text:"El antivirus reemplaza la necesidad de aplicar parches de seguridad.",answer:!1,explain:"Son controles complementarios; parches corrigen vulnerabilidades."},{id:"seg12",type:"tf",text:"Usar la misma contraseña en todos los sistemas es una buena práctica.",answer:!1,explain:"Reutilizar contraseñas incrementa el riesgo por brechas en cascada."},{id:"seg13",type:"tf",text:"Compartir accesos administrativos entre varias personas mejora el control.",answer:!1,explain:"Las cuentas personales trazables son clave para la responsabilidad."},{id:"seg14",type:"tf",text:"Los logs de seguridad no aportan valor para detectar incidentes.",answer:!1,explain:"La observabilidad es esencial para detectar y responder incidentes."},{id:"seg15",type:"tf",text:"El cifrado hace que las copias de respaldo sean innecesarias.",answer:!1,explain:"Respaldo y cifrado cubren riesgos distintos: pérdida vs. confidencialidad."},{id:"seg16",type:"tf",text:"La segregación de funciones reduce el riesgo de fraude interno.",answer:!0,explain:"Separar tareas críticas evita que una sola persona complete todo el flujo."},{id:"seg17",type:"tf",text:"Usar HTTPS en una intranet es innecesario.",answer:!1,explain:"El cifrado en tránsito protege contra escuchas incluso en redes internas."},{id:"seg18",type:"tf",text:"Las soluciones DLP ayudan a prevenir fuga de información.",answer:!0,explain:"Data Loss Prevention detecta y bloquea exfiltraciones no autorizadas."},{id:"seg19",type:"tf",text:"No es relevante bloquear la pantalla en ausencias cortas.",answer:!1,explain:"Bloquear la sesión evita accesos no autorizados incluso por segundos."},{id:"seg20",type:"tf",text:"El phishing se evita instalando más antivirus.",answer:!1,explain:"El antivirus no sustituye la concienciación ni filtros antiphishing."},{id:"segx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Usar Wi‑Fi público sin protección es seguro para datos sensibles.",answer:!1,explain:"Las redes públicas pueden ser interceptadas; evita enviar información sensible."},{id:"segx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Mantener el sistema operativo actualizado mejora la seguridad.",answer:!0,explain:"Las actualizaciones corrigen vulnerabilidades."}],Privacidad:[{id:"pri1",type:"tf",text:"La minimización de datos busca recolectar solo lo necesario.",answer:!0,explain:"Recolectar y procesar lo mínimo reduce riesgo y cumple principios de privacidad."},{id:"pri2",type:"tf",text:"Los datos personales siempre pueden hacerse públicos si están en internet.",answer:!1,explain:"Que algo esté en internet no significa que puedas usarlo libremente."},{id:"pri3",type:"tf",text:"El consentimiento es un fundamento común para tratar datos personales.",answer:!0,explain:"Además del consentimiento, existen otros fundamentos como obligación legal o interés legítimo."},{id:"pri4",type:"tf",text:"Privacidad por diseño integra privacidad desde el diseño y por defecto.",answer:!0,explain:"Es un enfoque proactivo que previene en lugar de corregir."},{id:"pri5",type:"tf",text:"Anonimizar y seudonimizar son exactamente lo mismo.",answer:!1,explain:"Anonimizar elimina el vínculo con el individuo; seudonimizar lo oculta, pero puede reidentificarse."},{id:"pri6",type:"tf",text:"La portabilidad de datos permite al titular obtener y reutilizar sus datos.",answer:!0,explain:"Es un derecho en varias normativas; fomenta competencia y control del usuario."},{id:"pri7",type:"tf",text:"El derecho de acceso permite saber qué datos se tratan sobre ti.",answer:!0,explain:"Puedes solicitar una copia y conocer fines y fuentes."},{id:"pri8",type:"tf",text:"Publicar fotos de otras personas siempre es legal si son en lugares públicos.",answer:!1,explain:"Pueden requerir consentimiento y respetar derechos de imagen."},{id:"pri9",type:"tf",text:"Se debe informar la finalidad al recolectar datos personales.",answer:!0,explain:"La transparencia es un principio clave de privacidad."},{id:"pri10",type:"tf",text:"Eliminar datos cuando ya no se necesitan reduce riesgos.",answer:!0,explain:"Minimiza exposición y cumplimiento de retención."},{id:"pri11",type:"tf",text:"Si un usuario publica su correo en internet, cualquiera puede usarlo para cualquier fin.",answer:!1,explain:"La licitud del tratamiento no depende solo de que algo sea público."},{id:"pri12",type:"tf",text:"No hace falta informar al titular sobre el uso de sus datos si es obvio.",answer:!1,explain:"La transparencia exige informar finalidades y derechos."},{id:"pri13",type:"tf",text:"La seudonimización garantiza que nadie pueda reidentificar.",answer:!1,explain:"Puede reidentificarse con datos auxiliares; no equivale a anonimizar."},{id:"pri14",type:"tf",text:"Los derechos de los titulares pueden ignorarse si es costoso atenderlos.",answer:!1,explain:"Los derechos aplican conforme a la normativa; el costo no los invalida."},{id:"pri15",type:"tf",text:"El principio de minimización permite recolectar “por si acaso”.",answer:!1,explain:"Recolectar solo lo necesario para fines específicos."},{id:"pri16",type:"tf",text:"Las evaluaciones de impacto en privacidad (PIA/DPIA) ayudan a identificar riesgos.",answer:!0,explain:"Permiten diseñar mitigaciones antes de implementar el tratamiento."},{id:"pri17",type:"tf",text:"El titular puede solicitar la supresión de sus datos en ciertos casos.",answer:!0,explain:"El derecho de supresión aplica cuando desaparece la finalidad u otros supuestos."},{id:"pri18",type:"tf",text:"Las cookies siempre pueden instalarse sin informar al usuario.",answer:!1,explain:"Se debe informar y, en su caso, recabar consentimiento."},{id:"pri19",type:"tf",text:"Debe mantenerse un registro de consentimientos otorgados y su alcance.",answer:!0,explain:"La trazabilidad del consentimiento es necesaria para demostrar licitud."},{id:"pri20",type:"tf",text:"Es válido compartir datos personales con terceros sin contrato ni garantías.",answer:!1,explain:"Se requieren acuerdos y garantías de protección adecuadas."},{id:"prix11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Configurar privacidad en redes sociales limita quién ve tu información.",answer:!0,explain:"Ajustar visibilidad protege tus datos personales."},{id:"prix12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Compartir tu ubicación en tiempo real siempre es seguro.",answer:!1,explain:"Compartir ubicación aumenta riesgos si no se controla."}],Catálogo:[{id:"cat1",type:"tf",text:"Un catálogo de datos facilita descubrir y entender conjuntos de datos.",answer:!0,explain:"Centraliza metadatos, descripciones y responsables para acelerar el hallazgo."},{id:"cat2",type:"tf",text:"Un diccionario de datos describe campos y su significado.",answer:!0,explain:"Explica qué es cada campo y cómo se usa."},{id:"cat3",type:"tf",text:"Los metadatos ayudan a encontrar datos adecuados para un análisis.",answer:!0,explain:"Los metadatos (descripción, etiquetas, calidad) mejoran la búsqueda y selección."},{id:"cat4",type:"tf",text:"Un catálogo no necesita taxonomías ni etiquetas.",answer:!1,explain:"Taxonomías/etiquetas mejoran el orden y descubrimiento dentro del catálogo."},{id:"cat5",type:"tf",text:"El metadato “propietario” es clave para la gobernanza.",answer:!0,explain:"Acelera decisiones y clarifica responsabilidades."},{id:"cat6",type:"tf",text:"La calidad de metadatos impacta directamente la utilidad del catálogo.",answer:!0,explain:"Metadatos pobres dificultan el hallazgo y pueden conducir a mal uso del dato."},{id:"cat7",type:"tf",text:"Etiquetas coherentes facilitan encontrar datasets relacionados.",answer:!0,explain:"Etiquetar bien mejora el descubrimiento."},{id:"cat8",type:"tf",text:"Un catálogo sin buscador sigue siendo igual de útil.",answer:!1,explain:"El buscador es clave cuando crece el contenido."},{id:"cat9",type:"tf",text:"La fecha de actualización ayuda a elegir datos vigentes.",answer:!0,explain:"Evita usar información desactualizada."},{id:"cat10",type:"tf",text:"La participación de usuarios mejora la calidad del catálogo.",answer:!0,explain:"Sugerencias y correcciones elevan la utilidad."},{id:"cat11",type:"tf",text:"Un catálogo es solo una vitrina; no necesita gobierno ni procesos.",answer:!1,explain:"Requiere cuidado continuo: roles, calidad de metadatos y procesos."},{id:"cat12",type:"tf",text:"Es mejor permitir descripciones libres sin estructura en el catálogo.",answer:!1,explain:"Plantillas y campos estructurados mejoran la búsqueda y calidad."},{id:"cat13",type:"tf",text:"Actualizar metadatos no es necesario si el dataset cambia poco.",answer:!1,explain:"La vigencia de metadatos es clave para la confianza y el reuso."},{id:"cat14",type:"tf",text:"Los responsables de datos no deben figurar en el catálogo.",answer:!1,explain:"El contacto/responsable facilita soporte y decisiones."},{id:"cat15",type:"tf",text:"Un catálogo sin control de calidad funciona igual que uno curado.",answer:!1,explain:"La curaduría mejora utilidad, precisión y adopción."},{id:"cat16",type:"tf",text:"Definir campos obligatorios en metadatos mejora la calidad del catálogo.",answer:!0,explain:"Obligatoriedad mínima evita registros incompletos o ambiguos."},{id:"cat17",type:"tf",text:"La búsqueda semántica nunca aporta valor en catálogos.",answer:!1,explain:"Puede mejorar el descubrimiento al entender intención y sinónimos."},{id:"cat18",type:"tf",text:"No es necesario versionar datasets publicados.",answer:!1,explain:"El versionado permite reproducibilidad y comunicación de cambios."},{id:"cat19",type:"tf",text:"Métricas de uso ayudan a priorizar mejoras en metadatos y datasets.",answer:!0,explain:"El uso real orienta dónde invertir esfuerzos de curaduría."},{id:"cat20",type:"tf",text:"El catálogo debe almacenar los datos, no solo metadatos.",answer:!1,explain:"El catálogo referencia y documenta; no reemplaza los repositorios de datos."},{id:"catx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Mantener ordenadas carpetas personales no influye en catálogos de datos.",answer:!1,explain:"El orden personal también inspira mejores prácticas organizacionales."},{id:"catx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Una buena documentación acelera el aprendizaje de herramientas.",answer:!0,explain:"Documentar reduce curva de aprendizaje."}],Propiedad:[{id:"pro1",type:"tf",text:"El data owner es responsable del uso y calidad del dato.",answer:!0,explain:"Define reglas, prioriza mejoras y asume responsabilidad por el dato."},{id:"pro2",type:"tf",text:"Data steward y data owner siempre son la misma persona.",answer:!1,explain:"El steward opera el dato; el owner es responsable. Pueden ser roles distintos."},{id:"pro3",type:"tf",text:"Definir responsables aclara quién decide sobre cambios en el dato.",answer:!0,explain:"La asignación de roles evita ambigüedad y acelera decisiones."},{id:"pro4",type:"tf",text:"El data steward gestiona la calidad y tareas del día a día del dato.",answer:!0,explain:"Ayuda a que el dato esté bien cuidado y documentado."},{id:"pro5",type:"tf",text:"Sin propietarios definidos, la calidad tiende a mejorar.",answer:!1,explain:"Sin responsables claros, la calidad suele degradarse por falta de cuidado."},{id:"pro6",type:"tf",text:"La matriz RACI ayuda a clarificar roles y responsabilidades sobre el dato.",answer:!0,explain:"RACI = Responsable, Aprobador, Consultado e Informado. Sirve para definir quién hace qué."},{id:"pro7",type:"tf",text:"Definir sustitutos del propietario evita bloqueos por ausencias.",answer:!0,explain:"Garantiza continuidad de decisiones."},{id:"pro8",type:"tf",text:"Roles y límites claros reducen conflictos entre equipos.",answer:!0,explain:"Cada uno sabe qué puede decidir."},{id:"pro9",type:"tf",text:"Un owner puede delegar tareas pero no la responsabilidad final.",answer:!0,explain:"La rendición de cuentas sigue en el owner."},{id:"pro10",type:"tf",text:"Sin un modelo de roles, la gobernanza funciona igual de bien.",answer:!1,explain:"La falta de estructura genera retrasos y errores."},{id:"pro11",type:"tf",text:"Designar múltiples owners por dato siempre reduce ambigüedad.",answer:!1,explain:"Demasiados owners diluyen la responsabilidad; debe haber claridad."},{id:"pro12",type:"tf",text:"La ausencia de responsables no afecta los tiempos de respuesta.",answer:!1,explain:"Sin responsables, las decisiones se retrasan y la calidad sufre."},{id:"pro13",type:"tf",text:"El owner puede transferir la rendición de cuentas a cualquier rol.",answer:!1,explain:"Puede delegar tareas, no la responsabilidad final."},{id:"pro14",type:"tf",text:"No es necesario documentar reemplazos del owner en vacaciones.",answer:!1,explain:"Definir sustitutos evita bloqueos operativos."},{id:"pro15",type:"tf",text:"Un RACI complejo siempre es mejor que un RACI simple.",answer:!1,explain:"La claridad prima sobre la complejidad; evita confusión."},{id:"pro16",type:"tf",text:"Definir KPI de calidad por cada owner ayuda a rendir cuentas.",answer:!0,explain:"Los indicadores facilitan seguimiento y priorización de mejoras."},{id:"pro17",type:"tf",text:"Cambiar el owner de un dato cada semana mejora la agilidad.",answer:!1,explain:"La rotación frecuente genera confusión y diluye responsabilidades."},{id:"pro18",type:"tf",text:"Los comités de datos ayudan a resolver conflictos y tomar decisiones.",answer:!0,explain:"Gobernanza colegiada alinea áreas y acelera acuerdos."},{id:"pro19",type:"tf",text:"La rendición de cuentas no aplica a datos no críticos.",answer:!1,explain:"Todos los datos requieren responsables con rendición de cuentas."},{id:"pro20",type:"tf",text:"Documentar roles en el catálogo mejora la visibilidad de responsables.",answer:!0,explain:"Permite ubicar owners/stewards y solicitar soporte."},{id:"prox11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Un cronograma claro ayuda a coordinar proyectos.",answer:!0,explain:"La planificación mejora la ejecución."},{id:"prox12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Las reuniones sin agenda suelen ser eficientes.",answer:!1,explain:"La agenda mejora foco y tiempos."}],Trazabilidad:[{id:"tra1",type:"tf",text:"La trazabilidad permite conocer el origen y transformaciones del dato.",answer:!0,explain:"Registrar orígenes y procesos facilita auditorías y resolución de problemas."},{id:"tra2",type:"tf",text:"El linaje de datos no es relevante para auditorías.",answer:!1,explain:"El linaje es clave para demostrar dónde, cómo y por quién pasó el dato."},{id:"tra3",type:"tf",text:"El linaje ayuda a ver el impacto de cambios en las fuentes.",answer:!0,explain:"Saber de dónde viene el dato permite evaluar riesgos antes de cambiarlo."},{id:"tra4",type:"tf",text:"El linaje de datos describe el origen y las transformaciones del dato.",answer:!0,explain:"Es el rastro de dónde viene el dato y cómo cambió en el camino."},{id:"tra5",type:"tf",text:"Registrar transformaciones ayuda a reproducir resultados.",answer:!0,explain:"La reproducibilidad requiere conocer las transformaciones intermedias."},{id:"tra6",type:"tf",text:"Las herramientas de linaje pueden capturar orígenes de forma automática.",answer:!0,explain:"Reducen trabajo manual y errores."},{id:"tra7",type:"tf",text:"El linaje apoya el cumplimiento en auditorías.",answer:!0,explain:"Demuestra la ruta del dato y controles aplicados."},{id:"tra8",type:"tf",text:"No es útil registrar versiones de scripts de transformación.",answer:!1,explain:"Versionar scripts es clave para reproducir y auditar."},{id:"tra9",type:"tf",text:"Identificadores únicos ayudan a seguir registros entre sistemas.",answer:!0,explain:"Facilitan correlacionar eventos a través del flujo."},{id:"tra10",type:"tf",text:"La trazabilidad aumenta la confianza en reportes y decisiones.",answer:!0,explain:"Transparencia = mayor credibilidad."},{id:"tra11",type:"tf",text:"Si el equipo recuerda los pasos, no hace falta documentar el linaje.",answer:!1,explain:"La memoria es falible; se requiere registro verificable."},{id:"tra12",type:"tf",text:"El linaje solo interesa a TI, no al negocio.",answer:!1,explain:"Ambos lo usan: impacto de cambios, calidad y auditorías."},{id:"tra13",type:"tf",text:"Las transformaciones manuales no necesitan trazabilidad.",answer:!1,explain:"Toda transformación relevante debe quedar registrada."},{id:"tra14",type:"tf",text:"Versionar scripts es innecesario si hay backups.",answer:!1,explain:"Versionado y backup resuelven problemas distintos."},{id:"tra15",type:"tf",text:"El linaje no ayuda a resolver discrepancias entre reportes.",answer:!1,explain:"Permite ubicar dónde cambió el dato y por qué."},{id:"tra16",type:"tf",text:"Capturar el ID de ejecución y parámetros mejora la reproducibilidad.",answer:!0,explain:"Permite repetir un proceso con exactitud y auditarlo."},{id:"tra17",type:"tf",text:"El linaje puede omitirse en pipelines por lotes (batch).",answer:!1,explain:"Batch o streaming, el linaje sigue siendo necesario para auditar."},{id:"tra18",type:"tf",text:"Automatizar la captura de linaje en ETL/ELT facilita auditorías.",answer:!0,explain:"Reduce errores manuales y mejora cobertura del linaje."},{id:"tra19",type:"tf",text:"No hace falta registrar versiones de las fuentes de datos.",answer:!1,explain:"Las versiones permiten rastrear cambios e impactos."},{id:"tra20",type:"tf",text:"Los catálogos no deben incluir información de linaje.",answer:!1,explain:"Linaje + metadatos en el catálogo incrementan la confianza y trazabilidad."},{id:"trax11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Anotar pasos a mano puede ayudar a recordar cambios.",answer:!0,explain:"Registrar pasos evita olvidar decisiones."},{id:"trax12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Los historiales de edición no sirven para aprender de errores.",answer:!1,explain:"Revisar historial ayuda a mejorar procesos."}],Políticas:[{id:"pol1",type:"tf",text:"Las políticas de datos definen reglas de uso, acceso y retención.",answer:!0,explain:"Establecen el marco formal que guía el manejo y protección del dato."},{id:"pol2",type:"tf",text:"Si existen políticas, no se necesitan controles técnicos.",answer:!1,explain:"Política y controles se complementan: reglas + mecanismos para cumplirlas."},{id:"pol3",type:"tf",text:"Las políticas deben ser comunicadas y versionadas.",answer:!0,explain:"Comunicar y versionar mantiene a todos alineados con los cambios."},{id:"pol4",type:"tf",text:"Los procedimientos convierten políticas en pasos claros.",answer:!0,explain:"Son instrucciones para cumplir lo que dicen las políticas."},{id:"pol5",type:"tf",text:"Las políticas no aplican a datos no estructurados.",answer:!1,explain:"Las políticas aplican a todos los datos, estructurados o no."},{id:"pol6",type:"tf",text:"Las políticas deben indicar responsables y excepciones permitidas.",answer:!0,explain:"Aclaran quién decide y en qué casos."},{id:"pol7",type:"tf",text:"Sin capacitación, las políticas pueden no cumplirse.",answer:!0,explain:"La formación ayuda a aplicarlas correctamente."},{id:"pol8",type:"tf",text:"La política de retención define cuánto tiempo guardar datos.",answer:!0,explain:"Evita retener más de lo necesario."},{id:"pol9",type:"tf",text:"Las sanciones pueden ayudar a hacer cumplir las políticas.",answer:!0,explain:"Refuerzan la importancia del cumplimiento."},{id:"pol10",type:"tf",text:"No es necesario medir el cumplimiento de políticas.",answer:!1,explain:"Medir permite mejorar y corregir desviaciones."},{id:"pol11",type:"tf",text:"Las políticas por sí solas garantizan el cumplimiento sin capacitación.",answer:!1,explain:"Se requiere formación, procesos y controles."},{id:"pol12",type:"tf",text:"Versionar políticas es innecesario si se comunican por correo.",answer:!1,explain:"El versionado controla cambios y asegura trazabilidad."},{id:"pol13",type:"tf",text:"Las excepciones nunca deben documentarse.",answer:!1,explain:"Documentarlas permite controlarlas y aprender de ellas."},{id:"pol14",type:"tf",text:"Medir cumplimiento puede omitirse si no hay auditorías externas.",answer:!1,explain:"La mejora continua requiere medición, haya o no auditorías."},{id:"pol15",type:"tf",text:"Las políticas no aplican a proveedores ni terceros.",answer:!1,explain:"Alcance y obligaciones deben incluir terceros."},{id:"pol16",type:"tf",text:"Las políticas deben alinearse con leyes y regulaciones vigentes.",answer:!0,explain:"El marco normativo guía el contenido y su aplicación."},{id:"pol17",type:"tf",text:"No hace falta publicar las políticas a los usuarios afectados.",answer:!1,explain:"La comunicación y disponibilidad son requisitos para el cumplimiento."},{id:"pol18",type:"tf",text:"Debe definirse el proceso de aprobación y control de excepciones.",answer:!0,explain:"Las excepciones controladas requieren trazabilidad y responsables."},{id:"pol19",type:"tf",text:"Las políticas pueden ser contradictorias entre sí sin problema.",answer:!1,explain:"La coherencia es clave para evitar ambigüedad e incumplimientos."},{id:"pol20",type:"tf",text:"Revisiones periódicas por un comité aseguran vigencia y efectividad.",answer:!0,explain:"La gobernanza debe mantenerlas actualizadas y efectivas."},{id:"polx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Tener normas de convivencia mejora el trabajo en equipo.",answer:!0,explain:"Reglas claras facilitan colaboración."},{id:"polx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Las reglas claras empeoran la comunicación.",answer:!1,explain:"Claridad mejora la comunicación."}],Interoperabilidad:[{id:"int1",type:"tf",text:"Los estándares y formatos abiertos mejoran la interoperabilidad.",answer:!0,explain:"Facilitan el intercambio al reducir dependencias de proveedor."},{id:"int2",type:"tf",text:"La interoperabilidad solo importa entre sistemas internos.",answer:!1,explain:"También es clave para integraciones con socios, clientes y terceros."},{id:"int3",type:"tf",text:"Las API bien documentadas facilitan la integración entre sistemas.",answer:!0,explain:"API = Interfaz de Programación de Aplicaciones. Una buena documentación evita errores al conectar sistemas."},{id:"int4",type:"tf",text:"JSON (JavaScript Object Notation) es un formato común para intercambio de datos.",answer:!0,explain:"Es ligero, legible y ampliamente soportado."},{id:"int5",type:"tf",text:"Los esquemas y contratos evitan rupturas entre integraciones.",answer:!0,explain:"Los contratos estables permiten compatibilidad y evolución controlada."},{id:"int6",type:"tf",text:"Versionar las API ayuda a mantener compatibilidad mientras evolucionan.",answer:!0,explain:"API = Interfaz de Programación de Aplicaciones. Versionar evita romper clientes existentes y permite introducir cambios de forma controlada."},{id:"int7",type:"tf",text:"Las pruebas de contrato detectan rupturas temprano.",answer:!0,explain:"Validan que los acuerdos entre servicios sigan válidos."},{id:"int8",type:"tf",text:"Alinear tipos y codificaciones evita errores de interpretación.",answer:!0,explain:"Conviene acordar juegos de caracteres y tipos."},{id:"int9",type:"tf",text:"La interoperabilidad mejora con documentación y ejemplos de uso.",answer:!0,explain:"Ejemplos reducen ambigüedades al integrar."},{id:"int10",type:"tf",text:"Ignorar versiones de una API rara vez causa problemas.",answer:!1,explain:"Rompe clientes y genera fallos en producción."},{id:"int11",type:"tf",text:"Si dos sistemas “hablan” JSON, ya no se necesitan contratos.",answer:!1,explain:"El contrato define estructura y semántica; formato no basta."},{id:"int12",type:"tf",text:"La documentación de APIs puede omitirse si el código es claro.",answer:!1,explain:"La doc publica y ejemplos reducen errores de integración."},{id:"int13",type:"tf",text:"Cambiar un campo en la API sin comunicar no afecta a los clientes.",answer:!1,explain:"Es ruptura silenciosa; se debe versionar y comunicar."},{id:"int14",type:"tf",text:"Las pruebas de contrato sobran cuando hay tests unitarios.",answer:!1,explain:"Validan la compatibilidad entre servicios, no solo lógica interna."},{id:"int15",type:"tf",text:"Los esquemas no deben validar tipos para evitar rechazos.",answer:!1,explain:"Validar tipos previene errores de interpretación y fallos."},{id:"int16",type:"tf",text:"Definir OpenAPI/JSON Schema facilita integraciones consistentes.",answer:!0,explain:"Contratos claros reducen rupturas y malentendidos."},{id:"int17",type:"tf",text:"La codificación de caracteres (p. ej., UTF-8) es irrelevante para integrar.",answer:!1,explain:"Acordar codificación evita errores de caracteres y datos corruptos."},{id:"int18",type:"tf",text:"Las pruebas de compatibilidad hacia atrás ayudan en cambios de API.",answer:!0,explain:"Garantizan que clientes antiguos sigan funcionando."},{id:"int19",type:"tf",text:"Se pueden cambiar nombres de campos en producción sin previo aviso.",answer:!1,explain:"Es ruptura; se debe versionar y comunicar cambios."},{id:"int20",type:"tf",text:"No es necesario documentar límites de tasa (rate limits) ni tiempos de respuesta.",answer:!1,explain:"Son parte del contrato de servicio y su SLO."},{id:"intx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Nombres claros en variables ayudan a entender el código.",answer:!0,explain:"Claridad mejora mantenimiento."},{id:"intx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Copiar y pegar datos a mano siempre es mejor que automatizar.",answer:!1,explain:"La automatización reduce errores humanos."}]};function Ak(i,e=new Set,t=[]){const s=[...Tk[i]||[],...t||[]];if(!s.length)return null;const o=s.filter(y=>!e.has(y.id)),c=o.filter(y=>!y.offTopic),h=o.filter(y=>y.offTopic),p=c.length?c:h.length?h:s,g=Math.floor(Math.random()*p.length);return p[g]}async function Sk(i,e,t,s,o,c){try{const y=Pc(i,"quizEvents");await qm(y,{uid:e,category:s.label,points:s.points,questionId:o?.id||null,correct:!!c,createdAt:ga()})}catch(y){console.warn("quizEvents not persisted:",y?.message||y)}const h=qo(i,"userstats",e),p=Pc(i,"spins"),g=c?s.points:-s.points;await qm(p,{uid:e,label:`${s.label}${c?"":" (fallo)"}`,points:g,createdAt:ga()}),await J1(i,async y=>{const _=await y.get(h),T=_.exists()?_.data():{totalScore:0,totalSpins:0,displayName:t||"Anónimo"},A={displayName:t||T.displayName||"Anónimo",totalScore:(T.totalScore||0)+g,totalSpins:(T.totalSpins||0)+1,updatedAt:ga()};y.set(h,A,{merge:!0})})}const xk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=";function Hm({open:i,title:e,onClose:t,children:s,hideClose:o=!1}){return i?S.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:S.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:c=>c.stopPropagation(),children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[S.jsx("strong",{style:{fontSize:16},children:e}),!o&&S.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid var(--stroke)",background:"#18181b",color:"#fafafa",padding:"6px 10px"},children:"Cerrar"})]}),S.jsx("div",{style:{padding:12},children:s})]})}):null}function Rk({open:i,onClose:e,soundOn:t,onToggleSound:s,onExit:o}){return S.jsx(Hm,{open:i,title:"Ajustes",onClose:e,hideClose:!0,children:S.jsxs("div",{style:{display:"grid",gap:16},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("span",{children:"Sonido"}),S.jsx("button",{type:"button",onClick:s,className:`switch ${t?"on":""}`,"aria-pressed":t,"aria-label":"Activar o desactivar sonido",children:S.jsx("span",{className:"switch-knob"})})]}),S.jsx("button",{onClick:()=>{e?.(),o?.()},className:"btn",style:{marginTop:4},children:"Salir del juego"})]})})}function Ik({open:i,level:e,streak:t,onClose:s}){return i?S.jsx("div",{onClick:s,style:{position:"fixed",inset:0,background:"rgba(0,0,0,.5)",display:"grid",placeItems:"center",zIndex:70},children:S.jsxs("div",{onClick:o=>o.stopPropagation(),style:{background:"#0b0b0b",border:"1px solid #3f3f46",borderRadius:16,padding:20,boxShadow:"0 14px 40px rgba(0,0,0,.45)",textAlign:"center",width:"min(520px, 92vw)"},children:[S.jsxs("div",{style:{fontSize:22,fontWeight:900,marginBottom:6},children:[e===1&&"🔥 ¡Racha de 3!",e===2&&"⚡ ¡Racha de 7!",e===3&&(t>=10?"🏆 ¡Racha 10+!":"🏆 ¡Racha de 10!")]}),S.jsxs("div",{style:{opacity:.9,marginBottom:12},children:["¡Sigue así! Racha actual: ",S.jsx("b",{children:t})]}),S.jsx("button",{onClick:s,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"8px 12px"},children:"Continuar"})]})}):null}function Ck({streak:i,score:e,onOpenTop10:t,profileError:s}){return S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,flexWrap:"wrap",rowGap:6},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[S.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Racha: ",S.jsx("b",{children:i})]}),S.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",S.jsx("b",{children:e})]})]}),S.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:S.jsx("button",{className:"btn btn-sm",onClick:t,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"})}),s&&S.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:0,marginTop:6},children:s})]})}function Dk(){return S.jsxs("div",{className:"brand",children:[S.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:S.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),S.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}function Fm(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}const kk=Fm;function Nk(i,e,t=36){const s=e*Math.PI/180,o=2*t*Math.sin(s/2)*.9,p=Math.min(5.2,o/(.6*Math.max(1,i.length)));return Math.max(3.2,p)}const mi=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catálogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Políticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function ub({onResult:i,disabled:e,onBeforeFirstSpin:t,soundOn:s=!0}){const[o,c]=ue.useState(!1),[h,p]=ue.useState(0),[g,y]=ue.useState(!1),_=360/mi.length,T=36,A=async()=>{if(o||e)return;if(!g&&t){try{t()}catch{}y(!0)}c(!0);try{yk(s)}catch{}const F=5+Math.floor(Math.random()*4),ee=Math.floor(Math.random()*mi.length),K=F*360+(mi.length-ee)*_-_/2,ne=Math.max(8,Math.floor(K/_)),ae=h+K;p(ae),setTimeout(()=>{c(!1);const ie=(ae%360+360)%360,Re=(mi.length-Math.floor((ie+_/2)/_))%mi.length,ye=mi[Re];i?.(ye)},3800);try{wk(s,{durationMs:3800,totalTicks:ne})}catch{}},z=()=>{A()};return S.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[S.jsx("div",{className:"wheel-legend",children:mi.map(F=>S.jsxs("div",{className:"legend-item",children:[S.jsx("span",{className:"legend-swatch",style:{background:F.color}}),S.jsx("span",{className:"legend-label",children:F.label}),S.jsxs("span",{className:"legend-points",children:["+",F.points]})]},F.label))}),S.jsxs("div",{className:"wheel-wrap",role:"button","aria-label":"Ruleta: tocar o presionar para girar","aria-disabled":o||e,tabIndex:0,onClick:z,onKeyDown:F=>{(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),z())},style:{cursor:o||e?"not-allowed":"pointer",pointerEvents:o||e?"none":"auto"},children:[S.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),S.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${h}deg)`,transition:"transform 3.8s cubic-bezier(.17,.67,.35,1)",background:"#0c0c0c"},children:[mi.map((F,ee)=>{const K=ee*(360/mi.length),ne=K+360/mi.length,ae=ne-K<=180?0:1,ie=Fm(50,50,49,ne),Re=Fm(50,50,49,K),ye=["M 50 50",`L ${ie.x} ${ie.y}`,`A 49 49 0 ${ae} 0 ${Re.x} ${Re.y}`,"Z"].join(" "),De=kk(50,50,T+1.5,K+360/mi.length/2),M=Nk(F.label,_,T);return S.jsxs("g",{children:[S.jsx("path",{d:ye,fill:F.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),S.jsx("text",{x:De.x,y:De.y,fontSize:M,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",children:F.label})]},F.label)}),S.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),S.jsx("button",{onClick:A,disabled:o||e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",opacity:o||e?.7:1},children:o?"Girando…":"🎡 ¡Girar ruleta!"})]})}function Ok({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?S.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:"★"}):null}function kd({db:i,currentUser:e,myStats:t}){const s=eT(980),[o,c]=ue.useState([]),[h,p]=ue.useState(!1),[g,y]=ue.useState(null),[_,T]=ue.useState(null),A=ue.useCallback(async()=>{p(!0),y(null);try{const ae=await pk(i);c(ae)}catch(ae){console.error("Top10 load failed:",ae),y("Error al consultar los datos del Top 10. Verifica tu conexión o permisos de Firebase."),c([])}finally{p(!1)}},[i]);ue.useEffect(()=>{A();const ae=()=>A();return window.addEventListener("reload-top10",ae),()=>window.removeEventListener("reload-top10",ae)},[A]),ue.useEffect(()=>{(async()=>{if(!e){T(null);return}if(o.some(ie=>ie.id===e.uid)){T(null);return}try{const ie=await mk(i,t?.totalScore||0);T(ie)}catch(ie){console.error("rank error:",ie),T(null)}})()},[i,o,e,t?.totalScore]);const z=!!e,ee=(z?o.findIndex(ae=>ae.id===e.uid):-1)>=0,K=z?{id:e.uid,displayName:t?.displayName||e.displayName||e.email,totalScore:t?.totalScore||0,totalSpins:t?.totalSpins||0}:null,ne=(ae,ie,Re={})=>S.jsxs("tr",{style:{borderBottom:"1px solid #222",background:Re.highlight?"rgba(255,255,255,0.06)":"transparent"},children:[S.jsxs("td",{style:{padding:"6px 8px 6px 8px",width:"2.8ch",textAlign:"right"},children:["#",ie]}),S.jsx("td",{style:{padding:s?"6px 14px 6px 10px":"6px 24px 6px 10px"},children:S.jsxs("div",{style:{display:"inline-flex",alignItems:"center",minWidth:0},children:[S.jsx(Ok,{rank:ie}),S.jsx("span",{style:{display:"inline-block",maxWidth:"unset",overflow:"visible",textOverflow:"clip",whiteSpace:"nowrap",wordBreak:"keep-all",overflowWrap:"normal"},children:ae.displayName||ae.id})]})}),S.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:S.jsx("b",{children:ae.totalScore||0})}),S.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:ae.totalSpins||0})]},Re.key||ae.id);return S.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16,maxWidth:1024,margin:"0 auto"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[S.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),S.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:A,children:"Actualizar"})]}),h&&S.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando…"}),g&&S.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:g}),S.jsx("div",{className:"table-wrap",children:S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[S.jsx("thead",{children:S.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[S.jsx("th",{style:{padding:"6px 8px 6px 8px",borderBottom:"1px solid #333",width:"2.8ch",textAlign:"right"},children:"#"}),S.jsx("th",{style:{padding:s?"6px 14px 6px 10px":"6px 24px 6px 10px",borderBottom:"1px solid #333"},children:"Nombre"}),S.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Score total"}),S.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Giros totales"})]})}),S.jsxs("tbody",{children:[o.map((ae,ie)=>ne(ae,ie+1)),z&&!ee&&K&&S.jsxs(S.Fragment,{children:[S.jsx("tr",{children:S.jsx("td",{colSpan:4,style:{padding:4}})}),ne(K,_??"—",{key:"me",highlight:!0})]})]})]})})]})}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function nT(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function Mk(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function db(i,e){return i.get(nT(i,e))}function Vk(i,e,t){Mk(i,e),e.set(i,t)}function Pk(i,e,t){return i.set(nT(i,e),t),t}const Lk=100,we={},Uk=()=>{we.previousActiveElement instanceof HTMLElement?(we.previousActiveElement.focus(),we.previousActiveElement=null):document.body&&document.body.focus()},jk=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;we.restoreFocusTimeout=setTimeout(()=>{Uk(),e()},Lk),window.scrollTo(t,s)}),iT="swal2-",zk=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],G=zk.reduce((i,e)=>(i[e]=iT+e,i),{}),Bk=["success","warning","info","question","error"],ph=Bk.reduce((i,e)=>(i[e]=iT+e,i),{}),rT="SweetAlert2:",Wg=i=>i.charAt(0).toUpperCase()+i.slice(1),bn=i=>{console.warn(`${rT} ${typeof i=="object"?i.join(" "):i}`)},Ia=i=>{console.error(`${rT} ${i}`)},hb=[],qk=i=>{hb.includes(i)||(hb.push(i),bn(i))},sT=(i,e=null)=>{qk(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Kh=i=>typeof i=="function"?i():i,Zg=i=>i&&typeof i.toPromise=="function",Wc=i=>Zg(i)?i.toPromise():Promise.resolve(i),Jg=i=>i&&Promise.resolve(i)===i,En=()=>document.body.querySelector(`.${G.container}`),Zc=i=>{const e=En();return e?e.querySelector(i):null},Hn=i=>Zc(`.${i}`),Ke=()=>Hn(G.popup),tl=()=>Hn(G.icon),Hk=()=>Hn(G["icon-content"]),aT=()=>Hn(G.title),ey=()=>Hn(G["html-container"]),oT=()=>Hn(G.image),ty=()=>Hn(G["progress-steps"]),Yh=()=>Hn(G["validation-message"]),Ki=()=>Zc(`.${G.actions} .${G.confirm}`),nl=()=>Zc(`.${G.actions} .${G.cancel}`),Ca=()=>Zc(`.${G.actions} .${G.deny}`),Fk=()=>Hn(G["input-label"]),il=()=>Zc(`.${G.loader}`),Jc=()=>Hn(G.actions),lT=()=>Hn(G.footer),$h=()=>Hn(G["timer-progress-bar"]),ny=()=>Hn(G.close),Gk=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,iy=()=>{const i=Ke();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((c,h)=>{const p=parseInt(c.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),s=i.querySelectorAll(Gk),o=Array.from(s).filter(c=>c.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(c=>In(c))},ry=()=>xr(document.body,G.shown)&&!xr(document.body,G["toast-shown"])&&!xr(document.body,G["no-backdrop"]),Xh=()=>{const i=Ke();return i?xr(i,G.toast):!1},Qk=()=>{const i=Ke();return i?i.hasAttribute("data-loading"):!1},Fn=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{i.appendChild(h)});const c=s.querySelector("body");c&&Array.from(c.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?i.appendChild(h.cloneNode(!0)):i.appendChild(h)})}},xr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},Kk=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(G).includes(t)&&!Object.values(ph).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},qn=(i,e,t)=>{if(Kk(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){bn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}$e(i,s)}},Wh=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${G.popup} > .${G[e]}`);case"checkbox":return i.querySelector(`.${G.popup} > .${G.checkbox} input`);case"radio":return i.querySelector(`.${G.popup} > .${G.radio} input:checked`)||i.querySelector(`.${G.popup} > .${G.radio} input:first-child`);case"range":return i.querySelector(`.${G.popup} > .${G.range} input`);default:return i.querySelector(`.${G.popup} > .${G.input}`)}},cT=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},uT=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},$e=(i,e)=>{uT(i,e,!0)},ai=(i,e)=>{uT(i,e,!1)},ms=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&xr(o,e))return o}},ya=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},Xt=(i,e="flex")=>{i&&(i.style.display=e)},fn=i=>{i&&(i.style.display="none")},sy=(i,e="block")=>{i&&new MutationObserver(()=>{eu(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},fb=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},eu=(i,e,t="flex")=>{e?Xt(i,t):fn(i)},In=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),Yk=()=>!In(Ki())&&!In(Ca())&&!In(nl()),Gm=i=>i.scrollHeight>i.clientHeight,$k=(i,e)=>{let t=i;for(;t&&t!==e;){if(Gm(t))return!0;t=t.parentElement}return!1},dT=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},ay=(i,e=!1)=>{const t=$h();t&&In(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},Xk=()=>{const i=$h();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},Wk=()=>typeof window>"u"||typeof document>"u",Zk=`
 <div aria-labelledby="${G.title}" aria-describedby="${G["html-container"]}" class="${G.popup}" tabindex="-1">
   <button type="button" class="${G.close}"></button>
   <ul class="${G["progress-steps"]}"></ul>
   <div class="${G.icon}"></div>
   <img class="${G.image}" />
   <h2 class="${G.title}" id="${G.title}"></h2>
   <div class="${G["html-container"]}" id="${G["html-container"]}"></div>
   <input class="${G.input}" id="${G.input}" />
   <input type="file" class="${G.file}" />
   <div class="${G.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${G.select}" id="${G.select}"></select>
   <div class="${G.radio}"></div>
   <label class="${G.checkbox}">
     <input type="checkbox" id="${G.checkbox}" />
     <span class="${G.label}"></span>
   </label>
   <textarea class="${G.textarea}" id="${G.textarea}"></textarea>
   <div class="${G["validation-message"]}" id="${G["validation-message"]}"></div>
   <div class="${G.actions}">
     <div class="${G.loader}"></div>
     <button type="button" class="${G.confirm}"></button>
     <button type="button" class="${G.deny}"></button>
     <button type="button" class="${G.cancel}"></button>
   </div>
   <div class="${G.footer}"></div>
   <div class="${G["timer-progress-bar-container"]}">
     <div class="${G["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Jk=()=>{const i=En();return i?(i.remove(),ai([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0):!1},da=()=>{we.currentInstance.resetValidationMessage()},eN=()=>{const i=Ke(),e=ms(i,G.input),t=ms(i,G.file),s=i.querySelector(`.${G.range} input`),o=i.querySelector(`.${G.range} output`),c=ms(i,G.select),h=i.querySelector(`.${G.checkbox} input`),p=ms(i,G.textarea);e.oninput=da,t.onchange=da,c.onchange=da,h.onchange=da,p.oninput=da,s.oninput=()=>{da(),o.value=s.value},s.onchange=()=>{da(),o.value=s.value}},tN=i=>typeof i=="string"?document.querySelector(i):i,nN=i=>{const e=Ke();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},iN=i=>{window.getComputedStyle(i).direction==="rtl"&&$e(En(),G.rtl)},rN=i=>{const e=Jk();if(Wk()){Ia("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=G.container,e&&$e(t,G["no-transition"]),Fn(t,Zk),t.dataset.swal2Theme=i.theme;const s=tN(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),nN(i),iN(s),eN()},oy=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?sN(i,e):i&&Fn(e,i)},sN=(i,e)=>{i.jquery?aN(e,i):Fn(e,i.toString())},aN=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},oN=(i,e)=>{const t=Jc(),s=il();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?fn(t):Xt(t),qn(t,e,"actions"),lN(t,s,e),Fn(s,e.loaderHtml||""),qn(s,e,"loader"))};function lN(i,e,t){const s=Ki(),o=Ca(),c=nl();!s||!o||!c||(mm(s,"confirm",t),mm(o,"deny",t),mm(c,"cancel",t),cN(s,o,c,t),t.reverseButtons&&(t.toast?(i.insertBefore(c,s),i.insertBefore(o,s)):(i.insertBefore(c,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function cN(i,e,t,s){if(!s.buttonsStyling){ai([i,e,t],G.styled);return}$e([i,e,t],G.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),pm(i),pm(e),pm(t)}function pm(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function mm(i,e,t){const s=Wg(e);eu(i,t[`show${s}Button`],"inline-block"),Fn(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=G[e],qn(i,t,`${e}Button`)}const uN=(i,e)=>{const t=ny();t&&(Fn(t,e.closeButtonHtml||""),qn(t,e,"closeButton"),eu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},dN=(i,e)=>{const t=En();t&&(hN(t,e.backdrop),fN(t,e.position),pN(t,e.grow),qn(t,e,"container"))};function hN(i,e){typeof e=="string"?i.style.background=e:e||$e([document.documentElement,document.body],G["no-backdrop"])}function fN(i,e){e&&(e in G?$e(i,G[e]):(bn('The "position" parameter is not valid, defaulting to "center"'),$e(i,G.center)))}function pN(i,e){e&&$e(i,G[`grow-${e}`])}var ct={innerParams:new WeakMap,domCache:new WeakMap};const mN=["input","file","range","select","radio","checkbox","textarea"],gN=(i,e)=>{const t=Ke();if(!t)return;const s=ct.innerParams.get(i),o=!s||e.input!==s.input;mN.forEach(c=>{const h=ms(t,G[c]);h&&(wN(c,e.inputAttributes),h.className=G[c],o&&fn(h))}),e.input&&(o&&yN(e),_N(e))},yN=i=>{if(!i.input)return;if(!xt[i.input]){Ia(`Unexpected type of input! Expected ${Object.keys(xt).join(" | ")}, got "${i.input}"`);return}const e=hT(i.input);if(!e)return;const t=xt[i.input](e,i);Xt(e),i.inputAutoFocus&&setTimeout(()=>{cT(t)})},vN=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},wN=(i,e)=>{const t=Ke();if(!t)return;const s=Wh(t,i);if(s){vN(s);for(const o in e)s.setAttribute(o,e[o])}},_N=i=>{if(!i.input)return;const e=hT(i.input);e&&qn(e,i,"input")},ly=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},tu=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=G["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&$e(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},hT=i=>{const e=Ke();if(e)return ms(e,G[i]||G.input)},mh=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:Jg(e)||bn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},xt={};xt.text=xt.email=xt.password=xt.number=xt.tel=xt.url=xt.search=xt.date=xt["datetime-local"]=xt.time=xt.week=xt.month=(i,e)=>(mh(i,e.inputValue),tu(i,i,e),ly(i,e),i.type=e.input,i);xt.file=(i,e)=>(tu(i,i,e),ly(i,e),i);xt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return mh(t,e.inputValue),t.type=e.input,mh(s,e.inputValue),tu(t,i,e),i};xt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Fn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return tu(i,i,e),i};xt.radio=i=>(i.textContent="",i);xt.checkbox=(i,e)=>{const t=Wh(Ke(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Fn(s,e.inputPlaceholder||e.inputLabel),t};xt.textarea=(i,e)=>{mh(i,e.inputValue),ly(i,e),tu(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(Ke()).width),o=()=>{if(!document.body.contains(i))return;const c=i.offsetWidth+t(i);c>s?Ke().style.width=`${c}px`:ya(Ke(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const bN=(i,e)=>{const t=ey();t&&(sy(t),qn(t,e,"htmlContainer"),e.html?(oy(e.html,t),Xt(t,"block")):e.text?(t.textContent=e.text,Xt(t,"block")):fn(t),gN(i,e))},EN=(i,e)=>{const t=lT();t&&(sy(t),eu(t,e.footer,"block"),e.footer&&oy(e.footer,t),qn(t,e,"footer"))},TN=(i,e)=>{const t=ct.innerParams.get(i),s=tl();if(!s)return;if(t&&e.icon===t.icon){mb(s,e),pb(s,e);return}if(!e.icon&&!e.iconHtml){fn(s);return}if(e.icon&&Object.keys(ph).indexOf(e.icon)===-1){Ia(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),fn(s);return}Xt(s),mb(s,e),pb(s,e),$e(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",fT)},pb=(i,e)=>{for(const[t,s]of Object.entries(ph))e.icon!==t&&ai(i,s);$e(i,e.icon&&ph[e.icon]),xN(i,e),fT(),qn(i,e,"icon")},fT=()=>{const i=Ke();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},AN=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,SN=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,mb=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=gb(e.iconHtml):e.icon==="success"?(s=AN(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=SN:e.icon&&(s=gb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Fn(i,s)},xN=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])fb(i,t,"background-color",e.iconColor);fb(i,".swal2-success-ring","border-color",e.iconColor)}},gb=i=>`<div class="${G["icon-content"]}">${i}</div>`,RN=(i,e)=>{const t=oT();if(t){if(!e.imageUrl){fn(t);return}Xt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ya(t,"width",e.imageWidth),ya(t,"height",e.imageHeight),t.className=G.image,qn(t,e,"image")}};let cy=!1,pT=0,mT=0,gT=0,yT=0;const IN=i=>{i.addEventListener("mousedown",gh),document.body.addEventListener("mousemove",yh),i.addEventListener("mouseup",vh),i.addEventListener("touchstart",gh),document.body.addEventListener("touchmove",yh),i.addEventListener("touchend",vh)},CN=i=>{i.removeEventListener("mousedown",gh),document.body.removeEventListener("mousemove",yh),i.removeEventListener("mouseup",vh),i.removeEventListener("touchstart",gh),document.body.removeEventListener("touchmove",yh),i.removeEventListener("touchend",vh)},gh=i=>{const e=Ke();if(i.target===e||tl().contains(i.target)){cy=!0;const t=vT(i);pT=t.clientX,mT=t.clientY,gT=parseInt(e.style.insetInlineStart)||0,yT=parseInt(e.style.insetBlockStart)||0,$e(e,"swal2-dragging")}},yh=i=>{const e=Ke();if(cy){let{clientX:t,clientY:s}=vT(i);e.style.insetInlineStart=`${gT+(t-pT)}px`,e.style.insetBlockStart=`${yT+(s-mT)}px`}},vh=()=>{const i=Ke();cy=!1,ai(i,"swal2-dragging")},vT=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},DN=(i,e)=>{const t=En(),s=Ke();if(!(!t||!s)){if(e.toast){ya(t,"width",e.width),s.style.width="100%";const o=il();o&&s.insertBefore(o,tl())}else ya(s,"width",e.width);ya(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),fn(Yh()),kN(s,e),e.draggable&&!e.toast?($e(s,G.draggable),IN(s)):(ai(s,G.draggable),CN(s))}},kN=(i,e)=>{const t=e.showClass||{};i.className=`${G.popup} ${In(i)?t.popup:""}`,e.toast?($e([document.documentElement,document.body],G["toast-shown"]),$e(i,G.toast)):$e(i,G.modal),qn(i,e,"popup"),typeof e.customClass=="string"&&$e(i,e.customClass),e.icon&&$e(i,G[`icon-${e.icon}`])},NN=(i,e)=>{const t=ty();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){fn(t);return}Xt(t),t.textContent="",o>=s.length&&bn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((c,h)=>{const p=ON(c);if(t.appendChild(p),h===o&&$e(p,G["active-progress-step"]),h!==s.length-1){const g=MN(e);t.appendChild(g)}})},ON=i=>{const e=document.createElement("li");return $e(e,G["progress-step"]),Fn(e,i),e},MN=i=>{const e=document.createElement("li");return $e(e,G["progress-step-line"]),i.progressStepsDistance&&ya(e,"width",i.progressStepsDistance),e},VN=(i,e)=>{const t=aT();t&&(sy(t),eu(t,e.title||e.titleText,"block"),e.title&&oy(e.title,t),e.titleText&&(t.innerText=e.titleText),qn(t,e,"title"))},wT=(i,e)=>{DN(i,e),dN(i,e),NN(i,e),TN(i,e),RN(i,e),VN(i,e),uN(i,e),bN(i,e),oN(i,e),EN(i,e);const t=Ke();typeof e.didRender=="function"&&t&&e.didRender(t),we.eventEmitter.emit("didRender",t)},PN=()=>In(Ke()),_T=()=>{var i;return(i=Ki())===null||i===void 0?void 0:i.click()},LN=()=>{var i;return(i=Ca())===null||i===void 0?void 0:i.click()},UN=()=>{var i;return(i=nl())===null||i===void 0?void 0:i.click()},rl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bT=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},jN=(i,e,t)=>{bT(i),e.toast||(i.keydownHandler=s=>BN(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:Ke(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},Qm=(i,e)=>{var t;const s=iy();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=Ke())===null||t===void 0||t.focus()},ET=["ArrowRight","ArrowDown"],zN=["ArrowLeft","ArrowUp"],BN=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?qN(e,i):e.key==="Tab"?HN(e):[...ET,...zN].includes(e.key)?FN(e.key):e.key==="Escape"&&GN(e,i,t)))},qN=(i,e)=>{if(!Kh(e.allowEnterKey))return;const t=Wh(Ke(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;_T(),i.preventDefault()}},HN=i=>{const e=i.target,t=iy();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?Qm(s,-1):Qm(s,1),i.stopPropagation(),i.preventDefault()},FN=i=>{const e=Jc(),t=Ki(),s=Ca(),o=nl();if(!e||!t||!s||!o)return;const c=[t,s,o];if(document.activeElement instanceof HTMLElement&&!c.includes(document.activeElement))return;const h=ET.includes(i)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&In(p))break}p instanceof HTMLButtonElement&&p.focus()}},GN=(i,e,t)=>{i.preventDefault(),Kh(e.allowEscapeKey)&&t(rl.esc)};var Fo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const QN=()=>{const i=En();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},TT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},AT=typeof window<"u"&&!!window.GestureEvent,KN=()=>{if(AT&&!xr(document.body,G.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,$e(document.body,G.iosfix),YN()}},YN=()=>{const i=En();if(!i)return;let e;i.ontouchstart=t=>{e=$N(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},$N=i=>{const e=i.target,t=En(),s=ey();return!t||!s||XN(i)||WN(i)?!1:e===t||!Gm(t)&&e instanceof HTMLElement&&!$k(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Gm(s)&&s.contains(e))},XN=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",WN=i=>i.touches&&i.touches.length>1,ZN=()=>{if(xr(document.body,G.iosfix)){const i=parseInt(document.body.style.top,10);ai(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},JN=()=>{const i=document.createElement("div");i.className=G["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let No=null;const eO=i=>{No===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(No=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${No+JN()}px`)},tO=()=>{No!==null&&(document.body.style.paddingRight=`${No}px`,No=null)};function ST(i,e,t,s){Xh()?yb(i,s):(jk(t).then(()=>yb(i,s)),bT(we)),AT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ry()&&(tO(),ZN(),TT()),nO()}function nO(){ai([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}function gs(i){i=rO(i);const e=Fo.swalPromiseResolve.get(this),t=iO(this);this.isAwaitingPromise?i.isDismissed||(nu(this),e(i)):t&&e(i)}const iO=i=>{const e=Ke();if(!e)return!1;const t=ct.innerParams.get(i);if(!t||xr(e,t.hideClass.popup))return!1;ai(e,t.showClass.popup),$e(e,t.hideClass.popup);const s=En();return ai(s,t.showClass.backdrop),$e(s,t.hideClass.backdrop),sO(i,e,t),!0};function xT(i){const e=Fo.swalPromiseReject.get(this);nu(this),e&&e(i)}const nu=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,ct.innerParams.get(i)||i._destroy())},rO=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),sO=(i,e,t)=>{var s;const o=En(),c=dT(e);typeof t.willClose=="function"&&t.willClose(e),(s=we.eventEmitter)===null||s===void 0||s.emit("willClose",e),c?aO(i,e,o,t.returnFocus,t.didClose):ST(i,o,t.returnFocus,t.didClose)},aO=(i,e,t,s,o)=>{we.swalCloseEventFinishedCallback=ST.bind(null,i,t,s,o);const c=function(h){if(h.target===e){var p;(p=we.swalCloseEventFinishedCallback)===null||p===void 0||p.call(we),delete we.swalCloseEventFinishedCallback,e.removeEventListener("animationend",c),e.removeEventListener("transitionend",c)}};e.addEventListener("animationend",c),e.addEventListener("transitionend",c)},yb=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=we.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Go=i=>{let e=Ke();if(e||new va,e=Ke(),!e)return;const t=il();Xh()?fn(tl()):oO(e,i),Xt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},oO=(i,e)=>{const t=Jc(),s=il();!t||!s||(!e&&In(Ki())&&(e=Ki()),Xt(t),e&&(fn(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),$e([i,t],G.loading))},lO=(i,e)=>{e.input==="select"||e.input==="radio"?fO(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Zg(e.inputValue)||Jg(e.inputValue))&&(Go(Ki()),pO(i,e))},cO=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return uO(t);case"radio":return dO(t);case"file":return hO(t);default:return e.inputAutoTrim?t.value.trim():t.value}},uO=i=>i.checked?1:0,dO=i=>i.checked?i.value:null,hO=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,fO=(i,e)=>{const t=Ke();if(!t)return;const s=o=>{e.input==="select"?mO(t,wh(o),e):e.input==="radio"&&gO(t,wh(o),e)};Zg(e.inputOptions)||Jg(e.inputOptions)?(Go(Ki()),Wc(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):Ia(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},pO=(i,e)=>{const t=i.getInput();t&&(fn(t),Wc(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,Xt(t),t.focus(),i.hideLoading()}).catch(s=>{Ia(`Error in inputValue promise: ${s}`),t.value="",Xt(t),t.focus(),i.hideLoading()}))};function mO(i,e,t){const s=ms(i,G.select);if(!s)return;const o=(c,h,p)=>{const g=document.createElement("option");g.value=p,Fn(g,h),g.selected=RT(p,t.inputValue),c.appendChild(g)};e.forEach(c=>{const h=c[0],p=c[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,s.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(s,p,h)}),s.focus()}function gO(i,e,t){const s=ms(i,G.radio);if(!s)return;e.forEach(c=>{const h=c[0],p=c[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=G.radio,g.value=h,RT(h,t.inputValue)&&(g.checked=!0);const _=document.createElement("span");Fn(_,p),_.className=G.label,y.appendChild(g),y.appendChild(_),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const wh=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=wh(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=wh(s)),e.push([t,s])}),e},RT=(i,e)=>!!e&&e.toString()===i.toString(),yO=i=>{const e=ct.innerParams.get(i);i.disableButtons(),e.input?IT(i,"confirm"):dy(i,!0)},vO=i=>{const e=ct.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?IT(i,"deny"):uy(i,!1)},wO=(i,e)=>{i.disableButtons(),e(rl.cancel)},IT=(i,e)=>{const t=ct.innerParams.get(i);if(!t.input){Ia(`The "input" parameter is needed to be set when using returnInputValueOn${Wg(e)}`);return}const s=i.getInput(),o=cO(i,t);t.inputValidator?_O(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?uy(i,o):dy(i,o)},_O=(i,e,t)=>{const s=ct.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Wc(s.inputValidator(e,s.validationMessage))).then(c=>{i.enableButtons(),i.enableInput(),c?i.showValidationMessage(c):t==="deny"?uy(i,e):dy(i,e)})},uy=(i,e)=>{const t=ct.innerParams.get(i||void 0);t.showLoaderOnDeny&&Go(Ca()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Wc(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),nu(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>CT(i||void 0,o))):i.close({isDenied:!0,value:e})},vb=(i,e)=>{i.close({isConfirmed:!0,value:e})},CT=(i,e)=>{i.rejectPromise(e)},dy=(i,e)=>{const t=ct.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Go(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Wc(t.preConfirm(e,t.validationMessage))).then(o=>{In(Yh())||o===!1?(i.hideLoading(),nu(i)):vb(i,typeof o>"u"?e:o)}).catch(o=>CT(i||void 0,o))):vb(i,e)};function _h(){const i=ct.innerParams.get(this);if(!i)return;const e=ct.domCache.get(this);fn(e.loader),Xh()?i.icon&&Xt(tl()):bO(e),ai([e.popup,e.actions],G.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const bO=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?Xt(e[0],"inline-block"):Yk()&&fn(i.actions)};function DT(){const i=ct.innerParams.get(this),e=ct.domCache.get(this);return e?Wh(e.popup,i.input):null}function kT(i,e,t){const s=ct.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function NT(i,e){const t=Ke();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${G.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function OT(){kT(this,["confirmButton","denyButton","cancelButton"],!1)}function MT(){kT(this,["confirmButton","denyButton","cancelButton"],!0)}function VT(){NT(this.getInput(),!1)}function PT(){NT(this.getInput(),!0)}function LT(i){const e=ct.domCache.get(this),t=ct.innerParams.get(this);Fn(e.validationMessage,i),e.validationMessage.className=G["validation-message"],t.customClass&&t.customClass.validationMessage&&$e(e.validationMessage,t.customClass.validationMessage),Xt(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",G["validation-message"]),cT(s),$e(s,G.inputerror))}function UT(){const i=ct.domCache.get(this);i.validationMessage&&fn(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ai(e,G.inputerror))}const Oo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},EO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],TO={allowEnterKey:void 0},AO=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],jT=i=>Object.prototype.hasOwnProperty.call(Oo,i),zT=i=>EO.indexOf(i)!==-1,BT=i=>TO[i],SO=i=>{jT(i)||bn(`Unknown parameter "${i}"`)},xO=i=>{AO.includes(i)&&bn(`The parameter "${i}" is incompatible with toasts`)},RO=i=>{const e=BT(i);e&&sT(i,e)},qT=i=>{i.backdrop===!1&&i.allowOutsideClick&&bn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&bn(`Invalid theme "${i.theme}"`);for(const e in i)SO(e),i.toast&&xO(e),RO(e)};function HT(i){const e=En(),t=Ke(),s=ct.innerParams.get(this);if(!t||xr(t,s.hideClass.popup)){bn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=IO(i),c=Object.assign({},s,o);qT(c),e.dataset.swal2Theme=c.theme,wT(this,c),ct.innerParams.set(this,c),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const IO=i=>{const e={};return Object.keys(i).forEach(t=>{zT(t)?e[t]=i[t]:bn(`Invalid parameter to update: ${t}`)}),e};function FT(){const i=ct.domCache.get(this),e=ct.innerParams.get(this);if(!e){GT(this);return}i.popup&&we.swalCloseEventFinishedCallback&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),we.eventEmitter.emit("didDestroy"),CO(this)}const CO=i=>{GT(i),delete i.params,delete we.keydownHandler,delete we.keydownTarget,delete we.currentInstance},GT=i=>{i.isAwaitingPromise?(gm(ct,i),i.isAwaitingPromise=!0):(gm(Fo,i),gm(ct,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},gm=(i,e)=>{for(const t in i)i[t].delete(e)};var DO=Object.freeze({__proto__:null,_destroy:FT,close:gs,closeModal:gs,closePopup:gs,closeToast:gs,disableButtons:MT,disableInput:PT,disableLoading:_h,enableButtons:OT,enableInput:VT,getInput:DT,handleAwaitingPromise:nu,hideLoading:_h,rejectPromise:xT,resetValidationMessage:UT,showValidationMessage:LT,update:HT});const kO=(i,e,t)=>{i.toast?NO(i,e,t):(MO(e),VO(e),PO(i,e,t))},NO=(i,e,t)=>{e.popup.onclick=()=>{i&&(OO(i)||i.timer||i.input)||t(rl.close)}},OO=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let bh=!1;const MO=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(bh=!0)}}},VO=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(bh=!0)}}},PO=(i,e,t)=>{e.container.onclick=s=>{if(bh){bh=!1;return}s.target===e.container&&Kh(i.allowOutsideClick)&&t(rl.backdrop)}},LO=i=>typeof i=="object"&&i.jquery,wb=i=>i instanceof Element||LO(i),UO=i=>{const e={};return typeof i[0]=="object"&&!wb(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||wb(o)?e[t]=o:o!==void 0&&Ia(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function jO(...i){return new this(...i)}function zO(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const BO=()=>we.timeout&&we.timeout.getTimerLeft(),QT=()=>{if(we.timeout)return Xk(),we.timeout.stop()},KT=()=>{if(we.timeout){const i=we.timeout.start();return ay(i),i}},qO=()=>{const i=we.timeout;return i&&(i.running?QT():KT())},HO=i=>{if(we.timeout){const e=we.timeout.increase(i);return ay(e,!0),e}},FO=()=>!!(we.timeout&&we.timeout.isRunning());let _b=!1;const Km={};function GO(i="data-swal-template"){Km[i]=this,_b||(document.body.addEventListener("click",QO),_b=!0)}const QO=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in Km){const s=e.getAttribute(t);if(s){Km[t].fire({template:s});return}}};class KO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}we.eventEmitter=new KO;const YO=(i,e)=>{we.eventEmitter.on(i,e)},$O=(i,e)=>{we.eventEmitter.once(i,e)},XO=(i,e)=>{if(!i){we.eventEmitter.reset();return}e?we.eventEmitter.removeListener(i,e):we.eventEmitter.removeAllListeners(i)};var WO=Object.freeze({__proto__:null,argsToParams:UO,bindClickHandler:GO,clickCancel:UN,clickConfirm:_T,clickDeny:LN,enableLoading:Go,fire:jO,getActions:Jc,getCancelButton:nl,getCloseButton:ny,getConfirmButton:Ki,getContainer:En,getDenyButton:Ca,getFocusableElements:iy,getFooter:lT,getHtmlContainer:ey,getIcon:tl,getIconContent:Hk,getImage:oT,getInputLabel:Fk,getLoader:il,getPopup:Ke,getProgressSteps:ty,getTimerLeft:BO,getTimerProgressBar:$h,getTitle:aT,getValidationMessage:Yh,increaseTimer:HO,isDeprecatedParameter:BT,isLoading:Qk,isTimerRunning:FO,isUpdatableParameter:zT,isValidParameter:jT,isVisible:PN,mixin:zO,off:XO,on:YO,once:$O,resumeTimer:KT,showLoading:Go,stopTimer:QT,toggleTimer:qO});class ZO{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const YT=["swal-title","swal-html","swal-footer"],JO=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return oM(t),Object.assign(eM(t),tM(t),nM(t),iM(t),rM(t),sM(t),aM(t,YT))},eM=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{Sa(s,["name","value"]);const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(typeof Oo[o]=="boolean"?e[o]=c!=="false":typeof Oo[o]=="object"?e[o]=JSON.parse(c):e[o]=c)}),e},tM=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(e[o]=new Function(`return ${c}`)())}),e},nM=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{Sa(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${Wg(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},iM=i=>{const e={},t=i.querySelector("swal-image");return t&&(Sa(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},rM=i=>{const e={},t=i.querySelector("swal-icon");return t&&(Sa(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},sM=i=>{const e={},t=i.querySelector("swal-input");t&&(Sa(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{Sa(o,["value"]);const c=o.getAttribute("value");if(!c)return;const h=o.innerHTML;e.inputOptions[c]=h})),e},aM=(i,e)=>{const t={};for(const s in e){const o=e[s],c=i.querySelector(o);c&&(Sa(c,[]),t[o.replace(/^swal-/,"")]=c.innerHTML.trim())}return t},oM=i=>{const e=YT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||bn(`Unrecognized element <${s}>`)})},Sa=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&bn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},$T=10,lM=i=>{const e=En(),t=Ke();typeof i.willOpen=="function"&&i.willOpen(t),we.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;dM(e,t,i),setTimeout(()=>{cM(e,t)},$T),ry()&&(uM(e,i.scrollbarPadding,o),QN()),!Xh()&&!we.previousActiveElement&&(we.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),we.eventEmitter.emit("didOpen",t),ai(e,G["no-transition"])},Eh=i=>{const e=Ke();if(i.target!==e)return;const t=En();e.removeEventListener("animationend",Eh),e.removeEventListener("transitionend",Eh),t.style.overflowY="auto"},cM=(i,e)=>{dT(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",Eh),e.addEventListener("transitionend",Eh)):i.style.overflowY="auto"},uM=(i,e,t)=>{KN(),e&&t!=="hidden"&&eO(t),setTimeout(()=>{i.scrollTop=0})},dM=(i,e,t)=>{$e(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Xt(e,"grid"),setTimeout(()=>{$e(e,t.showClass.popup),e.style.removeProperty("opacity")},$T)):Xt(e,"grid"),$e([document.documentElement,document.body],G.shown),t.heightAuto&&t.backdrop&&!t.toast&&$e([document.documentElement,document.body],G["height-auto"])};var bb={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function hM(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=bb.email),i.input==="url"&&(i.inputValidator=bb.url))}function fM(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(bn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function pM(i){hM(i),i.showLoaderOnConfirm&&!i.preConfirm&&bn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),fM(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),rN(i)}let zi;var Nd=new WeakMap;class Ct{constructor(...e){if(Vk(this,Nd,void 0),typeof window>"u")return;zi=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,Pk(Nd,this,this._main(zi.params))}_main(e,t={}){if(qT(Object.assign({},t,e)),we.currentInstance){const c=Fo.swalPromiseResolve.get(we.currentInstance),{isAwaitingPromise:h}=we.currentInstance;we.currentInstance._destroy(),h||c({isDismissed:!0}),ry()&&TT()}we.currentInstance=zi;const s=gM(e,t);pM(s),Object.freeze(s),we.timeout&&(we.timeout.stop(),delete we.timeout),clearTimeout(we.restoreFocusTimeout);const o=yM(zi);return wT(zi,s),ct.innerParams.set(zi,s),mM(zi,o,s)}then(e){return db(Nd,this).then(e)}finally(e){return db(Nd,this).finally(e)}}const mM=(i,e,t)=>new Promise((s,o)=>{const c=h=>{i.close({isDismissed:!0,dismiss:h})};Fo.swalPromiseResolve.set(i,s),Fo.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{yO(i)},e.denyButton.onclick=()=>{vO(i)},e.cancelButton.onclick=()=>{wO(i,c)},e.closeButton.onclick=()=>{c(rl.close)},kO(t,e,c),jN(we,t,c),lO(i,t),lM(t),vM(we,t,c),wM(e,t),setTimeout(()=>{e.container.scrollTop=0})}),gM=(i,e)=>{const t=JO(i),s=Object.assign({},Oo,e,t,i);return s.showClass=Object.assign({},Oo.showClass,s.showClass),s.hideClass=Object.assign({},Oo.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},yM=i=>{const e={popup:Ke(),container:En(),actions:Jc(),confirmButton:Ki(),denyButton:Ca(),cancelButton:nl(),loader:il(),closeButton:ny(),validationMessage:Yh(),progressSteps:ty()};return ct.domCache.set(i,e),e},vM=(i,e,t)=>{const s=$h();fn(s),e.timer&&(i.timeout=new ZO(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(Xt(s),qn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&ay(e.timer)})))},wM=(i,e)=>{if(!e.toast){if(!Kh(e.allowEnterKey)){sT("allowEnterKey"),EM();return}_M(i)||bM(i,e)||Qm(-1,1)}},_M=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&In(t))return t.focus(),!0;return!1},bM=(i,e)=>e.focusDeny&&In(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&In(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&In(i.confirmButton)?(i.confirmButton.focus(),!0):!1,EM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ct.prototype.disableButtons=MT;Ct.prototype.enableButtons=OT;Ct.prototype.getInput=DT;Ct.prototype.disableInput=PT;Ct.prototype.enableInput=VT;Ct.prototype.hideLoading=_h;Ct.prototype.disableLoading=_h;Ct.prototype.showValidationMessage=LT;Ct.prototype.resetValidationMessage=UT;Ct.prototype.close=gs;Ct.prototype.closePopup=gs;Ct.prototype.closeModal=gs;Ct.prototype.closeToast=gs;Ct.prototype.rejectPromise=xT;Ct.prototype.update=HT;Ct.prototype._destroy=FT;Object.assign(Ct,WO);Object.keys(DO).forEach(i=>{Ct[i]=function(...e){return zi&&zi[i]?zi[i](...e):null}});Ct.DismissReason=rl;Ct.version="11.22.4";const va=Ct;va.default=va;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Fd(i){va.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const Od={"auth/invalid-email":"El correo electrónico no es válido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contraseña es incorrecta.","auth/email-already-in-use":"El correo ya está registrado.","auth/weak-password":"La contraseña es demasiado débil.","auth/missing-password":"Debes ingresar una contraseña.","auth/too-many-requests":"Demasiados intentos. Intenta más tarde.","auth/network-request-failed":"Error de red. Verifica tu conexión.","auth/invalid-credential":"Las credenciales ingresadas no son válidas."};function Gd(i){return i?typeof i=="string"&&Od[i]?Od[i]:i.code&&Od[i.code]?Od[i.code]:i.message||"Error desconocido.":"Error desconocido."}function XT(){if(typeof navigator>"u")return{isInApp:!1,ua:"",label:""};const i=navigator.userAgent||navigator.vendor||"",e=/Android/i.test(i),t=/iPhone|iPad|iPod/i.test(i),s=[{re:/LinkedInApp|LIAPP/i,label:"LinkedIn"},{re:/FBAN|FBAV|Facebook/i,label:"Facebook"},{re:/Instagram/i,label:"Instagram"},{re:/Twitter/i,label:"Twitter"},{re:/Snapchat/i,label:"Snapchat"},{re:/Line/i,label:"LINE"},{re:/MicroMessenger|WeChat/i,label:"WeChat"},{re:/KAKAOTALK/i,label:"KakaoTalk"},{re:/TikTok/i,label:"TikTok"}];let o="";for(const p of s)if(p.re.test(i)){o=p.label;break}const c=/\bwv\b|; wv\)|\bInAppBrowser\b|\bWebView\b/i.test(i);return{isInApp:!!o||c||e&&/\bwv\b/i.test(i)||!1,ua:i,label:o,isAndroid:e,isIOS:t}}function TM(){return XT().isInApp}const ym=new Er;async function AM(i){try{if(TM()){try{sessionStorage.setItem("wantSplashLogin","1")}catch{}await t0(i,ym);return}await qR(i,ym)}catch(e){if(e.code==="auth/popup-blocked"||e.code==="auth/cancelled-popup-request"||e.code==="auth/operation-not-supported-in-this-environment"){try{sessionStorage.setItem("wantSplashLogin","1")}catch{}await t0(i,ym)}else{const t=Gd(e);Fd(t+`
Si el problema persiste, intenta abrir el juego en tu navegador predeterminado (Chrome/Safari).`)}}}function Eb({auth:i,db:e,onReady:t,onStartAuth:s}){const[o,c]=ue.useState("login"),[h,p]=ue.useState(""),[g,y]=ue.useState(""),[_,T]=ue.useState(""),[A,z]=ue.useState("X"),[F,ee]=ue.useState(""),[K,ne]=ue.useState(""),[ae,ie]=ue.useState(!1),[Re,ye]=ue.useState(!1),De=ue.useMemo(()=>XT(),[]),M=ue.useCallback(async(ce,Pe)=>{await X1(qo(e,"users",ce),{...Pe,createdAt:ga()},{merge:!0})},[e]),N=o==="login"?async()=>{ie(!0),ne("");try{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}s?.(),await gR(i,h,g),t?.()}catch(ce){Fd(Gd(ce))}finally{ie(!1)}}:o==="register"?async()=>{ie(!0),ne("");try{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}s?.();const ce=(_||"").trim();if(!ce){await va.fire({icon:"warning",title:"Falta tu nombre",text:"Por favor escribe tu primer nombre antes de registrarte.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"});return}const Pe=await mR(i,h,g);await vR(Pe.user,{displayName:ce}),await M(Pe.user.uid,{displayName:ce,gender:A,city:F}),t?.()}catch(ce){Fd(Gd(ce))}finally{ie(!1)}}:async()=>{ie(!0),ne("");try{await pR(i,h),va.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo está registrado, recibirás un enlace para restablecer tu contraseña.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(ce){Fd(Gd(ce))}finally{ie(!1)}},V=S.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:S.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),I=S.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:S.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})});return S.jsxs("section",{className:"auth-card",children:[S.jsxs("header",{className:"card-head",children:[S.jsx("h1",{children:o==="login"?"Bienvenido":o==="register"?"Crear cuenta":"Recuperar acceso"}),S.jsx("p",{className:"muted",children:o==="login"?"Inicia sesión para continuar":o==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contraseña"})]}),De.isInApp&&S.jsxs("div",{className:"alert",role:"status",style:{marginTop:10,background:"#2c1f00",border:"1px solid #6b4e00",color:"#f3e8c3"},children:[S.jsxs("b",{children:["Estás dentro de ",De.label||"un navegador embebido","."]}),S.jsx("div",{style:{marginTop:6,fontSize:13,opacity:.95},children:"Para iniciar con Google, abre este juego en tu navegador (Chrome/Safari) y vuelve a intentar."}),S.jsxs("div",{style:{display:"flex",gap:8,marginTop:8,flexWrap:"wrap"},children:[S.jsx("button",{type:"button",className:"btn",onClick:()=>{try{const ce=window.location.href;window.open(ce,"_blank","noopener,noreferrer")}catch(ce){console.warn("No se pudo abrir en navegador externo",ce)}},style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"8px 10px"},children:"Abrir en navegador"}),S.jsx("button",{type:"button",className:"btn",onClick:async()=>{try{await navigator.clipboard.writeText(window.location.href),await va.fire({toast:!0,position:"bottom",timer:1800,showConfirmButton:!1,icon:"success",title:"Enlace copiado. Pégalo en tu navegador."})}catch(ce){console.warn("No se pudo copiar enlace al portapapeles",ce)}},style:{border:"1px solid #3f3f46",background:"#0f152d",color:"#e8ecf4",borderRadius:10,padding:"8px 10px"},children:"Copiar enlace"})]})]}),S.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(ce=>S.jsx("button",{type:"button",onClick:()=>c(ce),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:ce===o?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:ce===o?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:ce===o?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:ce==="login"?"Login":ce==="register"?"Registro":"Reset"},ce))}),K&&S.jsx("div",{className:"alert",style:{marginTop:10},children:K}),S.jsxs("form",{className:"form",onSubmit:ce=>{ce.preventDefault();const Pe=ce.currentTarget;if(!Pe.checkValidity()){Pe.reportValidity();return}N()},noValidate:!0,style:{marginTop:12},children:[S.jsxs("div",{className:"field",children:[S.jsx("label",{htmlFor:"email",children:"Correo"}),S.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:h,onChange:ce=>p(ce.target.value)})]}),o!=="reset"&&S.jsxs("div",{className:"field",children:[S.jsx("label",{htmlFor:"password",children:"Contraseña"}),S.jsxs("div",{className:"pwd",children:[S.jsx("input",{id:"password",name:"password",type:Re?"text":"password",placeholder:"••••••••",autoComplete:o==="login"?"current-password":"new-password",required:!0,value:g,onChange:ce=>y(ce.target.value)}),S.jsx("button",{type:"button",className:"icon-btn","aria-label":Re?"Ocultar contraseña":"Mostrar contraseña",onClick:()=>ye(ce=>!ce),style:{background:"transparent"},children:Re?I:V})]})]}),o==="register"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"field",children:[S.jsx("label",{htmlFor:"displayName",children:"Nombre"}),S.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:_,onChange:ce=>{const Pe=ce.target.value.replace(/\s.*/,"");T(Pe)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),S.jsxs("div",{className:"field",children:[S.jsx("label",{htmlFor:"city",children:"Ciudad"}),S.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:F,onChange:ce=>ee(ce.target.value)})]}),S.jsxs("div",{className:"field",children:[S.jsx("label",{htmlFor:"gender",children:"Género"}),S.jsx("div",{style:{display:"flex",gap:10,rowGap:6,flexWrap:"wrap",background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:["M","F","X"].map(ce=>S.jsx("button",{type:"button",onClick:()=>z(ce),style:{background:A===ce?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:A===ce?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:A===ce?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:ce==="M"?"Masculino":ce==="F"?"Femenino":"Prefiero no decir"},ce))})]})]}),S.jsx("button",{className:"btn",disabled:ae,children:ae?"Procesando…":o==="login"?"Ingresar":o==="register"?"Crear cuenta":"Enviar correo"}),o==="login"&&S.jsxs("button",{type:"button",onClick:()=>{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}AM(i)},style:{marginTop:10,width:"100%",height:46,borderRadius:12,border:"1px solid var(--stroke)",background:"#0f152d",color:"#e8ecf4",fontWeight:800,letterSpacing:.3,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},"aria-label":"Continuar con Google",children:[S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":!0,children:[S.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.03,6.053,28.715,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),S.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.146,18.961,14,24,14c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.03,6.053,28.715,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),S.jsx("path",{fill:"#4CAF50",d:"M24,44c4.646,0,8.902-1.785,12.102-4.689l-5.586-4.727C28.471,36.977,26.345,38,24,38 c-5.202,0-9.607-3.317-11.264-7.946l-6.493,5.013C9.556,39.556,16.227,44,24,44z"}),S.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.236-2.231,4.166-4.187,5.584l0.003-0.002l5.586,4.727 C35.971,38.495,44,32,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Continuar con Google"]}),o==="login"&&S.jsxs("p",{className:"muted center mt-16",children:["¿No tienes cuenta?"," ",S.jsx("a",{className:"link",href:"#",onClick:ce=>{ce.preventDefault(),c("register")},children:"Crear cuenta"})," ","·"," ",S.jsx("a",{className:"link",href:"#",onClick:ce=>{ce.preventDefault(),c("reset")},children:"¿Olvidaste tu contraseña?"})]})]})]})}function SM({open:i,correct:e,explain:t,onClose:s,durationMs:o=1e4,dismissable:c=!0,pointsDelta:h=0}){return ue.useEffect(()=>{if(!i)return;const p=setTimeout(()=>s?.(),o);return()=>clearTimeout(p)},[i,s,o]),i?S.jsxs("div",{onClick:c?s:void 0,style:{position:"fixed",inset:0,display:"grid",placeItems:"center",zIndex:60,background:"linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.55))"},children:[e&&S.jsxs("div",{"aria-hidden":!0,className:"confetti-overlay",style:{position:"fixed",inset:0,pointerEvents:"none",overflow:"hidden"},children:[Array.from({length:42}).map((p,g)=>{const y=g/42*Math.PI*2,_=160+g%4*40,T=Math.cos(y)*_,A=Math.sin(y)*_,z=g*33%180-90,F=g%7*20,ee=["#ff6b6b","#ffd166","#06d6a0","#5ecbff","#b794f4","#8be9e3"],K=ee[g%ee.length],ne=8+g%3*4,ae=10+(g+2)%4*6;return S.jsx("span",{className:"confetti-piece",style:{position:"absolute",left:"50%",top:"40%",width:ne,height:ae,background:K,borderRadius:2,transform:"translate(-50%, -50%)",animation:`confettiFly 900ms ease-out ${F}ms forwards`,boxShadow:"0 2px 6px rgba(0,0,0,.35)","--dx":`${T}px`,"--dy":`${A}px`,"--rot":`${z}deg`}},g)}),S.jsx("style",{children:`
            @keyframes confettiFly {
              0%   { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1 }
              35%  { transform: translate(calc(-50% + var(--dx)*.4), calc(-50% + var(--dy)*.4)) scale(1.05) rotate(var(--rot)); opacity: 1 }
              100% { transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1) rotate(var(--rot)); opacity: 0 }
            }
          `})]}),S.jsxs("div",{onClick:p=>p.stopPropagation(),style:{background:e?"linear-gradient(135deg, #34d399, #10b981)":"linear-gradient(135deg, #f87171, #ef4444)",color:"#0b0b0b",padding:"18px 20px",borderRadius:16,boxShadow:"0 14px 40px rgba(0,0,0,0.45)",maxWidth:"min(560px, 92vw)",transform:"translateY(0)",animation:e?"af-bounce .5s ease-out":"af-shake .4s ease-out"},children:[S.jsx("style",{children:`
          @keyframes af-bounce { 0% { transform: scale(.9); opacity:.6 } 50% { transform: scale(1.06); opacity:1 } 100% { transform: scale(1); opacity:1 } }
          @keyframes af-shake { 0% { transform: translateX(0) } 25% { transform: translateX(-6px) rotate(-1deg) } 50% { transform: translateX(6px) rotate(1deg) } 75% { transform: translateX(-4px) rotate(-1deg) } 100% { transform: translateX(0) }
          }
        `}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:6},children:[S.jsx("span",{"aria-hidden":!0,style:{fontSize:20},children:e?"✅":"❌"}),S.jsx("div",{style:{fontWeight:900,fontSize:18},children:e?"¡Correcto!":"Incorrecto"})]}),S.jsx("div",{style:{fontSize:14,opacity:.95,marginBottom:4},children:e?`Ganaste +${Math.abs(h)} puntos`:`Perdiste -${Math.abs(h)} puntos`}),!e&&t&&S.jsx("div",{style:{fontSize:14,opacity:.95},children:t}),c&&S.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:S.jsx("button",{onClick:s,style:{border:"1px solid rgba(0,0,0,.2)",background:"#0b0b0b",color:"#f5f5f5",borderRadius:8,padding:"6px 10px"},children:"Cerrar"})})]})]}):null}function xM({title:i="Bienvenidos",sub:e="al juego de la Ruleta de Datos",clickThrough:t=!1}){return S.jsx("div",{className:"splash-overlay",role:"dialog","aria-label":"Bienvenido",style:{pointerEvents:t?"none":"auto"},children:S.jsxs("div",{className:"splash-card",children:[S.jsxs("div",{className:"splash-wheel","aria-hidden":!0,children:[S.jsxs("svg",{viewBox:"0 0 100 100",children:[S.jsx("defs",{children:S.jsxs("radialGradient",{id:"g",cx:"50%",cy:"50%",r:"60%",children:[S.jsx("stop",{offset:"0%",stopColor:"#0b0b0b"}),S.jsx("stop",{offset:"100%",stopColor:"#171717"})]})}),S.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#g)",stroke:"#303030",strokeWidth:"1.5"}),["#60a5fa","#f59e0b","#10b981","#a78bfa","#f472b6","#34d399","#f87171","#22d3ee"].map((s,o)=>{const c=o*45,h=A=>(A-90)*Math.PI/180,p=50+48*Math.cos(h(c)),g=50+48*Math.sin(h(c)),y=50+48*Math.cos(h(c+45)),_=50+48*Math.sin(h(c+45)),T=`M 50 50 L ${p} ${g} A 48 48 0 0 1 ${y} ${_} Z`;return S.jsx("path",{d:T,fill:s,opacity:".9"},o)}),S.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"#0e0e0e",stroke:"#e5e7eb",strokeWidth:"1"})]}),S.jsx("span",{className:"splash-pin"})]}),S.jsx("h1",{className:"splash-title",children:i}),S.jsx("p",{className:"splash-sub",children:e}),S.jsx("div",{className:"splash-loading","aria-label":"Cargando"})]})})}function RM(){const{auth:i,db:e}=hk(),t=eT(900),[s,o]=ue.useState(null),[c,h]=ue.useState(!1),[p,g]=ue.useState(null),[y,_]=ue.useState(null),[T,A]=ue.useState(!1),[z,F]=ue.useState(null),[ee,K]=ue.useState(!1),[ne,ae]=ue.useState(null),[ie,Re]=ue.useState(null),[ye,De]=ue.useState(new Set),[M,x]=ue.useState(!1),[C,O]=ue.useState(!1),[N,V]=ue.useState(""),[I,ce]=ue.useState(0),[Pe,Q]=ue.useState(!0),[re,fe]=ue.useState({title:"Bienvenidos",sub:"al juego de la Ruleta de Datos"}),[Ge,D]=ue.useState(!1),W=ue.useRef(null),oe=ue.useRef(0),[te,pe]=ue.useState(!0),[Ie,Ae]=ue.useState(0),[bt,We]=ue.useState({open:!1,level:0}),[Gn,oi]=ue.useState(!1),Et=ue.useCallback((Ce,ut,at,$i=!1)=>{W.current&&(clearTimeout(W.current),W.current=null);const Xi=oe.current=(oe.current+1)%Number.MAX_SAFE_INTEGER;(ut||at)&&fe({title:ut??re.title,sub:at??re.sub}),D(!!$i),Q(!0),W.current=setTimeout(()=>{oe.current===Xi&&(Q(!1),D(!1)),W.current=null},Ce)},[re.title,re.sub]);ue.useEffect(()=>(Et(2500),()=>{W.current&&(clearTimeout(W.current),W.current=null)}),[Et]),ue.useEffect(()=>{try{if(!sessionStorage.getItem("wantSplashLogin"))return;$R(i).then(ut=>{ut&&ut.user&&Et(3e3,"Cargando…","Preparando tu juego")}).catch(ut=>{ut&&console.error("Google redirect error:",ut)})}catch{}},[i,Et]),ue.useEffect(()=>bR(i,async Ce=>{if(o(Ce),!Ce){h(!1),F(null);return}try{const ut=qo(e,"users",Ce.uid);(await J4(ut)).exists()||await X1(ut,{displayName:Ce.displayName||Ce.email,gender:"X",city:"N/A",createdAt:ga()},{merge:!0}),h(!0),g(null);try{if(sessionStorage.getItem("wantSplashLogin")){Et(3e3,"Cargando…","Preparando tu juego");try{sessionStorage.removeItem("wantSplashLogin")}catch{}}}catch{}try{sessionStorage.getItem("wantSplashLogin")&&(fe({title:"Cargando…",sub:"Preparando tu juego"}),Q(!0),setTimeout(()=>{Q(!1);try{sessionStorage.removeItem("wantSplashLogin")}catch{}},3e3))}catch{}}catch(ut){console.error("Perfil/Firestore no disponible:",ut),g("⚠️ Error conectando con Firestore. Se podrá girar, pero no se guardarán resultados."),h(!0)}}),[i,e,Et]),ue.useEffect(()=>{if(!s)return;const Ce=qo(e,"userstats",s.uid),ut=tk(Ce,at=>{F(at.exists()?at.data():null)},at=>console.error("myStats error:",at));return()=>ut()},[e,s]);const bi=ue.useCallback(async Ce=>{_(Ce);const ut=Ak(Ce.label,ye);ut&&s?(Re(Ce),ae(ut),K(!0)):s&&!p&&(await fk(e,s.uid,s.displayName||s.email,{label:Ce.label,points:Ce.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,p,ye]),Qn=ue.useCallback(async Ce=>{if(!ne||!ie||!s){K(!1);return}const ut=typeof Ce=="object"&&Ce?.timeout,at=typeof Ce=="object"&&Number.isFinite(Ce?.secondsLeft)?Ce.secondsLeft:void 0;typeof at=="number"&&Re(yt=>yt&&{...yt,lastSecondsLeft:at});let $i;ne.type==="tf"?$i=typeof Ce=="object"?!!Ce.choice:!!Ce:$i=typeof Ce=="object"?String(Ce.value??"").toLowerCase():String(Ce).toLowerCase();const Xi=ne.type==="tf"?!!ne.answer:String(ne.answer).toLowerCase(),pn=!ut&&$i===Xi;let li=1;pn&&Number.isFinite(at)&&(at<=5?li=.5:at<=10&&(li=.75));const ks=pn?Math.max(1,Math.round(ie.points*li)):-ie.points;ce(ks);try{await Sk(e,s.uid,s.displayName||s.email,{...ie,points:Math.abs(ks)},ne,pn),window.dispatchEvent(new Event("reload-top10")),O(pn),V(pn?"":ne.explain||""),x(!0);try{(pn?_k:bk)(te)}catch{}Ae(yt=>{const an=pn?yt+1:0;if(pn&&(an===3||an===7||an===10||an>10&&an%5===0)){const dt=an>=10?3:an>=7?2:1;We({open:!0,level:dt});try{Ek(te,dt)}catch{}}return an}),K(!1),ae(null),Re(null),F(yt=>{const an=ks;return yt&&{...yt,totalScore:(yt.totalScore||0)+an,totalSpins:(yt.totalSpins||0)+1}}),De(yt=>new Set(yt).add(ne.id))}catch(yt){console.error("persistQuizOutcome failed",yt),K(!1),ae(null),Re(null)}},[e,s,ne,ie,te]),Ei=async()=>{Et(2500,"¡Gracias!","por participar en la actividad de Gobierno del Dato");try{await ER(i)}catch(Ce){console.error(Ce)}};return S.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[Pe&&S.jsx(xM,{title:re.title,sub:re.sub,clickThrough:Ge}),S.jsxs("header",{className:"app-header",children:[S.jsxs("div",{className:"brand-title",children:[S.jsx("span",{className:"app-emoji","aria-hidden":!0,children:"🎡"}),S.jsx("h1",{className:"app-title",children:"Ruleta de Datos"})]}),s?S.jsxs("div",{className:"user-strip",children:[S.jsx("span",{className:"user-label",children:"Conectado como"}),S.jsx("b",{className:"user-email",children:s.email}),t?S.jsx("button",{onClick:()=>oi(!0),title:"Ajustes","aria-label":"Ajustes",style:{marginLeft:8,padding:6,borderRadius:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--stroke)",color:"var(--text)",cursor:"pointer"},children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"3"}),S.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h0A1.65 1.65 0 0 0 9 4.09V4a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h0a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v0A1.65 1.65 0 0 0 20.91 12H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1Z"})]})}):S.jsxs(S.Fragment,{children:[S.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,marginLeft:12,fontSize:12},children:[S.jsx("input",{type:"checkbox",checked:te,onChange:Ce=>pe(Ce.target.checked)})," Sonido"]}),S.jsx("button",{onClick:Ei,className:"logout-icon",title:"Salir","aria-label":"Salir",children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),S.jsx("polyline",{points:"16 17 21 12 16 7"}),S.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}):S.jsxs("div",{className:"ga-strip",children:[S.jsx("span",{className:"ga-title",children:"ACTIVIDAD GOOGLE ANALYTICS"}),S.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",className:"ga-badge",children:S.jsx("img",{src:xk,alt:"UNIR"})}),S.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,marginLeft:12,fontSize:12},children:[S.jsx("input",{type:"checkbox",checked:te,onChange:Ce=>pe(Ce.target.checked)})," Sonido"]})]})]}),S.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?S.jsxs("div",{style:{display:"grid",gap:12},children:[S.jsx(Eb,{auth:i,db:e,onStartAuth:()=>{Et(3e3,"Cargando…","Preparando tu juego")},onReady:()=>{}}),S.jsx("button",{onClick:()=>A(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),S.jsx(Hm,{open:T,title:"Top 10 jugadores",onClose:()=>A(!1),children:S.jsx(kd,{db:e})})]}):S.jsxs("div",{className:"auth-shell",children:[S.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[S.jsx(Dk,{}),S.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[S.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.3,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),S.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:S.jsx(kd,{db:e})})]})]}),S.jsx("main",{className:"auth-main",children:S.jsx(Eb,{auth:i,db:e,onStartAuth:()=>{Et(3e3,"Cargando…","Preparando tu juego")},onReady:()=>{}})})]})),s&&c&&(t?S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[S.jsx(Ck,{streak:Ie,score:z?.totalScore??0,profileError:p,onOpenTop10:()=>A(!0)}),S.jsx(ub,{onResult:bi,disabled:ee,onBeforeFirstSpin:async()=>{Et(3e3,"¡A jugar!","Que te diviertas 🎉",!0)},soundOn:te}),y&&S.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["Último resultado: ",S.jsx("b",{children:y.label})," · Puntos: ",S.jsx("b",{children:y.points})]})]}),S.jsx(Hm,{open:T,title:"Top 10 jugadores",onClose:()=>A(!1),children:S.jsx(kd,{db:e,currentUser:s,myStats:z})}),S.jsx(cb,{open:ee,onClose:()=>Qn({timeout:!0}),question:ne,points:ie?.points,category:ie?.label,onAnswer:Qn})]}):S.jsxs("div",{className:"grid-main",children:[S.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[S.jsx("b",{children:"Gobierno del dato"}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[S.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",S.jsx("b",{children:z?.totalScore??0})]}),S.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Racha: ",S.jsx("b",{children:Ie})]})]}),p&&S.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:p})]}),S.jsx(ub,{onResult:bi,disabled:ee,onBeforeFirstSpin:async()=>{Et(3e3,"¡A jugar!","Que te diviertas 🎉",!0)},soundOn:te}),y&&S.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["Último resultado: ",S.jsx("b",{children:y.label})," · Puntos: ",S.jsx("b",{children:y.points})]})]}),S.jsx(kd,{db:e,currentUser:s,myStats:z}),S.jsx(cb,{open:ee,onClose:()=>Qn({timeout:!0}),question:ne,points:ie?.points,category:ie?.label,onAnswer:Qn})]})),S.jsx(SM,{open:M,correct:C,explain:N,onClose:()=>x(!1),durationMs:C?2e3:1e4,dismissable:!C,pointsDelta:I}),S.jsx(Ik,{open:bt.open,level:bt.level,streak:Ie,onClose:()=>We({open:!1,level:0})})]}),t&&S.jsx(Rk,{open:Gn,onClose:()=>oi(!1),soundOn:te,onToggleSound:()=>pe(Ce=>!Ce),onExit:Ei})]})}DA.createRoot(document.getElementById("root")).render(S.jsx(ue.StrictMode,{children:S.jsx(RM,{})}));
