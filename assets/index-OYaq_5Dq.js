(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Wp={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function _A(){if(S0)return uc;S0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return uc.Fragment=e,uc.jsx=t,uc.jsxs=t,uc}var x0;function bA(){return x0||(x0=1,Wp.exports=_A()),Wp.exports}var x=bA(),Zp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function EA(){if(R0)return Oe;R0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,ee={};function K(N,X,se){this.props=N,this.context=X,this.refs=ee,this.updater=se||j}K.prototype.isReactComponent={},K.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},K.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ne(){}ne.prototype=K.prototype;function ue(N,X,se){this.props=N,this.context=X,this.refs=ee,this.updater=se||j}var le=ue.prototype=new ne;le.constructor=ue,Q(le,K.prototype),le.isPureReactComponent=!0;var ke=Array.isArray,ge={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function O(N,X,se,te,pe,Ne){return se=Ne.ref,{$$typeof:i,type:N,key:X,ref:se!==void 0?se:null,props:Ne}}function S(N,X){return O(N.type,X,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function M(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return X[se]})}var D=/\/+/g;function k(N,X){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):X.toString(36)}function T(){}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(T,T):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Me(N,X,se,te,pe){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var Te=!1;if(N===null)Te=!0;else switch(Ne){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(N.$$typeof){case i:case e:Te=!0;break;case _:return Te=N._init,Me(Te(N._payload),X,se,te,pe)}}if(Te)return pe=pe(N),Te=te===""?"."+k(N,0):te,ke(pe)?(se="",Te!=null&&(se=Te.replace(D,"$&/")+"/"),Me(pe,X,se,"",function(wn){return wn})):pe!=null&&(I(pe)&&(pe=S(pe,se+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+Te)),X.push(pe)),1;Te=0;var vt=te===""?".":te+":";if(ke(N))for(var We=0;We<N.length;We++)te=N[We],Ne=vt+k(te,We),Te+=Me(te,X,se,Ne,pe);else if(We=R(N),typeof We=="function")for(N=We.call(N),We=0;!(te=N.next()).done;)te=te.value,Ne=vt+k(te,We++),Te+=Me(te,X,se,Ne,pe);else if(Ne==="object"){if(typeof N.then=="function")return Me(Ee(N),X,se,te,pe);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Te}function F(N,X,se){if(N==null)return N;var te=[],pe=0;return Me(N,te,"","",function(Ne){return X.call(se,Ne,pe++)}),te}function ie(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var fe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Pe(){}return Oe.Children={map:F,forEach:function(N,X,se){F(N,function(){X.apply(this,arguments)},se)},count:function(N){var X=0;return F(N,function(){X++}),X},toArray:function(N){return F(N,function(X){return X})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Oe.Component=K,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=ue,Oe.StrictMode=s,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ge.H.useMemoCache(N)}},Oe.cache=function(N){return function(){return N.apply(null,arguments)}},Oe.cloneElement=function(N,X,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=Q({},N.props),pe=N.key,Ne=void 0;if(X!=null)for(Te in X.ref!==void 0&&(Ne=void 0),X.key!==void 0&&(pe=""+X.key),X)!he.call(X,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&X.ref===void 0||(te[Te]=X[Te]);var Te=arguments.length-2;if(Te===1)te.children=se;else if(1<Te){for(var vt=Array(Te),We=0;We<Te;We++)vt[We]=arguments[We+2];te.children=vt}return O(N.type,pe,void 0,void 0,Ne,te)},Oe.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Oe.createElement=function(N,X,se){var te,pe={},Ne=null;if(X!=null)for(te in X.key!==void 0&&(Ne=""+X.key),X)he.call(X,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=X[te]);var Te=arguments.length-2;if(Te===1)pe.children=se;else if(1<Te){for(var vt=Array(Te),We=0;We<Te;We++)vt[We]=arguments[We+2];pe.children=vt}if(N&&N.defaultProps)for(te in Te=N.defaultProps,Te)pe[te]===void 0&&(pe[te]=Te[te]);return O(N,Ne,void 0,void 0,null,pe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(N){return{$$typeof:p,render:N}},Oe.isValidElement=I,Oe.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:ie}},Oe.memo=function(N,X){return{$$typeof:y,type:N,compare:X===void 0?null:X}},Oe.startTransition=function(N){var X=ge.T,se={};ge.T=se;try{var te=N(),pe=ge.S;pe!==null&&pe(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Pe,fe)}catch(Ne){fe(Ne)}finally{ge.T=X}},Oe.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()},Oe.use=function(N){return ge.H.use(N)},Oe.useActionState=function(N,X,se){return ge.H.useActionState(N,X,se)},Oe.useCallback=function(N,X){return ge.H.useCallback(N,X)},Oe.useContext=function(N){return ge.H.useContext(N)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(N,X){return ge.H.useDeferredValue(N,X)},Oe.useEffect=function(N,X,se){var te=ge.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(N,X)},Oe.useId=function(){return ge.H.useId()},Oe.useImperativeHandle=function(N,X,se){return ge.H.useImperativeHandle(N,X,se)},Oe.useInsertionEffect=function(N,X){return ge.H.useInsertionEffect(N,X)},Oe.useLayoutEffect=function(N,X){return ge.H.useLayoutEffect(N,X)},Oe.useMemo=function(N,X){return ge.H.useMemo(N,X)},Oe.useOptimistic=function(N,X){return ge.H.useOptimistic(N,X)},Oe.useReducer=function(N,X,se){return ge.H.useReducer(N,X,se)},Oe.useRef=function(N){return ge.H.useRef(N)},Oe.useState=function(N){return ge.H.useState(N)},Oe.useSyncExternalStore=function(N,X,se){return ge.H.useSyncExternalStore(N,X,se)},Oe.useTransition=function(){return ge.H.useTransition()},Oe.version="19.1.1",Oe}var I0;function Km(){return I0||(I0=1,Zp.exports=EA()),Zp.exports}var re=Km(),Jp={exports:{}},dc={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function TA(){return C0||(C0=1,(function(i){function e(F,ie){var fe=F.length;F.push(ie);e:for(;0<fe;){var Pe=fe-1>>>1,N=F[Pe];if(0<o(N,ie))F[Pe]=ie,F[fe]=N,fe=Pe;else break e}}function t(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ie=F[0],fe=F.pop();if(fe!==ie){F[0]=fe;e:for(var Pe=0,N=F.length,X=N>>>1;Pe<X;){var se=2*(Pe+1)-1,te=F[se],pe=se+1,Ne=F[pe];if(0>o(te,fe))pe<N&&0>o(Ne,te)?(F[Pe]=Ne,F[pe]=fe,Pe=pe):(F[Pe]=te,F[se]=fe,Pe=se);else if(pe<N&&0>o(Ne,fe))F[Pe]=Ne,F[pe]=fe,Pe=pe;else break e}}return ie}function o(F,ie){var fe=F.sortIndex-ie.sortIndex;return fe!==0?fe:F.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,A=null,R=3,j=!1,Q=!1,ee=!1,K=!1,ne=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ke(F){for(var ie=t(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=F)s(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=t(y)}}function ge(F){if(ee=!1,ke(F),!Q)if(t(g)!==null)Q=!0,he||(he=!0,k());else{var ie=t(y);ie!==null&&Me(ge,ie.startTime-F)}}var he=!1,O=-1,S=5,I=-1;function M(){return K?!0:!(i.unstable_now()-I<S)}function D(){if(K=!1,he){var F=i.unstable_now();I=F;var ie=!0;try{e:{Q=!1,ee&&(ee=!1,ue(O),O=-1),j=!0;var fe=R;try{t:{for(ke(F),A=t(g);A!==null&&!(A.expirationTime>F&&M());){var Pe=A.callback;if(typeof Pe=="function"){A.callback=null,R=A.priorityLevel;var N=Pe(A.expirationTime<=F);if(F=i.unstable_now(),typeof N=="function"){A.callback=N,ke(F),ie=!0;break t}A===t(g)&&s(g),ke(F)}else s(g);A=t(g)}if(A!==null)ie=!0;else{var X=t(y);X!==null&&Me(ge,X.startTime-F),ie=!1}}break e}finally{A=null,R=fe,j=!1}ie=void 0}}finally{ie?k():he=!1}}}var k;if(typeof le=="function")k=function(){le(D)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,Ee=T.port2;T.port1.onmessage=D,k=function(){Ee.postMessage(null)}}else k=function(){ne(D,0)};function Me(F,ie){O=ne(function(){F(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(F){switch(R){case 1:case 2:case 3:var ie=3;break;default:ie=R}var fe=R;R=ie;try{return F()}finally{R=fe}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=R;R=F;try{return ie()}finally{R=fe}},i.unstable_scheduleCallback=function(F,ie,fe){var Pe=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Pe+fe:Pe):fe=Pe,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=fe+N,F={id:_++,callback:ie,priorityLevel:F,startTime:fe,expirationTime:N,sortIndex:-1},fe>Pe?(F.sortIndex=fe,e(y,F),t(g)===null&&F===t(y)&&(ee?(ue(O),O=-1):ee=!0,Me(ge,fe-Pe))):(F.sortIndex=N,e(g,F),Q||j||(Q=!0,he||(he=!0,k()))),F},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(F){var ie=R;return function(){var fe=R;R=ie;try{return F.apply(this,arguments)}finally{R=fe}}}})(tm)),tm}var D0;function AA(){return D0||(D0=1,em.exports=TA()),em.exports}var nm={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function SA(){if(N0)return pn;N0=1;var i=Km();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},pn.flushSync=function(g){var y=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=_,s.d.f()}},pn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},pn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},pn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,A=p(_,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:j}):_==="script"&&s.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},pn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,A=p(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},pn.requestFormReset=function(g){s.d.r(g)},pn.unstable_batchedUpdates=function(g,y){return g(y)},pn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},pn.useFormStatus=function(){return h.H.useHostTransitionStatus()},pn.version="19.1.1",pn}var k0;function xA(){if(k0)return nm.exports;k0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=SA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function RA(){if(O0)return dc;O0=1;var i=AA(),e=Km(),t=xA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),n;if(f===l)return p(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var w=!1,b=d.child;b;){if(b===a){w=!0,a=d,l=f;break}if(b===l){w=!0,l=d,a=f;break}b=b.sibling}if(!w){for(b=f.child;b;){if(b===a){w=!0,a=f,l=d;break}if(b===l){w=!0,l=f,a=d;break}b=b.sibling}if(!w)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var T=Symbol.for("react.client.reference");function Ee(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===T?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Q:return"Fragment";case K:return"Profiler";case ee:return"StrictMode";case ge:return"Suspense";case he:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case le:return(n.displayName||"Context")+".Provider";case ue:return(n._context.displayName||"Context")+".Consumer";case ke:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:Ee(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return Ee(n(r))}catch{}}return null}var Me=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Pe=[],N=-1;function X(n){return{current:n}}function se(n){0>N||(n.current=Pe[N],Pe[N]=null,N--)}function te(n,r){N++,Pe[N]=n.current,n.current=r}var pe=X(null),Ne=X(null),Te=X(null),vt=X(null);function We(n,r){switch(te(Te,r),te(Ne,n),te(pe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Jw(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Jw(r),n=e0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(pe),te(pe,n)}function wn(){se(pe),se(Ne),se(Te)}function Ae(n){n.memoizedState!==null&&te(vt,n);var r=pe.current,a=e0(r,n.type);r!==a&&(te(Ne,n),te(pe,a))}function we(n){Ne.current===n&&(se(pe),se(Ne)),vt.current===n&&(se(vt),sc._currentValue=fe)}var Ge=Object.prototype.hasOwnProperty,Be=i.unstable_scheduleCallback,ft=i.unstable_cancelCallback,me=i.unstable_shouldYield,Le=i.unstable_requestPaint,Ze=i.unstable_now,In=i.unstable_getCurrentPriorityLevel,Pn=i.unstable_ImmediatePriority,tn=i.unstable_UserBlockingPriority,Cn=i.unstable_NormalPriority,Xi=i.unstable_LowPriority,wt=i.unstable_IdlePriority,dn=i.log,Ia=i.unstable_setDisableYieldValue,gt=null,rt=null;function Ln(n){if(typeof dn=="function"&&Ia(n),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(gt,n)}catch{}}var hn=Math.clz32?Math.clz32:Ns,nu=Math.log,Zh=Math.LN2;function Ns(n){return n>>>=0,n===0?32:31-(nu(n)/Zh|0)|0}var ks=256,Os=4194304;function fi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ca(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?d=fi(l):(w&=b,w!==0?d=fi(w):a||(a=b&~n,a!==0&&(d=fi(a))))):(b=l&~f,b!==0?d=fi(b):w!==0?d=fi(w):a||(a=l&~n,a!==0&&(d=fi(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Ms(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function sl(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var n=ks;return ks<<=1,(ks&4194048)===0&&(ks=256),n}function ol(){var n=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),n}function Wi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Zi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ll(n,r,a,l,d,f){var w=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,C=n.expirationTimes,z=n.hiddenUpdates;for(a=w&~a;0<a;){var $=31-hn(a),Z=1<<$;b[$]=0,C[$]=-1;var B=z[$];if(B!==null)for(z[$]=null,$=0;$<B.length;$++){var q=B[$];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Ti(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(w&~r))}function Ti(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-hn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function cl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-hn(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function Vr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Da(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Pr(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:w0(n.type))}function iu(n,r){var a=ie.p;try{return ie.p=n,r()}finally{ie.p=a}}var _t=Math.random().toString(36).slice(2),Bt="__reactFiber$"+_t,Mt="__reactProps$"+_t,Zn="__reactContainer$"+_t,ul="__reactEvents$"+_t,Jh="__reactListeners$"+_t,Lr="__reactHandles$"+_t,ru="__reactResources$"+_t,Vs="__reactMarker$"+_t;function Ur(n){delete n[Bt],delete n[Mt],delete n[ul],delete n[Jh],delete n[Lr]}function Ji(n){var r=n[Bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Zn]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=r0(n);n!==null;){if(a=n[Bt])return a;n=r0(n)}return r}n=a,a=n.parentNode}return null}function Ai(n){if(n=n[Bt]||n[Zn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Si(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function _n(n){var r=n[ru];return r||(r=n[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(n){n[Vs]=!0}var dl=new Set,Na={};function pi(n,r){er(n,r),er(n+"Capture",r)}function er(n,r){for(Na[n]=r,n=0;n<r.length;n++)dl.add(r[n])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Ps={};function ou(n){return Ge.call(Ps,n)?!0:Ge.call(au,n)?!1:su.test(n)?Ps[n]=!0:(au[n]=!0,!1)}function jr(n,r,a){if(ou(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function xi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function nn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Ls,lu;function tr(n){if(Ls===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ls=r&&r[1]||"",lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ls+n+lu}var ka=!1;function Oa(n,r){if(!n||ka)return"";ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var B=q}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(q){B=q}n.call(Z.prototype)}}else{try{throw Error()}catch(q){B=q}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),w=f[0],b=f[1];if(w&&b){var C=w.split(`
`),z=b.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===z.length)for(l=C.length-1,d=z.length-1;1<=l&&0<=d&&C[l]!==z[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==z[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==z[d]){var $=`
`+C[l].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=l&&0<=d);break}}}finally{ka=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?tr(a):""}function hl(n){switch(n.tag){case 26:case 27:case 5:return tr(n.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return Oa(n.type,!1);case 11:return Oa(n.type.render,!1);case 1:return Oa(n.type,!0);case 31:return tr("Activity");default:return""}}function Ma(n){try{var r="";do r+=hl(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ef(n){var r=fl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){l=""+w,f.call(this,w)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Va(n){n._valueTracker||(n._valueTracker=ef(n))}function pl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=fl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Us(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tf=/[\n"\\]/g;function Vt(n){return n.replace(tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Un(n,r,a,l,d,f,w,b){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),r!=null?w==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+bn(r)):n.value!==""+bn(r)&&(n.value=""+bn(r)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),r!=null?zr(n,w,bn(r)):a!=null?zr(n,w,bn(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+bn(b):n.removeAttribute("name")}function js(n,r,a,l,d,f,w,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+bn(a):"",r=r!=null?""+bn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function zr(n,r,a){r==="number"&&Us(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function nr(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+bn(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function ot(n,r,a){if(r!=null&&(r=""+bn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+bn(a):""}function zs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=bn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Jn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Bs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ml(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&cu(n,d,l)}else for(var f in r)r.hasOwnProperty(f)&&cu(n,f,r[f])}function gl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(n){return rf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ir=null;function ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rr=null,sr=null;function yl(n){var r=Ai(n);if(r&&(n=r.stateNode)){var a=n[Mt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Un(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[Mt]||null;if(!d)throw Error(s(90));Un(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&pl(l)}break e;case"textarea":ot(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&nr(n,!!a.multiple,r,!1)}}}var Ri=!1;function uu(n,r,a){if(Ri)return n(r,a);Ri=!0;try{var l=n(r);return l}finally{if(Ri=!1,(rr!==null||sr!==null)&&(id(),rr&&(r=rr,n=sr,sr=rr=null,yl(r),n)))for(r=0;r<n.length;r++)yl(n[r])}}function qs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ti=!1;if(mi)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){ti=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{ti=!1}var Ii=null,Br=null,ar=null;function vl(){if(ar)return ar;var n,r=Br,a=r.length,l,d="value"in Ii?Ii.value:Ii.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var w=a-n;for(l=1;l<=w&&r[a-l]===d[f-l];l++);return ar=d.slice(n,1<l?1-l:void 0)}function Ci(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Di(){return!0}function wl(){return!1}function $t(n){function r(a,l,d,f,w){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:wl,this.isPropagationStopped=wl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),r}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=$t(it),Fs=_({},it,{view:0,detail:0}),du=$t(Fs),Ua,ja,Ni,Gs=_({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ni&&(Ni&&n.type==="mousemove"?(Ua=n.screenX-Ni.screenX,ja=n.screenY-Ni.screenY):ja=Ua=0,Ni=n),Ua)},movementY:function(n){return"movementY"in n?n.movementY:ja}}),ni=$t(Gs),hu=_({},Gs,{dataTransfer:0}),sf=$t(hu),Qs=_({},Fs,{relatedTarget:0}),za=$t(Qs),_l=_({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=$t(_l),fu=_({},it,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qa=$t(fu),af=_({},it,{data:0}),bl=$t(af),$s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=mu[n])?!!r[n]:!1}function Ys(){return El}var gu=_({},Fs,{key:function(n){if(n.key){var r=$s[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(n){return n.type==="keypress"?Ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=$t(gu),yu=_({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=$t(yu),or=_({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),vu=$t(or),wu=_({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=$t(wu),bu=_({},Gs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=$t(bu),En=_({},it,{newState:0,oldState:0}),Eu=$t(En),Tu=[9,13,27,32],ki=mi&&"CompositionEvent"in window,u=null;mi&&"documentMode"in document&&(u=document.documentMode);var m=mi&&"TextEvent"in window&&!u,v=mi&&(!ki||u&&8<u&&11>=u),E=" ",L=!1;function H(n,r){switch(n){case"keyup":return Tu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qe=!1;function qt(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(L=!0,E);case"textInput":return n=r.data,n===E&&L?null:n;default:return null}}function $e(n,r){if(Qe)return n==="compositionend"||!ki&&H(n,r)?(n=vl(),ar=Br=Ii=null,Qe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Yt[n.type]:r==="textarea"}function lr(n,r,a,l){rr?sr?sr.push(l):sr=[l]:rr=l,r=cd(r,"onChange"),0<r.length&&(a=new La("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var rn=null,Oi=null;function Al(n){Yw(n,0)}function Au(n){var r=Si(n);if(pl(r))return n}function my(n,r){if(n==="change")return r}var gy=!1;if(mi){var of;if(mi){var lf="oninput"in document;if(!lf){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),lf=typeof yy.oninput=="function"}of=lf}else of=!1;gy=of&&(!document.documentMode||9<document.documentMode)}function vy(){rn&&(rn.detachEvent("onpropertychange",wy),Oi=rn=null)}function wy(n){if(n.propertyName==="value"&&Au(Oi)){var r=[];lr(r,Oi,n,ei(n)),uu(Al,r)}}function XT(n,r,a){n==="focusin"?(vy(),rn=r,Oi=a,rn.attachEvent("onpropertychange",wy)):n==="focusout"&&vy()}function WT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Au(Oi)}function ZT(n,r){if(n==="click")return Au(r)}function JT(n,r){if(n==="input"||n==="change")return Au(r)}function e2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var jn=typeof Object.is=="function"?Object.is:e2;function Sl(n,r){if(jn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Ge.call(r,d)||!jn(n[d],r[d]))return!1}return!0}function _y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function by(n,r){var a=_y(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_y(a)}}function Ey(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ey(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ty(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Us(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Us(n.document)}return r}function cf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var t2=mi&&"documentMode"in document&&11>=document.documentMode,Ga=null,uf=null,xl=null,df=!1;function Ay(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Ga==null||Ga!==Us(l)||(l=Ga,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&Sl(xl,l)||(xl=l,l=cd(uf,"onSelect"),0<l.length&&(r=new La("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ga)))}function Ks(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Qa={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},hf={},Sy={};mi&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Xs(n){if(hf[n])return hf[n];if(!Qa[n])return n;var r=Qa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Sy)return hf[n]=r[a];return n}var xy=Xs("animationend"),Ry=Xs("animationiteration"),Iy=Xs("animationstart"),n2=Xs("transitionrun"),i2=Xs("transitionstart"),r2=Xs("transitioncancel"),Cy=Xs("transitionend"),Dy=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function gi(n,r){Dy.set(n,r),pi(r,[n])}var Ny=new WeakMap;function ii(n,r){if(typeof n=="object"&&n!==null){var a=Ny.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ma(r)},Ny.set(n,r),r)}return{value:n,source:r,stack:Ma(r)}}var ri=[],$a=0,pf=0;function Su(){for(var n=$a,r=pf=$a=0;r<n;){var a=ri[r];ri[r++]=null;var l=ri[r];ri[r++]=null;var d=ri[r];ri[r++]=null;var f=ri[r];if(ri[r++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}f!==0&&ky(a,d,f)}}function xu(n,r,a,l){ri[$a++]=n,ri[$a++]=r,ri[$a++]=a,ri[$a++]=l,pf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function mf(n,r,a,l){return xu(n,r,a,l),Ru(n)}function Ya(n,r){return xu(n,null,null,r),Ru(n)}function ky(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&r!==null&&(d=31-hn(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function Ru(n){if(50<Wl)throw Wl=0,bp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ka={};function s2(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,r,a,l){return new s2(n,r,a,l)}function gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cr(n,r){var a=n.alternate;return a===null?(a=zn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Oy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Iu(n,r,a,l,d,f){var w=0;if(l=n,typeof n=="function")gf(n)&&(w=1);else if(typeof n=="string")w=oA(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=zn(31,a,r,d),n.elementType=I,n.lanes=f,n;case Q:return Ws(a.children,d,f,r);case ee:w=8,d|=24;break;case K:return n=zn(12,a,r,d|2),n.elementType=K,n.lanes=f,n;case ge:return n=zn(13,a,r,d),n.elementType=ge,n.lanes=f,n;case he:return n=zn(19,a,r,d),n.elementType=he,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:case le:w=10;break e;case ue:w=9;break e;case ke:w=11;break e;case O:w=14;break e;case S:w=16,l=null;break e}w=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=zn(w,a,r,d),r.elementType=n,r.type=l,r.lanes=f,r}function Ws(n,r,a,l){return n=zn(7,n,l,r),n.lanes=a,n}function yf(n,r,a){return n=zn(6,n,null,r),n.lanes=a,n}function vf(n,r,a){return r=zn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Xa=[],Wa=0,Cu=null,Du=0,si=[],ai=0,Zs=null,ur=1,dr="";function Js(n,r){Xa[Wa++]=Du,Xa[Wa++]=Cu,Cu=n,Du=r}function My(n,r,a){si[ai++]=ur,si[ai++]=dr,si[ai++]=Zs,Zs=n;var l=ur;n=dr;var d=32-hn(l)-1;l&=~(1<<d),a+=1;var f=32-hn(r)+d;if(30<f){var w=d-d%5;f=(l&(1<<w)-1).toString(32),l>>=w,d-=w,ur=1<<32-hn(r)+d|a<<d|l,dr=f+n}else ur=1<<f|a<<d|l,dr=n}function wf(n){n.return!==null&&(Js(n,1),My(n,1,0))}function _f(n){for(;n===Cu;)Cu=Xa[--Wa],Xa[Wa]=null,Du=Xa[--Wa],Xa[Wa]=null;for(;n===Zs;)Zs=si[--ai],si[ai]=null,dr=si[--ai],si[ai]=null,ur=si[--ai],si[ai]=null}var Tn=null,At=null,tt=!1,ea=null,Mi=!1,bf=Error(s(519));function ta(n){var r=Error(s(418,""));throw Cl(ii(r,n)),bf}function Vy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Bt]=n,r[Mt]=l,a){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(a=0;a<Jl.length;a++)ze(Jl[a],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),js(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Va(r);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),zs(r,l.value,l.defaultValue,l.children),Va(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Zw(r.textContent,a)?(l.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),l.onScroll!=null&&ze("scroll",r),l.onScrollEnd!=null&&ze("scrollend",r),l.onClick!=null&&(r.onclick=ud),r=!0):r=!1,r||ta(n)}function Py(n){for(Tn=n.return;Tn;)switch(Tn.tag){case 5:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:Tn=Tn.return}}function Rl(n){if(n!==Tn)return!1;if(!tt)return Py(n),tt=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Lp(n.type,n.memoizedProps)),a=!a),a&&At&&ta(n),Py(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){At=vi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}At=null}}else r===27?(r=At,is(n.type)?(n=Bp,Bp=null,At=n):At=r):At=Tn?vi(n.stateNode.nextSibling):null;return!0}function Il(){At=Tn=null,tt=!1}function Ly(){var n=ea;return n!==null&&(kn===null?kn=n:kn.push.apply(kn,n),ea=null),n}function Cl(n){ea===null?ea=[n]:ea.push(n)}var Ef=X(null),na=null,hr=null;function qr(n,r,a){te(Ef,r._currentValue),r._currentValue=a}function fr(n){n._currentValue=Ef.current,se(Ef)}function Tf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Af(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var w=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var C=0;C<r.length;C++)if(b.context===r[C]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Tf(f.return,a,n),l||(w=null);break e}f=b.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=a,f=w.alternate,f!==null&&(f.lanes|=a),Tf(w,a,n),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===n){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Dl(n,r,a,l){n=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var b=d.type;jn(d.pendingProps.value,w.value)||(n!==null?n.push(b):n=[b])}}else if(d===vt.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(sc):n=[sc])}d=d.return}n!==null&&Af(r,n,a,l),r.flags|=262144}function Nu(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ia(n){na=n,hr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fn(n){return Uy(na,n)}function ku(n,r){return na===null&&ia(n),Uy(n,r)}function Uy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(n===null)throw Error(s(308));hr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else hr=hr.next=r;return a}var a2=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},o2=i.unstable_scheduleCallback,l2=i.unstable_NormalPriority,Ft={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new a2,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&o2(l2,function(){n.controller.abort()})}var kl=null,xf=0,Za=0,Ja=null;function c2(n,r){if(kl===null){var a=kl=[];xf=0,Za=Ip(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,r.then(jy,jy),r}function jy(){if(--xf===0&&kl!==null){Ja!==null&&(Ja.status="fulfilled");var n=kl;kl=null,Za=0,Ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function u2(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var zy=F.S;F.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&c2(n,r),zy!==null&&zy(n,r)};var ra=X(null);function Rf(){var n=ra.current;return n!==null?n:pt.pooledCache}function Ou(n,r){r===null?te(ra,ra.current):te(ra,r.pool)}function By(){var n=Rf();return n===null?null:{parent:Ft._currentValue,pool:n}}var Ol=Error(s(460)),qy=Error(s(474)),Mu=Error(s(542)),If={then:function(){}};function Hy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vu(){}function Fy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Vu,Vu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Qy(n),n;default:if(typeof r.status=="string")r.then(Vu,Vu);else{if(n=pt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Qy(n),n}throw Ml=r,Ol}}var Ml=null;function Gy(){if(Ml===null)throw Error(s(459));var n=Ml;return Ml=null,n}function Qy(n){if(n===Ol||n===Mu)throw Error(s(483))}var Hr=!1;function Cf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=Ru(n),ky(n,null,a),r}return xu(n,l,r,a),Ru(n)}function Vl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,cl(n,a)}}function Nf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=w:f=f.next=w,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var kf=!1;function Pl(){if(kf){var n=Ja;if(n!==null)throw n}}function Ll(n,r,a,l){kf=!1;var d=n.updateQueue;Hr=!1;var f=d.firstBaseUpdate,w=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var C=b,z=C.next;C.next=null,w===null?f=z:w.next=z,w=C;var $=n.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==w&&(b===null?$.firstBaseUpdate=z:b.next=z,$.lastBaseUpdate=C))}if(f!==null){var Z=d.baseState;w=0,$=z=C=null,b=f;do{var B=b.lane&-536870913,q=B!==b.lane;if(q?(Ye&B)===B:(l&B)===B){B!==0&&B===Za&&(kf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ce=n,Se=b;B=r;var ut=a;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){Z=Ce.call(ut,Z,B);break e}Z=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,B=typeof Ce=="function"?Ce.call(ut,Z,B):Ce,B==null)break e;Z=_({},Z,B);break e;case 2:Hr=!0}}B=b.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=d.callbacks,q===null?d.callbacks=[B]:q.push(B))}else q={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(z=$=q,C=Z):$=$.next=q,w|=B;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;q=b,b=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);$===null&&(C=Z),d.baseState=C,d.firstBaseUpdate=z,d.lastBaseUpdate=$,f===null&&(d.shared.lanes=0),Jr|=w,n.lanes=w,n.memoizedState=Z}}function $y(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Yy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)$y(a[n],r)}var eo=X(null),Pu=X(0);function Ky(n,r){n=_r,te(Pu,n),te(eo,r),_r=n|r.baseLanes}function Of(){te(Pu,_r),te(eo,eo.current)}function Mf(){_r=Pu.current,se(eo),se(Pu)}var Qr=0,Ve=null,lt=null,Pt=null,Lu=!1,to=!1,sa=!1,Uu=0,Ul=0,no=null,d2=0;function It(){throw Error(s(321))}function Vf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!jn(n[a],r[a]))return!1;return!0}function Pf(n,r,a,l,d,f){return Qr=f,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=n===null||n.memoizedState===null?kv:Ov,sa=!1,f=a(l,d),sa=!1,to&&(f=Wy(r,a,l,d)),Xy(n),f}function Xy(n){F.H=Fu;var r=lt!==null&&lt.next!==null;if(Qr=0,Pt=lt=Ve=null,Lu=!1,Ul=0,no=null,r)throw Error(s(300));n===null||Kt||(n=n.dependencies,n!==null&&Nu(n)&&(Kt=!0))}function Wy(n,r,a,l){Ve=n;var d=0;do{if(to&&(no=null),Ul=0,to=!1,25<=d)throw Error(s(301));if(d+=1,Pt=lt=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=v2,f=r(a,l)}while(to);return f}function h2(){var n=F.H,r=n.useState()[0];return r=typeof r.then=="function"?jl(r):r,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(Ve.flags|=1024),r}function Lf(){var n=Uu!==0;return Uu=0,n}function Uf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function jf(n){if(Lu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Lu=!1}Qr=0,Pt=lt=Ve=null,to=!1,Ul=Uu=0,no=null}function Dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ve.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Lt(){if(lt===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var r=Pt===null?Ve.memoizedState:Pt.next;if(r!==null)Pt=r,lt=n;else{if(n===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Pt===null?Ve.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(n){var r=Ul;return Ul+=1,no===null&&(no=[]),n=Fy(no,n,r),r=Ve,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?kv:Ov),n}function ju(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return jl(n);if(n.$$typeof===le)return fn(n)}throw Error(s(438,String(n)))}function Bf(n){var r=null,a=Ve.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zf(),Ve.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function pr(n,r){return typeof r=="function"?r(n):r}function zu(n){var r=Lt();return qf(r,lt,n)}function qf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var w=d.next;d.next=f.next,f.next=w}r.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{r=d.next;var b=w=null,C=null,z=r,$=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ye&Z)===Z:(Qr&Z)===Z){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Za&&($=!0);else if((Qr&B)===B){z=z.next,B===Za&&($=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=Z,w=f):C=C.next=Z,Ve.lanes|=B,Jr|=B;Z=z.action,sa&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else B={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=B,w=f):C=C.next=B,Ve.lanes|=Z,Jr|=Z;z=z.next}while(z!==null&&z!==r);if(C===null?w=f:C.next=b,!jn(f,n.memoizedState)&&(Kt=!0,$&&(a=Ja,a!==null)))throw a;n.memoizedState=f,n.baseState=w,n.baseQueue=C,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Hf(n){var r=Lt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do f=n(f,w.action),w=w.next;while(w!==d);jn(f,r.memoizedState)||(Kt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Zy(n,r,a){var l=Ve,d=Lt(),f=tt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var w=!jn((lt||d).memoizedState,a);w&&(d.memoizedState=a,Kt=!0),d=d.queue;var b=tv.bind(null,l,d,n);if(zl(2048,8,b,[n]),d.getSnapshot!==r||w||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,io(9,Bu(),ev.bind(null,l,d,a,r),null),pt===null)throw Error(s(349));f||(Qr&124)!==0||Jy(l,r,a)}return a}function Jy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ve.updateQueue,r===null?(r=zf(),Ve.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function ev(n,r,a,l){r.value=a,r.getSnapshot=l,nv(r)&&iv(n)}function tv(n,r,a){return a(function(){nv(r)&&iv(n)})}function nv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!jn(n,a)}catch{return!0}}function iv(n){var r=Ya(n,2);r!==null&&Gn(r,n,2)}function Ff(n){var r=Dn();if(typeof n=="function"){var a=n;if(n=a(),sa){Ln(!0);try{a()}finally{Ln(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:n},r}function rv(n,r,a,l){return n.baseState=a,qf(n,lt,typeof l=="function"?l:pr)}function f2(n,r,a,l,d){if(Hu(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){f.listeners.push(w)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,sv(r,f)):(f.next=a.next,r.pending=a.next=f)}}function sv(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var f=F.T,w={};F.T=w;try{var b=a(d,l),C=F.S;C!==null&&C(w,b),av(n,r,b)}catch(z){Gf(n,r,z)}finally{F.T=f}}else try{f=a(d,l),av(n,r,f)}catch(z){Gf(n,r,z)}}function av(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ov(n,r,l)},function(l){return Gf(n,r,l)}):ov(n,r,a)}function ov(n,r,a){r.status="fulfilled",r.value=a,lv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,sv(n,a)))}function Gf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,lv(r),r=r.next;while(r!==l)}n.action=null}function lv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function cv(n,r){return r}function uv(n,r){if(tt){var a=pt.formState;if(a!==null){e:{var l=Ve;if(tt){if(At){t:{for(var d=At,f=Mi;d.nodeType!==8;){if(!f){d=null;break t}if(d=vi(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){At=vi(d.nextSibling),l=d.data==="F!";break e}}ta(l)}l=!1}l&&(r=a[0])}}return a=Dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:r},a.queue=l,a=Cv.bind(null,Ve,l),l.dispatch=a,l=Ff(!1),f=Xf.bind(null,Ve,!1,l.queue),l=Dn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=f2.bind(null,Ve,d,f,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function dv(n){var r=Lt();return hv(r,lt,n)}function hv(n,r,a){if(r=qf(n,r,cv)[0],n=zu(pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=jl(r)}catch(w){throw w===Ol?Mu:w}else l=r;r=Lt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Ve.flags|=2048,io(9,Bu(),p2.bind(null,d,a),null)),[l,f,n]}function p2(n,r){n.action=r}function fv(n){var r=Lt(),a=lt;if(a!==null)return hv(r,a,n);Lt(),r=r.memoizedState,a=Lt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function io(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=zf(),Ve.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Bu(){return{destroy:void 0,resource:void 0}}function pv(){return Lt().memoizedState}function qu(n,r,a,l){var d=Dn();l=l===void 0?null:l,Ve.flags|=n,d.memoizedState=io(1|r,Bu(),a,l)}function zl(n,r,a,l){var d=Lt();l=l===void 0?null:l;var f=d.memoizedState.inst;lt!==null&&l!==null&&Vf(l,lt.memoizedState.deps)?d.memoizedState=io(r,f,a,l):(Ve.flags|=n,d.memoizedState=io(1|r,f,a,l))}function mv(n,r){qu(8390656,8,n,r)}function gv(n,r){zl(2048,8,n,r)}function yv(n,r){return zl(4,2,n,r)}function vv(n,r){return zl(4,4,n,r)}function wv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function _v(n,r,a){a=a!=null?a.concat([n]):null,zl(4,4,wv.bind(null,r,n),a)}function Qf(){}function bv(n,r){var a=Lt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Vf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Ev(n,r){var a=Lt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Vf(r,l[1]))return l[0];if(l=n(),sa){Ln(!0);try{n()}finally{Ln(!1)}}return a.memoizedState=[l,r],l}function $f(n,r,a){return a===void 0||(Qr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Sw(),Ve.lanes|=n,Jr|=n,a)}function Tv(n,r,a,l){return jn(a,r)?a:eo.current!==null?(n=$f(n,a,l),jn(n,r)||(Kt=!0),n):(Qr&42)===0?(Kt=!0,n.memoizedState=a):(n=Sw(),Ve.lanes|=n,Jr|=n,r)}function Av(n,r,a,l,d){var f=ie.p;ie.p=f!==0&&8>f?f:8;var w=F.T,b={};F.T=b,Xf(n,!1,r,a);try{var C=d(),z=F.S;if(z!==null&&z(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=u2(C,l);Bl(n,r,$,Fn(n))}else Bl(n,r,l,Fn(n))}catch(Z){Bl(n,r,{then:function(){},status:"rejected",reason:Z},Fn())}finally{ie.p=f,F.T=w}}function m2(){}function Yf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=Sv(n).queue;Av(n,d,r,fe,a===null?m2:function(){return xv(n),a(l)})}function Sv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function xv(n){var r=Sv(n).next.queue;Bl(n,r,{},Fn())}function Kf(){return fn(sc)}function Rv(){return Lt().memoizedState}function Iv(){return Lt().memoizedState}function g2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Fn();n=Fr(a);var l=Gr(r,n,a);l!==null&&(Gn(l,r,a),Vl(l,r,a)),r={cache:Sf()},n.payload=r;return}r=r.return}}function y2(n,r,a){var l=Fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(n)?Dv(r,a):(a=mf(n,r,a,l),a!==null&&(Gn(a,n,l),Nv(a,r,l)))}function Cv(n,r,a){var l=Fn();Bl(n,r,a,l)}function Bl(n,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(n))Dv(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var w=r.lastRenderedState,b=f(w,a);if(d.hasEagerState=!0,d.eagerState=b,jn(b,w))return xu(n,r,d,0),pt===null&&Su(),!1}catch{}finally{}if(a=mf(n,r,d,l),a!==null)return Gn(a,n,l),Nv(a,r,l),!0}return!1}function Xf(n,r,a,l){if(l={lane:2,revertLane:Ip(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(n)){if(r)throw Error(s(479))}else r=mf(n,a,l,2),r!==null&&Gn(r,n,2)}function Hu(n){var r=n.alternate;return n===Ve||r!==null&&r===Ve}function Dv(n,r){to=Lu=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Nv(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,cl(n,a)}}var Fu={readContext:fn,use:ju,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},kv={readContext:fn,use:ju,useCallback:function(n,r){return Dn().memoizedState=[n,r===void 0?null:r],n},useContext:fn,useEffect:mv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,qu(4194308,4,wv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return qu(4194308,4,n,r)},useInsertionEffect:function(n,r){qu(4,2,n,r)},useMemo:function(n,r){var a=Dn();r=r===void 0?null:r;var l=n();if(sa){Ln(!0);try{n()}finally{Ln(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=Dn();if(a!==void 0){var d=a(r);if(sa){Ln(!0);try{a(r)}finally{Ln(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=y2.bind(null,Ve,n),[l.memoizedState,n]},useRef:function(n){var r=Dn();return n={current:n},r.memoizedState=n},useState:function(n){n=Ff(n);var r=n.queue,a=Cv.bind(null,Ve,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(n,r){var a=Dn();return $f(a,n,r)},useTransition:function(){var n=Ff(!1);return n=Av.bind(null,Ve,n.queue,!0,!1),Dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ve,d=Dn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),pt===null)throw Error(s(349));(Ye&124)!==0||Jy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,mv(tv.bind(null,l,f,n),[n]),l.flags|=2048,io(9,Bu(),ev.bind(null,l,f,a,r),null),a},useId:function(){var n=Dn(),r=pt.identifierPrefix;if(tt){var a=dr,l=ur;a=(l&~(1<<32-hn(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Uu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=d2++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Kf,useFormState:uv,useActionState:uv,useOptimistic:function(n){var r=Dn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xf.bind(null,Ve,!0,a),a.dispatch=r,[n,r]},useMemoCache:Bf,useCacheRefresh:function(){return Dn().memoizedState=g2.bind(null,Ve)}},Ov={readContext:fn,use:ju,useCallback:bv,useContext:fn,useEffect:gv,useImperativeHandle:_v,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:zu,useRef:pv,useState:function(){return zu(pr)},useDebugValue:Qf,useDeferredValue:function(n,r){var a=Lt();return Tv(a,lt.memoizedState,n,r)},useTransition:function(){var n=zu(pr)[0],r=Lt().memoizedState;return[typeof n=="boolean"?n:jl(n),r]},useSyncExternalStore:Zy,useId:Rv,useHostTransitionStatus:Kf,useFormState:dv,useActionState:dv,useOptimistic:function(n,r){var a=Lt();return rv(a,lt,n,r)},useMemoCache:Bf,useCacheRefresh:Iv},v2={readContext:fn,use:ju,useCallback:bv,useContext:fn,useEffect:gv,useImperativeHandle:_v,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:Hf,useRef:pv,useState:function(){return Hf(pr)},useDebugValue:Qf,useDeferredValue:function(n,r){var a=Lt();return lt===null?$f(a,n,r):Tv(a,lt.memoizedState,n,r)},useTransition:function(){var n=Hf(pr)[0],r=Lt().memoizedState;return[typeof n=="boolean"?n:jl(n),r]},useSyncExternalStore:Zy,useId:Rv,useHostTransitionStatus:Kf,useFormState:fv,useActionState:fv,useOptimistic:function(n,r){var a=Lt();return lt!==null?rv(a,lt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Iv},ro=null,ql=0;function Gu(n){var r=ql;return ql+=1,ro===null&&(ro=[]),Fy(ro,n,r)}function Hl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Qu(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Mv(n){var r=n._init;return r(n._payload)}function Vv(n){function r(P,V){if(n){var U=P.deletions;U===null?(P.deletions=[V],P.flags|=16):U.push(V)}}function a(P,V){if(!n)return null;for(;V!==null;)r(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function d(P,V){return P=cr(P,V),P.index=0,P.sibling=null,P}function f(P,V,U){return P.index=U,n?(U=P.alternate,U!==null?(U=U.index,U<V?(P.flags|=67108866,V):U):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function w(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,V,U,W){return V===null||V.tag!==6?(V=yf(U,P.mode,W),V.return=P,V):(V=d(V,U),V.return=P,V)}function C(P,V,U,W){var de=U.type;return de===Q?$(P,V,U.props.children,W,U.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Mv(de)===V.type)?(V=d(V,U.props),Hl(V,U),V.return=P,V):(V=Iu(U.type,U.key,U.props,null,P.mode,W),Hl(V,U),V.return=P,V)}function z(P,V,U,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=vf(U,P.mode,W),V.return=P,V):(V=d(V,U.children||[]),V.return=P,V)}function $(P,V,U,W,de){return V===null||V.tag!==7?(V=Ws(U,P.mode,W,de),V.return=P,V):(V=d(V,U),V.return=P,V)}function Z(P,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=yf(""+V,P.mode,U),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return U=Iu(V.type,V.key,V.props,null,P.mode,U),Hl(U,V),U.return=P,U;case j:return V=vf(V,P.mode,U),V.return=P,V;case S:var W=V._init;return V=W(V._payload),Z(P,V,U)}if(Me(V)||k(V))return V=Ws(V,P.mode,U,null),V.return=P,V;if(typeof V.then=="function")return Z(P,Gu(V),U);if(V.$$typeof===le)return Z(P,ku(P,V),U);Qu(P,V)}return null}function B(P,V,U,W){var de=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:b(P,V,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===de?C(P,V,U,W):null;case j:return U.key===de?z(P,V,U,W):null;case S:return de=U._init,U=de(U._payload),B(P,V,U,W)}if(Me(U)||k(U))return de!==null?null:$(P,V,U,W,null);if(typeof U.then=="function")return B(P,V,Gu(U),W);if(U.$$typeof===le)return B(P,V,ku(P,U),W);Qu(P,U)}return null}function q(P,V,U,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(U)||null,b(V,P,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return P=P.get(W.key===null?U:W.key)||null,C(V,P,W,de);case j:return P=P.get(W.key===null?U:W.key)||null,z(V,P,W,de);case S:var Ue=W._init;return W=Ue(W._payload),q(P,V,U,W,de)}if(Me(W)||k(W))return P=P.get(U)||null,$(V,P,W,de,null);if(typeof W.then=="function")return q(P,V,U,Gu(W),de);if(W.$$typeof===le)return q(P,V,U,ku(V,W),de);Qu(V,W)}return null}function Ce(P,V,U,W){for(var de=null,Ue=null,ye=V,xe=V=0,Wt=null;ye!==null&&xe<U.length;xe++){ye.index>xe?(Wt=ye,ye=null):Wt=ye.sibling;var Je=B(P,ye,U[xe],W);if(Je===null){ye===null&&(ye=Wt);break}n&&ye&&Je.alternate===null&&r(P,ye),V=f(Je,V,xe),Ue===null?de=Je:Ue.sibling=Je,Ue=Je,ye=Wt}if(xe===U.length)return a(P,ye),tt&&Js(P,xe),de;if(ye===null){for(;xe<U.length;xe++)ye=Z(P,U[xe],W),ye!==null&&(V=f(ye,V,xe),Ue===null?de=ye:Ue.sibling=ye,Ue=ye);return tt&&Js(P,xe),de}for(ye=l(ye);xe<U.length;xe++)Wt=q(ye,P,xe,U[xe],W),Wt!==null&&(n&&Wt.alternate!==null&&ye.delete(Wt.key===null?xe:Wt.key),V=f(Wt,V,xe),Ue===null?de=Wt:Ue.sibling=Wt,Ue=Wt);return n&&ye.forEach(function(ls){return r(P,ls)}),tt&&Js(P,xe),de}function Se(P,V,U,W){if(U==null)throw Error(s(151));for(var de=null,Ue=null,ye=V,xe=V=0,Wt=null,Je=U.next();ye!==null&&!Je.done;xe++,Je=U.next()){ye.index>xe?(Wt=ye,ye=null):Wt=ye.sibling;var ls=B(P,ye,Je.value,W);if(ls===null){ye===null&&(ye=Wt);break}n&&ye&&ls.alternate===null&&r(P,ye),V=f(ls,V,xe),Ue===null?de=ls:Ue.sibling=ls,Ue=ls,ye=Wt}if(Je.done)return a(P,ye),tt&&Js(P,xe),de;if(ye===null){for(;!Je.done;xe++,Je=U.next())Je=Z(P,Je.value,W),Je!==null&&(V=f(Je,V,xe),Ue===null?de=Je:Ue.sibling=Je,Ue=Je);return tt&&Js(P,xe),de}for(ye=l(ye);!Je.done;xe++,Je=U.next())Je=q(ye,P,xe,Je.value,W),Je!==null&&(n&&Je.alternate!==null&&ye.delete(Je.key===null?xe:Je.key),V=f(Je,V,xe),Ue===null?de=Je:Ue.sibling=Je,Ue=Je);return n&&ye.forEach(function(wA){return r(P,wA)}),tt&&Js(P,xe),de}function ut(P,V,U,W){if(typeof U=="object"&&U!==null&&U.type===Q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:e:{for(var de=U.key;V!==null;){if(V.key===de){if(de=U.type,de===Q){if(V.tag===7){a(P,V.sibling),W=d(V,U.props.children),W.return=P,P=W;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&Mv(de)===V.type){a(P,V.sibling),W=d(V,U.props),Hl(W,U),W.return=P,P=W;break e}a(P,V);break}else r(P,V);V=V.sibling}U.type===Q?(W=Ws(U.props.children,P.mode,W,U.key),W.return=P,P=W):(W=Iu(U.type,U.key,U.props,null,P.mode,W),Hl(W,U),W.return=P,P=W)}return w(P);case j:e:{for(de=U.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){a(P,V.sibling),W=d(V,U.children||[]),W.return=P,P=W;break e}else{a(P,V);break}else r(P,V);V=V.sibling}W=vf(U,P.mode,W),W.return=P,P=W}return w(P);case S:return de=U._init,U=de(U._payload),ut(P,V,U,W)}if(Me(U))return Ce(P,V,U,W);if(k(U)){if(de=k(U),typeof de!="function")throw Error(s(150));return U=de.call(U),Se(P,V,U,W)}if(typeof U.then=="function")return ut(P,V,Gu(U),W);if(U.$$typeof===le)return ut(P,V,ku(P,U),W);Qu(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(a(P,V.sibling),W=d(V,U),W.return=P,P=W):(a(P,V),W=yf(U,P.mode,W),W.return=P,P=W),w(P)):a(P,V)}return function(P,V,U,W){try{ql=0;var de=ut(P,V,U,W);return ro=null,de}catch(ye){if(ye===Ol||ye===Mu)throw ye;var Ue=zn(29,ye,null,P.mode);return Ue.lanes=W,Ue.return=P,Ue}finally{}}}var so=Vv(!0),Pv=Vv(!1),oi=X(null),Vi=null;function $r(n){var r=n.alternate;te(Gt,Gt.current&1),te(oi,n),Vi===null&&(r===null||eo.current!==null||r.memoizedState!==null)&&(Vi=n)}function Lv(n){if(n.tag===22){if(te(Gt,Gt.current),te(oi,n),Vi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Vi=n)}}else Yr()}function Yr(){te(Gt,Gt.current),te(oi,oi.current)}function mr(n){se(oi),Vi===n&&(Vi=null),se(Gt)}var Gt=X(0);function $u(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Zf={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Fn(),d=Fr(l);d.payload=r,a!=null&&(d.callback=a),r=Gr(n,d,l),r!==null&&(Gn(r,n,l),Vl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Fn(),d=Fr(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Gr(n,d,l),r!==null&&(Gn(r,n,l),Vl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Fn(),l=Fr(a);l.tag=2,r!=null&&(l.callback=r),r=Gr(n,l,a),r!==null&&(Gn(r,n,a),Vl(r,n,a))}};function Uv(n,r,a,l,d,f,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,w):r.prototype&&r.prototype.isPureReactComponent?!Sl(a,l)||!Sl(d,f):!0}function jv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Zf.enqueueReplaceState(r,r.state,null)}function aa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Yu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function zv(n){Yu(n)}function Bv(n){console.error(n)}function qv(n){Yu(n)}function Ku(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Hv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Jf(n,r,a){return a=Fr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(n,r)},a}function Fv(n){return n=Fr(n),n.tag=3,n}function Gv(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){Hv(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){Hv(r,a,l),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function w2(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Dl(r,a,d,!0),a=oi.current,a!==null){switch(a.tag){case 13:return Vi===null?Tp():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===If?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Sp(n,l,d)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Sp(n,l,d)),!1}throw Error(s(435,a.tag))}return Sp(n,l,d),Tp(),!1}if(tt)return r=oi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==bf&&(n=Error(s(422),{cause:l}),Cl(ii(n,a)))):(l!==bf&&(r=Error(s(423),{cause:l}),Cl(ii(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=ii(l,a),d=Jf(n.stateNode,l,d),Nf(n,d),St!==4&&(St=2)),!1;var f=Error(s(520),{cause:l});if(f=ii(f,a),Xl===null?Xl=[f]:Xl.push(f),St!==4&&(St=2),r===null)return!0;l=ii(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Jf(a.stateNode,l,n),Nf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(es===null||!es.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Fv(d),Gv(d,n,a,l),Nf(a,d),!1}a=a.return}while(a!==null);return!1}var Qv=Error(s(461)),Kt=!1;function sn(n,r,a,l){r.child=n===null?Pv(r,null,a,l):so(r,n.child,a,l)}function $v(n,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var w={};for(var b in l)b!=="ref"&&(w[b]=l[b])}else w=l;return ia(r),l=Pf(n,r,a,w,f,d),b=Lf(),n!==null&&!Kt?(Uf(n,r,d),gr(n,r,d)):(tt&&b&&wf(r),r.flags|=1,sn(n,r,l,d),r.child)}function Yv(n,r,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!gf(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Kv(n,r,f,l,d)):(n=Iu(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!op(n,d)){var w=f.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(w,l)&&n.ref===r.ref)return gr(n,r,d)}return r.flags|=1,n=cr(f,l),n.ref=r.ref,n.return=r,r.child=n}function Kv(n,r,a,l,d){if(n!==null){var f=n.memoizedProps;if(Sl(f,l)&&n.ref===r.ref)if(Kt=!1,r.pendingProps=l=f,op(n,d))(n.flags&131072)!==0&&(Kt=!0);else return r.lanes=n.lanes,gr(n,r,d)}return ep(n,r,a,l,d)}function Xv(n,r,a){var l=r.pendingProps,d=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(d=r.child=n.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Wv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ou(r,f!==null?f.cachePool:null),f!==null?Ky(r,f):Of(),Lv(r);else return r.lanes=r.childLanes=536870912,Wv(n,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ou(r,f.cachePool),Ky(r,f),Yr(),r.memoizedState=null):(n!==null&&Ou(r,null),Of(),Yr());return sn(n,r,d,a),r.child}function Wv(n,r,a,l){var d=Rf();return d=d===null?null:{parent:Ft._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Ou(r,null),Of(),Lv(r),n!==null&&Dl(n,r,l,!0),null}function Xu(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function ep(n,r,a,l,d){return ia(r),a=Pf(n,r,a,l,void 0,d),l=Lf(),n!==null&&!Kt?(Uf(n,r,d),gr(n,r,d)):(tt&&l&&wf(r),r.flags|=1,sn(n,r,a,d),r.child)}function Zv(n,r,a,l,d,f){return ia(r),r.updateQueue=null,a=Wy(r,l,a,d),Xy(n),l=Lf(),n!==null&&!Kt?(Uf(n,r,f),gr(n,r,f)):(tt&&l&&wf(r),r.flags|=1,sn(n,r,a,f),r.child)}function Jv(n,r,a,l,d){if(ia(r),r.stateNode===null){var f=Ka,w=a.contextType;typeof w=="object"&&w!==null&&(f=fn(w)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Cf(r),w=a.contextType,f.context=typeof w=="object"&&w!==null?fn(w):Ka,f.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Wf(r,a,w,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(w=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),w!==f.state&&Zf.enqueueReplaceState(f,f.state,null),Ll(r,l,f,d),Pl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var b=r.memoizedProps,C=aa(a,b);f.props=C;var z=f.context,$=a.contextType;w=Ka,typeof $=="object"&&$!==null&&(w=fn($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==w)&&jv(r,f,l,w),Hr=!1;var B=r.memoizedState;f.state=B,Ll(r,l,f,d),Pl(),z=r.memoizedState,b||B!==z||Hr?(typeof Z=="function"&&(Wf(r,a,Z,l),z=r.memoizedState),(C=Hr||Uv(r,a,C,l,B,z,w))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),f.props=l,f.state=z,f.context=w,l=C):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Df(n,r),w=r.memoizedProps,$=aa(a,w),f.props=$,Z=r.pendingProps,B=f.context,z=a.contextType,C=Ka,typeof z=="object"&&z!==null&&(C=fn(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==Z||B!==C)&&jv(r,f,l,C),Hr=!1,B=r.memoizedState,f.state=B,Ll(r,l,f,d),Pl();var q=r.memoizedState;w!==Z||B!==q||Hr||n!==null&&n.dependencies!==null&&Nu(n.dependencies)?(typeof b=="function"&&(Wf(r,a,b,l),q=r.memoizedState),($=Hr||Uv(r,a,$,l,B,q,C)||n!==null&&n.dependencies!==null&&Nu(n.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=C,l=$):(typeof f.componentDidUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,Xu(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=so(r,n.child,null,d),r.child=so(r,null,a,d)):sn(n,r,a,d),r.memoizedState=f.state,n=r.child):n=gr(n,r,d),n}function ew(n,r,a,l){return Il(),r.flags|=256,sn(n,r,a,l),r.child}var tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function np(n){return{baseLanes:n,cachePool:By()}}function ip(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=li),n}function tw(n,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,w;if((w=f)||(w=n!==null&&n.memoizedState===null?!1:(Gt.current&2)!==0),w&&(d=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,n===null){if(tt){if(d?$r(r):Yr(),tt){var b=At,C;if(C=b){e:{for(C=b,b=Mi;C.nodeType!==8;){if(!b){b=null;break e}if(C=vi(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:Zs!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},C=zn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,Tn=r,At=null,C=!0):C=!1}C||ta(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return zp(b)?r.lanes=32:r.lanes=536870912,null;mr(r)}return b=l.children,l=l.fallback,d?(Yr(),d=r.mode,b=Wu({mode:"hidden",children:b},d),l=Ws(l,d,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,d=r.child,d.memoizedState=np(a),d.childLanes=ip(n,w,a),r.memoizedState=tp,l):($r(r),rp(r,b))}if(C=n.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(f)r.flags&256?($r(r),r.flags&=-257,r=sp(n,r,a)):r.memoizedState!==null?(Yr(),r.child=n.child,r.flags|=128,r=null):(Yr(),d=l.fallback,b=r.mode,l=Wu({mode:"visible",children:l.children},b),d=Ws(d,b,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,so(r,n.child,null,a),l=r.child,l.memoizedState=np(a),l.childLanes=ip(n,w,a),r.memoizedState=tp,r=d);else if($r(r),zp(b)){if(w=b.nextSibling&&b.nextSibling.dataset,w)var z=w.dgst;w=z,l=Error(s(419)),l.stack="",l.digest=w,Cl({value:l,source:null,stack:null}),r=sp(n,r,a)}else if(Kt||Dl(n,r,a,!1),w=(a&n.childLanes)!==0,Kt||w){if(w=pt,w!==null&&(l=a&-a,l=(l&42)!==0?1:Vr(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ya(n,l),Gn(w,n,l),Qv;b.data==="$?"||Tp(),r=sp(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,At=vi(b.nextSibling),Tn=r,tt=!0,ea=null,Mi=!1,n!==null&&(si[ai++]=ur,si[ai++]=dr,si[ai++]=Zs,ur=n.id,dr=n.overflow,Zs=r),r=rp(r,l.children),r.flags|=4096);return r}return d?(Yr(),d=l.fallback,b=r.mode,C=n.child,z=C.sibling,l=cr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?d=cr(z,d):(d=Ws(d,b,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,b=n.child.memoizedState,b===null?b=np(a):(C=b.cachePool,C!==null?(z=Ft._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=By(),b={baseLanes:b.baseLanes|a,cachePool:C}),d.memoizedState=b,d.childLanes=ip(n,w,a),r.memoizedState=tp,l):($r(r),a=n.child,n=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(w=r.deletions,w===null?(r.deletions=[n],r.flags|=16):w.push(n)),r.child=a,r.memoizedState=null,a)}function rp(n,r){return r=Wu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Wu(n,r){return n=zn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function sp(n,r,a){return so(r,n.child,null,a),n=rp(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function nw(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Tf(n.return,r,a)}function ap(n,r,a,l,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function iw(n,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;if(sn(n,r,l.children,a),l=Gt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nw(n,a,r);else if(n.tag===19)nw(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Gt,l),d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&$u(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),ap(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&$u(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ap(r,!0,a,null,f);break;case"together":ap(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Jr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=cr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=cr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function op(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Nu(n)))}function _2(n,r,a){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),qr(r,Ft,n.memoizedState.cache),Il();break;case 27:case 5:Ae(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?($r(r),r.flags|=128,null):(a&r.child.childLanes)!==0?tw(n,r,a):($r(r),n=gr(n,r,a),n!==null?n.sibling:null);$r(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Dl(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return iw(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(Gt,Gt.current),l)break;return null;case 22:case 23:return r.lanes=0,Xv(n,r,a);case 24:qr(r,Ft,n.memoizedState.cache)}return gr(n,r,a)}function rw(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Kt=!0;else{if(!op(n,a)&&(r.flags&128)===0)return Kt=!1,_2(n,r,a);Kt=(n.flags&131072)!==0}else Kt=!1,tt&&(r.flags&1048576)!==0&&My(r,Du,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")gf(l)?(n=aa(l,n),r.tag=1,r=Jv(null,r,l,n,a)):(r.tag=0,r=ep(null,r,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===ke){r.tag=11,r=$v(null,r,l,n,a);break e}else if(d===O){r.tag=14,r=Yv(null,r,l,n,a);break e}}throw r=Ee(l)||l,Error(s(306,r,""))}}return r;case 0:return ep(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=aa(l,r.pendingProps),Jv(n,r,l,d,a);case 3:e:{if(We(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,Df(n,r),Ll(r,l,null,a);var w=r.memoizedState;if(l=w.cache,qr(r,Ft,l),l!==f.cache&&Af(r,[Ft],a,!0),Pl(),l=w.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=ew(n,r,l,a);break e}else if(l!==d){d=ii(Error(s(424)),r),Cl(d),r=ew(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(At=vi(n.firstChild),Tn=r,tt=!0,ea=null,Mi=!0,a=Pv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Il(),l===d){r=gr(n,r,a);break e}sn(n,r,l,a)}r=r.child}return r;case 26:return Xu(n,r),n===null?(a=l0(r.type,null,r.pendingProps,null))?r.memoizedState=a:tt||(a=r.type,n=r.pendingProps,l=dd(Te.current).createElement(a),l[Bt]=r,l[Mt]=n,on(l,a,n),Rt(l),r.stateNode=l):r.memoizedState=l0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ae(r),n===null&&tt&&(l=r.stateNode=s0(r.type,r.pendingProps,Te.current),Tn=r,Mi=!0,d=At,is(r.type)?(Bp=d,At=vi(l.firstChild)):At=d),sn(n,r,r.pendingProps.children,a),Xu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&tt&&((d=l=At)&&(l=Y2(l,r.type,r.pendingProps,Mi),l!==null?(r.stateNode=l,Tn=r,At=vi(l.firstChild),Mi=!1,d=!0):d=!1),d||ta(r)),Ae(r),d=r.type,f=r.pendingProps,w=n!==null?n.memoizedProps:null,l=f.children,Lp(d,f)?l=null:w!==null&&Lp(d,w)&&(r.flags|=32),r.memoizedState!==null&&(d=Pf(n,r,h2,null,null,a),sc._currentValue=d),Xu(n,r),sn(n,r,l,a),r.child;case 6:return n===null&&tt&&((n=a=At)&&(a=K2(a,r.pendingProps,Mi),a!==null?(r.stateNode=a,Tn=r,At=null,n=!0):n=!1),n||ta(r)),null;case 13:return tw(n,r,a);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=so(r,null,l,a):sn(n,r,l,a),r.child;case 11:return $v(n,r,r.type,r.pendingProps,a);case 7:return sn(n,r,r.pendingProps,a),r.child;case 8:return sn(n,r,r.pendingProps.children,a),r.child;case 12:return sn(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qr(r,r.type,l.value),sn(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,ia(r),d=fn(d),l=l(d),r.flags|=1,sn(n,r,l,a),r.child;case 14:return Yv(n,r,r.type,r.pendingProps,a);case 15:return Kv(n,r,r.type,r.pendingProps,a);case 19:return iw(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Wu(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=cr(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Xv(n,r,a);case 24:return ia(r),l=fn(Ft),n===null?(d=Rf(),d===null&&(d=pt,f=Sf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},Cf(r),qr(r,Ft,d)):((n.lanes&a)!==0&&(Df(n,r),Ll(r,null,null,a),Pl()),d=n.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),qr(r,Ft,l)):(l=f.cache,qr(r,Ft,l),l!==d.cache&&Af(r,[Ft],a,!0))),sn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function yr(n){n.flags|=4}function sw(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!f0(r)){if(r=oi.current,r!==null&&((Ye&4194048)===Ye?Vi!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||r!==Vi))throw Ml=If,qy;n.flags|=8192}}function Zu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ol():536870912,n.lanes|=r,co|=r)}function Fl(n,r){if(!tt)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Et(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function b2(n,r,a){var l=r.pendingProps;switch(_f(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(r),null;case 1:return Et(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),fr(Ft),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Rl(r)?yr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ly())),Et(r),null;case 26:return a=r.memoizedState,n===null?(yr(r),a!==null?(Et(r),sw(r,a)):(Et(r),r.flags&=-16777217)):a?a!==n.memoizedState?(yr(r),Et(r),sw(r,a)):(Et(r),r.flags&=-16777217):(n.memoizedProps!==l&&yr(r),Et(r),r.flags&=-16777217),null;case 27:we(r),a=Te.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Et(r),null}n=pe.current,Rl(r)?Vy(r):(n=s0(d,l,a),r.stateNode=n,yr(r))}return Et(r),null;case 5:if(we(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Et(r),null}if(n=pe.current,Rl(r))Vy(r);else{switch(d=dd(Te.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Bt]=r,n[Mt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch(on(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&yr(r)}}return Et(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Te.current,Rl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=Tn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zw(n.nodeValue,a)),n||ta(r)}else n=dd(n).createTextNode(l),n[Bt]=r,r.stateNode=n}return Et(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Rl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Bt]=r}else Il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),d=!1}else d=Ly(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(mr(r),r):(mr(r),null)}if(mr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Zu(r,r.updateQueue),Et(r),null;case 4:return wn(),n===null&&kp(r.stateNode.containerInfo),Et(r),null;case 10:return fr(r.type),Et(r),null;case 19:if(se(Gt),d=r.memoizedState,d===null)return Et(r),null;if(l=(r.flags&128)!==0,f=d.rendering,f===null)if(l)Fl(d,!1);else{if(St!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=$u(n),f!==null){for(r.flags|=128,Fl(d,!1),n=f.updateQueue,r.updateQueue=n,Zu(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Oy(a,n),a=a.sibling;return te(Gt,Gt.current&1|2),r.child}n=n.sibling}d.tail!==null&&Ze()>td&&(r.flags|=128,l=!0,Fl(d,!1),r.lanes=4194304)}else{if(!l)if(n=$u(f),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Zu(r,n),Fl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!tt)return Et(r),null}else 2*Ze()-d.renderingStartTime>td&&a!==536870912&&(r.flags|=128,l=!0,Fl(d,!1),r.lanes=4194304);d.isBackwards?(f.sibling=r.child,r.child=f):(n=d.last,n!==null?n.sibling=f:r.child=f,d.last=f)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Ze(),r.sibling=null,n=Gt.current,te(Gt,l?n&1|2:n&1),r):(Et(r),null);case 22:case 23:return mr(r),Mf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Et(r),r.subtreeFlags&6&&(r.flags|=8192)):Et(r),a=r.updateQueue,a!==null&&Zu(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&se(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fr(Ft),Et(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function E2(n,r){switch(_f(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return fr(Ft),wn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return we(r),null;case 13:if(mr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Il()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return se(Gt),null;case 4:return wn(),null;case 10:return fr(r.type),null;case 22:case 23:return mr(r),Mf(),n!==null&&se(ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return fr(Ft),null;case 25:return null;default:return null}}function aw(n,r){switch(_f(r),r.tag){case 3:fr(Ft),wn();break;case 26:case 27:case 5:we(r);break;case 4:wn();break;case 13:mr(r);break;case 19:se(Gt);break;case 10:fr(r.type);break;case 22:case 23:mr(r),Mf(),n!==null&&se(ra);break;case 24:fr(Ft)}}function Gl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,w=a.inst;l=f(),w.destroy=l}a=a.next}while(a!==d)}}catch(b){ht(r,r.return,b)}}function Kr(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var w=l.inst,b=w.destroy;if(b!==void 0){w.destroy=void 0,d=r;var C=a,z=b;try{z()}catch($){ht(d,C,$)}}}l=l.next}while(l!==f)}}catch($){ht(r,r.return,$)}}function ow(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Yy(r,a)}catch(l){ht(n,n.return,l)}}}function lw(n,r,a){a.props=aa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ht(n,r,l)}}function Ql(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){ht(n,r,d)}}function Pi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ht(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ht(n,r,d)}else a.current=null}function cw(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ht(n,n.return,d)}}function lp(n,r,a){try{var l=n.stateNode;H2(l,n.type,a,r),l[Mt]=r}catch(d){ht(n,n.return,d)}}function uw(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&is(n.type)||n.tag===4}function cp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||uw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&is(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function up(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ud));else if(l!==4&&(l===27&&is(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(up(n,r,a),n=n.sibling;n!==null;)up(n,r,a),n=n.sibling}function Ju(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&is(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ju(n,r,a),n=n.sibling;n!==null;)Ju(n,r,a),n=n.sibling}function dw(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);on(r,l,a),r[Bt]=n,r[Mt]=a}catch(f){ht(n,n.return,f)}}var vr=!1,Ct=!1,dp=!1,hw=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function T2(n,r){if(n=n.containerInfo,Vp=yd,n=Ty(n),cf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var w=0,b=-1,C=-1,z=0,$=0,Z=n,B=null;t:for(;;){for(var q;Z!==a||d!==0&&Z.nodeType!==3||(b=w+d),Z!==f||l!==0&&Z.nodeType!==3||(C=w+l),Z.nodeType===3&&(w+=Z.nodeValue.length),(q=Z.firstChild)!==null;)B=Z,Z=q;for(;;){if(Z===n)break t;if(B===a&&++z===d&&(b=w),B===f&&++$===l&&(C=w),(q=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=q}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pp={focusedElem:n,selectionRange:a},yd=!1,Xt=r;Xt!==null;)if(r=Xt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Xt=n;else for(;Xt!==null;){switch(r=Xt,f=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ce=aa(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ce,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){ht(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)jp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Xt=n;break}Xt=r.return}}function fw(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xr(n,a),l&4&&Gl(5,a);break;case 1:if(Xr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){ht(a,a.return,w)}else{var d=aa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){ht(a,a.return,w)}}l&64&&ow(a),l&512&&Ql(a,a.return);break;case 3:if(Xr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Yy(n,r)}catch(w){ht(a,a.return,w)}}break;case 27:r===null&&l&4&&dw(a);case 26:case 5:Xr(n,a),r===null&&l&4&&cw(a),l&512&&Ql(a,a.return);break;case 12:Xr(n,a);break;case 13:Xr(n,a),l&4&&gw(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=k2.bind(null,a),X2(n,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){r=r!==null&&r.memoizedState!==null||Ct,d=vr;var f=Ct;vr=l,(Ct=r)&&!f?Wr(n,a,(a.subtreeFlags&8772)!==0):Xr(n,a),vr=d,Ct=f}break;case 30:break;default:Xr(n,a)}}function pw(n){var r=n.alternate;r!==null&&(n.alternate=null,pw(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ur(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,Nn=!1;function wr(n,r,a){for(a=a.child;a!==null;)mw(n,r,a),a=a.sibling}function mw(n,r,a){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(gt,a)}catch{}switch(a.tag){case 26:Ct||Pi(a,r),wr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Pi(a,r);var l=bt,d=Nn;is(a.type)&&(bt=a.stateNode,Nn=!1),wr(n,r,a),tc(a.stateNode),bt=l,Nn=d;break;case 5:Ct||Pi(a,r);case 6:if(l=bt,d=Nn,bt=null,wr(n,r,a),bt=l,Nn=d,bt!==null)if(Nn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(f){ht(a,r,f)}else try{bt.removeChild(a.stateNode)}catch(f){ht(a,r,f)}break;case 18:bt!==null&&(Nn?(n=bt,i0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),cc(n)):i0(bt,a.stateNode));break;case 4:l=bt,d=Nn,bt=a.stateNode.containerInfo,Nn=!0,wr(n,r,a),bt=l,Nn=d;break;case 0:case 11:case 14:case 15:Ct||Kr(2,a,r),Ct||Kr(4,a,r),wr(n,r,a);break;case 1:Ct||(Pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&lw(a,r,l)),wr(n,r,a);break;case 21:wr(n,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,wr(n,r,a),Ct=l;break;default:wr(n,r,a)}}function gw(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{cc(n)}catch(a){ht(r,r.return,a)}}function A2(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new hw),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new hw),r;default:throw Error(s(435,n.tag))}}function hp(n,r){var a=A2(n);r.forEach(function(l){var d=O2.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Bn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,w=r,b=w;e:for(;b!==null;){switch(b.tag){case 27:if(is(b.type)){bt=b.stateNode,Nn=!1;break e}break;case 5:bt=b.stateNode,Nn=!1;break e;case 3:case 4:bt=b.stateNode.containerInfo,Nn=!0;break e}b=b.return}if(bt===null)throw Error(s(160));mw(f,w,d),bt=null,Nn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)yw(r,n),r=r.sibling}var yi=null;function yw(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(r,n),qn(n),l&4&&(Kr(3,n,n.return),Gl(3,n),Kr(5,n,n.return));break;case 1:Bn(r,n),qn(n),l&512&&(Ct||a===null||Pi(a,a.return)),l&64&&vr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=yi;if(Bn(r,n),qn(n),l&512&&(Ct||a===null||Pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Vs]||f[Bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),on(f,l,a),f[Bt]=n,Rt(f),l=f;break e;case"link":var w=d0("link","href",d).get(l+(a.href||""));if(w){for(var b=0;b<w.length;b++)if(f=w[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(b,1);break t}}f=d.createElement(l),on(f,l,a),d.head.appendChild(f);break;case"meta":if(w=d0("meta","content",d).get(l+(a.content||""))){for(b=0;b<w.length;b++)if(f=w[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(b,1);break t}}f=d.createElement(l),on(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Bt]=n,Rt(f),l=f}n.stateNode=l}else h0(d,n.type,n.stateNode);else n.stateNode=u0(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?h0(d,n.type,n.stateNode):u0(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&lp(n,n.memoizedProps,a.memoizedProps)}break;case 27:Bn(r,n),qn(n),l&512&&(Ct||a===null||Pi(a,a.return)),a!==null&&l&4&&lp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Bn(r,n),qn(n),l&512&&(Ct||a===null||Pi(a,a.return)),n.flags&32){d=n.stateNode;try{Jn(d,"")}catch(q){ht(n,n.return,q)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,lp(n,d,a!==null?a.memoizedProps:d)),l&1024&&(dp=!0);break;case 6:if(Bn(r,n),qn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(q){ht(n,n.return,q)}}break;case 3:if(pd=null,d=yi,yi=hd(r.containerInfo),Bn(r,n),yi=d,qn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cc(r.containerInfo)}catch(q){ht(n,n.return,q)}dp&&(dp=!1,vw(n));break;case 4:l=yi,yi=hd(n.stateNode.containerInfo),Bn(r,n),qn(n),yi=l;break;case 12:Bn(r,n),qn(n);break;case 13:Bn(r,n),qn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vp=Ze()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,hp(n,l)));break;case 22:d=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=vr,$=Ct;if(vr=z||d,Ct=$||C,Bn(r,n),Ct=$,vr=z,qn(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||C||vr||Ct||oa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(f=C.stateNode,d)w=f.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{b=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){ht(C,C.return,q)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(q){ht(C,C.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hp(n,a))));break;case 19:Bn(r,n),qn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,hp(n,l)));break;case 30:break;case 21:break;default:Bn(r,n),qn(n)}}function qn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(uw(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=cp(n);Ju(n,f,d);break;case 5:var w=a.stateNode;a.flags&32&&(Jn(w,""),a.flags&=-33);var b=cp(n);Ju(n,b,w);break;case 3:case 4:var C=a.stateNode.containerInfo,z=cp(n);up(n,z,C);break;default:throw Error(s(161))}}catch($){ht(n,n.return,$)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function vw(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;vw(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Xr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fw(n,r.alternate,r),r=r.sibling}function oa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),oa(r);break;case 1:Pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&lw(r,r.return,a),oa(r);break;case 27:tc(r.stateNode);case 26:case 5:Pi(r,r.return),oa(r);break;case 22:r.memoizedState===null&&oa(r);break;case 30:oa(r);break;default:oa(r)}n=n.sibling}}function Wr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,f=r,w=f.flags;switch(f.tag){case 0:case 11:case 15:Wr(d,f,a),Gl(4,f);break;case 1:if(Wr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){ht(l,l.return,z)}if(l=f,d=l.updateQueue,d!==null){var b=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)$y(C[d],b)}catch(z){ht(l,l.return,z)}}a&&w&64&&ow(f),Ql(f,f.return);break;case 27:dw(f);case 26:case 5:Wr(d,f,a),a&&l===null&&w&4&&cw(f),Ql(f,f.return);break;case 12:Wr(d,f,a);break;case 13:Wr(d,f,a),a&&w&4&&gw(d,f);break;case 22:f.memoizedState===null&&Wr(d,f,a),Ql(f,f.return);break;case 30:break;default:Wr(d,f,a)}r=r.sibling}}function fp(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Nl(a))}function pp(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Nl(n))}function Li(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ww(n,r,a,l),r=r.sibling}function ww(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Li(n,r,a,l),d&2048&&Gl(9,r);break;case 1:Li(n,r,a,l);break;case 3:Li(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Nl(n)));break;case 12:if(d&2048){Li(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,w=f.id,b=f.onPostCommit;typeof b=="function"&&b(w,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){ht(r,r.return,C)}}else Li(n,r,a,l);break;case 13:Li(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,w=r.alternate,r.memoizedState!==null?f._visibility&2?Li(n,r,a,l):$l(n,r):f._visibility&2?Li(n,r,a,l):(f._visibility|=2,ao(n,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&fp(w,r);break;case 24:Li(n,r,a,l),d&2048&&pp(r.alternate,r);break;default:Li(n,r,a,l)}}function ao(n,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=n,w=r,b=a,C=l,z=w.flags;switch(w.tag){case 0:case 11:case 15:ao(f,w,b,C,d),Gl(8,w);break;case 23:break;case 22:var $=w.stateNode;w.memoizedState!==null?$._visibility&2?ao(f,w,b,C,d):$l(f,w):($._visibility|=2,ao(f,w,b,C,d)),d&&z&2048&&fp(w.alternate,w);break;case 24:ao(f,w,b,C,d),d&&z&2048&&pp(w.alternate,w);break;default:ao(f,w,b,C,d)}r=r.sibling}}function $l(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:$l(a,l),d&2048&&fp(l.alternate,l);break;case 24:$l(a,l),d&2048&&pp(l.alternate,l);break;default:$l(a,l)}r=r.sibling}}var Yl=8192;function oo(n){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)_w(n),n=n.sibling}function _w(n){switch(n.tag){case 26:oo(n),n.flags&Yl&&n.memoizedState!==null&&cA(yi,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var r=yi;yi=hd(n.stateNode.containerInfo),oo(n),yi=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Yl,Yl=16777216,oo(n),Yl=r):oo(n));break;default:oo(n)}}function bw(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Kl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xt=l,Tw(l,n)}bw(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ew(n),n=n.sibling}function Ew(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&Kr(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ed(n)):Kl(n);break;default:Kl(n)}}function ed(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xt=l,Tw(l,n)}bw(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),ed(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ed(r));break;default:ed(r)}n=n.sibling}}function Tw(n,r){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=n;Xt!==null;){l=Xt;var d=l.sibling,f=l.return;if(pw(l),l===a){Xt=null;break e}if(d!==null){d.return=f,Xt=d;break e}Xt=f}}}var S2={getCacheForType:function(n){var r=fn(Ft),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},x2=typeof WeakMap=="function"?WeakMap:Map,st=0,pt=null,je=null,Ye=0,at=0,Hn=null,Zr=!1,lo=!1,mp=!1,_r=0,St=0,Jr=0,la=0,gp=0,li=0,co=0,Xl=null,kn=null,yp=!1,vp=0,td=1/0,nd=null,es=null,an=0,ts=null,uo=null,ho=0,wp=0,_p=null,Aw=null,Wl=0,bp=null;function Fn(){if((st&2)!==0&&Ye!==0)return Ye&-Ye;if(F.T!==null){var n=Za;return n!==0?n:Ip()}return Pr()}function Sw(){li===0&&(li=(Ye&536870912)===0||tt?al():536870912);var n=oi.current;return n!==null&&(n.flags|=32),li}function Gn(n,r,a){(n===pt&&(at===2||at===9)||n.cancelPendingCommit!==null)&&(fo(n,0),ns(n,Ye,li,!1)),Zi(n,a),((st&2)===0||n!==pt)&&(n===pt&&((st&2)===0&&(la|=a),St===4&&ns(n,Ye,li,!1)),Ui(n))}function xw(n,r,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Ms(n,r),d=l?C2(n,r):Ap(n,r,!0),f=l;do{if(d===0){lo&&!l&&ns(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!R2(a)){d=Ap(n,r,!1),f=!1;continue}if(d===2){if(f=r,n.errorRecoveryDisabledLanes&f)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var b=n;d=Xl;var C=b.current.memoizedState.isDehydrated;if(C&&(fo(b,w).flags|=256),w=Ap(b,w,!1),w!==2){if(mp&&!C){b.errorRecoveryDisabledLanes|=f,la|=f,d=4;break e}f=kn,kn=d,f!==null&&(kn===null?kn=f:kn.push.apply(kn,f))}d=w}if(f=!1,d!==2)continue}}if(d===1){fo(n,0),ns(n,r,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,li,!Zr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=vp+300-Ze(),10<d)){if(ns(l,r,li,!Zr),Ca(l,0,!0)!==0)break e;l.timeoutHandle=t0(Rw.bind(null,l,a,kn,nd,yp,r,li,la,co,Zr,f,2,-0,0),d);break e}Rw(l,a,kn,nd,yp,r,li,la,co,Zr,f,0,-0,0)}}break}while(!0);Ui(n)}function Rw(n,r,a,l,d,f,w,b,C,z,$,Z,B,q){if(n.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(rc={stylesheets:null,count:0,unsuspend:lA},_w(r),Z=uA(),Z!==null)){n.cancelPendingCommit=Z(Mw.bind(null,n,r,f,a,l,d,w,b,C,$,1,B,q)),ns(n,f,w,!z);return}Mw(n,r,f,a,l,d,w,b,C)}function R2(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!jn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(n,r,a,l){r&=~gp,r&=~la,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var f=31-hn(d),w=1<<f;l[f]=-1,d&=~w}a!==0&&Ti(n,a,r)}function id(){return(st&6)===0?(Zl(0),!1):!0}function Ep(){if(je!==null){if(at===0)var n=je.return;else n=je,hr=na=null,jf(n),ro=null,ql=0,n=je;for(;n!==null;)aw(n.alternate,n),n=n.return;je=null}}function fo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,G2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ep(),pt=n,je=a=cr(n.current,null),Ye=r,at=0,Hn=null,Zr=!1,lo=Ms(n,r),mp=!1,co=li=gp=la=Jr=St=0,kn=Xl=null,yp=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-hn(l),f=1<<d;r|=n[d],l&=~f}return _r=r,Su(),a}function Iw(n,r){Ve=null,F.H=Fu,r===Ol||r===Mu?(r=Gy(),at=3):r===qy?(r=Gy(),at=4):at=r===Qv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,je===null&&(St=1,Ku(n,ii(r,n.current)))}function Cw(){var n=F.H;return F.H=Fu,n===null?Fu:n}function Dw(){var n=F.A;return F.A=S2,n}function Tp(){St=4,Zr||(Ye&4194048)!==Ye&&oi.current!==null||(lo=!0),(Jr&134217727)===0&&(la&134217727)===0||pt===null||ns(pt,Ye,li,!1)}function Ap(n,r,a){var l=st;st|=2;var d=Cw(),f=Dw();(pt!==n||Ye!==r)&&(nd=null,fo(n,r)),r=!1;var w=St;e:do try{if(at!==0&&je!==null){var b=je,C=Hn;switch(at){case 8:Ep(),w=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(r=!0);var z=at;if(at=0,Hn=null,po(n,b,C,z),a&&lo){w=0;break e}break;default:z=at,at=0,Hn=null,po(n,b,C,z)}}I2(),w=St;break}catch($){Iw(n,$)}while(!0);return r&&n.shellSuspendCounter++,hr=na=null,st=l,F.H=d,F.A=f,je===null&&(pt=null,Ye=0,Su()),w}function I2(){for(;je!==null;)Nw(je)}function C2(n,r){var a=st;st|=2;var l=Cw(),d=Dw();pt!==n||Ye!==r?(nd=null,td=Ze()+500,fo(n,r)):lo=Ms(n,r);e:do try{if(at!==0&&je!==null){r=je;var f=Hn;t:switch(at){case 1:at=0,Hn=null,po(n,r,f,1);break;case 2:case 9:if(Hy(f)){at=0,Hn=null,kw(r);break}r=function(){at!==2&&at!==9||pt!==n||(at=7),Ui(n)},f.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Hy(f)?(at=0,Hn=null,kw(r)):(at=0,Hn=null,po(n,r,f,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var b=je;if(!w||f0(w)){at=0,Hn=null;var C=b.sibling;if(C!==null)je=C;else{var z=b.return;z!==null?(je=z,rd(z)):je=null}break t}}at=0,Hn=null,po(n,r,f,5);break;case 6:at=0,Hn=null,po(n,r,f,6);break;case 8:Ep(),St=6;break e;default:throw Error(s(462))}}D2();break}catch($){Iw(n,$)}while(!0);return hr=na=null,F.H=l,F.A=d,st=a,je!==null?0:(pt=null,Ye=0,Su(),St)}function D2(){for(;je!==null&&!me();)Nw(je)}function Nw(n){var r=rw(n.alternate,n,_r);n.memoizedProps=n.pendingProps,r===null?rd(n):je=r}function kw(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Zv(a,r,r.pendingProps,r.type,void 0,Ye);break;case 11:r=Zv(a,r,r.pendingProps,r.type.render,r.ref,Ye);break;case 5:jf(r);default:aw(a,r),r=je=Oy(r,_r),r=rw(a,r,_r)}n.memoizedProps=n.pendingProps,r===null?rd(n):je=r}function po(n,r,a,l){hr=na=null,jf(r),ro=null,ql=0;var d=r.return;try{if(w2(n,d,r,a,Ye)){St=1,Ku(n,ii(a,n.current)),je=null;return}}catch(f){if(d!==null)throw je=d,f;St=1,Ku(n,ii(a,n.current)),je=null;return}r.flags&32768?(tt||l===1?n=!0:lo||(Ye&536870912)!==0?n=!1:(Zr=n=!0,(l===2||l===9||l===3||l===6)&&(l=oi.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ow(r,n)):rd(r)}function rd(n){var r=n;do{if((r.flags&32768)!==0){Ow(r,Zr);return}n=r.return;var a=b2(r.alternate,r,_r);if(a!==null){je=a;return}if(r=r.sibling,r!==null){je=r;return}je=r=n}while(r!==null);St===0&&(St=5)}function Ow(n,r){do{var a=E2(n.alternate,n);if(a!==null){a.flags&=32767,je=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){je=n;return}je=n=a}while(n!==null);St=6,je=null}function Mw(n,r,a,l,d,f,w,b,C){n.cancelPendingCommit=null;do sd();while(an!==0);if((st&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=pf,ll(n,a,f,w,b,C),n===pt&&(je=pt=null,Ye=0),uo=r,ts=n,ho=a,wp=f,_p=d,Aw=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,M2(Cn,function(){return jw(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,d=ie.p,ie.p=2,w=st,st|=4;try{T2(n,r,a)}finally{st=w,ie.p=d,F.T=l}}an=1,Vw(),Pw(),Lw()}}function Vw(){if(an===1){an=0;var n=ts,r=uo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var d=st;st|=4;try{yw(r,n);var f=Pp,w=Ty(n.containerInfo),b=f.focusedElem,C=f.selectionRange;if(w!==b&&b&&b.ownerDocument&&Ey(b.ownerDocument.documentElement,b)){if(C!==null&&cf(b)){var z=C.start,$=C.end;if($===void 0&&($=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min($,b.value.length);else{var Z=b.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var q=B.getSelection(),Ce=b.textContent.length,Se=Math.min(C.start,Ce),ut=C.end===void 0?Se:Math.min(C.end,Ce);!q.extend&&Se>ut&&(w=ut,ut=Se,Se=w);var P=by(b,Se),V=by(b,ut);if(P&&V&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var U=Z.createRange();U.setStart(P.node,P.offset),q.removeAllRanges(),Se>ut?(q.addRange(U),q.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),q.addRange(U))}}}}for(Z=[],q=b;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var W=Z[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}yd=!!Vp,Pp=Vp=null}finally{st=d,ie.p=l,F.T=a}}n.current=r,an=2}}function Pw(){if(an===2){an=0;var n=ts,r=uo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ie.p;ie.p=2;var d=st;st|=4;try{fw(n,r.alternate,r)}finally{st=d,ie.p=l,F.T=a}}an=3}}function Lw(){if(an===4||an===3){an=0,Le();var n=ts,r=uo,a=ho,l=Aw;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?an=5:(an=0,uo=ts=null,Uw(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(es=null),Da(a),r=r.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(gt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,d=ie.p,ie.p=2,F.T=null;try{for(var f=n.onRecoverableError,w=0;w<l.length;w++){var b=l[w];f(b.value,{componentStack:b.stack})}}finally{F.T=r,ie.p=d}}(ho&3)!==0&&sd(),Ui(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===bp?Wl++:(Wl=0,bp=n):Wl=0,Zl(0)}}function Uw(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Nl(r)))}function sd(n){return Vw(),Pw(),Lw(),jw()}function jw(){if(an!==5)return!1;var n=ts,r=wp;wp=0;var a=Da(ho),l=F.T,d=ie.p;try{ie.p=32>a?32:a,F.T=null,a=_p,_p=null;var f=ts,w=ho;if(an=0,uo=ts=null,ho=0,(st&6)!==0)throw Error(s(331));var b=st;if(st|=4,Ew(f.current),ww(f,f.current,w,a),st=b,Zl(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(gt,f)}catch{}return!0}finally{ie.p=d,F.T=l,Uw(n,r)}}function zw(n,r,a){r=ii(a,r),r=Jf(n.stateNode,r,2),n=Gr(n,r,2),n!==null&&(Zi(n,2),Ui(n))}function ht(n,r,a){if(n.tag===3)zw(n,n,a);else for(;r!==null;){if(r.tag===3){zw(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){n=ii(a,n),a=Fv(2),l=Gr(r,a,2),l!==null&&(Gv(a,l,r,n),Zi(l,2),Ui(l));break}}r=r.return}}function Sp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new x2;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(mp=!0,d.add(a),n=N2.bind(null,n,r,a),r.then(n,n))}function N2(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,pt===n&&(Ye&a)===a&&(St===4||St===3&&(Ye&62914560)===Ye&&300>Ze()-vp?(st&2)===0&&fo(n,0):gp|=a,co===Ye&&(co=0)),Ui(n)}function Bw(n,r){r===0&&(r=ol()),n=Ya(n,r),n!==null&&(Zi(n,r),Ui(n))}function k2(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Bw(n,a)}function O2(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Bw(n,a)}function M2(n,r){return Be(n,r)}var ad=null,mo=null,xp=!1,od=!1,Rp=!1,ca=0;function Ui(n){n!==mo&&n.next===null&&(mo===null?ad=mo=n:mo=mo.next=n),od=!0,xp||(xp=!0,P2())}function Zl(n,r){if(!Rp&&od){Rp=!0;do for(var a=!1,l=ad;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var w=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-hn(42|n)+1)-1,f&=d&~(w&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gw(l,f))}else f=Ye,f=Ca(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ms(l,f)||(a=!0,Gw(l,f));l=l.next}while(a);Rp=!1}}function V2(){qw()}function qw(){od=xp=!1;var n=0;ca!==0&&(F2()&&(n=ca),ca=0);for(var r=Ze(),a=null,l=ad;l!==null;){var d=l.next,f=Hw(l,r);f===0?(l.next=null,a===null?ad=d:a.next=d,d===null&&(mo=a)):(a=l,(n!==0||(f&3)!==0)&&(od=!0)),l=d}Zl(n)}function Hw(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var w=31-hn(f),b=1<<w,C=d[w];C===-1?((b&a)===0||(b&l)!==0)&&(d[w]=sl(b,r)):C<=r&&(n.expiredLanes|=b),f&=~b}if(r=pt,a=Ye,a=Ca(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(at===2||at===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ft(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ms(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ft(l),Da(a)){case 2:case 8:a=tn;break;case 32:a=Cn;break;case 268435456:a=wt;break;default:a=Cn}return l=Fw.bind(null,n),a=Be(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ft(l),n.callbackPriority=2,n.callbackNode=null,2}function Fw(n,r){if(an!==0&&an!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(sd()&&n.callbackNode!==a)return null;var l=Ye;return l=Ca(n,n===pt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(xw(n,l,r),Hw(n,Ze()),n.callbackNode!=null&&n.callbackNode===a?Fw.bind(null,n):null)}function Gw(n,r){if(sd())return null;xw(n,r,!0)}function P2(){Q2(function(){(st&6)!==0?Be(Pn,V2):qw()})}function Ip(){return ca===0&&(ca=al()),ca}function Qw(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Pa(""+n)}function $w(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function L2(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Qw((d[Mt]||null).action),w=l.submitter;w&&(r=(r=w[Mt]||null)?Qw(r.formAction):w.getAttribute("formAction"),r!==null&&(f=r,w=null));var b=new La("action","action",null,l,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var C=w?$w(d,w):new FormData(d);Yf(a,{pending:!0,data:C,method:d.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=w?$w(d,w):new FormData(d),Yf(a,{pending:!0,data:C,method:d.method,action:f},f,C))},currentTarget:d}]})}}for(var Cp=0;Cp<ff.length;Cp++){var Dp=ff[Cp],U2=Dp.toLowerCase(),j2=Dp[0].toUpperCase()+Dp.slice(1);gi(U2,"on"+j2)}gi(xy,"onAnimationEnd"),gi(Ry,"onAnimationIteration"),gi(Iy,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(n2,"onTransitionRun"),gi(i2,"onTransitionStart"),gi(r2,"onTransitionCancel"),gi(Cy,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function Yw(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var w=l.length-1;0<=w;w--){var b=l[w],C=b.instance,z=b.currentTarget;if(b=b.listener,C!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=z;try{f(d)}catch($){Yu($)}d.currentTarget=null,f=C}else for(w=0;w<l.length;w++){if(b=l[w],C=b.instance,z=b.currentTarget,b=b.listener,C!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=z;try{f(d)}catch($){Yu($)}d.currentTarget=null,f=C}}}}function ze(n,r){var a=r[ul];a===void 0&&(a=r[ul]=new Set);var l=n+"__bubble";a.has(l)||(Kw(r,n,2,!1),a.add(l))}function Np(n,r,a){var l=0;r&&(l|=4),Kw(a,n,l,r)}var ld="_reactListening"+Math.random().toString(36).slice(2);function kp(n){if(!n[ld]){n[ld]=!0,dl.forEach(function(a){a!=="selectionchange"&&(z2.has(a)||Np(a,!1,n),Np(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[ld]||(r[ld]=!0,Np("selectionchange",!1,r))}}function Kw(n,r,a,l){switch(w0(r)){case 2:var d=fA;break;case 8:d=pA;break;default:d=Qp}a=d.bind(null,r,a,n),d=void 0,!ti||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function Op(n,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var b=l.stateNode.containerInfo;if(b===d)break;if(w===4)for(w=l.return;w!==null;){var C=w.tag;if((C===3||C===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;b!==null;){if(w=Ji(b),w===null)return;if(C=w.tag,C===5||C===6||C===26||C===27){l=f=w;continue e}b=b.parentNode}}l=l.return}uu(function(){var z=f,$=ei(a),Z=[];e:{var B=Dy.get(n);if(B!==void 0){var q=La,Ce=n;switch(n){case"keypress":if(Ci(a)===0)break e;case"keydown":case"keyup":q=Ha;break;case"focusin":Ce="focus",q=za;break;case"focusout":Ce="blur",q=za;break;case"beforeblur":case"afterblur":q=za;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vu;break;case xy:case Ry:case Iy:q=Ba;break;case Cy:q=_u;break;case"scroll":case"scrollend":q=du;break;case"wheel":q=Fa;break;case"copy":case"cut":case"paste":q=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Tl;break;case"toggle":case"beforetoggle":q=Eu}var Se=(r&4)!==0,ut=!Se&&(n==="scroll"||n==="scrollend"),P=Se?B!==null?B+"Capture":null:B;Se=[];for(var V=z,U;V!==null;){var W=V;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||P===null||(W=qs(V,P),W!=null&&Se.push(ec(V,W,U))),ut)break;V=V.return}0<Se.length&&(B=new q(B,Ce,null,a,$),Z.push({event:B,listeners:Se}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&a!==ir&&(Ce=a.relatedTarget||a.fromElement)&&(Ji(Ce)||Ce[Zn]))break e;if((q||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Ce=a.relatedTarget||a.toElement,q=z,Ce=Ce?Ji(Ce):null,Ce!==null&&(ut=c(Ce),Se=Ce.tag,Ce!==ut||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(q=null,Ce=z),q!==Ce)){if(Se=ni,W="onMouseLeave",P="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Se=Tl,W="onPointerLeave",P="onPointerEnter",V="pointer"),ut=q==null?B:Si(q),U=Ce==null?B:Si(Ce),B=new Se(W,V+"leave",q,a,$),B.target=ut,B.relatedTarget=U,W=null,Ji($)===z&&(Se=new Se(P,V+"enter",Ce,a,$),Se.target=U,Se.relatedTarget=ut,W=Se),ut=W,q&&Ce)t:{for(Se=q,P=Ce,V=0,U=Se;U;U=go(U))V++;for(U=0,W=P;W;W=go(W))U++;for(;0<V-U;)Se=go(Se),V--;for(;0<U-V;)P=go(P),U--;for(;V--;){if(Se===P||P!==null&&Se===P.alternate)break t;Se=go(Se),P=go(P)}Se=null}else Se=null;q!==null&&Xw(Z,B,q,Se,!1),Ce!==null&&ut!==null&&Xw(Z,ut,Ce,Se,!0)}}e:{if(B=z?Si(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var de=my;else if(Ht(B))if(gy)de=JT;else{de=WT;var Ue=XT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&gl(z.elementType)&&(de=my):de=ZT;if(de&&(de=de(n,z))){lr(Z,de,a,$);break e}Ue&&Ue(n,B,z),n==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&zr(B,"number",B.value)}switch(Ue=z?Si(z):window,n){case"focusin":(Ht(Ue)||Ue.contentEditable==="true")&&(Ga=Ue,uf=z,xl=null);break;case"focusout":xl=uf=Ga=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,Ay(Z,a,$);break;case"selectionchange":if(t2)break;case"keydown":case"keyup":Ay(Z,a,$)}var ye;if(ki)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Qe?H(n,a)&&(xe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(v&&a.locale!=="ko"&&(Qe||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Qe&&(ye=vl()):(Ii=$,Br="value"in Ii?Ii.value:Ii.textContent,Qe=!0)),Ue=cd(z,xe),0<Ue.length&&(xe=new bl(xe,n,null,a,$),Z.push({event:xe,listeners:Ue}),ye?xe.data=ye:(ye=ae(a),ye!==null&&(xe.data=ye)))),(ye=m?qt(n,a):$e(n,a))&&(xe=cd(z,"onBeforeInput"),0<xe.length&&(Ue=new bl("onBeforeInput","beforeinput",null,a,$),Z.push({event:Ue,listeners:xe}),Ue.data=ye)),L2(Z,n,z,a,$)}Yw(Z,r)})}function ec(n,r,a){return{instance:n,listener:r,currentTarget:a}}function cd(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=qs(n,a),d!=null&&l.unshift(ec(n,d,f)),d=qs(n,r),d!=null&&l.push(ec(n,d,f))),n.tag===3)return l;n=n.return}return[]}function go(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xw(n,r,a,l,d){for(var f=r._reactName,w=[];a!==null&&a!==l;){var b=a,C=b.alternate,z=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||z===null||(C=z,d?(z=qs(a,f),z!=null&&w.unshift(ec(a,z,C))):d||(z=qs(a,f),z!=null&&w.push(ec(a,z,C)))),a=a.return}w.length!==0&&n.push({event:r,listeners:w})}var B2=/\r\n?/g,q2=/\u0000|\uFFFD/g;function Ww(n){return(typeof n=="string"?n:""+n).replace(B2,`
`).replace(q2,"")}function Zw(n,r){return r=Ww(r),Ww(n)===r}function ud(){}function ct(n,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Jn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Jn(n,""+l);break;case"className":xi(n,"class",l);break;case"tabIndex":xi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(n,a,l);break;case"style":ml(n,l,f);break;case"data":if(r!=="object"){xi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&ct(n,r,"name",d.name,d,null),ct(n,r,"formEncType",d.formEncType,d,null),ct(n,r,"formMethod",d.formMethod,d,null),ct(n,r,"formTarget",d.formTarget,d,null)):(ct(n,r,"encType",d.encType,d,null),ct(n,r,"method",d.method,d,null),ct(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ud);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ze("beforetoggle",n),ze("toggle",n),jr(n,"popover",l);break;case"xlinkActuate":nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":jr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,jr(n,a,l))}}function Mp(n,r,a,l,d,f){switch(a){case"style":ml(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Jn(n,l):(typeof l=="number"||typeof l=="bigint")&&Jn(n,""+l);break;case"onScroll":l!=null&&ze("scroll",n);break;case"onScrollEnd":l!=null&&ze("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ud);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=n[Mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):jr(n,a,l)}}}function on(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var w=a[f];if(w!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ct(n,r,f,w,a,null)}}d&&ct(n,r,"srcSet",a.srcSet,a,null),l&&ct(n,r,"src",a.src,a,null);return;case"input":ze("invalid",n);var b=f=w=d=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":d=$;break;case"type":w=$;break;case"checked":C=$;break;case"defaultChecked":z=$;break;case"value":f=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:ct(n,r,l,$,a,null)}}js(n,f,b,C,z,w,d,!1),Va(n);return;case"select":ze("invalid",n),l=w=f=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":w=b;break;case"multiple":l=b;default:ct(n,r,d,b,a,null)}r=f,a=w,n.multiple=!!l,r!=null?nr(n,!!l,r,!1):a!=null&&nr(n,!!l,a,!0);return;case"textarea":ze("invalid",n),f=d=l=null;for(w in a)if(a.hasOwnProperty(w)&&(b=a[w],b!=null))switch(w){case"value":l=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ct(n,r,w,b,a,null)}zs(n,l,d,f),Va(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(n,r,C,l,a,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(l=0;l<Jl.length;l++)ze(Jl[l],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ct(n,r,z,l,a,null)}return;default:if(gl(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Mp(n,r,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ct(n,r,b,l,a,null))}function H2(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,w=null,b=null,C=null,z=null,$=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(q)||ct(n,r,q,null,l,Z)}}for(var B in l){var q=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(q!=null||Z!=null))switch(B){case"type":f=q;break;case"name":d=q;break;case"checked":z=q;break;case"defaultChecked":$=q;break;case"value":w=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Z&&ct(n,r,B,q,l,Z)}}Un(n,w,b,C,z,$,f,d);return;case"select":q=w=b=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||ct(n,r,f,null,l,C)}for(d in l)if(f=l[d],C=a[d],l.hasOwnProperty(d)&&(f!=null||C!=null))switch(d){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":w=f;default:f!==C&&ct(n,r,d,f,l,C)}r=b,a=w,l=q,B!=null?nr(n,!!a,B,!1):!!l!=!!a&&(r!=null?nr(n,!!a,r,!0):nr(n,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(n,r,b,null,l,d)}for(w in l)if(d=l[w],f=a[w],l.hasOwnProperty(w)&&(d!=null||f!=null))switch(w){case"value":B=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&ct(n,r,w,d,l,f)}ot(n,B,q);return;case"option":for(var Ce in a)if(B=a[Ce],a.hasOwnProperty(Ce)&&B!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":n.selected=!1;break;default:ct(n,r,Ce,null,l,B)}for(C in l)if(B=l[C],q=a[C],l.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ct(n,r,C,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)B=a[Se],a.hasOwnProperty(Se)&&B!=null&&!l.hasOwnProperty(Se)&&ct(n,r,Se,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:ct(n,r,z,B,l,q)}return;default:if(gl(r)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!l.hasOwnProperty(ut)&&Mp(n,r,ut,void 0,l,B);for($ in l)B=l[$],q=a[$],!l.hasOwnProperty($)||B===q||B===void 0&&q===void 0||Mp(n,r,$,B,l,q);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&ct(n,r,P,null,l,B);for(Z in l)B=l[Z],q=a[Z],!l.hasOwnProperty(Z)||B===q||B==null&&q==null||ct(n,r,Z,B,l,q)}var Vp=null,Pp=null;function dd(n){return n.nodeType===9?n:n.ownerDocument}function Jw(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Lp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Up=null;function F2(){var n=window.event;return n&&n.type==="popstate"?n===Up?!1:(Up=n,!0):(Up=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Q2=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(n){return n0.resolve(null).then(n).catch($2)}:t0;function $2(n){setTimeout(function(){throw n})}function is(n){return n==="head"}function i0(n,r){var a=r,l=0,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var w=n.ownerDocument;if(a&1&&tc(w.documentElement),a&2&&tc(w.body),a&4)for(a=w.head,tc(a),w=a.firstChild;w;){var b=w.nextSibling,C=w.nodeName;w[Vs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=b}}if(d===0){n.removeChild(f),cc(r);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);cc(r)}function jp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jp(a),Ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Y2(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Vs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=vi(n.nextSibling),n===null)break}return null}function K2(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=vi(n.nextSibling),n===null))return null;return n}function zp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function X2(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function vi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Bp=null;function r0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function s0(n,r,a){switch(r=dd(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function tc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ur(n)}var ci=new Map,a0=new Set;function hd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var br=ie.d;ie.d={f:W2,r:Z2,D:J2,C:eA,L:tA,m:nA,X:rA,S:iA,M:sA};function W2(){var n=br.f(),r=id();return n||r}function Z2(n){var r=Ai(n);r!==null&&r.tag===5&&r.type==="form"?xv(r):br.r(n)}var yo=typeof document>"u"?null:document;function o0(n,r,a){var l=yo;if(l&&typeof r=="string"&&r){var d=Vt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),a0.has(d)||(a0.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),on(r,"link",n),Rt(r),l.head.appendChild(r)))}}function J2(n){br.D(n),o0("dns-prefetch",n,null)}function eA(n,r){br.C(n,r),o0("preconnect",n,r)}function tA(n,r,a){br.L(n,r,a);var l=yo;if(l&&n&&r){var d='link[rel="preload"][as="'+Vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Vt(a.imageSizes)+'"]')):d+='[href="'+Vt(n)+'"]';var f=d;switch(r){case"style":f=vo(n);break;case"script":f=wo(n)}ci.has(f)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),ci.set(f,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(nc(f))||r==="script"&&l.querySelector(ic(f))||(r=l.createElement("link"),on(r,"link",n),Rt(r),l.head.appendChild(r)))}}function nA(n,r){br.m(n,r);var a=yo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Vt(l)+'"][href="'+Vt(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wo(n)}if(!ci.has(f)&&(n=_({rel:"modulepreload",href:n},r),ci.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ic(f)))return}l=a.createElement("link"),on(l,"link",n),Rt(l),a.head.appendChild(l)}}}function iA(n,r,a){br.S(n,r,a);var l=yo;if(l&&n){var d=_n(l).hoistableStyles,f=vo(n);r=r||"default";var w=d.get(f);if(!w){var b={loading:0,preload:null};if(w=l.querySelector(nc(f)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=ci.get(f))&&qp(n,a);var C=w=l.createElement("link");Rt(C),on(C,"link",n),C._p=new Promise(function(z,$){C.onload=z,C.onerror=$}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,fd(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:b},d.set(f,w)}}}function rA(n,r){br.X(n,r);var a=yo;if(a&&n){var l=_n(a).hoistableScripts,d=wo(n),f=l.get(d);f||(f=a.querySelector(ic(d)),f||(n=_({src:n,async:!0},r),(r=ci.get(d))&&Hp(n,r),f=a.createElement("script"),Rt(f),on(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function sA(n,r){br.M(n,r);var a=yo;if(a&&n){var l=_n(a).hoistableScripts,d=wo(n),f=l.get(d);f||(f=a.querySelector(ic(d)),f||(n=_({src:n,async:!0,type:"module"},r),(r=ci.get(d))&&Hp(n,r),f=a.createElement("script"),Rt(f),on(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function l0(n,r,a,l){var d=(d=Te.current)?hd(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=vo(a.href),a=_n(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=vo(a.href);var f=_n(d).hoistableStyles,w=f.get(n);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,w),(f=d.querySelector(nc(n)))&&!f._p&&(w.instance=f,w.state.loading=5),ci.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ci.set(n,a),f||aA(d,n,a,w.state))),r&&l===null)throw Error(s(528,""));return w}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wo(a),a=_n(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function vo(n){return'href="'+Vt(n)+'"'}function nc(n){return'link[rel="stylesheet"]['+n+"]"}function c0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function aA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),on(r,"link",a),Rt(r),n.head.appendChild(r))}function wo(n){return'[src="'+Vt(n)+'"]'}function ic(n){return"script[async]"+n}function u0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(l)return r.instance=l,Rt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Rt(l),on(l,"style",d),fd(l,a.precedence,n),r.instance=l;case"stylesheet":d=vo(a.href);var f=n.querySelector(nc(d));if(f)return r.state.loading|=4,r.instance=f,Rt(f),f;l=c0(a),(d=ci.get(d))&&qp(l,d),f=(n.ownerDocument||n).createElement("link"),Rt(f);var w=f;return w._p=new Promise(function(b,C){w.onload=b,w.onerror=C}),on(f,"link",l),r.state.loading|=4,fd(f,a.precedence,n),r.instance=f;case"script":return f=wo(a.src),(d=n.querySelector(ic(f)))?(r.instance=d,Rt(d),d):(l=a,(d=ci.get(f))&&(l=_({},a),Hp(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),Rt(d),on(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,fd(l,a.precedence,n));return r.instance}function fd(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,w=0;w<l.length;w++){var b=l[w];if(b.dataset.precedence===r)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function qp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Hp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var pd=null;function d0(n,r,a){if(pd===null){var l=new Map,d=pd=new Map;d.set(a,l)}else d=pd,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Vs]||f[Bt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var w=f.getAttribute(r)||"";w=n+w;var b=l.get(w);b?b.push(f):l.set(w,[f])}}return l}function h0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function oA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function f0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var rc=null;function lA(){}function cA(n,r,a){if(rc===null)throw Error(s(475));var l=rc;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=vo(a.href),f=n.querySelector(nc(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=md.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=f,Rt(f);return}f=n.ownerDocument||n,a=c0(a),(d=ci.get(d))&&qp(a,d),f=f.createElement("link"),Rt(f);var w=f;w._p=new Promise(function(b,C){w.onload=b,w.onerror=C}),on(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=md.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function uA(){if(rc===null)throw Error(s(475));var n=rc;return n.stylesheets&&n.count===0&&Fp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Fp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function md(){if(this.count--,this.count===0){if(this.stylesheets)Fp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var gd=null;function Fp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,gd=new Map,r.forEach(dA,n),gd=null,md.call(n))}function dA(n,r){if(!(r.state.loading&4)){var a=gd.get(n);if(a)var l=a.get(null);else{a=new Map,gd.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var w=d[f];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}d=r.instance,w=d.getAttribute("data-precedence"),f=a.get(w)||l,f===l&&a.set(null,d),a.set(w,d),this.count++,l=md.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var sc={$$typeof:le,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function hA(n,r,a,l,d,f,w,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function p0(n,r,a,l,d,f,w,b,C,z,$,Z){return n=new hA(n,r,a,w,b,C,z,Z),r=1,f===!0&&(r|=24),f=zn(3,null,null,r),n.current=f,f.stateNode=n,r=Sf(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Cf(f),n}function m0(n){return n?(n=Ka,n):Ka}function g0(n,r,a,l,d,f){d=m0(d),l.context===null?l.context=d:l.pendingContext=d,l=Fr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gr(n,l,r),a!==null&&(Gn(a,n,r),Vl(a,n,r))}function y0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Gp(n,r){y0(n,r),(n=n.alternate)&&y0(n,r)}function v0(n){if(n.tag===13){var r=Ya(n,67108864);r!==null&&Gn(r,n,67108864),Gp(n,67108864)}}var yd=!0;function fA(n,r,a,l){var d=F.T;F.T=null;var f=ie.p;try{ie.p=2,Qp(n,r,a,l)}finally{ie.p=f,F.T=d}}function pA(n,r,a,l){var d=F.T;F.T=null;var f=ie.p;try{ie.p=8,Qp(n,r,a,l)}finally{ie.p=f,F.T=d}}function Qp(n,r,a,l){if(yd){var d=$p(l);if(d===null)Op(n,r,l,vd,a),_0(n,l);else if(gA(d,n,r,a,l))l.stopPropagation();else if(_0(n,l),r&4&&-1<mA.indexOf(n)){for(;d!==null;){var f=Ai(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var w=fi(f.pendingLanes);if(w!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;w;){var C=1<<31-hn(w);b.entanglements[1]|=C,w&=~C}Ui(f),(st&6)===0&&(td=Ze()+500,Zl(0))}}break;case 13:b=Ya(f,2),b!==null&&Gn(b,f,2),id(),Gp(f,2)}if(f=$p(l),f===null&&Op(n,r,l,vd,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Op(n,r,l,null,a)}}function $p(n){return n=ei(n),Yp(n)}var vd=null;function Yp(n){if(vd=null,n=Ji(n),n!==null){var r=c(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return vd=n,null}function w0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Pn:return 2;case tn:return 8;case Cn:case Xi:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Kp=!1,rs=null,ss=null,as=null,ac=new Map,oc=new Map,os=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(n,r){switch(n){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":ac.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(r.pointerId)}}function lc(n,r,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Ai(r),r!==null&&v0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function gA(n,r,a,l,d){switch(r){case"focusin":return rs=lc(rs,n,r,a,l,d),!0;case"dragenter":return ss=lc(ss,n,r,a,l,d),!0;case"mouseover":return as=lc(as,n,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return ac.set(f,lc(ac.get(f)||null,n,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,oc.set(f,lc(oc.get(f)||null,n,r,a,l,d)),!0}return!1}function b0(n){var r=Ji(n.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,iu(n.priority,function(){if(a.tag===13){var l=Fn();l=Vr(l);var d=Ya(a,l);d!==null&&Gn(d,a,l),Gp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wd(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=$p(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ir=l,a.target.dispatchEvent(l),ir=null}else return r=Ai(a),r!==null&&v0(r),n.blockedOn=a,!1;r.shift()}return!0}function E0(n,r,a){wd(n)&&a.delete(r)}function yA(){Kp=!1,rs!==null&&wd(rs)&&(rs=null),ss!==null&&wd(ss)&&(ss=null),as!==null&&wd(as)&&(as=null),ac.forEach(E0),oc.forEach(E0)}function _d(n,r){n.blockedOn===r&&(n.blockedOn=null,Kp||(Kp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yA)))}var bd=null;function T0(n){bd!==n&&(bd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bd===n&&(bd=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(Yp(l||a)===null)continue;break}var f=Ai(a);f!==null&&(n.splice(r,3),r-=3,Yf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function cc(n){function r(C){return _d(C,n)}rs!==null&&_d(rs,n),ss!==null&&_d(ss,n),as!==null&&_d(as,n),ac.forEach(r),oc.forEach(r);for(var a=0;a<os.length;a++){var l=os[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<os.length&&(a=os[0],a.blockedOn===null);)b0(a),a.blockedOn===null&&os.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],w=d[Mt]||null;if(typeof f=="function")w||T0(a);else if(w){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,w=f[Mt]||null)b=w.formAction;else if(Yp(d)!==null)continue}else b=w.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),T0(a)}}}function Xp(n){this._internalRoot=n}Ed.prototype.render=Xp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Fn();g0(a,l,n,r,null,null)},Ed.prototype.unmount=Xp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;g0(n.current,2,null,n,null,null),id(),r[Zn]=null}};function Ed(n){this._internalRoot=n}Ed.prototype.unstable_scheduleHydration=function(n){if(n){var r=Pr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<os.length&&r!==0&&r<os[a].priority;a++);os.splice(a,0,n),a===0&&b0(n)}};var A0=e.version;if(A0!=="19.1.1")throw Error(s(527,A0,"19.1.1"));ie.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var vA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{gt=Td.inject(vA),rt=Td}catch{}}return dc.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=zv,f=Bv,w=qv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=p0(n,1,!1,null,null,a,l,d,f,w,b,null),n[Zn]=r.current,kp(n),new Xp(r)},dc.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=zv,w=Bv,b=qv,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=p0(n,1,!0,r,a??null,l,d,f,w,b,C,z),r.context=m0(null),a=r.current,l=Fn(),l=Vr(l),d=Fr(l),d.callback=null,Gr(a,d,l),a=l,r.current.lanes=a,Zi(r,a),Ui(r),n[Zn]=r.current,kp(n),new Ed(r)},dc.version="19.1.1",dc}var M0;function IA(){if(M0)return Jp.exports;M0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jp.exports=RA(),Jp.exports}var CA=IA();const DA=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NA=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],h=i[t++],p=i[t++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=c>>2,A=(c&3)<<4|p>>4;let R=(p&15)<<2|y>>6,j=y&63;g||(j=64,h||(R=64)),s.push(t[_],t[A],t[R],t[j])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Sb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):NA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||p==null||y==null||A==null)throw new kA;const R=c<<2|p>>4;if(s.push(R),y!==64){const j=p<<4&240|y>>2;if(s.push(j),A!==64){const Q=y<<6&192|A;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(i){const e=Sb(i);return xb.encodeByteArray(e,!0)},Gd=function(i){return OA(i).replace(/\./g,"")},Rb=function(i){try{return xb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>MA().__FIREBASE_DEFAULTS__,PA=()=>{if(typeof process>"u"||typeof V0>"u")return;const i=V0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},LA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Rb(i[1]);return e&&JSON.parse(e)},Eh=()=>{try{return DA()||VA()||PA()||LA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ib=i=>Eh()?.emulatorHosts?.[i],UA=i=>{const e=Ib(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Cb=()=>Eh()?.config,Db=i=>Eh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Gd(JSON.stringify(t)),Gd(JSON.stringify(h)),""].join(".")}const vc={};function BA(){const i={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?i.emulator.push(e):i.prod.push(e);return i}function qA(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let P0=!1;function kb(i,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||vc[i]===e||vc[i]||P0)return;vc[i]=e;function t(R){return`__firebase__banner__${R}`}const s="__firebase__banner",c=BA().prod.length>0;function h(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,j){R.setAttribute("width","24"),R.setAttribute("id",j),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{P0=!0,h()},R}function _(R,j){R.setAttribute("id",j),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=qA(s),j=t("text"),Q=document.getElementById(j)||document.createElement("span"),ee=t("learnmore"),K=document.getElementById(ee)||document.createElement("a"),ne=t("preprendIcon"),ue=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const le=R.element;p(le),_(K,ee);const ke=y();g(ue,ne),le.append(ue,Q,K,ke),document.body.appendChild(le)}c?(Q.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function FA(){const i=Eh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function $A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const i=yn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function KA(){return!FA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="FirebaseError";class kr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=ZA,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?JA(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new kr(o,p,s)}}function JA(i,e){return i.replace(eS,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eS=/\{\$([^}]+)}/g;function tS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ya(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=i[o],h=e[o];if(L0(c)&&L0(h)){if(!ya(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function L0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function fc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function nS(i,e){const t=new iS(i,e);return t.subscribe.bind(t)}class iS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=im),o.error===void 0&&(o.error=im),o.complete===void 0&&(o.complete=im);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i){return i&&i._delegate?i._delegate:i}class va{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new jA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oS(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(i){return i===da?void 0:i}function oS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const cS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},uS=qe.INFO,dS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},hS=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=dS[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const fS=(i,e)=>e.some(t=>i instanceof t);let U0,j0;function pS(){return U0||(U0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return j0||(j0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ob=new WeakMap,vm=new WeakMap,Mb=new WeakMap,rm=new WeakMap,Wm=new WeakMap;function gS(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{t(gs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ob.set(t,i)}).catch(()=>{}),Wm.set(e,i),e}function yS(i){if(vm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});vm.set(i,e)}let wm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Mb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function vS(i){wm=i(wm)}function wS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(sm(this),e,...t);return Mb.set(s,e.sort?e.sort():[e]),gs(s)}:mS().includes(i)?function(...e){return i.apply(sm(this),e),gs(Ob.get(this))}:function(...e){return gs(i.apply(sm(this),e))}}function _S(i){return typeof i=="function"?wS(i):(i instanceof IDBTransaction&&yS(i),fS(i,pS())?new Proxy(i,wm):i)}function gs(i){if(i instanceof IDBRequest)return gS(i);if(rm.has(i))return rm.get(i);const e=_S(i);return e!==i&&(rm.set(i,e),Wm.set(e,i)),e}const sm=i=>Wm.get(i);function bS(i,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),p=gs(h);return s&&h.addEventListener("upgradeneeded",g=>{s(gs(h.result),g.oldVersion,g.newVersion,gs(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const ES=["get","getKey","getAll","getAllKeys","count"],TS=["put","add","delete","clear"],am=new Map;function z0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=TS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ES.includes(t)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return am.set(e,c),c}vS(i=>({...i,get:(e,t,s)=>z0(e,t)||i.get(e,t,s),has:(e,t)=>!!z0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function SS(i){return i.getComponent()?.type==="VERSION"}const _m="@firebase/app",B0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Xm("@firebase/app"),xS="@firebase/app-compat",RS="@firebase/analytics-compat",IS="@firebase/analytics",CS="@firebase/app-check-compat",DS="@firebase/app-check",NS="@firebase/auth",kS="@firebase/auth-compat",OS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",PS="@firebase/functions",LS="@firebase/functions-compat",US="@firebase/installations",jS="@firebase/installations-compat",zS="@firebase/messaging",BS="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",FS="@firebase/remote-config",GS="@firebase/remote-config-compat",QS="@firebase/storage",$S="@firebase/storage-compat",YS="@firebase/firestore",KS="@firebase/ai",XS="@firebase/firestore-compat",WS="firebase",ZS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",JS={[_m]:"fire-core",[xS]:"fire-core-compat",[IS]:"fire-analytics",[RS]:"fire-analytics-compat",[DS]:"fire-app-check",[CS]:"fire-app-check-compat",[NS]:"fire-auth",[kS]:"fire-auth-compat",[OS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[PS]:"fire-fn",[LS]:"fire-fn-compat",[US]:"fire-iid",[jS]:"fire-iid-compat",[zS]:"fire-fcm",[BS]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[FS]:"fire-rc",[GS]:"fire-rc-compat",[QS]:"fire-gcs",[$S]:"fire-gcs-compat",[YS]:"fire-fst",[XS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[WS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,ex=new Map,Em=new Map;function q0(i,e){try{i.container.addComponent(e)}catch(t){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Oo(i){const e=i.name;if(Em.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,i);for(const t of Sc.values())q0(t,i);for(const t of ex.values())q0(t,i);return!0}function Zm(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Pc("app","Firebase",tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=ZS;function Vb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ys.create("bad-app-name",{appName:String(o)});if(t||(t=Cb()),!t)throw ys.create("no-options");const c=Sc.get(o);if(c){if(ya(t,c.options)&&ya(s,c.config))return c;throw ys.create("duplicate-app",{appName:o})}const h=new lS(o);for(const g of Em.values())h.addComponent(g);const p=new nx(t,s,h);return Sc.set(o,p),p}function Pb(i=bm){const e=Sc.get(i);if(!e&&i===bm&&Cb())return Vb();if(!e)throw ys.create("no-app",{appName:i});return e}function ix(){return Array.from(Sc.values())}function vs(i,e,t){let s=JS[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(h.join(" "));return}Oo(new va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebase-heartbeat-database",sx=1,xc="firebase-heartbeat-store";let om=null;function Lb(){return om||(om=bS(rx,sx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(xc)}catch(t){console.warn(t)}}}}).catch(i=>{throw ys.create("idb-open",{originalErrorMessage:i.message})})),om}async function ax(i){try{const t=(await Lb()).transaction(xc),s=await t.objectStore(xc).get(Ub(i));return await t.done,s}catch(e){if(e instanceof kr)Ir.warn(e.message);else{const t=ys.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(t.message)}}}async function H0(i,e){try{const s=(await Lb()).transaction(xc,"readwrite");await s.objectStore(xc).put(e,Ub(i)),await s.done}catch(t){if(t instanceof kr)Ir.warn(t.message);else{const s=ys.create("idb-set",{originalErrorMessage:t?.message});Ir.warn(s.message)}}}function Ub(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1024,lx=30;class cx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dx(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=F0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>lx){const o=hx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F0(),{heartbeatsToSend:t,unsentEntries:s}=ux(this._heartbeatsCache.heartbeats),o=Gd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ir.warn(e),""}}}function F0(){return new Date().toISOString().substring(0,10)}function ux(i,e=ox){const t=[];let s=i.slice();for(const o of i){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),G0(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),G0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ax(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return H0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function G0(i){return Gd(JSON.stringify({version:2,heartbeats:i})).length}function hx(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i){Oo(new va("platform-logger",e=>new AS(e),"PRIVATE")),Oo(new va("heartbeat",e=>new cx(e),"PRIVATE")),vs(_m,B0,i),vs(_m,B0,"esm2020"),vs("fire-js","")}fx("");function jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const px=jb,zb=new Pc("auth","Firebase",jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Xm("@firebase/auth");function mx(i,...e){Qd.logLevel<=qe.WARN&&Qd.warn(`Auth (${Yo}): ${i}`,...e)}function Od(i,...e){Qd.logLevel<=qe.ERROR&&Qd.error(`Auth (${Yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(i,...e){throw eg(i,...e)}function _i(i,...e){return eg(i,...e)}function Jm(i,e,t){const s={...px(),[e]:t};return new Pc("auth","Firebase",s).create(e,{appName:i.name})}function Bi(i){return Jm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bb(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&di(i,"argument-error"),Jm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return zb.create(i,...e)}function Ie(i,e,...t){if(!i)throw eg(e,...t)}function Ar(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Od(e),new Error(e)}function Cr(i,e){i||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){return typeof self<"u"&&self.location?.href||""}function gx(){return Q0()==="http:"||Q0()==="https:"}function Q0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gx()||QA()||"connection"in navigator)?navigator.onLine:!0}function vx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=HA()||$A()}get(){return yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bx=new Uc(3e4,6e4);function Or(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ki(i,e,t,s,o={}){return Hb(i,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=Lc({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return GA()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&$o(i.emulatorConfig.host)&&(y.credentials="include"),qb.fetch()(await Fb(i,i.config.apiHost,t,p),y)})}async function Hb(i,e,t){i._canInitEmulator=!1;const s={...wx,...e};try{const o=new Tx(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Ad(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Ad(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Ad(i,"user-disabled",h);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Jm(i,_,y);di(i,_)}}catch(o){if(o instanceof kr)throw o;di(i,"network-request-failed",{message:String(o)})}}async function jc(i,e,t,s,o={}){const c=await Ki(i,e,t,s,o);return"mfaPendingCredential"in c&&di(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fb(i,e,t,s){const o=`${e}${t}?${s}`,c=i,h=c.config.emulator?tg(i.config,o):`${i.config.apiScheme}://${o}`;return _x.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function Ex(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),bx.get())})}}function Ad(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=_i(i,e,s);return o.customData._tokenResponse=t,o}function $0(i){return i!==void 0&&i.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ex(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sx(i,e){return Ki(i,"GET","/v2/recaptchaConfig",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(i,e){return Ki(i,"POST","/v1/accounts:delete",e)}async function $d(i,e){return Ki(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rx(i,e=!1){const t=kt(i),s=await t.getIdToken(e),o=ng(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:wc(lm(o.auth_time)),issuedAtTime:wc(lm(o.iat)),expirationTime:wc(lm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(i){return Number(i)*1e3}function ng(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const o=Rb(t);return o?JSON.parse(o):(Od("Failed to decode base64 JWT payload"),null)}catch(o){return Od("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Y0(i){const e=ng(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof kr&&Ix(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Ix({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(i){const e=i.auth,t=await i.getIdToken(),s=await Mo(i,$d(e,{idToken:t}));Ie(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?Gb(o.providerUserInfo):[],h=Nx(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function Dx(i){const e=kt(i);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Gb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(i,e){const t=await Hb(i,{},async()=>{const s=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await Fb(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return i.emulatorConfig&&$o(i.emulatorConfig.host)&&(g.credentials="include"),qb.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ox(i,e){return Ki(i,"POST","/v2/accounts:revokeToken",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=Y0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await kx(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,h=new Ro;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Rx(this,e)}reload(){return Dx(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Yd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Mo(this,xx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:j,providerData:Q,stsTokenManager:ee}=t;Ie(A&&ee,e,"internal-error");const K=Ro.fromJSON(this.name,ee);Ie(typeof A=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),Ie(typeof R=="boolean",e,"internal-error"),Ie(typeof j=="boolean",e,"internal-error"),cs(c,e.name),cs(h,e.name),cs(p,e.name),cs(g,e.name),cs(y,e.name),cs(_,e.name);const ne=new wi({uid:A,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:j,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:K,createdAt:y,lastLoginAt:_});return Q&&Array.isArray(Q)&&(ne.providerData=Q.map(ue=>({...ue}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ro;o.updateFromServerResponse(t);const c=new wi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yd(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Gb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new Ro;p.updateFromIdToken(s);const g=new wi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;function Sr(i){Cr(i instanceof Function,"Expected a class definition");let e=K0.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,K0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qb.type="NONE";const X0=Qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(i,e,t){return`firebase:${i}:${e}:${t}`}class Io{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Md(this.userKey,o.apiKey,c),this.fullPersistenceKey=Md("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $d(this.auth,{idToken:e}).catch(()=>{});return t?wi._fromGetAccountInfoResponse(this.auth,t,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Io(Sr(X0),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Sr(X0);const h=Md(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const _=await y._get(h);if(_){let A;if(typeof _=="string"){const R=await $d(e,{idToken:_}).catch(()=>{});if(!R)break;A=await wi._fromGetAccountInfoResponse(e,R,_)}else A=wi._fromJSON(e,_);y!==c&&(p=A),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Io(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Io(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zb(e))return"Blackberry";if(Jb(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||Kb(e))&&!e.includes("edge/"))return"Chrome";if(Wb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function $b(i=yn()){return/firefox\//i.test(i)}function Yb(i=yn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kb(i=yn()){return/crios\//i.test(i)}function Xb(i=yn()){return/iemobile/i.test(i)}function Wb(i=yn()){return/android/i.test(i)}function Zb(i=yn()){return/blackberry/i.test(i)}function Jb(i=yn()){return/webos/i.test(i)}function ig(i=yn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Mx(i=yn()){return ig(i)&&!!window.navigator?.standalone}function Vx(){return YA()&&document.documentMode===10}function eE(i=yn()){return ig(i)||Wb(i)||Jb(i)||Zb(i)||/windows phone/i.test(i)||Xb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(i,e=[]){let t;switch(i){case"Browser":t=W0(yn());break;case"Worker":t=`${W0(yn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(i,e={}){return Ki(i,"GET","/v2/passwordPolicy",Or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=6;class jx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ux,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new Px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $d(this,{idToken:e}),s=await wi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Bi(this));const t=e?kt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lx(this),t=new jx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ox(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ei(i){return kt(i)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nS(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bx(i){Th=i}function nE(i){return Th.loadJS(i)}function qx(){return Th.recaptchaEnterpriseScript}function Hx(){return Th.gapiScript}function Fx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Gx{constructor(){this.enterprise=new Qx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Qx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $x="recaptcha-enterprise",iE="NO_RECAPTCHA";class Yx{constructor(e){this.type=$x,this.auth=Ei(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{Sx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Ax(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;$0(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(iE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gx().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!t&&$0(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=qx();g.length!==0&&(g+=p),nE(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function J0(i,e,t,s=!1,o=!1){const c=new Yx(i);let h;if(o)h=iE;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Kd(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await J0(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await J0(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i,e){const t=Zm(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(ya(c,e??{}))return o;di(o,"already-initialized")}return t.initialize({options:e})}function Xx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Wx(i,e,t){const s=Ei(i);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=rE(e),{host:h,port:p}=Zx(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(ya(y,s.config.emulator)&&ya(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,$o(h)?(Nb(`${c}//${h}${g}`),kb("Auth",!0)):Jx()}function rE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Zx(i){const e=rE(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:e_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:e_(h)}}}function e_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Jx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function eR(i,e){return Ki(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(i,e){return jc(i,"POST","/v1/accounts:signInWithPassword",Or(i,e))}async function nR(i,e){return Ki(i,"POST","/v1/accounts:sendOobCode",Or(i,e))}async function iR(i,e){return nR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(i,e){return jc(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}async function sR(i,e){return jc(i,"POST","/v1/accounts:signInWithEmailLink",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends rg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Rc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,t,"signInWithPassword",tR);case"emailLink":return rR(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,s,"signUpPassword",eR);case"emailLink":return sR(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,e){return jc(i,"POST","/v1/accounts:signInWithIdp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="http://localhost";class wa extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const h=new wa(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lR(i){const e=hc(fc(i)).link,t=e?hc(fc(e)).deep_link_id:null,s=hc(fc(i)).deep_link_id;return(s?hc(fc(s)).link:null)||s||t||e||i}class sg{constructor(e){const t=hc(fc(e)),s=t.apiKey??null,o=t.oobCode??null,c=oR(t.mode??null);Ie(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lR(e);try{return new sg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=sg.parseLink(t);return Ie(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends zc{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Tr.credential(t,s)}catch{return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com";Tr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends zc{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends zc{constructor(){super("twitter.com")}static credential(e,t){return wa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hs.credential(t,s)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(i,e){return jc(i,"POST","/v1/accounts:signUp",Or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await wi._fromIdTokenResponse(e,s,o),h=t_(s);return new _a({user:c,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=t_(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function t_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends kr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Xd(e,t,s,o)}}function sE(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(i,c,e,s):c})}async function uR(i,e,t=!1){const s=await Mo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return _a._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(i,e,t=!1){const{auth:s}=i;if(Mn(s.app))return Promise.reject(Bi(s));const o="reauthenticate";try{const c=await Mo(i,sE(s,o,e,i),t);Ie(c.idToken,s,"internal-error");const h=ng(c.idToken);Ie(h,s,"internal-error");const{sub:p}=h;return Ie(i.uid===p,s,"user-mismatch"),_a._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(i,e,t=!1){if(Mn(i.app))return Promise.reject(Bi(i));const s="signIn",o=await sE(i,s,e),c=await _a._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(c.user),c}async function hR(i,e){return aE(Ei(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(i){const e=Ei(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fR(i,e,t){const s=Ei(i);await Kd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iR)}async function pR(i,e,t){if(Mn(i.app))return Promise.reject(Bi(i));const s=Ei(i),h=await Kd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&oE(i),g}),p=await _a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function mR(i,e,t){return Mn(i.app)?Promise.reject(Bi(i)):hR(kt(i),Ko.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&oE(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(i,e){return Ki(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=kt(i),c={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Mo(s,gR(s.auth,c));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function vR(i,e,t,s){return kt(i).onIdTokenChanged(e,t,s)}function wR(i,e,t){return kt(i).beforeAuthStateChanged(e,t)}function _R(i,e,t,s){return kt(i).onAuthStateChanged(e,t,s)}function bR(i){return kt(i).signOut()}const Wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,TR=10;class cE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);Vx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TR):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const AR=cE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uE.type="SESSION";const dE=uE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,c)),g=await SR(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=ag("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(R.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function RR(i){qi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function IR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){return navigator?.serviceWorker?.controller||null}function DR(){return hE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firebaseLocalStorageDb",NR=1,Zd="firebaseLocalStorage",pE="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(i,e){return i.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function kR(){const i=indexedDB.deleteDatabase(fE);return new Bc(i).toPromise()}function Sm(){const i=indexedDB.open(fE,NR);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zd,{keyPath:pE})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zd)?e(s):(s.close(),await kR(),e(await Sm()))})})}async function n_(i,e,t){const s=xh(i,!0).put({[pE]:e,value:t});return new Bc(s).toPromise()}async function OR(i,e){const t=xh(i,!1).get(e),s=await new Bc(t).toPromise();return s===void 0?null:s.value}function i_(i,e){const t=xh(i,!0).delete(e);return new Bc(t).toPromise()}const MR=800,VR=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>VR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(DR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await n_(e,Wd,"1"),await i_(e,Wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>n_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>OR(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>i_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xh(o,!1).getAll();return new Bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const PR=mE;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){return e?Sr(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LR(i){return aE(i.auth,new lg(i),i.bypassAuthState)}function UR(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),dR(t,new lg(i),i.bypassAuthState)}async function jR(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),uR(t,new lg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LR;case"linkViaPopup":case"linkViaRedirect":return jR;case"reauthViaPopup":case"reauthViaRedirect":return UR;default:di(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Uc(2e3,1e4);async function BR(i,e,t){if(Mn(i.app))return Promise.reject(_i(i,"operation-not-supported-in-this-environment"));const s=Ei(i);Bb(i,e,Ah);const o=og(s,t);return new ha(s,"signInViaPopup",e,o).executeNotNull()}class ha extends gE{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zR.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="pendingRedirect",Vd=new Map;class HR extends gE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const s=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(i,e){const t=vE(e),s=yE(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function GR(i,e){return yE(i)._set(vE(e),"true")}function QR(i,e){Vd.set(i._key(),e)}function yE(i){return Sr(i._redirectPersistence)}function vE(i){return Md(qR,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(i,e,t){return YR(i,e,t)}async function YR(i,e,t){if(Mn(i.app))return Promise.reject(Bi(i));const s=Ei(i);Bb(i,e,Ah),await s._initializationPromise;const o=og(s,t);return await GR(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function KR(i,e){return await Ei(i)._initializationPromise,wE(i,e,!1)}async function wE(i,e,t=!1){if(Mn(i.app))return Promise.reject(Bi(i));const s=Ei(i),o=og(s,e),h=await new HR(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=600*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_E(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_i(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XR&&this.cachedEventUids.clear(),this.cachedEventUids.has(r_(e))}saveEventToCache(e){this.cachedEventUids.add(r_(e)),this.lastProcessedEventTime=Date.now()}}function r_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function _E({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ZR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(i,e={}){return Ki(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function nI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JR(i);for(const t of e)try{if(iI(t))return}catch{}di(i,"unauthorized-domain")}function iI(i){const e=Tm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!tI.test(t))return!1;if(eI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Uc(3e4,6e4);function s_(){const i=qi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function sI(i){return new Promise((e,t)=>{function s(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),t(_i(i,"network-request-failed"))},timeout:rI.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)s();else{const o=Fx("iframefcb");return qi()[o]=()=>{gapi.load?s():t(_i(i,"network-request-failed"))},nE(`${Hx()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function aI(i){return Pd=Pd||sI(i),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new Uc(5e3,15e3),lI="__/auth/iframe",cI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?tg(e,cI):`https://${i.config.authDomain}/${lI}`,s={apiKey:e.apiKey,appName:i.name,v:Yo},o=dI.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${Lc(s).slice(1)}`}async function fI(i){const e=await aI(i),t=qi().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:hI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=_i(i,"network-request-failed"),p=qi().setTimeout(()=>{c(h)},oI.get());function g(){qi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,gI=600,yI="_blank",vI="http://localhost";class a_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wI(i,e,t,s=mI,o=gI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...pI,width:s.toString(),height:o.toString(),top:c,left:h},y=yn().toLowerCase();t&&(p=Kb(y)?yI:t),$b(y)&&(e=e||vI,g.scrollbars="yes");const _=Object.entries(g).reduce((R,[j,Q])=>`${R}${j}=${Q},`,"");if(Mx(y)&&p!=="_self")return _I(e||"",p),new a_(null);const A=window.open(e||"",p,_);Ie(A,i,"popup-blocked");try{A.focus()}catch{}return new a_(A)}function _I(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__/auth/handler",EI="emulator/auth/handler",TI=encodeURIComponent("fac");async function o_(i,e,t,s,o,c){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Yo,eventId:o};if(e instanceof Ah){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",tS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof zc){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await i._getAppCheckToken(),y=g?`#${TI}=${encodeURIComponent(g)}`:"";return`${AI(i)}?${Lc(p).slice(1)}${y}`}function AI({config:i}){return i.emulator?tg(i,EI):`https://${i.authDomain}/${bI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=wE,this._overrideRedirectResult=QR}async _openPopup(e,t,s,o){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await o_(e,t,s,Tm(),o);return wI(e,c,ag())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await o_(e,t,s,Tm(),o);return RR(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Cr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await fI(e),s=new WR(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cm,{type:cm},o=>{const c=o?.[0]?.[cm];c!==void 0&&t(!!c),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eE()||Yb()||ig()}}const xI=SI;var l_="@firebase/auth",c_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CI(i){Oo(new va("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(i)},y=new zx(s,o,c,g);return Xx(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Oo(new va("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return(s=>new RI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(l_,c_,II(i)),vs(l_,c_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=300,NI=Db("authIdTokenMaxAge")||DI;let u_=null;const kI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>NI)return;const o=t?.token;u_!==o&&(u_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OI(i=Pb()){const e=Zm(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Kx(i,{popupRedirectResolver:xI,persistence:[PR,AR,dE]}),s=Db("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=kI(c.toString());wR(t,h,()=>h(t.currentUser)),vR(t,p=>h(p))}}const o=Ib("auth");return o&&Wx(t,`http://${o}`),t}function MI(){return document.getElementsByTagName("head")?.[0]??document}Bx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=_i("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",MI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CI("Browser");var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,bE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function I(){}I.prototype=S.prototype,O.D=S.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,D,k){for(var T=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)T[Ee-2]=arguments[Ee];return S.prototype[D].apply(M,T)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,I){I||(I=0);var M=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)M[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)M[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=O.g[0],I=O.g[1],D=O.g[2];var k=O.g[3],T=S+(k^I&(D^k))+M[0]+3614090360&4294967295;S=I+(T<<7&4294967295|T>>>25),T=k+(D^S&(I^D))+M[1]+3905402710&4294967295,k=S+(T<<12&4294967295|T>>>20),T=D+(I^k&(S^I))+M[2]+606105819&4294967295,D=k+(T<<17&4294967295|T>>>15),T=I+(S^D&(k^S))+M[3]+3250441966&4294967295,I=D+(T<<22&4294967295|T>>>10),T=S+(k^I&(D^k))+M[4]+4118548399&4294967295,S=I+(T<<7&4294967295|T>>>25),T=k+(D^S&(I^D))+M[5]+1200080426&4294967295,k=S+(T<<12&4294967295|T>>>20),T=D+(I^k&(S^I))+M[6]+2821735955&4294967295,D=k+(T<<17&4294967295|T>>>15),T=I+(S^D&(k^S))+M[7]+4249261313&4294967295,I=D+(T<<22&4294967295|T>>>10),T=S+(k^I&(D^k))+M[8]+1770035416&4294967295,S=I+(T<<7&4294967295|T>>>25),T=k+(D^S&(I^D))+M[9]+2336552879&4294967295,k=S+(T<<12&4294967295|T>>>20),T=D+(I^k&(S^I))+M[10]+4294925233&4294967295,D=k+(T<<17&4294967295|T>>>15),T=I+(S^D&(k^S))+M[11]+2304563134&4294967295,I=D+(T<<22&4294967295|T>>>10),T=S+(k^I&(D^k))+M[12]+1804603682&4294967295,S=I+(T<<7&4294967295|T>>>25),T=k+(D^S&(I^D))+M[13]+4254626195&4294967295,k=S+(T<<12&4294967295|T>>>20),T=D+(I^k&(S^I))+M[14]+2792965006&4294967295,D=k+(T<<17&4294967295|T>>>15),T=I+(S^D&(k^S))+M[15]+1236535329&4294967295,I=D+(T<<22&4294967295|T>>>10),T=S+(D^k&(I^D))+M[1]+4129170786&4294967295,S=I+(T<<5&4294967295|T>>>27),T=k+(I^D&(S^I))+M[6]+3225465664&4294967295,k=S+(T<<9&4294967295|T>>>23),T=D+(S^I&(k^S))+M[11]+643717713&4294967295,D=k+(T<<14&4294967295|T>>>18),T=I+(k^S&(D^k))+M[0]+3921069994&4294967295,I=D+(T<<20&4294967295|T>>>12),T=S+(D^k&(I^D))+M[5]+3593408605&4294967295,S=I+(T<<5&4294967295|T>>>27),T=k+(I^D&(S^I))+M[10]+38016083&4294967295,k=S+(T<<9&4294967295|T>>>23),T=D+(S^I&(k^S))+M[15]+3634488961&4294967295,D=k+(T<<14&4294967295|T>>>18),T=I+(k^S&(D^k))+M[4]+3889429448&4294967295,I=D+(T<<20&4294967295|T>>>12),T=S+(D^k&(I^D))+M[9]+568446438&4294967295,S=I+(T<<5&4294967295|T>>>27),T=k+(I^D&(S^I))+M[14]+3275163606&4294967295,k=S+(T<<9&4294967295|T>>>23),T=D+(S^I&(k^S))+M[3]+4107603335&4294967295,D=k+(T<<14&4294967295|T>>>18),T=I+(k^S&(D^k))+M[8]+1163531501&4294967295,I=D+(T<<20&4294967295|T>>>12),T=S+(D^k&(I^D))+M[13]+2850285829&4294967295,S=I+(T<<5&4294967295|T>>>27),T=k+(I^D&(S^I))+M[2]+4243563512&4294967295,k=S+(T<<9&4294967295|T>>>23),T=D+(S^I&(k^S))+M[7]+1735328473&4294967295,D=k+(T<<14&4294967295|T>>>18),T=I+(k^S&(D^k))+M[12]+2368359562&4294967295,I=D+(T<<20&4294967295|T>>>12),T=S+(I^D^k)+M[5]+4294588738&4294967295,S=I+(T<<4&4294967295|T>>>28),T=k+(S^I^D)+M[8]+2272392833&4294967295,k=S+(T<<11&4294967295|T>>>21),T=D+(k^S^I)+M[11]+1839030562&4294967295,D=k+(T<<16&4294967295|T>>>16),T=I+(D^k^S)+M[14]+4259657740&4294967295,I=D+(T<<23&4294967295|T>>>9),T=S+(I^D^k)+M[1]+2763975236&4294967295,S=I+(T<<4&4294967295|T>>>28),T=k+(S^I^D)+M[4]+1272893353&4294967295,k=S+(T<<11&4294967295|T>>>21),T=D+(k^S^I)+M[7]+4139469664&4294967295,D=k+(T<<16&4294967295|T>>>16),T=I+(D^k^S)+M[10]+3200236656&4294967295,I=D+(T<<23&4294967295|T>>>9),T=S+(I^D^k)+M[13]+681279174&4294967295,S=I+(T<<4&4294967295|T>>>28),T=k+(S^I^D)+M[0]+3936430074&4294967295,k=S+(T<<11&4294967295|T>>>21),T=D+(k^S^I)+M[3]+3572445317&4294967295,D=k+(T<<16&4294967295|T>>>16),T=I+(D^k^S)+M[6]+76029189&4294967295,I=D+(T<<23&4294967295|T>>>9),T=S+(I^D^k)+M[9]+3654602809&4294967295,S=I+(T<<4&4294967295|T>>>28),T=k+(S^I^D)+M[12]+3873151461&4294967295,k=S+(T<<11&4294967295|T>>>21),T=D+(k^S^I)+M[15]+530742520&4294967295,D=k+(T<<16&4294967295|T>>>16),T=I+(D^k^S)+M[2]+3299628645&4294967295,I=D+(T<<23&4294967295|T>>>9),T=S+(D^(I|~k))+M[0]+4096336452&4294967295,S=I+(T<<6&4294967295|T>>>26),T=k+(I^(S|~D))+M[7]+1126891415&4294967295,k=S+(T<<10&4294967295|T>>>22),T=D+(S^(k|~I))+M[14]+2878612391&4294967295,D=k+(T<<15&4294967295|T>>>17),T=I+(k^(D|~S))+M[5]+4237533241&4294967295,I=D+(T<<21&4294967295|T>>>11),T=S+(D^(I|~k))+M[12]+1700485571&4294967295,S=I+(T<<6&4294967295|T>>>26),T=k+(I^(S|~D))+M[3]+2399980690&4294967295,k=S+(T<<10&4294967295|T>>>22),T=D+(S^(k|~I))+M[10]+4293915773&4294967295,D=k+(T<<15&4294967295|T>>>17),T=I+(k^(D|~S))+M[1]+2240044497&4294967295,I=D+(T<<21&4294967295|T>>>11),T=S+(D^(I|~k))+M[8]+1873313359&4294967295,S=I+(T<<6&4294967295|T>>>26),T=k+(I^(S|~D))+M[15]+4264355552&4294967295,k=S+(T<<10&4294967295|T>>>22),T=D+(S^(k|~I))+M[6]+2734768916&4294967295,D=k+(T<<15&4294967295|T>>>17),T=I+(k^(D|~S))+M[13]+1309151649&4294967295,I=D+(T<<21&4294967295|T>>>11),T=S+(D^(I|~k))+M[4]+4149444226&4294967295,S=I+(T<<6&4294967295|T>>>26),T=k+(I^(S|~D))+M[11]+3174756917&4294967295,k=S+(T<<10&4294967295|T>>>22),T=D+(S^(k|~I))+M[2]+718787259&4294967295,D=k+(T<<15&4294967295|T>>>17),T=I+(k^(D|~S))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(D+(T<<21&4294967295|T>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var I=S-this.blockSize,M=this.B,D=this.h,k=0;k<S;){if(D==0)for(;k<=I;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<S;)if(M[D++]=O.charCodeAt(k++),D==this.blockSize){o(this,M),D=0;break}}else for(;k<S;)if(M[D++]=O[k++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var I=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=I&255,I/=256;for(this.u(O),O=Array(16),S=I=0;4>S;++S)for(var M=0;32>M;M+=8)O[I++]=this.g[S]>>>M&255;return O};function c(O,S){var I=p;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=S(O)}function h(O,S){this.h=S;for(var I=[],M=!0,D=O.length-1;0<=D;D--){var k=O[D]|0;M&&k==S||(I[D]=k,M=!1)}this.g=I}var p={};function g(O){return-128<=O&&128>O?c(O,function(S){return new h([S|0],0>S?-1:0)}):new h([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return K(y(-O));for(var S=[],I=1,M=0;O>=I;M++)S[M]=O/I|0,I*=4294967296;return new h(S,0)}function _(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return K(_(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(S,8)),M=A,D=0;D<O.length;D+=8){var k=Math.min(8,O.length-D),T=parseInt(O.substring(D,D+k),S);8>k?(k=y(Math.pow(S,k)),M=M.j(k).add(y(T))):(M=M.j(I),M=M.add(y(T)))}return M}var A=g(0),R=g(1),j=g(16777216);i=h.prototype,i.m=function(){if(ee(this))return-K(this).m();for(var O=0,S=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*S,S*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(ee(this))return"-"+K(this).toString(O);for(var S=y(Math.pow(O,6)),I=this,M="";;){var D=ke(I,S).g;I=ne(I,D.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=D,Q(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function ee(O){return O.h==-1}i.l=function(O){return O=ne(this,O),ee(O)?-1:Q(O)?0:1};function K(O){for(var S=O.g.length,I=[],M=0;M<S;M++)I[M]=~O.g[M];return new h(I,~O.h).add(R)}i.abs=function(){return ee(this)?K(this):this},i.add=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0,D=0;D<=S;D++){var k=M+(this.i(D)&65535)+(O.i(D)&65535),T=(k>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);M=T>>>16,k&=65535,T&=65535,I[D]=T<<16|k}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ne(O,S){return O.add(K(S))}i.j=function(O){if(Q(this)||Q(O))return A;if(ee(this))return ee(O)?K(this).j(K(O)):K(K(this).j(O));if(ee(O))return K(this.j(K(O)));if(0>this.l(j)&&0>O.l(j))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,I=[],M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<O.g.length;D++){var k=this.i(M)>>>16,T=this.i(M)&65535,Ee=O.i(D)>>>16,Me=O.i(D)&65535;I[2*M+2*D]+=T*Me,ue(I,2*M+2*D),I[2*M+2*D+1]+=k*Me,ue(I,2*M+2*D+1),I[2*M+2*D+1]+=T*Ee,ue(I,2*M+2*D+1),I[2*M+2*D+2]+=k*Ee,ue(I,2*M+2*D+2)}for(M=0;M<S;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=S;M<2*S;M++)I[M]=0;return new h(I,0)};function ue(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function le(O,S){this.g=O,this.h=S}function ke(O,S){if(Q(S))throw Error("division by zero");if(Q(O))return new le(A,A);if(ee(O))return S=ke(K(O),S),new le(K(S.g),K(S.h));if(ee(S))return S=ke(O,K(S)),new le(K(S.g),S.h);if(30<O.g.length){if(ee(O)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var I=R,M=S;0>=M.l(O);)I=ge(I),M=ge(M);var D=he(I,1),k=he(M,1);for(M=he(M,2),I=he(I,2);!Q(M);){var T=k.add(M);0>=T.l(O)&&(D=D.add(I),k=T),M=he(M,1),I=he(I,1)}return S=ne(O,D.j(S)),new le(D,S)}for(D=A;0<=O.l(S);){for(I=Math.max(1,Math.floor(O.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=y(I),T=k.j(S);ee(T)||0<T.l(O);)I-=M,k=y(I),T=k.j(S);Q(k)&&(k=R),D=D.add(k),O=ne(O,T)}return new le(D,O)}i.A=function(O){return ke(this,O).h},i.and=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)&O.i(M);return new h(I,this.h&O.h)},i.or=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)|O.i(M);return new h(I,this.h|O.h)},i.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)^O.i(M);return new h(I,this.h^O.h)};function ge(O){for(var S=O.g.length+1,I=[],M=0;M<S;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new h(I,O.h)}function he(O,S){var I=S>>5;S%=32;for(var M=O.g.length-I,D=[],k=0;k<M;k++)D[k]=0<S?O.i(k+I)>>>S|O.i(k+I+1)<<32-S:O.i(k+I);return new h(D,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,ws=h}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,pc,TE,Ld,xm,AE,SE,xE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in v))break e;v=v[L]}u=u[u.length-1],E=v[u],m=m(E),m!=E&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,E=!1,L={next:function(){if(!E&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function A(u,m,v){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function R(u,m,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,R.apply(null,arguments)}function j(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function Q(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(E,L,H){for(var ae=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ae[Qe-2]=arguments[Qe];return m.prototype[L].apply(E,ae)}}function ee(u){const m=u.length;if(0<m){const v=Array(m);for(let E=0;E<m;E++)v[E]=u[E];return v}return[]}function K(u,m){for(let v=1;v<arguments.length;v++){const E=arguments[v];if(g(E)){const L=u.length||0,H=E.length||0;u.length=L+H;for(let ae=0;ae<H;ae++)u[L+ae]=E[ae]}else u.push(E)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ue(u){return/^[\s\xa0]*$/.test(u)}function le(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ke(u){return ke[" "](u),u}ke[" "]=function(){};var ge=le().indexOf("Gecko")!=-1&&!(le().toLowerCase().indexOf("webkit")!=-1&&le().indexOf("Edge")==-1)&&!(le().indexOf("Trident")!=-1||le().indexOf("MSIE")!=-1)&&le().indexOf("Edge")==-1;function he(u,m,v){for(const E in u)m.call(v,u[E],E,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let v,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(v in E)u[v]=E[v];for(let H=0;H<I.length;H++)v=I[H],Object.prototype.hasOwnProperty.call(E,v)&&(u[v]=E[v])}}function D(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function k(u){p.setTimeout(()=>{throw u},0)}function T(){var u=Pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const E=Me.get();E.set(m,v),this.h?this.h.next=E:this.g=E,this.h=E}}var Me=new ne(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,fe=!1,Pe=new Ee,N=()=>{const u=p.Promise.resolve(void 0);ie=()=>{u.then(X)}};var X=()=>{for(var u;u=T();){try{u.h.call(u.g)}catch(v){k(v)}var m=Me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}fe=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return u})();function Ne(u,m){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ge){e:{try{ke(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}Q(Ne,te);var Te={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),We=0;function wn(u,m,v,E,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!E,this.ha=L,this.key=++We,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function we(u){this.src=u,this.g={},this.h=0}we.prototype.add=function(u,m,v,E,L){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ae=Be(u,m,E,L);return-1<ae?(m=u[ae],v||(m.fa=!1)):(m=new wn(m,this.src,H,!!E,L),m.fa=v,u.push(m)),m};function Ge(u,m){var v=m.type;if(v in u.g){var E=u.g[v],L=Array.prototype.indexOf.call(E,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(E,L,1),H&&(Ae(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Be(u,m,v,E){for(var L=0;L<u.length;++L){var H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==E)return L}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),me={};function Le(u,m,v,E,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Le(u,m[H],v,E,L);return null}return v=Ia(v),u&&u[vt]?u.K(m,v,y(E)?!!E.capture:!1,L):Ze(u,m,v,!1,E,L)}function Ze(u,m,v,E,L,H){if(!m)throw Error("Invalid event type");var ae=y(L)?!!L.capture:!!L,Qe=wt(u);if(Qe||(u[ft]=Qe=new we(u)),v=Qe.add(m,v,E,ae,H),v.proxy)return v;if(E=In(),v.proxy=E,E.src=u,E.listener=v,u.addEventListener)pe||(L=ae),L===void 0&&(L=!1),u.addEventListener(m.toString(),E,L);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function In(){function u(v){return m.call(u.src,u.listener,v)}const m=Xi;return u}function Pn(u,m,v,E,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Pn(u,m[H],v,E,L);else E=y(E)?!!E.capture:!!E,v=Ia(v),u&&u[vt]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=Be(H,v,E,L),-1<v&&(Ae(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=wt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Be(m,v,E,L)),(v=-1<u?m[u]:null)&&tn(v))}function tn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])Ge(m.i,u);else{var v=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(v,E,u.capture):m.detachEvent?m.detachEvent(Cn(v),E):m.addListener&&m.removeListener&&m.removeListener(E),(v=wt(m))?(Ge(v,u),v.h==0&&(v.src=null,m[ft]=null)):Ae(u)}}}function Cn(u){return u in me?me[u]:me[u]="on"+u}function Xi(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var v=u.listener,E=u.ha||u.src;u.fa&&tn(u),u=v.call(E,m)}return u}function wt(u){return u=u[ft],u instanceof we?u:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ia(u){return typeof u=="function"?u:(u[dn]||(u[dn]=function(m){return u.handleEvent(m)}),u[dn])}function gt(){se.call(this),this.i=new we(this),this.M=this,this.F=null}Q(gt,se),gt.prototype[vt]=!0,gt.prototype.removeEventListener=function(u,m,v,E){Pn(this,u,m,v,E)};function rt(u,m){var v,E=u.F;if(E)for(v=[];E;E=E.F)v.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new te(m,u);else if(m instanceof te)m.target=m.target||u;else{var L=m;m=new te(E,u),M(m,L)}if(L=!0,v)for(var H=v.length-1;0<=H;H--){var ae=m.g=v[H];L=Ln(ae,E,!0,m)&&L}if(ae=m.g=u,L=Ln(ae,E,!0,m)&&L,L=Ln(ae,E,!1,m)&&L,v)for(H=0;H<v.length;H++)ae=m.g=v[H],L=Ln(ae,E,!1,m)&&L}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],E=0;E<v.length;E++)Ae(v[E]);delete u.g[m],u.h--}}this.F=null},gt.prototype.K=function(u,m,v,E){return this.i.add(String(u),m,!1,v,E)},gt.prototype.L=function(u,m,v,E){return this.i.add(String(u),m,!0,v,E)};function Ln(u,m,v,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var ae=m[H];if(ae&&!ae.da&&ae.capture==v){var Qe=ae.listener,qt=ae.ha||ae.src;ae.fa&&Ge(u.i,ae),L=Qe.call(qt,E)!==!1&&L}}return L&&!E.defaultPrevented}function hn(u,m,v){if(typeof u=="function")v&&(u=R(u,v));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function nu(u){u.g=hn(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zh extends se{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(u){se.call(this),this.h=u,this.g={}}Q(Ns,se);var ks=[];function Os(u){he(u.g,function(m,v){this.g.hasOwnProperty(v)&&tn(m)},u),u.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),Os(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=p.JSON.stringify,Ca=p.JSON.parse,Ms=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function sl(){}sl.prototype.h=null;function al(u){return u.h||(u.h=u.i())}function ol(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){te.call(this,"d")}Q(Zi,te);function ll(){te.call(this,"c")}Q(ll,te);var Ti={},cl=null;function Vr(){return cl=cl||new gt}Ti.La="serverreachability";function Da(u){te.call(this,Ti.La,u)}Q(Da,te);function Pr(u){const m=Vr();rt(m,new Da(m))}Ti.STAT_EVENT="statevent";function iu(u,m){te.call(this,Ti.STAT_EVENT,u),this.stat=m}Q(iu,te);function _t(u){const m=Vr();rt(m,new iu(m,u))}Ti.Ma="timingevent";function Bt(u,m){te.call(this,Ti.Ma,u),this.size=m}Q(Bt,te);function Mt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function ul(u,m,v,E,L,H){u.info(function(){if(u.g)if(H)for(var ae="",Qe=H.split("&"),qt=0;qt<Qe.length;qt++){var $e=Qe[qt].split("=");if(1<$e.length){var Yt=$e[0];$e=$e[1];var Ht=Yt.split("_");ae=2<=Ht.length&&Ht[1]=="type"?ae+(Yt+"="+$e+"&"):ae+(Yt+"=redacted&")}}else ae=null;else ae=H;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+v+`
`+ae})}function Jh(u,m,v,E,L,H,ae){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+ae})}function Lr(u,m,v,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vs(u,v)+(E?" "+E:"")})}function ru(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Vs(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var E=v[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ae=1;ae<L.length;ae++)L[ae]=""}}}}return fi(v)}catch{return m}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function Si(){}Q(Si,sl),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},Ai=new Si;function _n(u,m,v,E){this.j=u,this.i=m,this.l=v,this.R=E||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var dl={},Na={};function pi(u,m,v){u.L=1,u.v=zs(Un(m)),u.m=v,u.P=!0,er(u,null)}function er(u,m){u.F=Date.now(),Ps(u),u.A=Un(u.v);var v=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),yl(v.i,"t",E),u.C=0,v=u.j.J,u.h=new Rt,u.g=_u(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Zh(R(u.Y,u,u.g),u.O)),m=u.U,v=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(ks[0]=L.toString()),L=ks);for(var H=0;H<L.length;H++){var ae=Le(v,L[H],E||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pr(),ul(u.i,u.u,u.A,u.l,u.R,u.m)}_n.prototype.ca=function(u){u=u.target;const m=this.M;m&&ni(u)==3?m.j():this.Y(u)},_n.prototype.Y=function(u){try{if(u==this.g)e:{const Ht=ni(this.g);var m=this.g.Ba();const lr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Ht!=4||m==7||(m==8||0>=lr?Pr(3):Pr(2)),jr(this);var v=this.g.Z();this.X=v;t:if(su(this)){var E=hu(this.g);u="";var L=E.length,H=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),xi(this);var ae="";break t}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(H&&m==L-1)});E.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Jh(this.i,this.u,this.A,this.l,this.R,Ht,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,qt=this.g;if((Qe=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Qe)){var $e=Qe;break t}}$e=null}if(v=$e)Lr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ls(this,v);else{this.o=!1,this.s=3,_t(12),nn(this),xi(this);break e}}if(this.P){v=!0;let rn;for(;!this.J&&this.C<ae.length;)if(rn=au(this,ae),rn==Na){Ht==4&&(this.s=4,_t(14),v=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==dl){this.s=4,_t(15),Lr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Lr(this.i,this.l,rn,null),Ls(this,rn);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ae.length!=0||this.h.h||(this.s=1,_t(16),v=!1),this.o=this.o&&v,!v)Lr(this.i,this.l,ae,"[Invalid Chunked Response]"),nn(this),xi(this);else if(0<ae.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ys(Yt),Yt.M=!0,_t(11))}}else Lr(this.i,this.l,ae,null),Ls(this,ae);Ht==4&&nn(this),this.o&&!this.J&&(Ht==4?yu(this.j,this):(this.o=!1,Ps(this)))}else sf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),nn(this),xi(this)}}}catch{}finally{}};function su(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function au(u,m){var v=u.C,E=m.indexOf(`
`,v);return E==-1?Na:(v=Number(m.substring(v,E)),isNaN(v)?dl:(E+=1,E+v>m.length?Na:(m=m.slice(E,E+v),u.C=E+v,m)))}_n.prototype.cancel=function(){this.J=!0,nn(this)};function Ps(u){u.S=Date.now()+u.I,ou(u,u.I)}function ou(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mt(R(u.ba,u),m)}function jr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}_n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ru(this.i,this.A),this.L!=2&&(Pr(),_t(17)),nn(this),this.s=2,xi(this)):ou(this,this.S-u)};function xi(u){u.j.G==0||u.J||yu(u.j,u)}function nn(u){jr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Os(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ls(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||hl(v.h,u))){if(!u.K&&hl(v.h,u)&&v.G==3){try{var E=v.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ha(v),Ba(v);else break e;El(v),_t(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mt(R(v.Za,v),6e3));if(1>=Oa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else or(v,11)}else if((u.K||v.g==u)&&Ha(v),!ue(m))for(L=v.Da.g.parse(m),m=0;m<L.length;m++){let $e=L[m];if(v.T=$e[0],$e=$e[1],v.G==2)if($e[0]=="c"){v.K=$e[1],v.ia=$e[2];const Yt=$e[3];Yt!=null&&(v.la=Yt,v.j.info("VER="+v.la));const Ht=$e[4];Ht!=null&&(v.Aa=Ht,v.j.info("SVER="+v.Aa));const lr=$e[5];lr!=null&&typeof lr=="number"&&0<lr&&(E=1.5*lr,v.L=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const rn=u.g;if(rn){const Oi=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var H=E.h;H.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ma(H,H.h),H.h=null))}if(E.D){const Al=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(E.ya=Al,ot(E.I,E.D,Al))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),E=v;var ae=u;if(E.qa=wu(E,E.J?E.ia:null,E.W),ae.K){bn(E.h,ae);var Qe=ae,qt=E.L;qt&&(Qe.I=qt),Qe.B&&(jr(Qe),Ps(Qe)),E.g=ae}else mu(E);0<v.i.length&&qa(v)}else $e[0]!="stop"&&$e[0]!="close"||or(v,7);else v.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?or(v,7):_l(v):$e[0]!="noop"&&v.l&&v.l.ta($e),v.v=0)}}Pr(4)}catch{}}var lu=class{constructor(u,m){this.g=u,this.map=m}};function tr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Oa(u){return u.h?1:u.g?u.g.size:0}function hl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ma(u,m){u.g?u.g.add(m):u.h=m}function bn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}tr.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return ee(u.i)}function ef(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],v=u.length,E=0;E<v;E++)m.push(u[E]);return m}m=[],v=0;for(E in u)m[v++]=u[E];return m}function Va(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const E in u)m[v++]=E;return m}}}function pl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Va(u),E=ef(u),L=E.length,H=0;H<L;H++)m.call(void 0,E[H],v&&v[H],u)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var E=u[v].indexOf("="),L=null;if(0<=E){var H=u[v].substring(0,E);L=u[v].substring(E+1)}else H=u[v];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Vt){this.h=u.h,js(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var m=u.i,v=new ir;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),nr(this,v),this.m=u.m}else u&&(m=String(u).match(Us))?(this.h=!1,js(this,m[1]||"",!0),this.o=Jn(m[2]||""),this.g=Jn(m[3]||"",!0),zr(this,m[4]),this.l=Jn(m[5]||"",!0),nr(this,m[6]||"",!0),this.m=Jn(m[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Vt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Bs(m,ml,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Bs(m,ml,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Bs(v,v.charAt(0)=="/"?nf:gl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Bs(v,Pa)),u.join("")};function Un(u){return new Vt(u)}function js(u,m,v){u.j=v?Jn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function nr(u,m,v){m instanceof ir?(u.i=m,uu(u.i,u.h)):(v||(m=Bs(m,rf)),u.i=new ir(m,u.h))}function ot(u,m,v){u.i.set(m,v)}function zs(u){return ot(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Jn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ml=/[#\/\?@]/g,gl=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,Pa=/#/g;function ir(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ei(u){u.g||(u.g=new Map,u.h=0,u.i&&tf(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}i=ir.prototype,i.add=function(u,m){ei(this),this.i=null,u=Ri(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function rr(u,m){ei(u),m=Ri(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function sr(u,m){return ei(u),m=Ri(u,m),u.g.has(m)}i.forEach=function(u,m){ei(this),this.g.forEach(function(v,E){v.forEach(function(L){u.call(m,L,E,this)},this)},this)},i.na=function(){ei(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let E=0;E<m.length;E++){const L=u[E];for(let H=0;H<L.length;H++)v.push(m[E])}return v},i.V=function(u){ei(this);let m=[];if(typeof u=="string")sr(this,u)&&(m=m.concat(this.g.get(Ri(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},i.set=function(u,m){return ei(this),this.i=null,u=Ri(this,u),sr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yl(u,m,v){rr(u,m),0<v.length&&(u.i=null,u.g.set(Ri(u,m),ee(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var E=m[v];const H=encodeURIComponent(String(E)),ae=this.V(E);for(E=0;E<ae.length;E++){var L=H;ae[E]!==""&&(L+="="+encodeURIComponent(String(ae[E]))),u.push(L)}}return this.i=u.join("&")};function Ri(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uu(u,m){m&&!u.j&&(ei(u),u.i=null,u.g.forEach(function(v,E){var L=E.toLowerCase();E!=L&&(rr(this,E),yl(this,L,v))},u)),u.j=m}function qs(u,m){const v=new Zn;if(p.Image){const E=new Image;E.onload=j(ti,v,"TestLoadImage: loaded",!0,m,E),E.onerror=j(ti,v,"TestLoadImage: error",!1,m,E),E.onabort=j(ti,v,"TestLoadImage: abort",!1,m,E),E.ontimeout=j(ti,v,"TestLoadImage: timeout",!1,m,E),p.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function mi(u,m){const v=new Zn,E=new AbortController,L=setTimeout(()=>{E.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(H=>{clearTimeout(L),H.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ti(v,"TestPingServer: error",!1,m)})}function ti(u,m,v,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(v)}catch{}}function Hs(){this.g=new Ms}function Ii(u,m,v){const E=v||"";try{pl(u,function(L,H){let ae=L;y(L)&&(ae=fi(L)),m.push(E+H+"="+encodeURIComponent(ae))})}catch(L){throw m.push(E+"type="+encodeURIComponent("_badmap")),L}}function Br(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(Br,sl),Br.prototype.g=function(){return new ar(this.l,this.j)},Br.prototype.i=(function(u){return function(){return u}})({});function ar(u,m){gt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(ar,gt),i=ar.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Di(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ci(this):Di(this),this.readyState==3&&vl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Ci(this))},i.Qa=function(u){this.g&&(this.response=u,Ci(this))},i.ga=function(){this.g&&Ci(this)};function Ci(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Di(u)}i.setRequestHeader=function(u,m){this.u.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wl(u){let m="";return he(u,function(v,E){m+=E,m+=":",m+=v,m+=`\r
`}),m}function $t(u,m,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=wl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ot(u,m,v))}function it(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(it,gt);var La=/^https?$/i,Fs=["POST","PUT"];i=it.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,m,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?al(this.o):al(Ai),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){du(this,H);return}if(u=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)v.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())v.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Fs,m,void 0))||E||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of v)this.g.setRequestHeader(H,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gs(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){du(this,H)}};function du(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ua(u),Ni(u)}function Ua(u){u.A||(u.A=!0,rt(u,"complete"),rt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,rt(this,"complete"),rt(this,"abort"),Ni(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),it.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},i.bb=function(){ja(this)};function ja(u){if(u.h&&typeof h<"u"&&(!u.v[1]||ni(u)!=4||u.Z()!=2)){if(u.u&&ni(u)==4)hn(u.Ea,0,u);else if(rt(u,"readystatechange"),ni(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var E;if(E=ae===0){var L=String(u.D).match(Us)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),E=!La.test(L?L.toLowerCase():"")}v=E}if(v)rt(u,"complete"),rt(u,"success");else{u.m=6;try{var H=2<ni(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ua(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){Gs(u);const v=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||rt(u,"ready");try{v.onreadystatechange=E}catch{}}}function Gs(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ca(m)}};function hu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(u){const m={};u=(u.g&&2<=ni(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ue(u[E]))continue;var v=D(u[E]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}O(m,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function za(u){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,u),this.cb=Qs("retryDelaySeedMs",1e4,u),this.Wa=Qs("forwardChannelMaxRetries",2,u),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tr(u&&u.concurrentRequestLimit),this.Da=new Hs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=za.prototype,i.la=8,i.G=1,i.connect=function(u,m,v,E){_t(0),this.W=u,this.H=m||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.I=wu(this,null,this.W),qa(this)};function _l(u){if(fu(u),u.G==3){var m=u.U++,v=Un(u.I);if(ot(v,"SID",u.K),ot(v,"RID",m),ot(v,"TYPE","terminate"),$s(u,v),m=new _n(u,u.j,m),m.L=2,m.v=zs(Un(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ps(m)}vu(u)}function Ba(u){u.g&&(Ys(u),u.g.cancel(),u.g=null)}function fu(u){Ba(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ha(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function qa(u){if(!ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;ie||N(),fe||(ie(),fe=!0),Pe.add(m,u),u.B=0}}function af(u,m){return Oa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mt(R(u.Ga,u,m),Tl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new _n(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,L,m),v=Un(this.I),ot(v,"RID",u),ot(v,"CVER",22),this.D&&ot(v,"X-HTTP-Session-Id",this.D),$s(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(wl(H)))+"&"+m:this.m&&$t(v,this.m,H)),Ma(this.h,L),this.Ua&&ot(v,"TYPE","init"),this.P?(ot(v,"$req",m),ot(v,"SID","null"),L.T=!0,pi(L,v,null)):pi(L,v,m),this.G=2}}else this.G==3&&(u?bl(this,u):this.i.length==0||ka(this.h)||bl(this))};function bl(u,m){var v;m?v=m.l:v=u.U++;const E=Un(u.I);ot(E,"SID",u.K),ot(E,"RID",v),ot(E,"AID",u.T),$s(u,E),u.m&&u.o&&$t(E,u.m,u.o),v=new _n(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=pu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ma(u.h,v),pi(v,E,m)}function $s(u,m){u.H&&he(u.H,function(v,E){ot(m,E,v)}),u.l&&pl({},function(v,E){ot(m,E,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);var E=u.l?R(u.l.Na,u.l,u):null;e:{var L=u.i;let H=-1;for(;;){const ae=["count="+v];H==-1?0<v?(H=L[0].g,ae.push("ofs="+H)):H=0:ae.push("ofs="+H);let Qe=!0;for(let qt=0;qt<v;qt++){let $e=L[qt].g;const Yt=L[qt].map;if($e-=H,0>$e)H=Math.max(0,L[qt].g-100),Qe=!1;else try{Ii(Yt,ae,"req"+$e+"_")}catch{E&&E(Yt)}}if(Qe){E=ae.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,E}function mu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ie||N(),fe||(ie(),fe=!0),Pe.add(m,u),u.v=0}}function El(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mt(R(u.Fa,u),Tl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mt(R(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Ba(this),gu(this))};function Ys(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function gu(u){u.g=new _n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Un(u.qa);ot(m,"RID","rpc"),ot(m,"SID",u.K),ot(m,"AID",u.T),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ot(m,"TO",u.ja),ot(m,"TYPE","xmlhttp"),$s(u,m),u.m&&u.o&&$t(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=zs(Un(m)),v.m=null,v.P=!0,er(v,u)}i.Za=function(){this.C!=null&&(this.C=null,Ba(this),El(this),_t(19))};function Ha(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Ha(u),Ys(u),u.g=null;var E=2}else if(hl(u.h,m))v=m.D,bn(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;E=Vr(),rt(E,new Bt(E,v)),qa(u)}else mu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(E==1&&af(u,m)||E==2&&El(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),L){case 1:or(u,5);break;case 4:or(u,10);break;case 3:or(u,6);break;default:or(u,2)}}}function Tl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function or(u,m){if(u.j.info("Error code "+m),m==2){var v=R(u.fb,u),E=u.Xa;const L=!E;E=new Vt(E||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||js(E,"https"),zs(E),L?qs(E.toString(),v):mi(E.toString(),v)}else _t(2);u.G=0,u.l&&u.l.sa(m),vu(u),fu(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function vu(u){if(u.G=0,u.ka=[],u.l){const m=fl(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,ee(u.i),u.i.length=0),u.l.ra()}}function wu(u,m,v){var E=v instanceof Vt?Un(v):new Vt(v);if(E.g!="")m&&(E.g=m+"."+E.g),zr(E,E.s);else{var L=p.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new Vt(null);E&&js(H,E),m&&(H.g=m),L&&zr(H,L),v&&(H.l=v),E=H}return v=u.D,m=u.ya,v&&m&&ot(E,v,m),ot(E,"VER",u.la),$s(u,E),E}function _u(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new it(new Br({eb:v})):new it(u.pa),m.Ha(u.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}i=bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Fa(){}Fa.prototype.g=function(u,m){return new En(u,m)};function En(u,m){gt.call(this),this.g=new za(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ue(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ue(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}Q(En,gt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){_l(this.g)},En.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=fi(u),u=v);m.i.push(new lu(m.Ya++,u)),m.G==3&&qa(m)},En.prototype.N=function(){this.g.l=null,delete this.j,_l(this.g),delete this.g,En.aa.N.call(this)};function Eu(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Q(Eu,Zi);function Tu(){ll.call(this),this.status=1}Q(Tu,ll);function ki(u){this.g=u}Q(ki,bu),ki.prototype.ua=function(){rt(this.g,"a")},ki.prototype.ta=function(u){rt(this.g,new Eu(u))},ki.prototype.sa=function(u){rt(this.g,new Tu)},ki.prototype.ra=function(){rt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,xE=function(){return new Fa},SE=function(){return Vr()},AE=Ti,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Ld=Ur,Ji.COMPLETE="complete",TE=Ji,ol.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,pc=ol,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,EE=it}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Xm("@firebase/firestore");function Eo(){return ba.logLevel}function ce(i,...e){if(ba.logLevel<=qe.DEBUG){const t=e.map(cg);ba.debug(`Firestore (${Xo}): ${i}`,...t)}}function Dr(i,...e){if(ba.logLevel<=qe.ERROR){const t=e.map(cg);ba.error(`Firestore (${Xo}): ${i}`,...t)}}function Vo(i,...e){if(ba.logLevel<=qe.WARN){const t=e.map(cg);ba.warn(`Firestore (${Xo}): ${i}`,...t)}}function cg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,RE(i,s,t)}function RE(i,e,t){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Dr(s),new Error(s)}function Xe(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||RE(e,o,s)}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class PI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LI{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let c=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new IE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class UI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const s=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new p_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function He(i,e){return i<e?-1:i>e?1:0}function Rm(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return um(o)===um(c)?He(o,c):um(o)?1:-1}return He(i.length,e.length)}const qI=55296,HI=57343;function um(i){const e=i.charCodeAt(0);return e>=qI&&e<=HI}function Po(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="__name__";class ji{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=ji.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return He(e.length,t.length)}static compareSegments(e,t){const s=ji.isNumericId(e),o=ji.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ji.extractNumericId(e).compare(ji.extractNumericId(t)):Rm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class dt extends ji{construct(e,t,s){return new dt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends ji{construct(e,t,s){return new cn(e,t,s)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new cn([m_])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new oe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i,e,t){if(!t)throw new oe(Y.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GI(i,e,t,s){if(e===!0&&s===!0)throw new oe(Y.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function g_(i){if(!ve.isDocumentKey(i))throw new oe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function y_(i){if(ve.isDocumentKey(i))throw new oe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function DE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Rh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rh(i);throw new oe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(i,e){const t={typeString:i};return e&&(t.value=e),t}function qc(i,e){if(!DE(i))throw new oe(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new oe(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,w_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*w_);return new yt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<v_)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:zt("string",yt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new yt(0,0))}static max(){return new Re(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function QI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new Es(o,ve.empty(),e)}function $I(i){return new Es(i.readTime,i.key,Ic)}class Es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Es(Re.min(),ve.empty(),Ic)}static max(){return new Es(Re.max(),ve.empty(),Ic)}}function YI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:He(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(i){if(i.code!==Y.FAILED_PRECONDITION||i.message!==KI)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&t()}),(g=>s(g)))})),h=!0,c===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next((_=>{h[y]=_,++p,p===c&&s(h)}),(_=>o(_)))}}))}static doWhile(e,t){return new J(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function WI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Hc(i){return i==null}function Jd(i){return i===0&&1/i==-1/0}function ZI(i){return typeof i=="number"&&Number.isInteger(i)&&!Jd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="";function JI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=__(e)),e=eC(i.get(t),e);return __(e)}function eC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case NE:t+="";break;default:t+=c}}return t}function __(i){return i+NE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Cs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function kE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new ln(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Qt(cn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(e);return new un(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const t=tC.exec(i);if(Xe(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="server_timestamp",VE="__type__",PE="__previous_value__",LE="__local_write_time__";function hg(i){return(i?.mapValue?.fields||{})[VE]?.stringValue===ME}function Ch(i){const e=i.mapValue.fields[PE];return hg(e)?Ch(e):e}function Cc(i){const e=Ts(i.mapValue.fields[LE].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,s,o,c,h,p,g,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const eh="(default)";class Dc{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="__type__",iC="__max__",Rd={mapValue:{}},jE="__vector__",th="value";function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:sC(i)?9007199254740991:rC(i)?10:11:_e(28295,{value:i})}function $i(i,e){if(i===e)return!0;const t=Ss(i);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cc(i).isEqual(Cc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Ts(o.timestampValue),p=Ts(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return As(o.bytesValue).isEqual(As(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Nt(o.doubleValue),p=Nt(c.doubleValue);return h===p?Jd(h)===Jd(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Po(i.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(b_(h)!==b_(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!$i(h[g],p[g])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function Nc(i,e){return(i.values||[]).find((t=>$i(t,e)))!==void 0}function Lo(i,e){if(i===e)return 0;const t=Ss(i),s=Ss(e);if(t!==s)return He(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Nt(c.integerValue||c.doubleValue),g=Nt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return T_(i.timestampValue,e.timestampValue);case 4:return T_(Cc(i),Cc(e));case 5:return Rm(i.stringValue,e.stringValue);case 6:return(function(c,h){const p=As(c),g=As(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=He(p[y],g[y]);if(_!==0)return _}return He(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=He(Nt(c.latitude),Nt(h.latitude));return p!==0?p:He(Nt(c.longitude),Nt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return A_(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[th]?.arrayValue,_=g[th]?.arrayValue,A=He(y?.values?.length||0,_?.values?.length||0);return A!==0?A:A_(y,_)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Rd.mapValue&&h===Rd.mapValue)return 0;if(c===Rd.mapValue)return 1;if(h===Rd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let A=0;A<g.length&&A<_.length;++A){const R=Rm(g[A],_[A]);if(R!==0)return R;const j=Lo(p[g[A]],y[_[A]]);if(j!==0)return j}return He(g.length,_.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function T_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return He(i,e);const t=Ts(i),s=Ts(e),o=He(t.seconds,s.seconds);return o!==0?o:He(t.nanos,s.nanos)}function A_(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=Lo(t[o],s[o]);if(c)return c}return He(t.length,s.length)}function Uo(i){return Im(i)}function Im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Ts(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return As(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ve.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Im(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Im(t.fields[h])}`;return o+"}"})(i.mapValue):_e(61005,{value:i})}function Ud(i){switch(Ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(i);return e?16+Ud(e):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Ud(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((c,h)=>{o+=c.length+Ud(h)})),o})(i.mapValue);default:throw _e(13486,{value:i})}}function S_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Cm(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function x_(i){return!!i&&"nullValue"in i}function R_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jd(i){return!!i&&"mapValue"in i}function rC(i){return(i?.mapValue?.fields||{})[UE]?.stringValue===jE}function _c(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Cs(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=_c(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_c(i.arrayValue.values[t]);return e}return{...i}}function sC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=cn.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=p.popLast()}h?s[p.lastSegment()]=_c(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());jd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Cs(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new An(_c(this.value))}}function zE(i){const e=[];return Cs(i.fields,((t,s)=>{const o=new cn([t]);if(jd(s)){const c=zE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,c,h,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Re.min(),Re.min(),Re.min(),An.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Re.min(),Re.min(),An.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Re.min(),Re.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function I_(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=Lo(h,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function C_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!$i(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function aC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{}class jt extends BE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lC(e,t,s):t==="array-contains"?new dC(e,s):t==="in"?new hC(e,s):t==="not-in"?new fC(e,s):t==="array-contains-any"?new pC(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cC(e,s):new uC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lo(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends BE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bi(e,t)}matches(e){return qE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(i){return i.op==="and"}function HE(i){return oC(i)&&qE(i)}function oC(i){for(const e of i.filters)if(e instanceof bi)return!1;return!0}function Dm(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Uo(i.value);if(HE(i))return i.filters.map((e=>Dm(e))).join(",");{const e=i.filters.map((t=>Dm(t))).join(",");return`${i.op}(${e})`}}function FE(i,e){return i instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&$i(s.value,o.value)})(i,e):i instanceof bi?(function(s,o){return o instanceof bi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&FE(h,o.filters[p])),!0):!1})(i,e):void _e(19439)}function GE(i){return i instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`})(i):i instanceof bi?(function(t){return t.op.toString()+" {"+t.getFilters().map(GE).join(" ,")+"}"})(i):"Filter"}class lC extends jt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class cC extends jt{constructor(e,t){super(e,"in",t),this.keys=QE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uC extends jt{constructor(e,t){super(e,"not-in",t),this.keys=QE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function QE(i,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class dC extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&Nc(t.arrayValue,this.value)}}class hC extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nc(this.value.arrayValue,t)}}class fC extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nc(this.value.arrayValue,t)}}class pC extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Nc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function D_(i,e=null,t=[],s=[],o=null,c=null,h=null){return new mC(i,e,t,s,o,c,h)}function pg(i){const e=De(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Dm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Uo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Uo(s))).join(",")),e.Te=t}return e.Te}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!aC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!FE(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!C_(i.startAt,e.startAt)&&C_(i.endAt,e.endAt)}function Nm(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gC(i,e,t,s,o,c,h,p){return new Jo(i,e,t,s,o,c,h,p)}function Dh(i){return new Jo(i)}function N_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $E(i){return i.collectionGroup!==null}function bc(i){const e=De(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Qt(cn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new kc(c,s))})),t.has(cn.keyField().canonicalString())||e.Ie.push(new kc(cn.keyField(),s))}return e.Ie}function Fi(i){const e=De(i);return e.Ee||(e.Ee=yC(e,bc(i))),e.Ee}function yC(i,e){if(i.limitType==="F")return D_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new kc(o.field,c)}));const t=i.endAt?new nh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nh(i.startAt.position,i.startAt.inclusive):null;return D_(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function km(i,e){const t=i.filters.concat([e]);return new Jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ih(i,e,t){return new Jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Nh(i,e){return mg(Fi(i),Fi(e))&&i.limitType===e.limitType}function YE(i){return`${pg(Fi(i))}|lt:${i.limitType}`}function To(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>GE(o))).join(", ")}]`),Hc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Uo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(Fi(i))}; limitType=${i.limitType})`}function kh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of bc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=I_(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,bc(s),o)||s.endAt&&!(function(h,p,g){const y=I_(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,bc(s),o))})(i,e)}function vC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function KE(i){return(e,t)=>{let s=!1;for(const o of bc(i)){const c=wC(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function wC(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Lo(g,y):_e(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Tt(ve.comparator);function Nr(){return _C}const XE=new Tt(ve.comparator);function mc(...i){let e=XE;for(const t of i)e=e.insert(t.key,t);return e}function WE(i){let e=XE;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function fa(){return Ec()}function ZE(){return Ec()}function Ec(){return new Aa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const bC=new Tt(ve.comparator),EC=new Qt(ve.comparator);function Fe(...i){let e=EC;for(const t of i)e=e.add(t);return e}const TC=new Qt(He);function AC(){return TC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function JE(i){return{integerValue:""+i}}function SC(i,e){return ZI(e)?JE(e):gg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function xC(i,e,t){return i instanceof Oc?(function(o,c){const h={fields:{[VE]:{stringValue:ME},[LE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&hg(c)&&(c=Ch(c)),c&&(h.fields[PE]=c),{mapValue:h}})(t,e):i instanceof Mc?t1(i,e):i instanceof Vc?n1(i,e):(function(o,c){const h=e1(o,c),p=k_(h)+k_(o.Ae);return Cm(h)&&Cm(o.Ae)?JE(p):gg(o.serializer,p)})(i,e)}function RC(i,e,t){return i instanceof Mc?t1(i,e):i instanceof Vc?n1(i,e):t}function e1(i,e){return i instanceof rh?(function(s){return Cm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Oc extends Oh{}class Mc extends Oh{constructor(e){super(),this.elements=e}}function t1(i,e){const t=i1(e);for(const s of i.elements)t.some((o=>$i(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Vc extends Oh{constructor(e){super(),this.elements=e}}function n1(i,e){let t=i1(e);for(const s of i.elements)t=t.filter((o=>!$i(o,s)));return{arrayValue:{values:t}}}class rh extends Oh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function k_(i){return Nt(i.integerValue||i.doubleValue)}function i1(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.field=e,this.transform=t}}function CC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Mc&&o instanceof Mc||s instanceof Vc&&o instanceof Vc?Po(s.elements,o.elements,$i):s instanceof rh&&o instanceof rh?$i(s.Ae,o.Ae):s instanceof Oc&&o instanceof Oc})(i.transform,e.transform)}class DC{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Mh{}function r1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yg(i.key,Sn.none()):new Fc(i.key,i.data,Sn.none());{const t=i.data,s=An.empty();let o=new Qt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ds(i.key,s,new $n(o.toArray()),Sn.none())}}function NC(i,e,t){i instanceof Fc?(function(o,c,h){const p=o.value.clone(),g=M_(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,t):i instanceof Ds?(function(o,c,h){if(!zd(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=M_(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(s1(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,t):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Tc(i,e,t,s){return i instanceof Fc?(function(c,h,p,g){if(!zd(c.precondition,h))return p;const y=c.value.clone(),_=V_(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ds?(function(c,h,p,g){if(!zd(c.precondition,h))return p;const y=V_(c.fieldTransforms,g,h),_=h.data;return _.setAll(s1(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,t,s):(function(c,h,p){return zd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,t)}function kC(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=e1(s.transform,o||null);c!=null&&(t===null&&(t=An.empty()),t.set(s.field,c))}return t||null}function O_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,((c,h)=>CC(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fc extends Mh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Mh{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function s1(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function M_(i,e,t){const s=new Map;Xe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const c=i[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,RC(h,p,t[o]))}return s}function V_(i,e,t){const s=new Map;for(const o of i){const c=o.transform,h=t.data.field(o.field);s.set(o.field,xC(c,h,e))}return s}class yg extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a1 extends Mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&NC(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ZE();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=t.has(o.key)?null:p;const g=r1(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((t,s)=>O_(t,s)))&&Po(this.baseMutations,e.baseMutations,((t,s)=>O_(t,s)))}}class vg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return bC})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new vg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ke;function o1(i){switch(i){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function l1(i){if(i===void 0)return Dr("GRPC error has no .code"),Y.UNKNOWN;switch(i){case Ut.OK:return Y.OK;case Ut.CANCELLED:return Y.CANCELLED;case Ut.UNKNOWN:return Y.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Y.INTERNAL;case Ut.UNAVAILABLE:return Y.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Y.NOT_FOUND;case Ut.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ut.ABORTED:return Y.ABORTED;case Ut.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ut.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:i})}}(Ke=Ut||(Ut={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new ws([4294967295,4294967295],0);function P_(i){const e=PC().encode(i),t=new bE;return t.update(e),new Uint8Array(t.digest())}function L_(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ws([t,s],0),new ws([o,c],0)]}class wg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new gc(`Invalid padding: ${t}`);if(s<0)throw new gc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new gc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ws.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ws.fromNumber(s)));return o.compare(LC)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=P_(e),[s,o]=L_(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new wg(c,o,t);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=P_(e),[s,o]=L_(t);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vh(Re.min(),o,new Tt(He),Nr(),Fe())}}class Gc{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Gc(s,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class c1{constructor(e,t){this.targetId=e,this.Ce=t}}class u1{constructor(e,t,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.ve=0,this.Fe=j_(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),s=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:c})}})),new Gc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=j_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=Id(),this.He=Id(),this.Ye=new Tt(He)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Nm(c))if(s===0){const h=new ve(c.path);this.et(t,h,Jt.newNoDocument(h,Re.min()))}else Xe(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let h,p;try{h=As(s).toUint8Array()}catch(g){if(g instanceof OE)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new wg(h,o,c)}catch(g){return Vo(g instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&Nm(p.target)){const g=new ve(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Jt.newNoDocument(g,e))}c.Be&&(t.set(h,c.ke()),c.qe())}}));let s=Fe();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Vh(e,t,this.Ye,this.je,s);return this.je=Nr(),this.Je=Id(),this.He=Id(),this.Ye=new Tt(He),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new U_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qt(He),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qt(He),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Id(){return new Tt(ve.comparator)}function j_(){return new Tt(ve.comparator)}const jC={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BC={and:"AND",or:"OR"};class qC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Om(i,e){return i.useProto3Json||Hc(e)?e:{value:e}}function sh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function HC(i,e){return sh(i,e.toTimestamp())}function Yn(i){return Xe(!!i,49232),Re.fromTimestamp((function(t){const s=Ts(t);return new yt(s.seconds,s.nanos)})(i))}function _g(i,e){return Mm(i,e).canonicalString()}function Mm(i,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function h1(i){const e=dt.fromString(i);return Xe(v1(e),10190,{key:e.toString()}),e}function ah(i,e){return _g(i.databaseId,e.path)}function Ac(i,e){const t=h1(e);if(t.get(1)!==i.databaseId.projectId)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new oe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(p1(t))}function f1(i,e){return _g(i.databaseId,e)}function FC(i){const e=h1(i);return e.length===4?dt.emptyPath():p1(e)}function Vm(i){return new dt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function p1(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function z_(i,e,t){return{name:ah(i,e),fields:t.value.mapValue.fields}}function GC(i,e){return"found"in e?(function(s,o){Xe(!!o.found,43571),o.found.name,o.found.updateTime;const c=Ac(s,o.found.name),h=Yn(o.found.updateTime),p=o.found.createTime?Yn(o.found.createTime):Re.min(),g=new An({mapValue:{fields:o.found.fields}});return Jt.newFoundDocument(c,h,p,g)})(i,e):"missing"in e?(function(s,o){Xe(!!o.missing,3894),Xe(!!o.readTime,22933);const c=Ac(s,o.missing),h=Yn(o.readTime);return Jt.newNoDocument(c,h)})(i,e):_e(7234,{result:e})}function QC(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(Xe(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(Xe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?Y.UNKNOWN:l1(y.code);return new oe(_,y.message||"")})(h);t=new u1(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ac(i,s.document.name),c=Yn(s.document.updateTime),h=s.document.createTime?Yn(s.document.createTime):Re.min(),p=new An({mapValue:{fields:s.document.fields}}),g=Jt.newFoundDocument(o,c,h,p),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Bd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ac(i,s.document),c=s.readTime?Yn(s.readTime):Re.min(),h=Jt.newNoDocument(o,c),p=s.removedTargetIds||[];t=new Bd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ac(i,s.document),c=s.removedTargetIds||[];t=new Bd([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new VC(o,c),p=s.targetId;t=new c1(p,h)}}return t}function m1(i,e){let t;if(e instanceof Fc)t={update:z_(i,e.key,e.value)};else if(e instanceof yg)t={delete:ah(i,e.key)};else if(e instanceof Ds)t={update:z_(i,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof a1))return _e(16599,{Vt:e.type});t={verify:ah(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof Oc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Mc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:HC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(i,e.precondition)),t}function $C(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((t=>(function(o,c){let h=o.updateTime?Yn(o.updateTime):Yn(c);return h.isEqual(Re.min())&&(h=Yn(c)),new DC(h,o.transformResults||[])})(t,e)))):[]}function YC(i,e){return{documents:[f1(i,e.path)]}}function KC(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=f1(i,o);const c=(function(y){if(y.length!==0)return y1(bi.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((_=>(function(R){return{field:Ao(R.field),direction:ZC(R.dir)}})(_)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Om(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function XC(i){let e=FC(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];t.where&&(c=(function(A){const R=g1(A);return R instanceof bi&&HE(R)?R.getFilters():[R]})(t.where));let h=[];t.orderBy&&(h=(function(A){return A.map((R=>(function(Q){return new kc(So(Q.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(R)))})(t.orderBy));let p=null;t.limit&&(p=(function(A){let R;return R=typeof A=="object"?A.value:A,Hc(R)?null:R})(t.limit));let g=null;t.startAt&&(g=(function(A){const R=!!A.before,j=A.values||[];return new nh(j,R)})(t.startAt));let y=null;return t.endAt&&(y=(function(A){const R=!A.before,j=A.values||[];return new nh(j,R)})(t.endAt)),gC(e,o,h,c,p,"F",g,y)}function WC(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g1(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=So(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=So(t.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=So(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(t){return jt.create(So(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return bi.create(t.compositeFilter.filters.map((s=>g1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(i):_e(30097,{filter:i})}function ZC(i){return jC[i]}function JC(i){return zC[i]}function eD(i){return BC[i]}function Ao(i){return{fieldPath:i.canonicalString()}}function So(i){return cn.fromServerFormat(i.fieldPath)}function y1(i){return i instanceof jt?(function(t){if(t.op==="=="){if(R_(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(x_(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(R_(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(x_(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:JC(t.op),value:t.value}}})(i):i instanceof bi?(function(t){const s=t.getFilters().map((o=>y1(o)));return s.length===1?s[0]:{compositeFilter:{op:eD(t.op),filters:s}}})(i):_e(54877,{filter:i})}function tD(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function v1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t,s,o,c=Re.min(),h=Re.min(),p=un.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.yt=e}}function iD(i){const e=XC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.Cn=new sD}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Es.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class sD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Qt(dt.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Qt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(w1,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LruGarbageCollector",aD=1048576;function H_([i,e],[t,s]){const o=He(i,t);return o===0?He(e,s):o}class oD{constructor(e){this.Ir=e,this.buffer=new Qt(H_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();H_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(q_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?ce(q_,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Vr(3e5)}))}}class cD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Ih.ce);const s=new oD(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(B_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,t)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),Eo()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function uD(i,e){return new cD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.changes=new Aa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Tc(s.mutation,o,$n.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Fe()){const o=fa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let h=mc();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=fa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Fe())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,s,o){let c=Nr();const h=Ec(),p=(function(){return Ec()})();return t.forEach(((g,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Ds)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Tc(_.mutation,y,_.mutation.getFieldMask(),yt.now())):h.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>h.set(y,_))),t.forEach(((y,_)=>p.set(y,new hD(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Ec();let o=new Tt(((h,p)=>h-p)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let _=s.get(g)||$n.empty();_=p.applyToLocalView(y,_),s.set(g,_);const A=(o.get(p.batchId)||Fe()).add(g);o=o.insert(p.batchId,A)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,A=ZE();_.forEach((R=>{if(!c.has(R)){const j=r1(t.get(R),s.get(R));j!==null&&A.set(R,j),c=c.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$E(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):J.resolve(fa());let p=Ic,g=c;return h.next((y=>J.forEach(y,((_,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((R=>{g=g.insert(_,R)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Fe()))).next((_=>({batchId:p,changes:WE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((s=>{let o=mc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let h=mc();return this.indexManager.getCollectionParents(e,c).next((p=>J.forEach(p,(g=>{const y=(function(A,R){return new Jo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((_=>{_.forEach(((A,R)=>{h=h.insert(A,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Jt.newInvalidDocument(_)))}));let p=mc();return h.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&Tc(_.mutation,y,$n.empty(),yt.now()),kh(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Yn(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:iD(o.bundledQuery),readTime:Yn(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.overlays=new Tt(ve.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=fa();return J.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=fa(),c=t.length+1,h=new ve(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new Tt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=c.get(y.largestBatchId);_===null&&(_=fa(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=fa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return J.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new MC(t,s));let c=this.qr.get(t);c===void 0&&(c=Fe(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this.Qr=new Qt(Zt.$r),this.Ur=new Qt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Zt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Zt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ve(new dt([])),s=new Zt(t,e),o=new Zt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new dt([])),s=new Zt(t,e),o=new Zt(t,e+1);let c=Fe();return this.Ur.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const t=new Zt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||He(e.Yr,t.Yr)}static Kr(e,t){return He(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Zt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new OC(c,t,s,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?dg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Zt(t,0),o=new Zt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(h=>{const p=this.Xr(h.Yr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Qt(He);return t.forEach((o=>{const c=new Zt(o,0),h=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{s=s.add(p.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new Zt(new ve(c),0);let p=new Qt(He);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),J.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(t.mutations,(o=>{const c=new Zt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Zt(t,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.ri=e,this.docs=(function(){return new Tt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Nr();const h=t.path,p=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||YI($I(_),s)<=0||(o.has(_.key)||kh(t,_))&&(c=c.insert(_.key,_.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}ii(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new wD(this)}getSize(e){return J.resolve(this.size)}}class wD extends dD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.persistence=e,this.si=new Aa((t=>pg(t)),mg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new bg,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new jo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new gD,this.referenceDelegate=e(this),this.Pi=new _D(this),this.indexManager=new rD,this.remoteDocumentCache=(function(o){return new vD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nD(t),this.Ii=new pD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new yD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new bD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class bD extends XI{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new bg,this.Vi=null}static mi(e){return new Eg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class oh{constructor(e,t){this.persistence=e,this.pi=new Aa((s=>JI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=uD(this,t)}static mi(e,t){return new oh(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(s++,c.removeEntry(h,Re.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ud(e.data.value)),t}br(e,t,s){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Fe(),o=Fe();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Tg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KA()?8:WI(yn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new ED;return this.Ss(e,t,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Eo()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Eo()<=qe.DEBUG&&ce("QueryEngine","Query:",To(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Eo()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(t))):J.resolve())}ys(e,t){if(N_(t))return J.resolve(null);let s=Fi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=ih(t,null,"F"),s=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Fe(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,ih(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,s,o){return N_(t)||o.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(t,c);return this.Cs(t,h,s,o)?J.resolve(null):(Eo()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(t)),this.vs(e,h,t,QI(o,Ic)).next((p=>p)))}))}Ds(e,t){let s=new Qt(KE(e));return t.forEach(((o,c)=>{kh(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return Eo()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",To(t)),this.ps.getDocumentsMatchingQuery(e,t,Es.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",AD=3e8;class SD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Tt(He),this.xs=new Aa((c=>pg(c)),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function xD(i,e,t,s){return new SD(i,e,t,s)}async function b1(i,e){const t=De(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=Fe();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function RD(i,e){const t=De(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const A=y.batch,R=A.keys();let j=J.resolve();return R.forEach((Q=>{j=j.next((()=>_.getEntry(g,Q))).next((ee=>{const K=y.docVersions.get(Q);Xe(K!==null,48541),ee.version.compareTo(K)<0&&(A.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),_.addEntry(ee)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Fe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function E1(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ID(i,e){const t=De(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((_,A)=>{const R=o.get(A);if(!R)return;p.push(t.Pi.removeMatchingKeys(c,_.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(c,_.addedDocuments,A))));let j=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(un.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(_.resumeToken,s)),o=o.insert(A,j),(function(ee,K,ne){return ee.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=AD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(R,j,_)&&p.push(t.Pi.updateTargetData(c,j))}));let g=Nr(),y=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(CD(c,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!s.isEqual(Re.min())){const _=t.Pi.getLastRemoteSnapshotVersion(c).next((A=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return J.waitFor(p).next((()=>h.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(t.Ms=o,c)))}function CD(i,e,t){let s=Fe(),o=Fe();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Nr();return t.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ce(Ag,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function DD(i,e){const t=De(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ND(i,e){const t=De(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,J.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new fs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Pm(i,e,t){const s=De(i),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Zo(h))throw h;ce(Ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function F_(i,e,t){const s=De(i);let o=Re.min(),c=Fe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const A=De(g),R=A.xs.get(_);return R!==void 0?J.resolve(A.Ms.get(R)):A.Pi.getTargetData(y,_)})(s,h,Fi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?c:Fe()))).next((p=>(kD(s,vC(e),p),{documents:p,Qs:c})))))}function kD(i,e,t){let s=i.Os.get(e)||Re.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class G_{constructor(){this.activeTargetIds=AC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.Mo=new G_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new G_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="ConnectivityMonitor";class $_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function Lm(){return Cd===null?Cd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",VD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const h=Lm(),p=this.zo(e,t.toUriEncodedString());ce(dm,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),_=$o(y);return this.Jo(e,p,g,s,_).then((A=>(ce(dm,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw Vo(dm,`RPC '${e}' ${h} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,t,s,o,c,h){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=VD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class UD extends PD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const h=Lm();return new Promise(((p,g)=>{const y=new EE;y.setWithCredentials(!0),y.listenOnce(TE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ld.NO_ERROR:const A=y.getResponseJson();ce(mn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),p(A);break;case Ld.TIMEOUT:ce(mn,`RPC '${e}' ${h} timed out`),g(new oe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:const R=y.getStatus();if(ce(mn,`RPC '${e}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const Q=j?.error;if(Q&&Q.status&&Q.message){const ee=(function(ne){const ue=ne.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ue)>=0?ue:Y.UNKNOWN})(Q.status);g(new oe(ee,Q.message))}else g(new oe(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(mn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);ce(mn,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=xE(),p=SE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=c.join("");ce(mn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const A=h.createWebChannel(_,g);this.I_(A);let R=!1,j=!1;const Q=new LD({Yo:K=>{j?ce(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(R||(ce(mn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),ce(mn,`RPC '${e}' stream ${o} sending:`,K),A.send(K))},Zo:()=>A.close()}),ee=(K,ne,ue)=>{K.listen(ne,(le=>{try{ue(le)}catch(ke){setTimeout((()=>{throw ke}),0)}}))};return ee(A,pc.EventType.OPEN,(()=>{j||(ce(mn,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),ee(A,pc.EventType.CLOSE,(()=>{j||(j=!0,ce(mn,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(A))})),ee(A,pc.EventType.ERROR,(K=>{j||(j=!0,Vo(mn,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),Q.a_(new oe(Y.UNAVAILABLE,"The operation could not be completed")))})),ee(A,pc.EventType.MESSAGE,(K=>{if(!j){const ne=K.data[0];Xe(!!ne,16349);const ue=ne,le=ue?.error||ue[0]?.error;if(le){ce(mn,`RPC '${e}' stream ${o} received error:`,le);const ke=le.status;let ge=(function(S){const I=Ut[S];if(I!==void 0)return l1(I)})(ke),he=le.message;ge===void 0&&(ge=Y.INTERNAL,he="Unknown error status: "+ke+" with message "+le.message),j=!0,Q.a_(new oe(ge,he)),A.close()}else ce(mn,`RPC '${e}' stream ${o} received:`,ne),Q.u_(ne)}})),ee(p,AE.STAT_EVENT,(K=>{K.stat===xm.PROXY?ce(mn,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===xm.NOPROXY&&ce(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i){return new qC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class T1{constructor(e,t,s,o,c,h,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jD extends T1{constructor(e,t,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=QC(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Yn(h.readTime):Re.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Vm(this.serializer),t.addTarget=(function(c,h){let p;const g=h.target;if(p=Nm(g)?{documents:YC(c,g)}:{query:KC(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=d1(c,h.resumeToken);const y=Om(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Re.min())>0){p.readTime=sh(c,h.snapshotVersion.toTimestamp());const y=Om(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=WC(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Vm(this.serializer),t.removeTarget=e,this.q_(t)}}class zD extends T1{constructor(e,t,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$C(e.writeResults,e.commitTime),s=Yn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>m1(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{}class qD extends BD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Mm(t,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(Y.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Mm(t,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class FD{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Sa(this)&&(ce(Ea,"Restarting streams for network reachability change."),await(async function(g){const y=De(g);y.Ea.add(4),await Qc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Lh(y)})(this))}))})),this.Ra=new HD(s,o)}}async function Lh(i){if(Sa(i))for(const e of i.da)await e(!0)}async function Qc(i){for(const e of i.da)await e(!1)}function A1(i,e){const t=De(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Cg(t)?Ig(t):el(t).O_()&&Rg(t,e))}function xg(i,e){const t=De(i),s=el(t);t.Ia.delete(e),s.O_()&&S1(t,e),t.Ia.size===0&&(s.O_()?s.L_():Sa(t)&&t.Ra.set("Unknown"))}function Rg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(i).Y_(e)}function S1(i,e){i.Va.Ue(e),el(i).Z_(e)}function Ig(i){i.Va=new UC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),el(i).start(),i.Ra.ua()}function Cg(i){return Sa(i)&&!el(i).x_()&&i.Ia.size>0}function Sa(i){return De(i).Ea.size===0}function x1(i){i.Va=void 0}async function GD(i){i.Ra.set("Online")}async function QD(i){i.Ia.forEach(((e,t)=>{Rg(i,e)}))}async function $D(i,e){x1(i),Cg(i)?(i.Ra.ha(e),Ig(i)):i.Ra.set("Unknown")}async function YD(i,e,t){if(i.Ra.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(s){ce(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lh(i,s)}else if(e instanceof Bd?i.Va.Ze(e):e instanceof c1?i.Va.st(e):i.Va.tt(e),!t.isEqual(Re.min()))try{const s=await E1(i.localStore);t.compareTo(s)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),S1(c,g);const A=new fs(_.target,g,y,_.sequenceNumber);Rg(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(i,t)}catch(s){ce(Ea,"Failed to raise snapshot:",s),await lh(i,s)}}async function lh(i,e,t){if(!Zo(e))throw e;i.Ea.add(1),await Qc(i),i.Ra.set("Offline"),t||(t=()=>E1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(Ea,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Lh(i)}))}function R1(i,e){return e().catch((t=>lh(i,t,e)))}async function Uh(i){const e=De(i),t=xs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dg;for(;KD(e);)try{const o=await DD(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,XD(e,o)}catch(o){await lh(e,o)}I1(e)&&C1(e)}function KD(i){return Sa(i)&&i.Ta.length<10}function XD(i,e){i.Ta.push(e);const t=xs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function I1(i){return Sa(i)&&!xs(i).x_()&&i.Ta.length>0}function C1(i){xs(i).start()}async function WD(i){xs(i).ra()}async function ZD(i){const e=xs(i);for(const t of i.Ta)e.ea(t.mutations)}async function JD(i,e,t){const s=i.Ta.shift(),o=vg.from(s,e,t);await R1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Uh(i)}async function e4(i,e){e&&xs(i).X_&&await(async function(s,o){if((function(h){return o1(h)&&h!==Y.ABORTED})(o.code)){const c=s.Ta.shift();xs(s).B_(),await R1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Uh(s)}})(i,e),I1(i)&&C1(i)}async function K_(i,e){const t=De(i);t.asyncQueue.verifyOperationInProgress(),ce(Ea,"RemoteStore received new credentials");const s=Sa(t);t.Ea.add(3),await Qc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lh(t)}async function t4(i,e){const t=De(i);e?(t.Ea.delete(2),await Lh(t)):e||(t.Ea.add(2),await Qc(t),t.Ra.set("Unknown"))}function el(i){return i.ma||(i.ma=(function(t,s,o){const c=De(t);return c.sa(),new jD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:GD.bind(null,i),t_:QD.bind(null,i),r_:$D.bind(null,i),H_:YD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Cg(i)?Ig(i):i.Ra.set("Unknown")):(await i.ma.stop(),x1(i))}))),i.ma}function xs(i){return i.fa||(i.fa=(function(t,s,o){const c=De(t);return c.sa(),new zD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:WD.bind(null,i),r_:e4.bind(null,i),ta:ZD.bind(null,i),na:JD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Uh(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(Ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const h=Date.now()+s,p=new Dg(e,t,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,e){if(Dr("AsyncQueue",`${e}: ${i}`),Zo(i))return new oe(Y.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=mc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ga=new Tt(ve.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class zo{constructor(e,t,s,o,c,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,c){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new zo(e,t,Do.emptySet(t),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class i4{constructor(){this.queries=W_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=De(t),c=o.queries;o.queries=W_(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new oe(Y.ABORTED,"Firestore shutting down"))}}function W_(){return new Aa((i=>YE(i)),Nh)}async function kg(i,e){const t=De(i);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new n4,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Ng(h,`Initialization of query '${To(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Mg(t)}async function Og(i,e){const t=De(i),s=e.query;let o=3;const c=t.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function r4(i,e){const t=De(i);let s=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const p of h.Sa)p.Fa(o)&&(s=!0);h.wa=o}}s&&Mg(t)}function s4(i,e,t){const s=De(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function Mg(i){i.Ca.forEach((e=>{e.next()}))}var Um,Z_;(Z_=Um||(Um={})).Ma="default",Z_.Cache="cache";class Vg{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class a4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=KE(e),this.tu=new Do(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new X_,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,A)=>{const R=o.get(_),j=kh(this.query,A)?A:null,Q=!!R&&this.mutatedKeys.has(R.key),ee=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let K=!1;R&&j?R.data.isEqual(j.data)?Q!==ee&&(s.track({type:3,doc:j}),K=!0):this.su(R,j)||(s.track({type:2,doc:j}),K=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!R&&j?(s.track({type:0,doc:j}),K=!0):R&&!j&&(s.track({type:1,doc:R}),K=!0,(g||y)&&(p=!0)),K&&(j?(h=h.add(j),c=ee?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:p,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,A)=>(function(j,Q){const ee=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:K})}};return ee(j)-ee(Q)})(_.type,A.type)||this.eu(_.doc,A.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new zo(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new N1(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new D1(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pg="SyncEngine";class o4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class l4{constructor(e){this.key=e,this.hu=!1}}class c4{constructor(e,t,s,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Aa((p=>YE(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(ve.comparator),this.Au=new Map,this.Ru=new bg,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u4(i,e,t=!0){const s=L1(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await k1(s,e,t,!0),o}async function d4(i,e){const t=L1(i);await k1(t,e,!0,!1)}async function k1(i,e,t,s){const o=await ND(i.localStore,Fi(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,t);let p;return s&&(p=await h4(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&A1(i.remoteStore,o),p}async function h4(i,e,t,s,o){i.pu=(A,R,j)=>(async function(ee,K,ne,ue){let le=K.view.ru(ne);le.Cs&&(le=await F_(ee.localStore,K.query,!1).then((({documents:O})=>K.view.ru(O,le))));const ke=ue&&ue.targetChanges.get(K.targetId),ge=ue&&ue.targetMismatches.get(K.targetId)!=null,he=K.view.applyChanges(le,ee.isPrimaryClient,ke,ge);return eb(ee,K.targetId,he.au),he.snapshot})(i,A,R,j);const c=await F_(i.localStore,e,!0),h=new a4(e,c.Qs),p=h.ru(c.documents),g=Gc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);eb(i,t,y.au);const _=new o4(e,t,h);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),y.snapshot}async function f4(i,e,t){const s=De(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Nh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&xg(s.remoteStore,o.targetId),jm(s,o.targetId)})).catch(Wo)):(jm(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function p4(i,e){const t=De(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),xg(t.remoteStore,s.targetId))}async function m4(i,e,t){const s=E4(i);try{const o=await(function(h,p){const g=De(h),y=yt.now(),_=p.reduce(((j,Q)=>j.add(Q.key)),Fe());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Q=Nr(),ee=Fe();return g.Ns.getEntries(j,_).next((K=>{Q=K,Q.forEach(((ne,ue)=>{ue.isValidDocument()||(ee=ee.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,Q))).next((K=>{A=K;const ne=[];for(const ue of p){const le=kC(ue,A.get(ue.key).overlayedDocument);le!=null&&ne.push(new Ds(ue.key,le,zE(le.value.mapValue),Sn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ne,p)})).next((K=>{R=K;const ne=K.applyToLocalDocumentSet(A,ee);return g.documentOverlayCache.saveOverlays(j,K.batchId,ne)}))})).then((()=>({batchId:R.batchId,changes:WE(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new Tt(He)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,t),await $c(s,o.changes),await Uh(s.remoteStore)}catch(o){const c=Ng(o,"Failed to persist write");t.reject(c)}}async function O1(i,e){const t=De(i);try{const s=await ID(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=t.Au.get(c);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await $c(t,s,e)}catch(s){await Wo(s)}}function J_(i,e,t){const s=De(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=De(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,A)=>{for(const R of A.Sa)R.va(p)&&(y=!0)})),y&&Mg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g4(i,e,t){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new Tt(ve.comparator);h=h.insert(c,Jt.newNoDocument(c,Re.min()));const p=Fe().add(c),g=new Vh(Re.min(),new Map,new Tt(He),h,p);await O1(s,g),s.du=s.du.remove(c),s.Au.delete(e),Lg(s)}else await Pm(s.localStore,e,!1).then((()=>jm(s,e,t))).catch(Wo)}async function y4(i,e){const t=De(i),s=e.batch.batchId;try{const o=await RD(t.localStore,e);V1(t,s,null),M1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await $c(t,o)}catch(o){await Wo(o)}}async function v4(i,e,t){const s=De(i);try{const o=await(function(h,p){const g=De(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((A=>(Xe(A!==null,37113),_=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(s.localStore,e);V1(s,e,t),M1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await $c(s,o)}catch(o){await Wo(o)}}function M1(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function V1(i,e,t){const s=De(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||P1(i,s)}))}function P1(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(xg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Lg(i))}function eb(i,e,t){for(const s of t)s instanceof D1?(i.Ru.addReference(s.key,e),w4(i,s)):s instanceof N1?(ce(Pg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||P1(i,s.key)):_e(19791,{wu:s})}function w4(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ce(Pg,"New document in limbo: "+t),i.Eu.add(s),Lg(i))}function Lg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ve(dt.fromString(e)),s=i.fu.next();i.Au.set(s,new l4(t)),i.du=i.du.insert(t,s),A1(i.remoteStore,new fs(Fi(Dh(t.path)),s,"TargetPurposeLimboResolution",Ih.ce))}}async function $c(i,e,t){const s=De(i),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Tg.As(g.targetId,y);c.push(_)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,y){const _=De(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(R=>J.forEach(R.Es,(j=>_.persistence.referenceDelegate.addReference(A,R.targetId,j))).next((()=>J.forEach(R.ds,(j=>_.persistence.referenceDelegate.removeReference(A,R.targetId,j)))))))))}catch(A){if(!Zo(A))throw A;ce(Ag,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const j=_.Ms.get(R),Q=j.snapshotVersion,ee=j.withLastLimboFreeSnapshotVersion(Q);_.Ms=_.Ms.insert(R,ee)}}})(s.localStore,c))}async function _4(i,e){const t=De(i);if(!t.currentUser.isEqual(e)){ce(Pg,"User change. New user:",e.toKey());const s=await b1(t.localStore,e);t.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(Y.CANCELLED,h))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $c(t,s.Ls)}}function b4(i,e){const t=De(i),s=t.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let o=Fe();const c=t.Iu.get(e);if(!c)return o;for(const h of c){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function L1(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Pu.H_=r4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function E4(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xD(this.persistence,new TD,e.initialUser,this.serializer)}Cu(e){return new _1(Eg.mi,this.serializer)}Du(e){return new OD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class T4 extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new _1((s=>oh.mi(s,t)),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new i4})()}createDatastore(e){const t=Ph(e.databaseInfo.databaseId),s=(function(c){return new UD(c)})(e.databaseInfo);return(function(c,h,p,g){return new qD(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,h,p){return new FD(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>J_(this.syncEngine,t,0)),(function(){return $_.v()?new $_:new MD})())}createSyncEngine(e,t){return(function(o,c,h,p,g,y,_){const A=new c4(o,c,h,p,g,y);return _&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=De(t);ce(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Qc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,c){const h=De(o),p={documents:c.map((A=>ah(h.serializer,A)))},g=await h.Ho("BatchGetDocuments",h.serializer.databaseId,dt.emptyPath(),p,c.length),y=new Map;g.forEach((A=>{const R=GC(h.serializer,A);y.set(R.key.toString(),R)}));const _=[];return c.forEach((A=>{const R=y.get(A.toString());Xe(!!R,55234,{key:A}),_.push(R)})),_})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new yg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=ve.fromPath(s);this.mutations.push(new a1(o,this.precondition(o)))})),await(async function(s,o){const c=De(s),h={writes:o.map((p=>m1(c.serializer,p)))};await c.Go("Commit",c.serializer.databaseId,dt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});t=Re.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new oe(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new oe(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t,s,o,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=c,this.zu=s.maxAttempts,this.M_=new Sg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new A4(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Hc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!o1(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class x4{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{ce(Rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(Rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ng(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function fm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Rs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await b1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function tb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await R4(i);ce(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>K_(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>K_(e.remoteStore,o))),i._onlineComponents=e}async function R4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Rs,"Using user provided OfflineComponentProvider");try{await fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),await fm(i,new ch)}}else ce(Rs,"Using default OfflineComponentProvider"),await fm(i,new T4(void 0));return i._offlineComponents}async function jg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Rs,"Using user provided OnlineComponentProvider"),await tb(i,i._uninitializedComponentsProvider._online)):(ce(Rs,"Using default OnlineComponentProvider"),await tb(i,new zm))),i._onlineComponents}function I4(i){return jg(i).then((e=>e.syncEngine))}function C4(i){return jg(i).then((e=>e.datastore))}async function uh(i){const e=await jg(i),t=e.eventManager;return t.onListen=u4.bind(null,e.syncEngine),t.onUnlisten=f4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=d4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),t}function D4(i,e,t={}){const s=new Hi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const _=new Ug({next:R=>{_.Nu(),h.enqueueAndForget((()=>Og(c,A)));const j=R.docs.has(p);!j&&R.fromCache?y.reject(new oe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&g&&g.source==="server"?y.reject(new oe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new Vg(Dh(p.path),_,{includeMetadataChanges:!0,qa:!0});return kg(c,A)})(await uh(i),i.asyncQueue,e,t,s))),s.promise}function N4(i,e,t={}){const s=new Hi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const _=new Ug({next:R=>{_.Nu(),h.enqueueAndForget((()=>Og(c,A))),R.fromCache&&g.source==="server"?y.reject(new oe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new Vg(p,_,{includeMetadataChanges:!0,qa:!0});return kg(c,A)})(await uh(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firestore.googleapis.com",ib=!0;class rb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j1,this.ssl=ib}else this.host=e.host,this.ssl=e.ssl??ib;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aD)throw new oe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new jI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=nb.get(t);s&&(ce("ComponentProvider","Removing Datastore"),nb.delete(t),s.terminate())})(this),Promise.resolve()}}function k4(i,e,t,s={}){i=ui(i,jh);const o=$o(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${t}`;o&&(Nb(`https://${p}`),kb("Firestore",!0)),c.host!==j1&&c.host!==p&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!ya(g,h)&&(i._setSettings(g),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=gn.MOCK_USER;else{y=zA(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new oe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(A)}i._authCredentials=new PI(new IE(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(qc(t,xt._jsonSchema))return new xt(e,s||null,new ve(dt.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:zt("string",xt._jsonSchemaVersion),referencePath:zt("string")};class _s extends Mr{constructor(e,t,s){super(e,t,Dh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ve(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Bo(i,e,...t){if(i=kt(i),CE("collection","path",e),i instanceof jh){const s=dt.fromString(e,...t);return y_(s),new _s(i,null,s)}{if(!(i instanceof xt||i instanceof _s))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(dt.fromString(e,...t));return y_(s),new _s(i.firestore,null,s)}}function qo(i,e,...t){if(i=kt(i),arguments.length===1&&(e=ug.newId()),CE("doc","path",e),i instanceof jh){const s=dt.fromString(e,...t);return g_(s),new xt(i,null,new ve(s))}{if(!(i instanceof xt||i instanceof _s))throw new oe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(dt.fromString(e,...t));return g_(s),new xt(i.firestore,i instanceof _s?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="AsyncQueue";class ab{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sg(this,"async_queue_retry"),this._c=()=>{const s=hm();s&&ce(sb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;ce(sb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",ob(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Dg.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ob(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Is extends jh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ab,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function O4(i,e){const t=typeof i=="object"?i:Pb(),s=typeof i=="string"?i:eh,o=Zm(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=UA("firestore");c&&k4(o,...c)}return o}function Yc(i){if(i._terminated)throw new oe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||M4(i),i._firestoreClient}function M4(i){const e=i._freezeSettings(),t=(function(o,c,h,p){return new nC(o,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new x4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(un.fromBase64String(e))}catch(t){throw new oe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:zt("string",Qn._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(qc(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:zt("string",Gi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qc(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qi(e.vectorValues);throw new oe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:zt("string",Qi._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=/^__.*__$/;class P4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class z1{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function B1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class zg{constructor(e,t,s,o,c,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(B1(this.Ac)&&V4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class L4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ph(e)}Cc(e,t,s,o=!1){return new zg({Ac:e,methodName:t,Dc:s,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(i){const e=i._freezeSettings(),t=Ph(i._databaseId);return new L4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Bg(i,e,t,s,o,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,t,o);Hg("Data must be an object, but it was:",h,s);const p=q1(s,h);let g,y;if(c.merge)g=new $n(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const A of c.mergeFields){const R=Bm(e,A,t);if(!h.contains(R))throw new oe(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);F1(_,R)||_.push(R)}g=new $n(_),y=h.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=h.fieldTransforms;return new P4(new An(p),g,y)}class Hh extends Bh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class qg extends Bh{_toFieldTransform(e){return new IC(e.path,new Oc)}isEqual(e){return e instanceof qg}}function U4(i,e,t,s){const o=i.Cc(1,e,t);Hg("Data must be an object, but it was:",o,s);const c=[],h=An.empty();Cs(s,((g,y)=>{const _=Fg(e,g,t);y=kt(y);const A=o.yc(_);if(y instanceof Hh)c.push(_);else{const R=Kc(y,A);R!=null&&(c.push(_),h.set(_,R))}}));const p=new $n(c);return new z1(h,p,o.fieldTransforms)}function j4(i,e,t,s,o,c){const h=i.Cc(1,e,t),p=[Bm(e,s,t)],g=[o];if(c.length%2!=0)throw new oe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(Bm(e,c[R])),g.push(c[R+1]);const y=[],_=An.empty();for(let R=p.length-1;R>=0;--R)if(!F1(y,p[R])){const j=p[R];let Q=g[R];Q=kt(Q);const ee=h.yc(j);if(Q instanceof Hh)y.push(j);else{const K=Kc(Q,ee);K!=null&&(y.push(j),_.set(j,K))}}const A=new $n(y);return new z1(_,A,h.fieldTransforms)}function z4(i,e,t,s=!1){return Kc(t,i.Cc(s?4:3,e))}function Kc(i,e){if(H1(i=kt(i)))return Hg("Unsupported field value:",e,i),q1(i,e);if(i instanceof Bh)return(function(s,o){if(!B1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=Kc(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:sh(o.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(s instanceof Gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:d1(o.serializer,s._byteString)};if(s instanceof xt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qi)return(function(h,p){return{mapValue:{fields:{[UE]:{stringValue:jE},[th]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return gg(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Rh(s)}`)})(i,e)}function q1(i,e){const t={};return kE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(i,((s,o)=>{const c=Kc(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function H1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof yt||i instanceof Gi||i instanceof Qn||i instanceof xt||i instanceof Bh||i instanceof Qi)}function Hg(i,e,t){if(!H1(t)||!DE(t)){const s=Rh(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Bm(i,e,t){if((e=kt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Fg(i,e);throw dh("Field path arguments must be of type string or ",i,!1,void 0,t)}const B4=new RegExp("[~\\*/\\[\\]]");function Fg(i,e,t){if(e.search(B4)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new zh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function dh(i,e,t,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new oe(Y.INVALID_ARGUMENT,p+i+g)}function F1(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class q4 extends hh{data(){return super.data()}}function Fh(i,e){return typeof e=="string"?Fg(i,e):e instanceof zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class Qg extends Gg{}function $g(i,e,...t){let s=[];e instanceof Gg&&s.push(e),s=s.concat(t),(function(c){const h=c.filter((g=>g instanceof Yg)).length,p=c.filter((g=>g instanceof Gh)).length;if(h>1||h>0&&p>0)throw new oe(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Gh extends Qg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Gh(e,t,s)}_apply(e){const t=this._parse(e);return Y1(e._query,t),new Mr(e.firestore,e.converter,km(e._query,t))}_parse(e){const t=qh(e.firestore);return(function(c,h,p,g,y,_,A){let R;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){ub(A,_);const Q=[];for(const ee of A)Q.push(cb(g,c,ee));R={arrayValue:{values:Q}}}else R=cb(g,c,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||ub(A,_),R=z4(p,h,A,_==="in"||_==="not-in");return jt.create(y,_,R)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function H4(i,e,t){const s=e,o=Fh("where",i);return Gh._create(o,s,t)}class Yg extends Gg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)Y1(h,g),h=km(h,g)})(e._query,t),new Mr(e.firestore,e.converter,km(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kg extends Qg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kg(e,t)}_apply(e){const t=(function(o,c,h){if(o.startAt!==null)throw new oe(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(c,h)})(e._query,this._field,this._direction);return new Mr(e.firestore,e.converter,(function(o,c){const h=o.explicitOrderBy.concat([c]);return new Jo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Q1(i,e="asc"){const t=e,s=Fh("orderBy",i);return Kg._create(s,t)}class Xg extends Qg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Xg(e,t,s)}_apply(e){return new Mr(e.firestore,e.converter,ih(e._query,this._limit,this._limitType))}}function $1(i){return Xg._create("limit",i,"F")}function cb(i,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new oe(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(e)&&t.indexOf("/")!==-1)throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(dt.fromString(t));if(!ve.isDocumentKey(s))throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return S_(i,new ve(s))}if(t instanceof xt)return S_(i,t._key);throw new oe(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(t)}.`)}function ub(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y1(i,e){const t=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class K1{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Cs(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[th].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new Qi(t)}convertGeoPoint(e){return new Gi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ch(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=dt.fromString(e);Xe(v1(s),9688,{name:e});const o=new Dc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(t)||Dr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class F4 extends K1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}class xo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends hh{constructor(e,t,s,o,c,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Fh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=bs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:zt("string",bs._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class qd extends bs{data(e={}){return super.data(e)}}class pa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new qd(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new qd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new qd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new xo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:G4(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(i){i=ui(i,xt);const e=ui(i.firestore,Is);return D4(Yc(e),i._key).then((t=>Z1(e,i,t)))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:zt("string",pa._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Qh extends K1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function $4(i){i=ui(i,Mr);const e=ui(i.firestore,Is),t=Yc(e),s=new Qh(e);return G1(i._query),N4(t,i._query).then((o=>new pa(e,s,i,o)))}function X1(i,e,t){i=ui(i,xt);const s=ui(i.firestore,Is),o=Wg(i.converter,e,t);return W1(s,[Bg(qh(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Sn.none())])}function qm(i,e){const t=ui(i.firestore,Is),s=qo(i),o=Wg(i.converter,e);return W1(t,[Bg(qh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Sn.exists(!1))]).then((()=>s))}function Zg(i,...e){i=kt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lb(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(lb(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,h,p;if(i instanceof xt)h=ui(i.firestore,Is),p=Dh(i._key.path),c={next:g=>{e[s]&&e[s](Z1(h,i,g))},error:e[s+1],complete:e[s+2]};else{const g=ui(i,Mr);h=ui(g.firestore,Is),p=g._query;const y=new Qh(h);c={next:_=>{e[s]&&e[s](new pa(h,y,g,_))},error:e[s+1],complete:e[s+2]},G1(i._query)}return(function(y,_,A,R){const j=new Ug(R),Q=new Vg(_,j,A);return y.asyncQueue.enqueueAndForget((async()=>kg(await uh(y),Q))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>Og(await uh(y),Q)))}})(Yc(h),p,o,c)}function W1(i,e){return(function(s,o){const c=new Hi;return s.asyncQueue.enqueueAndForget((async()=>m4(await I4(s),o,c))),c.promise})(Yc(i),e)}function Z1(i,e,t){const s=t.docs.get(e._key),o=new Qh(i);return new bs(i,o,e._key,s,new xo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={maxAttempts:5};function yc(i,e){if((i=kt(i)).firestore!==e)throw new oe(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=qh(e)}get(e){const t=yc(e,this._firestore),s=new F4(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const c=o[0];if(c.isFoundDocument())return new hh(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new hh(this._firestore,s,t._key,null,t.converter);throw _e(18433,{doc:c})}))}set(e,t,s){const o=yc(e,this._firestore),c=Wg(o.converter,t,s),h=Bg(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(e,t,s,...o){const c=yc(e,this._firestore);let h;return h=typeof(t=kt(t))=="string"||t instanceof zh?j4(this._dataReader,"Transaction.update",c._key,t,s,o):U4(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=yc(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4 extends K4{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yc(e,this._firestore),s=new Qh(this._firestore);return super.get(e).then((o=>new bs(this._firestore,s,t._key,o._document,new xo(!1,!1),t.converter)))}}function J1(i,e,t){i=ui(i,Is);const s={...Y4,...t};return(function(c){if(c.maxAttempts<1)throw new oe(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(c,h,p){const g=new Hi;return c.asyncQueue.enqueueAndForget((async()=>{const y=await C4(c);new S4(c.asyncQueue,y,p,h,g).ju()})),g.promise})(Yc(i),(o=>e(new X4(i,o))),s)}function ma(){return new qg("serverTimestamp")}(function(e,t=!0){(function(o){Xo=o})(Yo),Oo(new va("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new Is(new LI(s.getProvider("auth-internal")),new zI(h,s.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(y.options.projectId,_)})(h,o),h);return c={useFetchStreams:t,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),vs(h_,f_,e),vs(h_,f_,"esm2020")})();var W4="firebase",Z4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(W4,Z4,"app");function J4(){return{apiKey:"AIzaSyDH1Hkp68MR3-o-s_J_LbaEPnUcTVFuZHQ",authDomain:"actgobiernodatos.firebaseapp.com",projectId:"actgobiernodatos",storageBucket:"actgobiernodatos.appspot.com",messagingSenderId:"320299764635",appId:"1:320299764635:web:1e2a033995c8485ef62f3e"}}function Jg(){const i=ix();return i.length?i[0]:Vb(J4())}function eN(){const i=Jg();return OI(i)}function tN(){const i=Jg();return O4(i)}function nN(){const i=re.useMemo(()=>Jg(),[]),e=re.useMemo(()=>eN(),[]),t=re.useMemo(()=>tN(),[]);return{app:i,auth:e,db:t}}function eT(i=900){const[e,t]=re.useState(!1);return re.useEffect(()=>{const s=window.matchMedia(`(max-width:${i}px)`),o=c=>t(c.matches);return t(s.matches),s.addEventListener?s.addEventListener("change",o):s.addListener(o),()=>{s.removeEventListener?s.removeEventListener("change",o):s.removeListener(o)}},[i]),e}async function iN(i,e,t,s){const o=Bo(i,"spins"),c=qo(i,"userstats",e);await qm(o,{uid:e,...s,createdAt:ma()}),await J1(i,async h=>{const p=await h.get(c),g=p.exists()?p.data():{totalScore:0,totalSpins:0,displayName:t||"Anónimo"},y={displayName:t||g.displayName||"Anónimo",totalScore:(g.totalScore||0)+(s.points||0),totalSpins:(g.totalSpins||0)+1,updatedAt:ma()};h.set(c,y,{merge:!0})})}async function rN(i){const e=$g(Bo(i,"userstats"),Q1("totalScore","desc"),$1(10));return(await $4(e)).docs.map(s=>({id:s.id,...s.data()}))}function sN(i,e,t){const s=$g(Bo(i,"userstats"),Q1("totalScore","desc"),$1(10));return Zg(s,c=>{const h=c.docs.map(p=>({id:p.id,...p.data()}));e?.(h)},c=>{console.error("Top10 realtime error:",c),t?.(c)})}function aN(i,e,t,s){const o=$g(Bo(i,"userstats"),H4("totalScore",">",e||0));return Zg(o,h=>{const p=(h.size||0)+1;t?.(p)},h=>{console.error("User rank realtime error:",h),s?.(h)})}const oN={es:{questionForPoints:i=>`Pregunta por ${i} puntos`,true:"Verdadero",false:"Falso",time:i=>`Tiempo: ${i}s`,answerShortPlaceholder:"Escribe tu respuesta corta",reply:"Responder"}};function _o(i,...e){const s=oN.es[i];return typeof s=="function"?s(...e):s}let bo;function tT(){if(typeof window>"u")return null;try{bo||(bo=new(window.AudioContext||window.webkitAudioContext)),bo&&bo.state==="suspended"&&bo.resume().catch(()=>{})}catch{}return bo}function Ho(i){try{navigator?.vibrate&&navigator.vibrate(i)}catch{}}function xr({freq:i=660,duration:e=120,type:t="sine",volume:s=.03}={}){const o=tT();if(!o)return;const c=()=>{const h=o.createOscillator(),p=o.createGain();h.type=t,h.frequency.value=i,p.gain.value=s,h.connect(p),p.connect(o.destination);const g=o.currentTime;h.start(g),h.stop(g+e/1e3)};if(o.state!=="running")try{o.resume().then(c).catch(()=>{})}catch{}else c()}function lN(i=!0){Ho(12),i&&xr({freq:480,duration:60,type:"triangle",volume:.025})}function cN({volume:i=.028}={}){const e=tT();if(!e)return;const t=()=>{const o=e.createBuffer(1,Math.floor(e.sampleRate*.04),e.sampleRate),c=o.getChannelData(0);for(let j=0;j<c.length;j++)c[j]=(Math.random()*2-1)*.6;const h=e.createBufferSource();h.buffer=o;const p=e.createBiquadFilter();p.type="bandpass",p.frequency.value=1600+Math.random()*300,p.Q.value=5;const g=e.createBiquadFilter();g.type="highpass",g.frequency.value=500,g.Q.value=.7;const y=e.createGain();y.gain.value=1e-4,h.connect(p),p.connect(g),g.connect(y),y.connect(e.destination);const _=e.currentTime;y.gain.exponentialRampToValueAtTime(i,_+.004),y.gain.exponentialRampToValueAtTime(1e-4,_+.032),h.start(_),h.stop(_+.04);const A=e.createOscillator(),R=e.createGain();A.type="sine",A.frequency.value=1900+Math.random()*150,R.gain.value=1e-4,A.connect(R),R.connect(e.destination),R.gain.exponentialRampToValueAtTime(i*.6,_+.003),R.gain.exponentialRampToValueAtTime(1e-4,_+.02),A.start(_),A.stop(_+.022)};if(e.state!=="running")try{e.resume().then(t).catch(()=>{})}catch{}else t()}function uN(i=!0,{durationMs:e=3800,totalTicks:t=40}={}){if(!i)return;const s=Math.max(10,t),o=24,c=2e3,h=ee=>1-Math.pow(1-ee,3),p=[];let g=0;for(let ee=0;ee<s;ee++){const K=ee/(s-1),ne=o+(c-o)*h(K);g+=ne,p.push(g)}const y=e/g,_=p.map(ee=>Math.floor(ee*y)),A=800,R=340,j=[];for(let ee=0;ee<_.length;ee++){const K=_[ee],ne=j.length?j[j.length-1]:-1/0;K>=e-A&&K-ne<R||j.push(K)}const Q=j.length;j.forEach((ee,K)=>{const ne=Q>1?K/(Q-1):1,ue=.022+(ne>.66?.01*(ne-.66)/.34:0);setTimeout(()=>cN({volume:ue}),ee)})}function dN(i=!0){Ho([12,60,12]),i&&(xr({freq:680,duration:90,type:"sine",volume:.035}),setTimeout(()=>xr({freq:820,duration:80,type:"sine",volume:.035}),90))}function hN(i=!0){Ho(70),i&&xr({freq:180,duration:150,type:"sawtooth",volume:.03})}function fN(i=!0,e=1){if(Ho([20,40,20]),!i)return;const t=520,s=120,o=Math.min(3,1+e);for(let c=0;c<o;c++)setTimeout(()=>xr({freq:t+c*s,duration:90,type:"sine",volume:.04}),c*100)}function db({open:i,question:e,points:t,onAnswer:s,category:o}){const[c,h]=re.useState(""),p=e?.type==="tf",g=e?.type==="short",[y,_]=re.useState(20),[A,R]=re.useState(!1),[j,Q]=re.useState(null),[ee,K]=re.useState(!1),ne=re.useRef(null),[ue,le]=re.useState(!1),ge=(D=>D<=5?.5:D<=10?.75:1)(y),he=t?Math.max(1,Math.round(t*ge)):0,O=y<=20&&t>0,S=re.useMemo(()=>e?p?c==="true"||c==="false":g?c.trim().length>0:!1:!1,[e,p,g,c]);if(re.useEffect(()=>{if(i)return _(20),R(!1),h(""),Q(null),K(!1),le(!1),ne.current&&(clearInterval(ne.current),ne.current=null),ne.current=setInterval(()=>{_(D=>Math.max(0,D-1))},1e3),()=>{ne.current&&(clearInterval(ne.current),ne.current=null)}},[i,e?.id]),re.useEffect(()=>{A&&ne.current&&(clearInterval(ne.current),ne.current=null)},[A]),re.useEffect(()=>{if(y===0&&!A){R(!0),ne.current&&(clearInterval(ne.current),ne.current=null),le(!0);try{Ho([30,40,60])}catch{}try{xr({freq:1200,duration:70,type:"triangle",volume:.05}),setTimeout(()=>xr({freq:900,duration:70,type:"triangle",volume:.05}),60),setTimeout(()=>xr({freq:600,duration:90,type:"sawtooth",volume:.05}),120)}catch{}s?.({timeout:!0,secondsLeft:0})}},[y,A,s]),re.useEffect(()=>{if(!(!i||A)&&y<=5&&y>0){try{Ho(30)}catch{}try{xr({freq:720-y*40,duration:80,type:"sine",volume:.04})}catch{}}},[i,A,y]),!i)return null;const I=()=>x.jsx("span",{"aria-hidden":!0,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:x.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 50 50",role:"img",children:[x.jsx("title",{children:"cargando"}),x.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"#94a3b8",strokeWidth:"4",fill:"none",opacity:".25"}),x.jsx("path",{d:"M25 5 a20 20 0 0 1 0 40",fill:"none",stroke:"#8be9e3",strokeWidth:"4",strokeLinecap:"round",children:x.jsx("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.9s",repeatCount:"indefinite"})})]})}),M=D=>{if(D?.preventDefault?.(),!S)return;const k=p?c==="true":c.trim().toLowerCase();s?.(k),h("")};return x.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",style:{position:"fixed",inset:0,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",zIndex:50},children:x.jsxs("div",{className:`modal-card ${y<=5&&y>0?"shake-hard":""}`,"aria-busy":A,style:{width:"min(560px, 92vw)",background:"#111827",border:"1px solid #3f3f46",borderRadius:12,boxShadow:"0 10px 30px #0006",overflow:"hidden",position:"relative"},children:[x.jsxs("header",{style:{padding:"12px 16px",borderBottom:"1px solid #27272a",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:2},children:[x.jsx("h3",{style:{margin:0,fontSize:18},children:_o("questionForPoints",t)}),O&&x.jsxs("span",{style:{fontSize:14,color:"#8be9e3",fontWeight:600},children:["Ahora: ",he," punto",he!==1?"s":""," ",ge<1&&x.jsx("span",{style:{color:"#ef4444",fontWeight:500},children:"(por tiempo)"})]})]}),x.jsx("button",{disabled:A,onClick:()=>{A||(K(!0),R(!0),s?.({timeout:!0}))},"aria-label":"Cerrar",style:{background:"transparent",border:0,color:"#e5e7eb",cursor:A?"not-allowed":"pointer",opacity:A?.6:1},children:"✕"})]}),ue&&x.jsx("div",{className:"shatter-overlay","aria-hidden":!0,children:Array.from({length:14}).map((D,k)=>{const T=k/14*Math.PI*2,Ee=120+k%3*40,Me=Math.cos(T)*Ee,F=Math.sin(T)*Ee,ie=k*27%90-45;return x.jsx("span",{className:"shard",style:{"--dx":`${Me}px`,"--dy":`${F}px`,"--rot":`${ie}deg`,left:"50%",top:"50%"}},k)})}),x.jsxs("div",{style:{padding:16,display:"grid",gap:12},children:[o&&x.jsxs("div",{style:{fontSize:12,opacity:.85},children:["Relacionada con la ruleta: ",x.jsx("b",{children:o})]}),x.jsx("p",{style:{margin:"4px 0 8px 0"},children:e?.text}),p&&i&&x.jsxs("div",{style:{display:"flex",gap:8},children:[x.jsx("button",{className:"btn",disabled:A,onClick:()=>{Q("true"),R(!0),s?.({choice:!0,secondsLeft:y})},style:{border:"1px solid #3f3f46",background:j==="true"?"#16a34a":"#14532d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:A?.9:1,transition:"transform .12s ease, background .2s ease",transform:j==="true"?"scale(1.04)":"scale(1)"},children:_o("true")}),x.jsx("button",{className:"btn",disabled:A,onClick:()=>{Q("false"),R(!0),s?.({choice:!1,secondsLeft:y})},style:{border:"1px solid #3f3f46",background:j==="false"?"#dc2626":"#7f1d1d",color:"#fafafa",padding:"8px 12px",borderRadius:8,opacity:A?.9:1,transition:"transform .12s ease, background .2s ease",transform:j==="false"?"scale(1.04)":"scale(1)"},children:_o("false")})]}),A&&x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 10px",border:"1px dashed #334155",borderRadius:8,background:"rgba(15,23,42,.35)"},children:[x.jsx(I,{}),x.jsx("span",{style:{fontSize:13,color:"#cbd5e1"},children:ee?"Omitiendo pregunta…":"Procesando respuesta…"})]}),g&&x.jsx("form",{onSubmit:M,children:x.jsx("input",{autoFocus:!0,value:c,onChange:D=>h(D.target.value),placeholder:_o("answerShortPlaceholder"),style:{width:"100%",padding:"10px 12px",borderRadius:8,border:"1px solid #3f3f46",background:"#0b0b0b",color:"#e5e7eb"}})})]}),x.jsxs("footer",{style:{padding:16,borderTop:"1px solid #27272a",display:"flex",justifyContent:"space-between",gap:8,alignItems:"center"},children:[x.jsx("span",{className:y<=5&&y>0?"countdown-pop":void 0,style:{opacity:.95,color:y<=5?"#ef4444":"#e5e7eb",fontWeight:y<=5?700:500},children:_o("time",y)},y),g&&x.jsx("button",{className:"btn",onClick:D=>{D?.preventDefault?.(),S&&(R(!0),s?.({value:c.trim().toLowerCase(),secondsLeft:y}))},disabled:!S,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"8px 12px",borderRadius:8},children:_o("reply")})]})]})})}const pN={Calidad:[{id:"cal1",type:"tf",text:"La calidad de datos incluye precisión, integridad y consistencia.",answer:!0,explain:"Son cualidades básicas de un buen dato: correcto, completo y coherente."},{id:"cal2",type:"tf",text:"Un dato inexacto, aun útil, sigue considerándose de alta calidad.",answer:!1,explain:"La utilidad no sustituye la precisión. Un dato inexacto no puede considerarse de alta calidad."},{id:"cal3",type:"tf",text:"La integridad es una dimensión de calidad que mide completitud.",answer:!0,explain:"Integridad se refiere a que no falten campos clave. Otras dimensiones: precisión, consistencia, oportunidad."},{id:"cal4",type:"tf",text:"La calidad de datos afecta directamente la toma de decisiones.",answer:!0,explain:"Decisiones basadas en datos de baja calidad llevan a errores y riesgos operativos."},{id:"cal5",type:"tf",text:"La oportunidad/puntualidad es una dimensión de calidad.",answer:!0,explain:"Se refiere a la disponibilidad del dato a tiempo para su uso."},{id:"cal6",type:"tf",text:"La consistencia implica que el mismo dato tenga el mismo valor en todos los sistemas.",answer:!0,explain:"Si un campo difiere entre fuentes, hay inconsistencia; esto deteriora la confianza y los análisis."},{id:"cal7",type:"tf",text:"Un dato oportuno puede ser de baja calidad si es incorrecto.",answer:!0,explain:"La puntualidad no compensa la falta de precisión."},{id:"cal8",type:"tf",text:"Validaciones automáticas antes de guardar mejoran la calidad.",answer:!0,explain:"Detectan errores temprano y reducen retrabajo."},{id:"cal9",type:"tf",text:"Los duplicados nunca afectan la calidad.",answer:!1,explain:"Los duplicados distorsionan conteos y análisis."},{id:"cal10",type:"tf",text:"Usar estándares de formato (fechas, unidades) evita errores de interpretación.",answer:!0,explain:"Estandarizar asegura que todos lean el dato igual."},{id:"cal11",type:"tf",text:"La calidad de datos solo importa para reportes y no para operaciones diarias.",answer:!1,explain:"Las operaciones también dependen de datos correctos; errores impactan procesos y clientes."},{id:"cal12",type:"tf",text:"Con suficiente volumen, los errores de calidad se compensan solos.",answer:!1,explain:"Más volumen no corrige sesgos ni errores; puede amplificarlos."},{id:"cal13",type:"tf",text:"Eliminar validaciones acelera y mantiene la calidad estable.",answer:!1,explain:"Quitar controles aumenta errores y retrabajo; baja la calidad."},{id:"cal14",type:"tf",text:"La consistencia entre sistemas es opcional si el equipo se comunica bien.",answer:!1,explain:"La inconsistencia genera decisiones distintas sobre la misma información."},{id:"cal15",type:"tf",text:"No es necesario medir la calidad si los usuarios están conformes.",answer:!1,explain:"Medir permite detectar y corregir problemas de forma objetiva."},{id:"cal16",type:"tf",text:"Definir umbrales y KPI de calidad permite monitorear desviaciones.",answer:!0,explain:"Indicadores objetivos ayudan a detectar y priorizar correcciones."},{id:"cal17",type:"tf",text:"La calidad de datos es responsabilidad exclusiva del área de TI.",answer:!1,explain:"Es responsabilidad compartida con el negocio (propietarios y stewards)."},{id:"cal18",type:"tf",text:"Muestreos y controles estadísticos ayudan a detectar anomalías en los datos.",answer:!0,explain:"El control estadístico permite encontrar errores sistemáticos o atípicos."},{id:"cal19",type:"tf",text:"Los datos maestros no requieren reglas de deduplicación.",answer:!1,explain:"La deduplicación es clave para evitar registros duplicados en maestros."},{id:"cal20",type:"tf",text:"Mejorar la calidad una vez al año es suficiente para cualquier organización.",answer:!1,explain:"La mejora continua es necesaria; la calidad cambia con los procesos."},{id:"calx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Hacer pausas al estudiar ayuda a retener mejor.",answer:!0,explain:"Las pausas mejoran la atención y la memoria."},{id:"calx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Es recomendable desactivar todas las validaciones para ir más rápido.",answer:!1,explain:"Quitar validaciones aumenta errores y baja la calidad."}],Seguridad:[{id:"seg1",type:"tf",text:"El control de acceso limita quién puede ver o modificar datos.",answer:!0,explain:"Sirve para que solo personas autorizadas entren o cambien la información."},{id:"seg2",type:"tf",text:"El cifrado sirve solo para datos en reposo.",answer:!1,explain:"El cifrado aplica en reposo y en tránsito; ambos son necesarios para proteger la confidencialidad."},{id:"seg3",type:"tf",text:"La autenticación multifactor reduce el riesgo de acceso no autorizado.",answer:!0,explain:"Agregar un segundo factor (algo que tienes) mitiga robo de contraseñas."},{id:"seg4",type:"tf",text:"ISO/IEC 27001 es un estándar de gestión de seguridad de la información.",answer:!0,explain:"Define requisitos de un SGSI (sistema de gestión de seguridad de la información)."},{id:"seg5",type:"tf",text:"Los respaldos forman parte de los controles de seguridad.",answer:!0,explain:"Las copias de seguridad permiten recuperar datos ante incidentes y mejoran la resiliencia."},{id:"seg6",type:"tf",text:"El principio de mínimo privilegio sugiere otorgar solo el acceso estrictamente necesario.",answer:!0,explain:"Reduce la superficie de ataque y el impacto de cuentas comprometidas."},{id:"seg7",type:"tf",text:"Actualizar sistemas y parches reduce riesgos por vulnerabilidades.",answer:!0,explain:"Cierra fallas conocidas aprovechadas por atacantes."},{id:"seg8",type:"tf",text:"Compartir contraseñas por correo es seguro si es con un compañero.",answer:!1,explain:"Nunca compartas contraseñas; usa gestores y 2 factores."},{id:"seg9",type:"tf",text:"Cerrar sesión en equipos compartidos reduce el riesgo.",answer:!0,explain:"Evita accesos no autorizados posteriores."},{id:"seg10",type:"tf",text:"La ingeniería social busca engañar para obtener acceso.",answer:!0,explain:"Desconfía de solicitudes urgentes e inesperadas."},{id:"seg11",type:"tf",text:"El antivirus reemplaza la necesidad de aplicar parches de seguridad.",answer:!1,explain:"Son controles complementarios; parches corrigen vulnerabilidades."},{id:"seg12",type:"tf",text:"Usar la misma contraseña en todos los sistemas es una buena práctica.",answer:!1,explain:"Reutilizar contraseñas incrementa el riesgo por brechas en cascada."},{id:"seg13",type:"tf",text:"Compartir accesos administrativos entre varias personas mejora el control.",answer:!1,explain:"Las cuentas personales trazables son clave para la responsabilidad."},{id:"seg14",type:"tf",text:"Los logs de seguridad no aportan valor para detectar incidentes.",answer:!1,explain:"La observabilidad es esencial para detectar y responder incidentes."},{id:"seg15",type:"tf",text:"El cifrado hace que las copias de respaldo sean innecesarias.",answer:!1,explain:"Respaldo y cifrado cubren riesgos distintos: pérdida vs. confidencialidad."},{id:"seg16",type:"tf",text:"La segregación de funciones reduce el riesgo de fraude interno.",answer:!0,explain:"Separar tareas críticas evita que una sola persona complete todo el flujo."},{id:"seg17",type:"tf",text:"Usar HTTPS en una intranet es innecesario.",answer:!1,explain:"El cifrado en tránsito protege contra escuchas incluso en redes internas."},{id:"seg18",type:"tf",text:"Las soluciones DLP ayudan a prevenir fuga de información.",answer:!0,explain:"Data Loss Prevention detecta y bloquea exfiltraciones no autorizadas."},{id:"seg19",type:"tf",text:"No es relevante bloquear la pantalla en ausencias cortas.",answer:!1,explain:"Bloquear la sesión evita accesos no autorizados incluso por segundos."},{id:"seg20",type:"tf",text:"El phishing se evita instalando más antivirus.",answer:!1,explain:"El antivirus no sustituye la concienciación ni filtros antiphishing."},{id:"segx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Usar Wi‑Fi público sin protección es seguro para datos sensibles.",answer:!1,explain:"Las redes públicas pueden ser interceptadas; evita enviar información sensible."},{id:"segx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Mantener el sistema operativo actualizado mejora la seguridad.",answer:!0,explain:"Las actualizaciones corrigen vulnerabilidades."}],Privacidad:[{id:"pri1",type:"tf",text:"La minimización de datos busca recolectar solo lo necesario.",answer:!0,explain:"Recolectar y procesar lo mínimo reduce riesgo y cumple principios de privacidad."},{id:"pri2",type:"tf",text:"Los datos personales siempre pueden hacerse públicos si están en internet.",answer:!1,explain:"Que algo esté en internet no significa que puedas usarlo libremente."},{id:"pri3",type:"tf",text:"El consentimiento es un fundamento común para tratar datos personales.",answer:!0,explain:"Además del consentimiento, existen otros fundamentos como obligación legal o interés legítimo."},{id:"pri4",type:"tf",text:"Privacidad por diseño integra privacidad desde el diseño y por defecto.",answer:!0,explain:"Es un enfoque proactivo que previene en lugar de corregir."},{id:"pri5",type:"tf",text:"Anonimizar y seudonimizar son exactamente lo mismo.",answer:!1,explain:"Anonimizar elimina el vínculo con el individuo; seudonimizar lo oculta, pero puede reidentificarse."},{id:"pri6",type:"tf",text:"La portabilidad de datos permite al titular obtener y reutilizar sus datos.",answer:!0,explain:"Es un derecho en varias normativas; fomenta competencia y control del usuario."},{id:"pri7",type:"tf",text:"El derecho de acceso permite saber qué datos se tratan sobre ti.",answer:!0,explain:"Puedes solicitar una copia y conocer fines y fuentes."},{id:"pri8",type:"tf",text:"Publicar fotos de otras personas siempre es legal si son en lugares públicos.",answer:!1,explain:"Pueden requerir consentimiento y respetar derechos de imagen."},{id:"pri9",type:"tf",text:"Se debe informar la finalidad al recolectar datos personales.",answer:!0,explain:"La transparencia es un principio clave de privacidad."},{id:"pri10",type:"tf",text:"Eliminar datos cuando ya no se necesitan reduce riesgos.",answer:!0,explain:"Minimiza exposición y cumplimiento de retención."},{id:"pri11",type:"tf",text:"Si un usuario publica su correo en internet, cualquiera puede usarlo para cualquier fin.",answer:!1,explain:"La licitud del tratamiento no depende solo de que algo sea público."},{id:"pri12",type:"tf",text:"No hace falta informar al titular sobre el uso de sus datos si es obvio.",answer:!1,explain:"La transparencia exige informar finalidades y derechos."},{id:"pri13",type:"tf",text:"La seudonimización garantiza que nadie pueda reidentificar.",answer:!1,explain:"Puede reidentificarse con datos auxiliares; no equivale a anonimizar."},{id:"pri14",type:"tf",text:"Los derechos de los titulares pueden ignorarse si es costoso atenderlos.",answer:!1,explain:"Los derechos aplican conforme a la normativa; el costo no los invalida."},{id:"pri15",type:"tf",text:"El principio de minimización permite recolectar “por si acaso”.",answer:!1,explain:"Recolectar solo lo necesario para fines específicos."},{id:"pri16",type:"tf",text:"Las evaluaciones de impacto en privacidad (PIA/DPIA) ayudan a identificar riesgos.",answer:!0,explain:"Permiten diseñar mitigaciones antes de implementar el tratamiento."},{id:"pri17",type:"tf",text:"El titular puede solicitar la supresión de sus datos en ciertos casos.",answer:!0,explain:"El derecho de supresión aplica cuando desaparece la finalidad u otros supuestos."},{id:"pri18",type:"tf",text:"Las cookies siempre pueden instalarse sin informar al usuario.",answer:!1,explain:"Se debe informar y, en su caso, recabar consentimiento."},{id:"pri19",type:"tf",text:"Debe mantenerse un registro de consentimientos otorgados y su alcance.",answer:!0,explain:"La trazabilidad del consentimiento es necesaria para demostrar licitud."},{id:"pri20",type:"tf",text:"Es válido compartir datos personales con terceros sin contrato ni garantías.",answer:!1,explain:"Se requieren acuerdos y garantías de protección adecuadas."},{id:"prix11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Configurar privacidad en redes sociales limita quién ve tu información.",answer:!0,explain:"Ajustar visibilidad protege tus datos personales."},{id:"prix12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Compartir tu ubicación en tiempo real siempre es seguro.",answer:!1,explain:"Compartir ubicación aumenta riesgos si no se controla."}],Catálogo:[{id:"cat1",type:"tf",text:"Un catálogo de datos facilita descubrir y entender conjuntos de datos.",answer:!0,explain:"Centraliza metadatos, descripciones y responsables para acelerar el hallazgo."},{id:"cat2",type:"tf",text:"Un diccionario de datos describe campos y su significado.",answer:!0,explain:"Explica qué es cada campo y cómo se usa."},{id:"cat3",type:"tf",text:"Los metadatos ayudan a encontrar datos adecuados para un análisis.",answer:!0,explain:"Los metadatos (descripción, etiquetas, calidad) mejoran la búsqueda y selección."},{id:"cat4",type:"tf",text:"Un catálogo no necesita taxonomías ni etiquetas.",answer:!1,explain:"Taxonomías/etiquetas mejoran el orden y descubrimiento dentro del catálogo."},{id:"cat5",type:"tf",text:"El metadato “propietario” es clave para la gobernanza.",answer:!0,explain:"Acelera decisiones y clarifica responsabilidades."},{id:"cat6",type:"tf",text:"La calidad de metadatos impacta directamente la utilidad del catálogo.",answer:!0,explain:"Metadatos pobres dificultan el hallazgo y pueden conducir a mal uso del dato."},{id:"cat7",type:"tf",text:"Etiquetas coherentes facilitan encontrar datasets relacionados.",answer:!0,explain:"Etiquetar bien mejora el descubrimiento."},{id:"cat8",type:"tf",text:"Un catálogo sin buscador sigue siendo igual de útil.",answer:!1,explain:"El buscador es clave cuando crece el contenido."},{id:"cat9",type:"tf",text:"La fecha de actualización ayuda a elegir datos vigentes.",answer:!0,explain:"Evita usar información desactualizada."},{id:"cat10",type:"tf",text:"La participación de usuarios mejora la calidad del catálogo.",answer:!0,explain:"Sugerencias y correcciones elevan la utilidad."},{id:"cat11",type:"tf",text:"Un catálogo es solo una vitrina; no necesita gobierno ni procesos.",answer:!1,explain:"Requiere cuidado continuo: roles, calidad de metadatos y procesos."},{id:"cat12",type:"tf",text:"Es mejor permitir descripciones libres sin estructura en el catálogo.",answer:!1,explain:"Plantillas y campos estructurados mejoran la búsqueda y calidad."},{id:"cat13",type:"tf",text:"Actualizar metadatos no es necesario si el dataset cambia poco.",answer:!1,explain:"La vigencia de metadatos es clave para la confianza y el reuso."},{id:"cat14",type:"tf",text:"Los responsables de datos no deben figurar en el catálogo.",answer:!1,explain:"El contacto/responsable facilita soporte y decisiones."},{id:"cat15",type:"tf",text:"Un catálogo sin control de calidad funciona igual que uno curado.",answer:!1,explain:"La curaduría mejora utilidad, precisión y adopción."},{id:"cat16",type:"tf",text:"Definir campos obligatorios en metadatos mejora la calidad del catálogo.",answer:!0,explain:"Obligatoriedad mínima evita registros incompletos o ambiguos."},{id:"cat17",type:"tf",text:"La búsqueda semántica nunca aporta valor en catálogos.",answer:!1,explain:"Puede mejorar el descubrimiento al entender intención y sinónimos."},{id:"cat18",type:"tf",text:"No es necesario versionar datasets publicados.",answer:!1,explain:"El versionado permite reproducibilidad y comunicación de cambios."},{id:"cat19",type:"tf",text:"Métricas de uso ayudan a priorizar mejoras en metadatos y datasets.",answer:!0,explain:"El uso real orienta dónde invertir esfuerzos de curaduría."},{id:"cat20",type:"tf",text:"El catálogo debe almacenar los datos, no solo metadatos.",answer:!1,explain:"El catálogo referencia y documenta; no reemplaza los repositorios de datos."},{id:"catx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Mantener ordenadas carpetas personales no influye en catálogos de datos.",answer:!1,explain:"El orden personal también inspira mejores prácticas organizacionales."},{id:"catx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Una buena documentación acelera el aprendizaje de herramientas.",answer:!0,explain:"Documentar reduce curva de aprendizaje."}],Propiedad:[{id:"pro1",type:"tf",text:"El data owner es responsable del uso y calidad del dato.",answer:!0,explain:"Define reglas, prioriza mejoras y asume responsabilidad por el dato."},{id:"pro2",type:"tf",text:"Data steward y data owner siempre son la misma persona.",answer:!1,explain:"El steward opera el dato; el owner es responsable. Pueden ser roles distintos."},{id:"pro3",type:"tf",text:"Definir responsables aclara quién decide sobre cambios en el dato.",answer:!0,explain:"La asignación de roles evita ambigüedad y acelera decisiones."},{id:"pro4",type:"tf",text:"El data steward gestiona la calidad y tareas del día a día del dato.",answer:!0,explain:"Ayuda a que el dato esté bien cuidado y documentado."},{id:"pro5",type:"tf",text:"Sin propietarios definidos, la calidad tiende a mejorar.",answer:!1,explain:"Sin responsables claros, la calidad suele degradarse por falta de cuidado."},{id:"pro6",type:"tf",text:"La matriz RACI ayuda a clarificar roles y responsabilidades sobre el dato.",answer:!0,explain:"RACI = Responsable, Aprobador, Consultado e Informado. Sirve para definir quién hace qué."},{id:"pro7",type:"tf",text:"Definir sustitutos del propietario evita bloqueos por ausencias.",answer:!0,explain:"Garantiza continuidad de decisiones."},{id:"pro8",type:"tf",text:"Roles y límites claros reducen conflictos entre equipos.",answer:!0,explain:"Cada uno sabe qué puede decidir."},{id:"pro9",type:"tf",text:"Un owner puede delegar tareas pero no la responsabilidad final.",answer:!0,explain:"La rendición de cuentas sigue en el owner."},{id:"pro10",type:"tf",text:"Sin un modelo de roles, la gobernanza funciona igual de bien.",answer:!1,explain:"La falta de estructura genera retrasos y errores."},{id:"pro11",type:"tf",text:"Designar múltiples owners por dato siempre reduce ambigüedad.",answer:!1,explain:"Demasiados owners diluyen la responsabilidad; debe haber claridad."},{id:"pro12",type:"tf",text:"La ausencia de responsables no afecta los tiempos de respuesta.",answer:!1,explain:"Sin responsables, las decisiones se retrasan y la calidad sufre."},{id:"pro13",type:"tf",text:"El owner puede transferir la rendición de cuentas a cualquier rol.",answer:!1,explain:"Puede delegar tareas, no la responsabilidad final."},{id:"pro14",type:"tf",text:"No es necesario documentar reemplazos del owner en vacaciones.",answer:!1,explain:"Definir sustitutos evita bloqueos operativos."},{id:"pro15",type:"tf",text:"Un RACI complejo siempre es mejor que un RACI simple.",answer:!1,explain:"La claridad prima sobre la complejidad; evita confusión."},{id:"pro16",type:"tf",text:"Definir KPI de calidad por cada owner ayuda a rendir cuentas.",answer:!0,explain:"Los indicadores facilitan seguimiento y priorización de mejoras."},{id:"pro17",type:"tf",text:"Cambiar el owner de un dato cada semana mejora la agilidad.",answer:!1,explain:"La rotación frecuente genera confusión y diluye responsabilidades."},{id:"pro18",type:"tf",text:"Los comités de datos ayudan a resolver conflictos y tomar decisiones.",answer:!0,explain:"Gobernanza colegiada alinea áreas y acelera acuerdos."},{id:"pro19",type:"tf",text:"La rendición de cuentas no aplica a datos no críticos.",answer:!1,explain:"Todos los datos requieren responsables con rendición de cuentas."},{id:"pro20",type:"tf",text:"Documentar roles en el catálogo mejora la visibilidad de responsables.",answer:!0,explain:"Permite ubicar owners/stewards y solicitar soporte."},{id:"prox11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Un cronograma claro ayuda a coordinar proyectos.",answer:!0,explain:"La planificación mejora la ejecución."},{id:"prox12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Las reuniones sin agenda suelen ser eficientes.",answer:!1,explain:"La agenda mejora foco y tiempos."}],Trazabilidad:[{id:"tra1",type:"tf",text:"La trazabilidad permite conocer el origen y transformaciones del dato.",answer:!0,explain:"Registrar orígenes y procesos facilita auditorías y resolución de problemas."},{id:"tra2",type:"tf",text:"El linaje de datos no es relevante para auditorías.",answer:!1,explain:"El linaje es clave para demostrar dónde, cómo y por quién pasó el dato."},{id:"tra3",type:"tf",text:"El linaje ayuda a ver el impacto de cambios en las fuentes.",answer:!0,explain:"Saber de dónde viene el dato permite evaluar riesgos antes de cambiarlo."},{id:"tra4",type:"tf",text:"El linaje de datos describe el origen y las transformaciones del dato.",answer:!0,explain:"Es el rastro de dónde viene el dato y cómo cambió en el camino."},{id:"tra5",type:"tf",text:"Registrar transformaciones ayuda a reproducir resultados.",answer:!0,explain:"La reproducibilidad requiere conocer las transformaciones intermedias."},{id:"tra6",type:"tf",text:"Las herramientas de linaje pueden capturar orígenes de forma automática.",answer:!0,explain:"Reducen trabajo manual y errores."},{id:"tra7",type:"tf",text:"El linaje apoya el cumplimiento en auditorías.",answer:!0,explain:"Demuestra la ruta del dato y controles aplicados."},{id:"tra8",type:"tf",text:"No es útil registrar versiones de scripts de transformación.",answer:!1,explain:"Versionar scripts es clave para reproducir y auditar."},{id:"tra9",type:"tf",text:"Identificadores únicos ayudan a seguir registros entre sistemas.",answer:!0,explain:"Facilitan correlacionar eventos a través del flujo."},{id:"tra10",type:"tf",text:"La trazabilidad aumenta la confianza en reportes y decisiones.",answer:!0,explain:"Transparencia = mayor credibilidad."},{id:"tra11",type:"tf",text:"Si el equipo recuerda los pasos, no hace falta documentar el linaje.",answer:!1,explain:"La memoria es falible; se requiere registro verificable."},{id:"tra12",type:"tf",text:"El linaje solo interesa a TI, no al negocio.",answer:!1,explain:"Ambos lo usan: impacto de cambios, calidad y auditorías."},{id:"tra13",type:"tf",text:"Las transformaciones manuales no necesitan trazabilidad.",answer:!1,explain:"Toda transformación relevante debe quedar registrada."},{id:"tra14",type:"tf",text:"Versionar scripts es innecesario si hay backups.",answer:!1,explain:"Versionado y backup resuelven problemas distintos."},{id:"tra15",type:"tf",text:"El linaje no ayuda a resolver discrepancias entre reportes.",answer:!1,explain:"Permite ubicar dónde cambió el dato y por qué."},{id:"tra16",type:"tf",text:"Capturar el ID de ejecución y parámetros mejora la reproducibilidad.",answer:!0,explain:"Permite repetir un proceso con exactitud y auditarlo."},{id:"tra17",type:"tf",text:"El linaje puede omitirse en pipelines por lotes (batch).",answer:!1,explain:"Batch o streaming, el linaje sigue siendo necesario para auditar."},{id:"tra18",type:"tf",text:"Automatizar la captura de linaje en ETL/ELT facilita auditorías.",answer:!0,explain:"Reduce errores manuales y mejora cobertura del linaje."},{id:"tra19",type:"tf",text:"No hace falta registrar versiones de las fuentes de datos.",answer:!1,explain:"Las versiones permiten rastrear cambios e impactos."},{id:"tra20",type:"tf",text:"Los catálogos no deben incluir información de linaje.",answer:!1,explain:"Linaje + metadatos en el catálogo incrementan la confianza y trazabilidad."},{id:"trax11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Anotar pasos a mano puede ayudar a recordar cambios.",answer:!0,explain:"Registrar pasos evita olvidar decisiones."},{id:"trax12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Los historiales de edición no sirven para aprender de errores.",answer:!1,explain:"Revisar historial ayuda a mejorar procesos."}],Políticas:[{id:"pol1",type:"tf",text:"Las políticas de datos definen reglas de uso, acceso y retención.",answer:!0,explain:"Establecen el marco formal que guía el manejo y protección del dato."},{id:"pol2",type:"tf",text:"Si existen políticas, no se necesitan controles técnicos.",answer:!1,explain:"Política y controles se complementan: reglas + mecanismos para cumplirlas."},{id:"pol3",type:"tf",text:"Las políticas deben ser comunicadas y versionadas.",answer:!0,explain:"Comunicar y versionar mantiene a todos alineados con los cambios."},{id:"pol4",type:"tf",text:"Los procedimientos convierten políticas en pasos claros.",answer:!0,explain:"Son instrucciones para cumplir lo que dicen las políticas."},{id:"pol5",type:"tf",text:"Las políticas no aplican a datos no estructurados.",answer:!1,explain:"Las políticas aplican a todos los datos, estructurados o no."},{id:"pol6",type:"tf",text:"Las políticas deben indicar responsables y excepciones permitidas.",answer:!0,explain:"Aclaran quién decide y en qué casos."},{id:"pol7",type:"tf",text:"Sin capacitación, las políticas pueden no cumplirse.",answer:!0,explain:"La formación ayuda a aplicarlas correctamente."},{id:"pol8",type:"tf",text:"La política de retención define cuánto tiempo guardar datos.",answer:!0,explain:"Evita retener más de lo necesario."},{id:"pol9",type:"tf",text:"Las sanciones pueden ayudar a hacer cumplir las políticas.",answer:!0,explain:"Refuerzan la importancia del cumplimiento."},{id:"pol10",type:"tf",text:"No es necesario medir el cumplimiento de políticas.",answer:!1,explain:"Medir permite mejorar y corregir desviaciones."},{id:"pol11",type:"tf",text:"Las políticas por sí solas garantizan el cumplimiento sin capacitación.",answer:!1,explain:"Se requiere formación, procesos y controles."},{id:"pol12",type:"tf",text:"Versionar políticas es innecesario si se comunican por correo.",answer:!1,explain:"El versionado controla cambios y asegura trazabilidad."},{id:"pol13",type:"tf",text:"Las excepciones nunca deben documentarse.",answer:!1,explain:"Documentarlas permite controlarlas y aprender de ellas."},{id:"pol14",type:"tf",text:"Medir cumplimiento puede omitirse si no hay auditorías externas.",answer:!1,explain:"La mejora continua requiere medición, haya o no auditorías."},{id:"pol15",type:"tf",text:"Las políticas no aplican a proveedores ni terceros.",answer:!1,explain:"Alcance y obligaciones deben incluir terceros."},{id:"pol16",type:"tf",text:"Las políticas deben alinearse con leyes y regulaciones vigentes.",answer:!0,explain:"El marco normativo guía el contenido y su aplicación."},{id:"pol17",type:"tf",text:"No hace falta publicar las políticas a los usuarios afectados.",answer:!1,explain:"La comunicación y disponibilidad son requisitos para el cumplimiento."},{id:"pol18",type:"tf",text:"Debe definirse el proceso de aprobación y control de excepciones.",answer:!0,explain:"Las excepciones controladas requieren trazabilidad y responsables."},{id:"pol19",type:"tf",text:"Las políticas pueden ser contradictorias entre sí sin problema.",answer:!1,explain:"La coherencia es clave para evitar ambigüedad e incumplimientos."},{id:"pol20",type:"tf",text:"Revisiones periódicas por un comité aseguran vigencia y efectividad.",answer:!0,explain:"La gobernanza debe mantenerlas actualizadas y efectivas."},{id:"polx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Tener normas de convivencia mejora el trabajo en equipo.",answer:!0,explain:"Reglas claras facilitan colaboración."},{id:"polx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Las reglas claras empeoran la comunicación.",answer:!1,explain:"Claridad mejora la comunicación."}],Interoperabilidad:[{id:"int1",type:"tf",text:"Los estándares y formatos abiertos mejoran la interoperabilidad.",answer:!0,explain:"Facilitan el intercambio al reducir dependencias de proveedor."},{id:"int2",type:"tf",text:"La interoperabilidad solo importa entre sistemas internos.",answer:!1,explain:"También es clave para integraciones con socios, clientes y terceros."},{id:"int3",type:"tf",text:"Las API bien documentadas facilitan la integración entre sistemas.",answer:!0,explain:"API = Interfaz de Programación de Aplicaciones. Una buena documentación evita errores al conectar sistemas."},{id:"int4",type:"tf",text:"JSON (JavaScript Object Notation) es un formato común para intercambio de datos.",answer:!0,explain:"Es ligero, legible y ampliamente soportado."},{id:"int5",type:"tf",text:"Los esquemas y contratos evitan rupturas entre integraciones.",answer:!0,explain:"Los contratos estables permiten compatibilidad y evolución controlada."},{id:"int6",type:"tf",text:"Versionar las API ayuda a mantener compatibilidad mientras evolucionan.",answer:!0,explain:"API = Interfaz de Programación de Aplicaciones. Versionar evita romper clientes existentes y permite introducir cambios de forma controlada."},{id:"int7",type:"tf",text:"Las pruebas de contrato detectan rupturas temprano.",answer:!0,explain:"Validan que los acuerdos entre servicios sigan válidos."},{id:"int8",type:"tf",text:"Alinear tipos y codificaciones evita errores de interpretación.",answer:!0,explain:"Conviene acordar juegos de caracteres y tipos."},{id:"int9",type:"tf",text:"La interoperabilidad mejora con documentación y ejemplos de uso.",answer:!0,explain:"Ejemplos reducen ambigüedades al integrar."},{id:"int10",type:"tf",text:"Ignorar versiones de una API rara vez causa problemas.",answer:!1,explain:"Rompe clientes y genera fallos en producción."},{id:"int11",type:"tf",text:"Si dos sistemas “hablan” JSON, ya no se necesitan contratos.",answer:!1,explain:"El contrato define estructura y semántica; formato no basta."},{id:"int12",type:"tf",text:"La documentación de APIs puede omitirse si el código es claro.",answer:!1,explain:"La doc publica y ejemplos reducen errores de integración."},{id:"int13",type:"tf",text:"Cambiar un campo en la API sin comunicar no afecta a los clientes.",answer:!1,explain:"Es ruptura silenciosa; se debe versionar y comunicar."},{id:"int14",type:"tf",text:"Las pruebas de contrato sobran cuando hay tests unitarios.",answer:!1,explain:"Validan la compatibilidad entre servicios, no solo lógica interna."},{id:"int15",type:"tf",text:"Los esquemas no deben validar tipos para evitar rechazos.",answer:!1,explain:"Validar tipos previene errores de interpretación y fallos."},{id:"int16",type:"tf",text:"Definir OpenAPI/JSON Schema facilita integraciones consistentes.",answer:!0,explain:"Contratos claros reducen rupturas y malentendidos."},{id:"int17",type:"tf",text:"La codificación de caracteres (p. ej., UTF-8) es irrelevante para integrar.",answer:!1,explain:"Acordar codificación evita errores de caracteres y datos corruptos."},{id:"int18",type:"tf",text:"Las pruebas de compatibilidad hacia atrás ayudan en cambios de API.",answer:!0,explain:"Garantizan que clientes antiguos sigan funcionando."},{id:"int19",type:"tf",text:"Se pueden cambiar nombres de campos en producción sin previo aviso.",answer:!1,explain:"Es ruptura; se debe versionar y comunicar cambios."},{id:"int20",type:"tf",text:"No es necesario documentar límites de tasa (rate limits) ni tiempos de respuesta.",answer:!1,explain:"Son parte del contrato de servicio y su SLO."},{id:"intx11",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Nombres claros en variables ayudan a entender el código.",answer:!0,explain:"Claridad mejora mantenimiento."},{id:"intx12",type:"tf",offTopic:!0,text:"Nota: esta pregunta está un poco salida del tema (reserva). Copiar y pegar datos a mano siempre es mejor que automatizar.",answer:!1,explain:"La automatización reduce errores humanos."}]};function mN(i,e=new Set,t=[]){const s=[...pN[i]||[],...t||[]];if(!s.length)return null;const o=s.filter(y=>!e.has(y.id)),c=o.filter(y=>!y.offTopic),h=o.filter(y=>y.offTopic),p=c.length?c:h.length?h:s,g=Math.floor(Math.random()*p.length);return p[g]}async function gN(i,e,t,s,o,c){if(!i){console.warn("persistQuizOutcome: db no definido");return}if(!e){console.warn("persistQuizOutcome: uid vacío");return}if(!s){console.warn("persistQuizOutcome: spinResult null");return}const h=Number.isFinite(s.points)?s.points:0;try{const A=Bo(i,"quizEvents");await qm(A,{uid:e,category:s.label,points:h,questionId:o?.id||null,correct:!!c,createdAt:ma()})}catch(A){console.warn("quizEvents not persisted:",A?.message||A)}const p=qo(i,"userstats",e),g=Bo(i,"spins"),y=h,_=c?y:-y;try{await qm(g,{uid:e,label:`${s.label}${c?"":" (fallo)"}`,points:_,createdAt:ma()})}catch(A){console.error("addDoc spins error:",A?.code,A?.message)}try{await J1(i,async A=>{const R=await A.get(p),j=R.exists()?R.data():{totalScore:0,totalSpins:0,displayName:t||"Anónimo"},Q={displayName:t||j.displayName||"Anónimo",totalScore:(j.totalScore||0)+_,totalSpins:(j.totalSpins||0)+1,updatedAt:ma()};A.set(p,Q,{merge:!0})})}catch(A){console.error("runTransaction stats error:",A?.code,A?.message)}}const yN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASYAAACrCAMAAAD8Q8FaAAAAe1BMVEUAj77///8kmsQAjb0AibsAi7wAhbmr1OUAirwAh7p4ttTG4+8il8Kl0eRHocgyn8fS6fJps9Lc7vXC2+n0+/34/f5brM7l8/htsNB4u9eIv9hUqcy01+eZy+DK5fDq9fmAv9lfsNCUw9u/2ei93+yfz+KTyd/O6PFap8tXhBcNAAAFCUlEQVR4nO3de3+aPBgG4EASJBVE8UBVxFrt4ft/wpcAygOFSt328vy2+/pvGaVwL8ScmMKFAYSEAQQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwL9JSq3xvu0d0o+2r6+LQI19IazpKHEKWTD2pTAm5dGpxP7YF8OX3jg37tgXw5d+qWPaoB3vo3d1TAvE1IfWphNi6kPbpggx9cEn3TC3flMcoDJ9Q+qiF+5ivHIHxnQA8Dgpuv8bNlt+t1RqZXytlepphPLDf89Vjkkq4ynh7vf7KDCaFCtjjHBdN/DrYltoj3bzY1Vx83lE+106j5Mkzg57jwaiTH5qTwdRIDxT/YXMS77Kf5PpC5kHuc/i9bUTuD5cq4mcnbN4VRUnuyqn6DydJ9ejs5PKw9xcHCLZ1BNwQbrMkuuJL2UvXIqV89V6lcQfy8Mm4BuV3Dau+FLdpnzuKKaDj2I46y3i9i2n15zkrBlFMTHXHVOd8pvLdJ5TLppXWo29WjE5ri1ux3RMO271YqoTN2NyQlsj78SUS4XuvdYRtWN6Ka+yHVPx2LVj6raoztCKKbbx3Y/JWW84Vqh2TIfumN6Gx7Qq27d2TOuBMTnOlmFOrbbJCctrbMdUFA+LydkWSbdjcuwZBsXEcaZTziZheLhNeNxi+lwul+dWsZzlhcvs3l1mZesU2TPMmzEJccmyrD5tcggL58ZHwZHhrEs+NFVefTfh9aMu78p401axtH0pl95QnB5274fJ7ZPfWle9CnsGUinLEyulvPBWdvG0lXfHxDs5w45lMy7M15gs1Y7Jog9TZLvevm9vkz679UylfGrHZE87qWOqf5si8ccMWyfxeExkss281cWfj8QkFFlg4Dm8eTim+lhJKsPioZhEUB87+1tjEvqXY9LrjjNwwiMmU8f0xLIN5xFT0HUGTljERBc/ea7qcYhJBvUz5zDsXwoOMWnl1n3zaz+em/Fi8lRp35jdY7rhYLSYnFXJaZjzrEwjxtTlyHUHIquYEpfnI9eIaTJ2TCHbZQMaUzpqTMm7MGxTojFNSfP5/8eUen/4Tn+JITOSZEHX/PGY4sV2u12QOb0937qUX/iZ1Pso78toO01pRFfL/ltjmtrZS0Wm2I+cvynNpzOszmqahuflB523dd48OxFrDYjpZPKgy4PvxVQUkslkJ2TaZ7LuL5kkl8v0Ui7c3o9pOpmk7+XyyqCYJJkbYDojV/LJsLNfMW4fEJNV9qSHxSTUoT4sZtyKKzKT/WhMzaR/FJMwZNy747leYA1bZvw2JtVoy34YkzyRH2W861dH5N/zdqvvzT9/H1Nz38XPYhIe6ZJM+VYnoWVjKiOXLJRu7sv5NiY6R/vzmOjCzHWzBkvSuClpXqYno4XUu2Iv2PoYx8u3Xfk0zJK4kjQeD+lOq+fuGM8v23K/RWdMdb37qAtJK77muUxXkUpuXtN58pG+7q9DK19JEdiXUfOe0HVM6t/I1s9rEeTswvq13xREN/XBdWH9lp3U5KlPGXeeRLmfIL9F5ZNR+o++RPjLwd3fQ9xVpukOItZjlnGR/R5OoqXdgjH2JXEkI1KdJp+5Dd587aBCp4XpBp5xfe3jIqYueoGYhiCzqIipnwxWiGkAHTQ2wL4gph4meN7tXp6e964wHlLqV3Qs5V/xdhkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwD9NwgD2ey3hrv8AmShTwjAe92YAAAAASUVORK5CYII=";function Hm({open:i,title:e,onClose:t,children:s,hideClose:o=!1}){return i?x.jsx("div",{role:"dialog","aria-modal":"true","aria-label":e,style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(0,0,0,.55)",display:"grid",placeItems:"center",padding:"12px"},onClick:t,children:x.jsxs("div",{style:{width:"min(560px, 96vw)",maxHeight:"90vh",overflow:"auto",background:"#0f1115",color:"#eaeaea",border:"1px solid #333",borderRadius:12,boxShadow:"0 20px 60px rgba(0,0,0,.55)"},onClick:c=>c.stopPropagation(),children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"10px 12px",borderBottom:"1px solid #222"},children:[x.jsx("strong",{style:{fontSize:16},children:e}),!o&&x.jsx("button",{onClick:t,className:"btn btn-sm",style:{marginLeft:"auto",borderRadius:8,border:"1px solid var(--stroke)",background:"#18181b",color:"#fafafa",padding:"6px 10px"},children:"Cerrar"})]}),x.jsx("div",{style:{padding:12},children:s})]})}):null}function vN({open:i,onClose:e,soundOn:t,onToggleSound:s,onExit:o}){return x.jsx(Hm,{open:i,title:"Ajustes",onClose:e,hideClose:!0,children:x.jsxs("div",{style:{display:"grid",gap:16},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[x.jsx("span",{children:"Sonido"}),x.jsx("button",{type:"button",onClick:s,className:`switch ${t?"on":""}`,"aria-pressed":t,"aria-label":"Activar o desactivar sonido",children:x.jsx("span",{className:"switch-knob"})})]}),x.jsx("button",{onClick:()=>{e?.(),o?.()},className:"btn",style:{marginTop:4},children:"Salir del juego"})]})})}function wN({open:i,level:e,streak:t,onClose:s}){return i?x.jsx("div",{onClick:s,style:{position:"fixed",inset:0,background:"rgba(0,0,0,.5)",display:"grid",placeItems:"center",zIndex:70},children:x.jsxs("div",{onClick:o=>o.stopPropagation(),style:{background:"#0b0b0b",border:"1px solid #3f3f46",borderRadius:16,padding:20,boxShadow:"0 14px 40px rgba(0,0,0,.45)",textAlign:"center",width:"min(520px, 92vw)"},children:[x.jsxs("div",{style:{fontSize:22,fontWeight:900,marginBottom:6},children:[e===1&&"🔥 ¡Racha de 3!",e===2&&"⚡ ¡Racha de 7!",e===3&&(t>=10?"🏆 ¡Racha 10+!":"🏆 ¡Racha de 10!")]}),x.jsxs("div",{style:{opacity:.9,marginBottom:12},children:["¡Sigue así! Racha actual: ",x.jsx("b",{children:t})]}),x.jsx("button",{onClick:s,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"8px 12px"},children:"Continuar"})]})}):null}function _N({streak:i,score:e,onOpenTop10:t,profileError:s}){return x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8,flexWrap:"wrap",rowGap:6},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[x.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Racha: ",x.jsx("b",{children:i})]}),x.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",x.jsx("b",{children:e})]})]}),x.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:x.jsx("button",{className:"btn btn-sm",onClick:t,style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",padding:"4px 10px",borderRadius:8},children:"Top 10"})}),s&&x.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:6,fontSize:12,marginLeft:0,marginTop:6},children:s})]})}function bN(){return x.jsxs("div",{className:"brand",children:[x.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24","aria-hidden":!0,children:x.jsx("path",{d:"M12 2l4 7-4 2-4-2 4-7zm0 20l-4-7 4-2 4 2-4 7z"})}),x.jsx("span",{children:"Gobierno del Dato y toma de decisiones"})]})}function Fm(i,e,t,s){const o=(s-90)*Math.PI/180;return{x:i+t*Math.cos(o),y:e+t*Math.sin(o)}}const EN=Fm;function TN(i,e,t=36){const s=e*Math.PI/180,o=2*t*Math.sin(s/2)*.9,p=Math.min(5.2,o/(.6*Math.max(1,i.length)));return Math.max(3.2,p)}const Er=[{label:"Calidad",points:10,color:"#60a5fa"},{label:"Seguridad",points:9,color:"#f59e0b"},{label:"Privacidad",points:9,color:"#10b981"},{label:"Catálogo",points:8,color:"#a78bfa"},{label:"Propiedad",points:8,color:"#f472b6"},{label:"Trazabilidad",points:7,color:"#34d399"},{label:"Políticas",points:7,color:"#f87171"},{label:"Interoperabilidad",points:6,color:"#22d3ee"}];function hb({onResult:i,disabled:e,onBeforeFirstSpin:t,soundOn:s=!0}){const[o,c]=re.useState(!1),[h,p]=re.useState(0),[g,y]=re.useState(!1),[_,A]=re.useState(3800),[R,j]=re.useState(!1),[Q,ee]=re.useState(!1),[K,ne]=re.useState(0),[ue,le]=re.useState(!1),[ke,ge]=re.useState(!1),[he,O]=re.useState(!1),S=re.useRef(!1),I=re.useRef(0),M=re.useRef(0),D=re.useRef({start:0,handledClick:!1}),k=re.useRef(null),T=re.useRef({ctx:null,osc:null,gain:null}),Ee=re.useRef(null),Me=re.useRef(null),F=Ae=>{if(Ae<=0)return"conic-gradient(rgba(255,255,255,0.05) 0deg 360deg)";const we=Ae*360,Ge=Math.max(0,Math.min(we,we*.25)),Be=Math.max(Ge,Math.min(we,we*.55)),ft=Math.max(Be,Math.min(we,we*.8)),me=we,Le=`#06d6a0 0deg, #06d6a0 ${Ge}deg, #ffd400 ${Be}deg, #ff6b00 ${ft}deg, #ff2d55 ${me}deg`,Ze=`rgba(255,255,255,0.05) ${me}deg 360deg`;return`conic-gradient(${Le}, ${Ze}), radial-gradient(circle at 50% 50%, rgba(255,180,0,${.35+Ae*.25}), rgba(255,80,0,0) 70%)`},ie=360/Er.length,fe=36,Pe=async(Ae=0)=>{if(o||e)return;if(M.current=Ae,Ae===0&&!S.current&&I.current===1)try{localStorage.getItem("powerHintV3Shown")||(O(!0),localStorage.setItem("powerHintV3Shown","1"))}catch{}if(!g&&t){try{t()}catch{}y(!0)}c(!0);try{lN(s)}catch{}const we=Math.max(0,Math.min(1,Ae)),Ge=5+Math.floor(Math.random()*2),Be=Math.round(6*we),ft=Ge+Be,me=3800+Be*280;A(me);const Le=Math.floor(Math.random()*Er.length),In=(Er.length-Le)*ie-ie/2+.1,Pn=(h%360+360)%360,tn=(In-Pn+360)%360,Cn=ft*360+tn,Xi=Math.max(8,Math.floor(Cn/ie)),wt=h+Cn;p(wt),setTimeout(()=>{c(!1),i?.(Er[Le]),!S.current&&M.current===0&&(I.current+=1,I.current>3&&(I.current=3))},me);try{uN(s,{durationMs:me,totalTicks:Xi})}catch{}},N=()=>{Pe(0)},X=120,se=3500,te=()=>{if(s)try{const Ae=window.AudioContext||window.webkitAudioContext,we=new Ae,Ge=we.createOscillator(),Be=we.createOscillator(),ft=we.createBiquadFilter(),me=we.createGain();Ge.type="triangle",Be.type="triangle",Ge.frequency.setValueAtTime(80,we.currentTime),Be.frequency.setValueAtTime(120,we.currentTime);const Le=we.currentTime+se/1e3;Ge.frequency.linearRampToValueAtTime(220,Le),Be.frequency.linearRampToValueAtTime(320,Le),ft.type="lowpass",ft.frequency.setValueAtTime(300,we.currentTime),ft.frequency.linearRampToValueAtTime(1200,Le),me.gain.setValueAtTime(.02,we.currentTime),me.gain.linearRampToValueAtTime(.06,Le),Ge.connect(ft),Be.connect(ft),ft.connect(me),me.connect(we.destination),Ge.start(),Be.start(),T.current={ctx:we,osc:[Ge,Be],gain:me}}catch{}},pe=()=>{try{const{ctx:Ae,osc:we,gain:Ge}=T.current||{};Array.isArray(we)?we.forEach(Be=>{try{Be.stop(),Be.disconnect()}catch{}}):we&&(we.stop(),we.disconnect()),Ge&&Ge.disconnect(),Ae&&Ae.state!=="closed"&&Ae.close()}catch{}T.current={ctx:null,osc:null,gain:null}},Ne=()=>{if(o||e)return;D.current.start=Date.now(),D.current.handledClick=!0,j(!0),le(!1),ge(!1),ne(0);try{navigator?.vibrate&&navigator.vibrate(10)}catch{}try{k.current=setInterval(()=>{try{navigator?.vibrate&&navigator.vibrate(5)}catch{}},220)}catch{}te();const Ae=()=>{if(!D.current.start)return;const we=Date.now()-D.current.start,Be=Math.min(we,se)/se;if(ne(Be),!ue&&Be>=.999){le(!0);try{navigator?.vibrate&&navigator.vibrate([30,40,30])}catch{}}Me.current=requestAnimationFrame(Ae)};Me.current=requestAnimationFrame(Ae);try{Ee.current&&clearTimeout(Ee.current),Ee.current=setTimeout(()=>{D.current.start&&Te()},se+30)}catch{}},Te=()=>{const Ae=Date.now(),we=D.current.start||Ae,Ge=Ae-we;if(j(!1),k.current&&(clearInterval(k.current),k.current=null),Ee.current&&(clearTimeout(Ee.current),Ee.current=null),pe(),Me.current&&(cancelAnimationFrame(Me.current),Me.current=null),D.current.start=0,Ge<X){Pe(0);return}const Be=Math.min(Ge,se),ft=Math.max(0,Math.min(1,(Be-X)/(se-X)));if(ee(!0),setTimeout(()=>ee(!1),900),ue&&(ge(!0),setTimeout(()=>ge(!1),1100)),Pe(ft),setTimeout(()=>ne(0),400),ft>0){S.current=!0,he&&O(!1);try{localStorage.setItem("powerHintV3Shown","1")}catch{}}},vt=()=>{o||e||Te()},We=()=>{j(!1),k.current&&(clearInterval(k.current),k.current=null),Ee.current&&(clearTimeout(Ee.current),Ee.current=null),Me.current&&(cancelAnimationFrame(Me.current),Me.current=null),pe(),D.current.start=0,ne(0)},wn=()=>{R&&(j(!1),k.current&&(clearInterval(k.current),k.current=null),Ee.current&&(clearTimeout(Ee.current),Ee.current=null),Me.current&&(cancelAnimationFrame(Me.current),Me.current=null),pe(),D.current.start=0,ne(0))};return x.jsxs("div",{style:{display:"grid",placeItems:"center",gap:12},children:[x.jsx("div",{className:"wheel-legend",children:Er.map(Ae=>x.jsxs("div",{className:"legend-item",children:[x.jsx("span",{className:"legend-swatch",style:{background:Ae.color}}),x.jsx("span",{className:"legend-label",children:Ae.label}),x.jsxs("span",{className:"legend-points",children:["+",Ae.points]})]},Ae.label))}),x.jsxs("div",{className:`wheel-wrap ${R?"hold":""}`,role:"button","aria-label":"Ruleta: tocar o presionar para girar","aria-disabled":o||e,tabIndex:0,onContextMenu:Ae=>{Ae.preventDefault(),Ae.stopPropagation()},onPointerDown:Ne,onPointerUp:vt,onPointerCancel:We,onPointerLeave:wn,onKeyDown:Ae=>{(Ae.key==="Enter"||Ae.key===" ")&&(Ae.preventDefault(),N())},style:{cursor:o||e?"not-allowed":"pointer",pointerEvents:o||e?"none":"auto"},children:[R&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`power-ring ${ue?"power-max":""}`,"aria-hidden":!0,style:{background:F(K),opacity:.85+K*.15,boxShadow:`0 0 ${6+K*10}px ${2+K*4}px rgba(${ue?"255,40,0":"255,100,0"},${.3+K*.45})`}}),x.jsx("div",{className:"hold-ring","aria-hidden":!0}),ue&&x.jsx("div",{className:"power-max-halo","aria-hidden":!0})]}),Q&&x.jsx("div",{className:"flame-ring","aria-hidden":!0}),ke&&x.jsx("div",{className:"flame-ring flame-ring-delay","aria-hidden":!0}),x.jsx("div",{style:{position:"absolute",left:"50%",top:-8,transform:"translateX(-50%)",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"18px solid #f5f5f4",zIndex:2}}),x.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%",borderRadius:"50%",transform:`rotate(${h}deg)`,transition:`transform ${_}ms cubic-bezier(.17,.67,.35,1)`,background:"#0c0c0c"},children:[Er.map((Ae,we)=>{const Ge=we*(360/Er.length),Be=Ge+360/Er.length,ft=Be-Ge<=180?0:1,me=Fm(50,50,49,Be),Le=Fm(50,50,49,Ge),Ze=["M 50 50",`L ${me.x} ${me.y}`,`A 49 49 0 ${ft} 0 ${Le.x} ${Le.y}`,"Z"].join(" "),In=EN(50,50,fe+1.5,Ge+360/Er.length/2),Pn=TN(Ae.label,ie,fe);return x.jsxs("g",{children:[x.jsx("path",{d:Ze,fill:Ae.color,stroke:"#0b0b0b",strokeWidth:"0.6"}),x.jsx("text",{x:In.x,y:In.y,fontSize:Pn,fill:"#0b0b0b",textAnchor:"middle",dominantBaseline:"middle",style:{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"},children:Ae.label})]},Ae.label)}),x.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#111827",stroke:"#d4d4d8",strokeWidth:"1.2"})]})]}),x.jsx("button",{className:"spin-btn",onContextMenu:Ae=>{Ae.preventDefault(),Ae.stopPropagation()},onPointerDown:Ne,onPointerUp:vt,onPointerCancel:We,onPointerLeave:wn,onClick:()=>{if(D.current.handledClick){D.current.handledClick=!1;return}Pe(0)},disabled:o||e,style:{padding:"10px 16px",borderRadius:10,border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",opacity:o||e?.7:1},children:o?"Girando…":"🎡 ¡Girar ruleta!"}),he&&x.jsx("div",{className:"turbo-hint-overlay",role:"dialog","aria-modal":"true","aria-label":"Cómo activar turbo",children:x.jsxs("div",{className:"turbo-hint-box",children:[x.jsx("div",{className:"turbo-hint-fire-bg","aria-hidden":!0}),x.jsx("h3",{children:"🔥 CARGA EL TURBO 🔥"}),x.jsx("p",{children:"Mantén presionado sobre la ruleta o el botón para acumular potencia y obtener MÁS VUELTAS. Suelta para un estallido de fuego."}),x.jsxs("ul",{children:[x.jsx("li",{children:"Hasta +6 vueltas extra"}),x.jsx("li",{children:"Vibración y efecto de fuego"}),x.jsx("li",{children:"Pulso al 100% de carga"})]}),x.jsx("button",{type:"button",className:"turbo-hint-close",onClick:()=>O(!1),children:"¡Entendido!"})]})})]})}function AN({rank:i}){const e=i===1?"#fbbf24":i===2?"#d1d5db":i===3?"#cd7f32":null;return e?x.jsx("span",{style:{width:18,height:18,display:"inline-grid",placeItems:"center",borderRadius:"50%",background:e,color:"#0b0b0b",fontSize:12,fontWeight:900,marginRight:8,boxShadow:"0 0 0 1px #0b0b0b inset, 0 1px 2px rgba(0,0,0,.35)"},"aria-hidden":!0,children:"★"}):null}function Dd({db:i,currentUser:e,myStats:t}){const s=eT(980),[o,c]=re.useState([]),[h,p]=re.useState(!1),[g,y]=re.useState(null),[_,A]=re.useState(null),R=re.useRef([]),j=re.useRef(new Map),Q=re.useRef(new Map),ee=re.useRef(!0),K=re.useCallback(async()=>{p(!0),y(null);try{const he=await rN(i);c(he)}catch(he){console.error("Top10 load failed:",he),y("Error al consultar los datos del Top 10. Verifica tu conexión o permisos de Firebase."),c([])}finally{p(!1)}},[i]);re.useEffect(()=>{p(!0);const he=sN(i,S=>{if(ee.current){R.current=S,c(S),p(!1),ee.current=!1;return}const I=R.current,M=new Map(I.map((k,T)=>[k.id,{i:T,r:k}])),D=Date.now();S.forEach((k,T)=>{const Ee=M.get(k.id),Me=!!Ee&&Ee.r.totalScore!==k.totalScore,F=!!Ee&&Ee.i!==T;(Me||F)&&j.current.set(k.id,D),F&&Ee.i>T&&Q.current.set(k.id,D)}),c(S),R.current=S,p(!1)},S=>{console.error("Realtime Top10 failed; fallback to manual refresh.",S),p(!1)}),O=()=>K();return window.addEventListener("reload-top10",O),()=>{window.removeEventListener("reload-top10",O),he&&he()}},[i,K]),re.useEffect(()=>{if(!e){A(null);return}if(o.some(S=>S.id===e.uid)){A(null);return}const O=aN(i,t?.totalScore||0,S=>{A(S)},S=>{console.error("rank error:",S)});return()=>{O&&O()}},[i,o,e,t?.totalScore]);const ne=!!e,le=(ne?o.findIndex(he=>he.id===e.uid):-1)>=0,ke=ne?{id:e.uid,displayName:t?.displayName||e.displayName||e.email,totalScore:t?.totalScore||0,totalSpins:t?.totalSpins||0}:null,ge=(he,O,S={})=>{const I=Date.now(),M=j.current.has(he.id)&&I-(j.current.get(he.id)||0)<2200,D=Q.current.has(he.id)&&I-(Q.current.get(he.id)||0)<900,k=`${M?"lb-row-highlight":""} ${D?"lb-rise":""}`.trim();return x.jsxs("tr",{className:k,style:{borderBottom:"1px solid #222"},children:[x.jsxs("td",{style:{padding:"6px 8px 6px 8px",width:"2.8ch",textAlign:"right"},children:["#",O]}),x.jsx("td",{style:{padding:s?"6px 14px 6px 10px":"6px 24px 6px 10px"},children:x.jsxs("div",{style:{display:"inline-flex",alignItems:"center",minWidth:0},children:[x.jsx(AN,{rank:O}),x.jsx("span",{className:M?"lb-text-pop":"",style:{display:"inline-block",maxWidth:"unset",overflow:"visible",textOverflow:"clip",whiteSpace:"nowrap",wordBreak:"keep-all",overflowWrap:"normal"},children:he.displayName||he.id})]})}),x.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:x.jsx("b",{className:M?"lb-text-pop":"",children:he.totalScore||0})}),x.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:he.totalSpins||0})]},S.key||he.id)};return x.jsxs("div",{style:{border:"1px solid #333",borderRadius:12,padding:16,maxWidth:1024,margin:"0 auto"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[x.jsx("b",{style:{flex:1},children:"Top 10 (Total Score)"}),x.jsx("button",{className:"btn btn-primary btn-sm",style:{fontSize:12,padding:"2px 6px",height:26,minWidth:0,borderRadius:7,width:"auto",marginLeft:"auto"},onClick:K,children:"Actualizar"})]}),h&&x.jsx("div",{style:{opacity:.7,fontSize:12},children:"Cargando…"}),g&&x.jsx("div",{style:{color:"#ff6b6b",fontSize:13,marginBottom:8},children:g}),x.jsx("div",{className:"table-wrap",children:x.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14},children:[x.jsx("thead",{children:x.jsxs("tr",{style:{textAlign:"left",opacity:.9},children:[x.jsx("th",{style:{padding:"6px 8px 6px 8px",borderBottom:"1px solid #333",width:"2.8ch",textAlign:"right"},children:"#"}),x.jsx("th",{style:{padding:s?"6px 14px 6px 10px":"6px 24px 6px 10px",borderBottom:"1px solid #333"},children:"Nombre"}),x.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Score total"}),x.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid #333",textAlign:"center"},children:"Giros totales"})]})}),x.jsxs("tbody",{children:[o.map((he,O)=>ge(he,O+1)),ne&&!le&&ke&&x.jsxs(x.Fragment,{children:[x.jsx("tr",{children:x.jsx("td",{colSpan:4,style:{padding:4}})}),ge(ke,_??"—",{key:"me"})]})]})]})})]})}/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function nT(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function SN(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fb(i,e){return i.get(nT(i,e))}function xN(i,e,t){SN(i,e),e.set(i,t)}function RN(i,e,t){return i.set(nT(i,e),t),t}const IN=100,be={},CN=()=>{be.previousActiveElement instanceof HTMLElement?(be.previousActiveElement.focus(),be.previousActiveElement=null):document.body&&document.body.focus()},DN=i=>new Promise(e=>{if(!i)return e();const t=window.scrollX,s=window.scrollY;be.restoreFocusTimeout=setTimeout(()=>{CN(),e()},IN),window.scrollTo(t,s)}),iT="swal2-",NN=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],G=NN.reduce((i,e)=>(i[e]=iT+e,i),{}),kN=["success","warning","info","question","error"],fh=kN.reduce((i,e)=>(i[e]=iT+e,i),{}),rT="SweetAlert2:",ey=i=>i.charAt(0).toUpperCase()+i.slice(1),xn=i=>{console.warn(`${rT} ${typeof i=="object"?i.join(" "):i}`)},xa=i=>{console.error(`${rT} ${i}`)},pb=[],ON=i=>{pb.includes(i)||(pb.push(i),xn(i))},sT=(i,e=null)=>{ON(`"${i}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},$h=i=>typeof i=="function"?i():i,ty=i=>i&&typeof i.toPromise=="function",Xc=i=>ty(i)?i.toPromise():Promise.resolve(i),ny=i=>i&&Promise.resolve(i)===i,Rn=()=>document.body.querySelector(`.${G.container}`),Wc=i=>{const e=Rn();return e?e.querySelector(i):null},Xn=i=>Wc(`.${i}`),et=()=>Xn(G.popup),tl=()=>Xn(G.icon),MN=()=>Xn(G["icon-content"]),aT=()=>Xn(G.title),iy=()=>Xn(G["html-container"]),oT=()=>Xn(G.image),ry=()=>Xn(G["progress-steps"]),Yh=()=>Xn(G["validation-message"]),Yi=()=>Wc(`.${G.actions} .${G.confirm}`),nl=()=>Wc(`.${G.actions} .${G.cancel}`),Ra=()=>Wc(`.${G.actions} .${G.deny}`),VN=()=>Xn(G["input-label"]),il=()=>Wc(`.${G.loader}`),Zc=()=>Xn(G.actions),lT=()=>Xn(G.footer),Kh=()=>Xn(G["timer-progress-bar"]),sy=()=>Xn(G.close),PN=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ay=()=>{const i=et();if(!i)return[];const e=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((c,h)=>{const p=parseInt(c.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),s=i.querySelectorAll(PN),o=Array.from(s).filter(c=>c.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(c=>Vn(c))},oy=()=>Rr(document.body,G.shown)&&!Rr(document.body,G["toast-shown"])&&!Rr(document.body,G["no-backdrop"]),Xh=()=>{const i=et();return i?Rr(i,G.toast):!1},LN=()=>{const i=et();return i?i.hasAttribute("data-loading"):!1},Wn=(i,e)=>{if(i.textContent="",e){const s=new DOMParser().parseFromString(e,"text/html"),o=s.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{i.appendChild(h)});const c=s.querySelector("body");c&&Array.from(c.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?i.appendChild(h.cloneNode(!0)):i.appendChild(h)})}},Rr=(i,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let s=0;s<t.length;s++)if(!i.classList.contains(t[s]))return!1;return!0},UN=(i,e)=>{Array.from(i.classList).forEach(t=>{!Object.values(G).includes(t)&&!Object.values(fh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&i.classList.remove(t)})},Kn=(i,e,t)=>{if(UN(i,e),!e.customClass)return;const s=e.customClass[t];if(s){if(typeof s!="string"&&!s.forEach){xn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof s}"`);return}nt(i,s)}},Wh=(i,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return i.querySelector(`.${G.popup} > .${G[e]}`);case"checkbox":return i.querySelector(`.${G.popup} > .${G.checkbox} input`);case"radio":return i.querySelector(`.${G.popup} > .${G.radio} input:checked`)||i.querySelector(`.${G.popup} > .${G.radio} input:first-child`);case"range":return i.querySelector(`.${G.popup} > .${G.range} input`);default:return i.querySelector(`.${G.popup} > .${G.input}`)}},cT=i=>{if(i.focus(),i.type!=="file"){const e=i.value;i.value="",i.value=e}},uT=(i,e,t)=>{!i||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(s=>{Array.isArray(i)?i.forEach(o=>{t?o.classList.add(s):o.classList.remove(s)}):t?i.classList.add(s):i.classList.remove(s)}))},nt=(i,e)=>{uT(i,e,!0)},hi=(i,e)=>{uT(i,e,!1)},ps=(i,e)=>{const t=Array.from(i.children);for(let s=0;s<t.length;s++){const o=t[s];if(o instanceof HTMLElement&&Rr(o,e))return o}},ga=(i,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?i.style.setProperty(e,typeof t=="number"?`${t}px`:t):i.style.removeProperty(e)},en=(i,e="flex")=>{i&&(i.style.display=e)},vn=i=>{i&&(i.style.display="none")},ly=(i,e="block")=>{i&&new MutationObserver(()=>{Jc(i,i.innerHTML,e)}).observe(i,{childList:!0,subtree:!0})},mb=(i,e,t,s)=>{const o=i.querySelector(e);o&&o.style.setProperty(t,s)},Jc=(i,e,t="flex")=>{e?en(i,t):vn(i)},Vn=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),jN=()=>!Vn(Yi())&&!Vn(Ra())&&!Vn(nl()),Gm=i=>i.scrollHeight>i.clientHeight,zN=(i,e)=>{let t=i;for(;t&&t!==e;){if(Gm(t))return!0;t=t.parentElement}return!1},dT=i=>{const e=window.getComputedStyle(i),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),s=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||s>0},cy=(i,e=!1)=>{const t=Kh();t&&Vn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${i/1e3}s linear`,t.style.width="0%"},10))},BN=()=>{const i=Kh();if(!i)return;const e=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";const t=parseInt(window.getComputedStyle(i).width),s=e/t*100;i.style.width=`${s}%`},qN=()=>typeof window>"u"||typeof document>"u",HN=`
 <div aria-labelledby="${G.title}" aria-describedby="${G["html-container"]}" class="${G.popup}" tabindex="-1">
   <button type="button" class="${G.close}"></button>
   <ul class="${G["progress-steps"]}"></ul>
   <div class="${G.icon}"></div>
   <img class="${G.image}" />
   <h2 class="${G.title}" id="${G.title}"></h2>
   <div class="${G["html-container"]}" id="${G["html-container"]}"></div>
   <input class="${G.input}" id="${G.input}" />
   <input type="file" class="${G.file}" />
   <div class="${G.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${G.select}" id="${G.select}"></select>
   <div class="${G.radio}"></div>
   <label class="${G.checkbox}">
     <input type="checkbox" id="${G.checkbox}" />
     <span class="${G.label}"></span>
   </label>
   <textarea class="${G.textarea}" id="${G.textarea}"></textarea>
   <div class="${G["validation-message"]}" id="${G["validation-message"]}"></div>
   <div class="${G.actions}">
     <div class="${G.loader}"></div>
     <button type="button" class="${G.confirm}"></button>
     <button type="button" class="${G.deny}"></button>
     <button type="button" class="${G.cancel}"></button>
   </div>
   <div class="${G.footer}"></div>
   <div class="${G["timer-progress-bar-container"]}">
     <div class="${G["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),FN=()=>{const i=Rn();return i?(i.remove(),hi([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0):!1},ua=()=>{be.currentInstance.resetValidationMessage()},GN=()=>{const i=et(),e=ps(i,G.input),t=ps(i,G.file),s=i.querySelector(`.${G.range} input`),o=i.querySelector(`.${G.range} output`),c=ps(i,G.select),h=i.querySelector(`.${G.checkbox} input`),p=ps(i,G.textarea);e.oninput=ua,t.onchange=ua,c.onchange=ua,h.onchange=ua,p.oninput=ua,s.oninput=()=>{ua(),o.value=s.value},s.onchange=()=>{ua(),o.value=s.value}},QN=i=>typeof i=="string"?document.querySelector(i):i,$N=i=>{const e=et();e.setAttribute("role",i.toast?"alert":"dialog"),e.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||e.setAttribute("aria-modal","true")},YN=i=>{window.getComputedStyle(i).direction==="rtl"&&nt(Rn(),G.rtl)},KN=i=>{const e=FN();if(qN()){xa("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=G.container,e&&nt(t,G["no-transition"]),Wn(t,HN),t.dataset.swal2Theme=i.theme;const s=QN(i.target);s.appendChild(t),i.topLayer&&(t.setAttribute("popover",""),t.showPopover()),$N(i),YN(s),GN()},uy=(i,e)=>{i instanceof HTMLElement?e.appendChild(i):typeof i=="object"?XN(i,e):i&&Wn(e,i)},XN=(i,e)=>{i.jquery?WN(e,i):Wn(e,i.toString())},WN=(i,e)=>{if(i.textContent="",0 in e)for(let t=0;t in e;t++)i.appendChild(e[t].cloneNode(!0));else i.appendChild(e.cloneNode(!0))},ZN=(i,e)=>{const t=Zc(),s=il();!t||!s||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?vn(t):en(t),Kn(t,e,"actions"),JN(t,s,e),Wn(s,e.loaderHtml||""),Kn(s,e,"loader"))};function JN(i,e,t){const s=Yi(),o=Ra(),c=nl();!s||!o||!c||(mm(s,"confirm",t),mm(o,"deny",t),mm(c,"cancel",t),ek(s,o,c,t),t.reverseButtons&&(t.toast?(i.insertBefore(c,s),i.insertBefore(o,s)):(i.insertBefore(c,e),i.insertBefore(o,e),i.insertBefore(s,e))))}function ek(i,e,t,s){if(!s.buttonsStyling){hi([i,e,t],G.styled);return}nt([i,e,t],G.styled),s.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",s.confirmButtonColor),s.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",s.denyButtonColor),s.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",s.cancelButtonColor),pm(i),pm(e),pm(t)}function pm(i){const e=window.getComputedStyle(i);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function mm(i,e,t){const s=ey(e);Jc(i,t[`show${s}Button`],"inline-block"),Wn(i,t[`${e}ButtonText`]||""),i.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),i.className=G[e],Kn(i,t,`${e}Button`)}const tk=(i,e)=>{const t=sy();t&&(Wn(t,e.closeButtonHtml||""),Kn(t,e,"closeButton"),Jc(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},nk=(i,e)=>{const t=Rn();t&&(ik(t,e.backdrop),rk(t,e.position),sk(t,e.grow),Kn(t,e,"container"))};function ik(i,e){typeof e=="string"?i.style.background=e:e||nt([document.documentElement,document.body],G["no-backdrop"])}function rk(i,e){e&&(e in G?nt(i,G[e]):(xn('The "position" parameter is not valid, defaulting to "center"'),nt(i,G.center)))}function sk(i,e){e&&nt(i,G[`grow-${e}`])}var mt={innerParams:new WeakMap,domCache:new WeakMap};const ak=["input","file","range","select","radio","checkbox","textarea"],ok=(i,e)=>{const t=et();if(!t)return;const s=mt.innerParams.get(i),o=!s||e.input!==s.input;ak.forEach(c=>{const h=ps(t,G[c]);h&&(uk(c,e.inputAttributes),h.className=G[c],o&&vn(h))}),e.input&&(o&&lk(e),dk(e))},lk=i=>{if(!i.input)return;if(!Dt[i.input]){xa(`Unexpected type of input! Expected ${Object.keys(Dt).join(" | ")}, got "${i.input}"`);return}const e=hT(i.input);if(!e)return;const t=Dt[i.input](e,i);en(e),i.inputAutoFocus&&setTimeout(()=>{cT(t)})},ck=i=>{for(let e=0;e<i.attributes.length;e++){const t=i.attributes[e].name;["id","type","value","style"].includes(t)||i.removeAttribute(t)}},uk=(i,e)=>{const t=et();if(!t)return;const s=Wh(t,i);if(s){ck(s);for(const o in e)s.setAttribute(o,e[o])}},dk=i=>{if(!i.input)return;const e=hT(i.input);e&&Kn(e,i,"input")},dy=(i,e)=>{!i.placeholder&&e.inputPlaceholder&&(i.placeholder=e.inputPlaceholder)},eu=(i,e,t)=>{if(t.inputLabel){const s=document.createElement("label"),o=G["input-label"];s.setAttribute("for",i.id),s.className=o,typeof t.customClass=="object"&&nt(s,t.customClass.inputLabel),s.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",s)}},hT=i=>{const e=et();if(e)return ps(e,G[i]||G.input)},ph=(i,e)=>{["string","number"].includes(typeof e)?i.value=`${e}`:ny(e)||xn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Dt={};Dt.text=Dt.email=Dt.password=Dt.number=Dt.tel=Dt.url=Dt.search=Dt.date=Dt["datetime-local"]=Dt.time=Dt.week=Dt.month=(i,e)=>(ph(i,e.inputValue),eu(i,i,e),dy(i,e),i.type=e.input,i);Dt.file=(i,e)=>(eu(i,i,e),dy(i,e),i);Dt.range=(i,e)=>{const t=i.querySelector("input"),s=i.querySelector("output");return ph(t,e.inputValue),t.type=e.input,ph(s,e.inputValue),eu(t,i,e),i};Dt.select=(i,e)=>{if(i.textContent="",e.inputPlaceholder){const t=document.createElement("option");Wn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,i.appendChild(t)}return eu(i,i,e),i};Dt.radio=i=>(i.textContent="",i);Dt.checkbox=(i,e)=>{const t=Wh(et(),"checkbox");t.value="1",t.checked=!!e.inputValue;const s=i.querySelector("span");return Wn(s,e.inputPlaceholder||e.inputLabel),t};Dt.textarea=(i,e)=>{ph(i,e.inputValue),dy(i,e),eu(i,i,e);const t=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=parseInt(window.getComputedStyle(et()).width),o=()=>{if(!document.body.contains(i))return;const c=i.offsetWidth+t(i);c>s?et().style.width=`${c}px`:ga(et(),"width",e.width)};new MutationObserver(o).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};const hk=(i,e)=>{const t=iy();t&&(ly(t),Kn(t,e,"htmlContainer"),e.html?(uy(e.html,t),en(t,"block")):e.text?(t.textContent=e.text,en(t,"block")):vn(t),ok(i,e))},fk=(i,e)=>{const t=lT();t&&(ly(t),Jc(t,e.footer,"block"),e.footer&&uy(e.footer,t),Kn(t,e,"footer"))},pk=(i,e)=>{const t=mt.innerParams.get(i),s=tl();if(!s)return;if(t&&e.icon===t.icon){yb(s,e),gb(s,e);return}if(!e.icon&&!e.iconHtml){vn(s);return}if(e.icon&&Object.keys(fh).indexOf(e.icon)===-1){xa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),vn(s);return}en(s),yb(s,e),gb(s,e),nt(s,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",fT)},gb=(i,e)=>{for(const[t,s]of Object.entries(fh))e.icon!==t&&hi(i,s);nt(i,e.icon&&fh[e.icon]),yk(i,e),fT(),Kn(i,e,"icon")},fT=()=>{const i=et();if(!i)return;const e=window.getComputedStyle(i).getPropertyValue("background-color"),t=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<t.length;s++)t[s].style.backgroundColor=e},mk=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,gk=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,yb=(i,e)=>{if(!e.icon&&!e.iconHtml)return;let t=i.innerHTML,s="";e.iconHtml?s=vb(e.iconHtml):e.icon==="success"?(s=mk(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?s=gk:e.icon&&(s=vb({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==s.trim()&&Wn(i,s)},yk=(i,e)=>{if(e.iconColor){i.style.color=e.iconColor,i.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])mb(i,t,"background-color",e.iconColor);mb(i,".swal2-success-ring","border-color",e.iconColor)}},vb=i=>`<div class="${G["icon-content"]}">${i}</div>`,vk=(i,e)=>{const t=oT();if(t){if(!e.imageUrl){vn(t);return}en(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),ga(t,"width",e.imageWidth),ga(t,"height",e.imageHeight),t.className=G.image,Kn(t,e,"image")}};let hy=!1,pT=0,mT=0,gT=0,yT=0;const wk=i=>{i.addEventListener("mousedown",mh),document.body.addEventListener("mousemove",gh),i.addEventListener("mouseup",yh),i.addEventListener("touchstart",mh),document.body.addEventListener("touchmove",gh),i.addEventListener("touchend",yh)},_k=i=>{i.removeEventListener("mousedown",mh),document.body.removeEventListener("mousemove",gh),i.removeEventListener("mouseup",yh),i.removeEventListener("touchstart",mh),document.body.removeEventListener("touchmove",gh),i.removeEventListener("touchend",yh)},mh=i=>{const e=et();if(i.target===e||tl().contains(i.target)){hy=!0;const t=vT(i);pT=t.clientX,mT=t.clientY,gT=parseInt(e.style.insetInlineStart)||0,yT=parseInt(e.style.insetBlockStart)||0,nt(e,"swal2-dragging")}},gh=i=>{const e=et();if(hy){let{clientX:t,clientY:s}=vT(i);e.style.insetInlineStart=`${gT+(t-pT)}px`,e.style.insetBlockStart=`${yT+(s-mT)}px`}},yh=()=>{const i=et();hy=!1,hi(i,"swal2-dragging")},vT=i=>{let e=0,t=0;return i.type.startsWith("mouse")?(e=i.clientX,t=i.clientY):i.type.startsWith("touch")&&(e=i.touches[0].clientX,t=i.touches[0].clientY),{clientX:e,clientY:t}},bk=(i,e)=>{const t=Rn(),s=et();if(!(!t||!s)){if(e.toast){ga(t,"width",e.width),s.style.width="100%";const o=il();o&&s.insertBefore(o,tl())}else ga(s,"width",e.width);ga(s,"padding",e.padding),e.color&&(s.style.color=e.color),e.background&&(s.style.background=e.background),vn(Yh()),Ek(s,e),e.draggable&&!e.toast?(nt(s,G.draggable),wk(s)):(hi(s,G.draggable),_k(s))}},Ek=(i,e)=>{const t=e.showClass||{};i.className=`${G.popup} ${Vn(i)?t.popup:""}`,e.toast?(nt([document.documentElement,document.body],G["toast-shown"]),nt(i,G.toast)):nt(i,G.modal),Kn(i,e,"popup"),typeof e.customClass=="string"&&nt(i,e.customClass),e.icon&&nt(i,G[`icon-${e.icon}`])},Tk=(i,e)=>{const t=ry();if(!t)return;const{progressSteps:s,currentProgressStep:o}=e;if(!s||s.length===0||o===void 0){vn(t);return}en(t),t.textContent="",o>=s.length&&xn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.forEach((c,h)=>{const p=Ak(c);if(t.appendChild(p),h===o&&nt(p,G["active-progress-step"]),h!==s.length-1){const g=Sk(e);t.appendChild(g)}})},Ak=i=>{const e=document.createElement("li");return nt(e,G["progress-step"]),Wn(e,i),e},Sk=i=>{const e=document.createElement("li");return nt(e,G["progress-step-line"]),i.progressStepsDistance&&ga(e,"width",i.progressStepsDistance),e},xk=(i,e)=>{const t=aT();t&&(ly(t),Jc(t,e.title||e.titleText,"block"),e.title&&uy(e.title,t),e.titleText&&(t.innerText=e.titleText),Kn(t,e,"title"))},wT=(i,e)=>{bk(i,e),nk(i,e),Tk(i,e),pk(i,e),vk(i,e),xk(i,e),tk(i,e),hk(i,e),ZN(i,e),fk(i,e);const t=et();typeof e.didRender=="function"&&t&&e.didRender(t),be.eventEmitter.emit("didRender",t)},Rk=()=>Vn(et()),_T=()=>{var i;return(i=Yi())===null||i===void 0?void 0:i.click()},Ik=()=>{var i;return(i=Ra())===null||i===void 0?void 0:i.click()},Ck=()=>{var i;return(i=nl())===null||i===void 0?void 0:i.click()},rl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bT=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},Dk=(i,e,t)=>{bT(i),e.toast||(i.keydownHandler=s=>kk(e,s,t),i.keydownTarget=e.keydownListenerCapture?window:et(),i.keydownListenerCapture=e.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},Qm=(i,e)=>{var t;const s=ay();if(s.length){i=i+e,i===-2&&(i=s.length-1),i===s.length?i=0:i===-1&&(i=s.length-1),s[i].focus();return}(t=et())===null||t===void 0||t.focus()},ET=["ArrowRight","ArrowDown"],Nk=["ArrowLeft","ArrowUp"],kk=(i,e,t)=>{i&&(e.isComposing||e.keyCode===229||(i.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Ok(e,i):e.key==="Tab"?Mk(e):[...ET,...Nk].includes(e.key)?Vk(e.key):e.key==="Escape"&&Pk(e,i,t)))},Ok=(i,e)=>{if(!$h(e.allowEnterKey))return;const t=Wh(et(),e.input);if(i.target&&t&&i.target instanceof HTMLElement&&i.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;_T(),i.preventDefault()}},Mk=i=>{const e=i.target,t=ay();let s=-1;for(let o=0;o<t.length;o++)if(e===t[o]){s=o;break}i.shiftKey?Qm(s,-1):Qm(s,1),i.stopPropagation(),i.preventDefault()},Vk=i=>{const e=Zc(),t=Yi(),s=Ra(),o=nl();if(!e||!t||!s||!o)return;const c=[t,s,o];if(document.activeElement instanceof HTMLElement&&!c.includes(document.activeElement))return;const h=ET.includes(i)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&Vn(p))break}p instanceof HTMLButtonElement&&p.focus()}},Pk=(i,e,t)=>{i.preventDefault(),$h(e.allowEscapeKey)&&t(rl.esc)};var Fo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Lk=()=>{const i=Rn();Array.from(document.body.children).forEach(t=>{t.contains(i)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},TT=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},AT=typeof window<"u"&&!!window.GestureEvent,Uk=()=>{if(AT&&!Rr(document.body,G.iosfix)){const i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,nt(document.body,G.iosfix),jk()}},jk=()=>{const i=Rn();if(!i)return;let e;i.ontouchstart=t=>{e=zk(t)},i.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},zk=i=>{const e=i.target,t=Rn(),s=iy();return!t||!s||Bk(i)||qk(i)?!1:e===t||!Gm(t)&&e instanceof HTMLElement&&!zN(e,s)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Gm(s)&&s.contains(e))},Bk=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",qk=i=>i.touches&&i.touches.length>1,Hk=()=>{if(Rr(document.body,G.iosfix)){const i=parseInt(document.body.style.top,10);hi(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},Fk=()=>{const i=document.createElement("div");i.className=G["scrollbar-measure"],document.body.appendChild(i);const e=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),e};let No=null;const Gk=i=>{No===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(No=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${No+Fk()}px`)},Qk=()=>{No!==null&&(document.body.style.paddingRight=`${No}px`,No=null)};function ST(i,e,t,s){Xh()?wb(i,s):(DN(t).then(()=>wb(i,s)),bT(be)),AT?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),oy()&&(Qk(),Hk(),TT()),$k()}function $k(){hi([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}function ms(i){i=Kk(i);const e=Fo.swalPromiseResolve.get(this),t=Yk(this);this.isAwaitingPromise?i.isDismissed||(tu(this),e(i)):t&&e(i)}const Yk=i=>{const e=et();if(!e)return!1;const t=mt.innerParams.get(i);if(!t||Rr(e,t.hideClass.popup))return!1;hi(e,t.showClass.popup),nt(e,t.hideClass.popup);const s=Rn();return hi(s,t.showClass.backdrop),nt(s,t.hideClass.backdrop),Xk(i,e,t),!0};function xT(i){const e=Fo.swalPromiseReject.get(this);tu(this),e&&e(i)}const tu=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,mt.innerParams.get(i)||i._destroy())},Kk=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),Xk=(i,e,t)=>{var s;const o=Rn(),c=dT(e);typeof t.willClose=="function"&&t.willClose(e),(s=be.eventEmitter)===null||s===void 0||s.emit("willClose",e),c?Wk(i,e,o,t.returnFocus,t.didClose):ST(i,o,t.returnFocus,t.didClose)},Wk=(i,e,t,s,o)=>{be.swalCloseEventFinishedCallback=ST.bind(null,i,t,s,o);const c=function(h){if(h.target===e){var p;(p=be.swalCloseEventFinishedCallback)===null||p===void 0||p.call(be),delete be.swalCloseEventFinishedCallback,e.removeEventListener("animationend",c),e.removeEventListener("transitionend",c)}};e.addEventListener("animationend",c),e.addEventListener("transitionend",c)},wb=(i,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(i.params)(),(t=be.eventEmitter)===null||t===void 0||t.emit("didClose"),i._destroy&&i._destroy()})},Go=i=>{let e=et();if(e||new Qo,e=et(),!e)return;const t=il();Xh()?vn(tl()):Zk(e,i),en(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Zk=(i,e)=>{const t=Zc(),s=il();!t||!s||(!e&&Vn(Yi())&&(e=Yi()),en(t),e&&(vn(e),s.setAttribute("data-button-to-replace",e.className),t.insertBefore(s,e)),nt([i,t],G.loading))},Jk=(i,e)=>{e.input==="select"||e.input==="radio"?rO(i,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(ty(e.inputValue)||ny(e.inputValue))&&(Go(Yi()),sO(i,e))},eO=(i,e)=>{const t=i.getInput();if(!t)return null;switch(e.input){case"checkbox":return tO(t);case"radio":return nO(t);case"file":return iO(t);default:return e.inputAutoTrim?t.value.trim():t.value}},tO=i=>i.checked?1:0,nO=i=>i.checked?i.value:null,iO=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,rO=(i,e)=>{const t=et();if(!t)return;const s=o=>{e.input==="select"?aO(t,vh(o),e):e.input==="radio"&&oO(t,vh(o),e)};ty(e.inputOptions)||ny(e.inputOptions)?(Go(Yi()),Xc(e.inputOptions).then(o=>{i.hideLoading(),s(o)})):typeof e.inputOptions=="object"?s(e.inputOptions):xa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},sO=(i,e)=>{const t=i.getInput();t&&(vn(t),Xc(e.inputValue).then(s=>{t.value=e.input==="number"?`${parseFloat(s)||0}`:`${s}`,en(t),t.focus(),i.hideLoading()}).catch(s=>{xa(`Error in inputValue promise: ${s}`),t.value="",en(t),t.focus(),i.hideLoading()}))};function aO(i,e,t){const s=ps(i,G.select);if(!s)return;const o=(c,h,p)=>{const g=document.createElement("option");g.value=p,Wn(g,h),g.selected=RT(p,t.inputValue),c.appendChild(g)};e.forEach(c=>{const h=c[0],p=c[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,s.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(s,p,h)}),s.focus()}function oO(i,e,t){const s=ps(i,G.radio);if(!s)return;e.forEach(c=>{const h=c[0],p=c[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=G.radio,g.value=h,RT(h,t.inputValue)&&(g.checked=!0);const _=document.createElement("span");Wn(_,p),_.className=G.label,y.appendChild(g),y.appendChild(_),s.appendChild(y)});const o=s.querySelectorAll("input");o.length&&o[0].focus()}const vh=i=>{const e=[];return i instanceof Map?i.forEach((t,s)=>{let o=t;typeof o=="object"&&(o=vh(o)),e.push([s,o])}):Object.keys(i).forEach(t=>{let s=i[t];typeof s=="object"&&(s=vh(s)),e.push([t,s])}),e},RT=(i,e)=>!!e&&e.toString()===i.toString(),lO=i=>{const e=mt.innerParams.get(i);i.disableButtons(),e.input?IT(i,"confirm"):py(i,!0)},cO=i=>{const e=mt.innerParams.get(i);i.disableButtons(),e.returnInputValueOnDeny?IT(i,"deny"):fy(i,!1)},uO=(i,e)=>{i.disableButtons(),e(rl.cancel)},IT=(i,e)=>{const t=mt.innerParams.get(i);if(!t.input){xa(`The "input" parameter is needed to be set when using returnInputValueOn${ey(e)}`);return}const s=i.getInput(),o=eO(i,t);t.inputValidator?dO(i,o,e):s&&!s.checkValidity()?(i.enableButtons(),i.showValidationMessage(t.validationMessage||s.validationMessage)):e==="deny"?fy(i,o):py(i,o)},dO=(i,e,t)=>{const s=mt.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>Xc(s.inputValidator(e,s.validationMessage))).then(c=>{i.enableButtons(),i.enableInput(),c?i.showValidationMessage(c):t==="deny"?fy(i,e):py(i,e)})},fy=(i,e)=>{const t=mt.innerParams.get(i||void 0);t.showLoaderOnDeny&&Go(Ra()),t.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>Xc(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(i.hideLoading(),tu(i)):i.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>CT(i||void 0,o))):i.close({isDenied:!0,value:e})},_b=(i,e)=>{i.close({isConfirmed:!0,value:e})},CT=(i,e)=>{i.rejectPromise(e)},py=(i,e)=>{const t=mt.innerParams.get(i||void 0);t.showLoaderOnConfirm&&Go(),t.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>Xc(t.preConfirm(e,t.validationMessage))).then(o=>{Vn(Yh())||o===!1?(i.hideLoading(),tu(i)):_b(i,typeof o>"u"?e:o)}).catch(o=>CT(i||void 0,o))):_b(i,e)};function wh(){const i=mt.innerParams.get(this);if(!i)return;const e=mt.domCache.get(this);vn(e.loader),Xh()?i.icon&&en(tl()):hO(e),hi([e.popup,e.actions],G.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const hO=i=>{const e=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));e.length?en(e[0],"inline-block"):jN()&&vn(i.actions)};function DT(){const i=mt.innerParams.get(this),e=mt.domCache.get(this);return e?Wh(e.popup,i.input):null}function NT(i,e,t){const s=mt.domCache.get(i);e.forEach(o=>{s[o].disabled=t})}function kT(i,e){const t=et();if(!(!t||!i))if(i.type==="radio"){const s=t.querySelectorAll(`[name="${G.radio}"]`);for(let o=0;o<s.length;o++)s[o].disabled=e}else i.disabled=e}function OT(){NT(this,["confirmButton","denyButton","cancelButton"],!1)}function MT(){NT(this,["confirmButton","denyButton","cancelButton"],!0)}function VT(){kT(this.getInput(),!1)}function PT(){kT(this.getInput(),!0)}function LT(i){const e=mt.domCache.get(this),t=mt.innerParams.get(this);Wn(e.validationMessage,i),e.validationMessage.className=G["validation-message"],t.customClass&&t.customClass.validationMessage&&nt(e.validationMessage,t.customClass.validationMessage),en(e.validationMessage);const s=this.getInput();s&&(s.setAttribute("aria-invalid","true"),s.setAttribute("aria-describedby",G["validation-message"]),cT(s),nt(s,G.inputerror))}function UT(){const i=mt.domCache.get(this);i.validationMessage&&vn(i.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),hi(e,G.inputerror))}const ko={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},fO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],pO={allowEnterKey:void 0},mO=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],jT=i=>Object.prototype.hasOwnProperty.call(ko,i),zT=i=>fO.indexOf(i)!==-1,BT=i=>pO[i],gO=i=>{jT(i)||xn(`Unknown parameter "${i}"`)},yO=i=>{mO.includes(i)&&xn(`The parameter "${i}" is incompatible with toasts`)},vO=i=>{const e=BT(i);e&&sT(i,e)},qT=i=>{i.backdrop===!1&&i.allowOutsideClick&&xn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&xn(`Invalid theme "${i.theme}"`);for(const e in i)gO(e),i.toast&&yO(e),vO(e)};function HT(i){const e=Rn(),t=et(),s=mt.innerParams.get(this);if(!t||Rr(t,s.hideClass.popup)){xn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=wO(i),c=Object.assign({},s,o);qT(c),e.dataset.swal2Theme=c.theme,wT(this,c),mt.innerParams.set(this,c),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}const wO=i=>{const e={};return Object.keys(i).forEach(t=>{zT(t)?e[t]=i[t]:xn(`Invalid parameter to update: ${t}`)}),e};function FT(){const i=mt.domCache.get(this),e=mt.innerParams.get(this);if(!e){GT(this);return}i.popup&&be.swalCloseEventFinishedCallback&&(be.swalCloseEventFinishedCallback(),delete be.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),be.eventEmitter.emit("didDestroy"),_O(this)}const _O=i=>{GT(i),delete i.params,delete be.keydownHandler,delete be.keydownTarget,delete be.currentInstance},GT=i=>{i.isAwaitingPromise?(gm(mt,i),i.isAwaitingPromise=!0):(gm(Fo,i),gm(mt,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},gm=(i,e)=>{for(const t in i)i[t].delete(e)};var bO=Object.freeze({__proto__:null,_destroy:FT,close:ms,closeModal:ms,closePopup:ms,closeToast:ms,disableButtons:MT,disableInput:PT,disableLoading:wh,enableButtons:OT,enableInput:VT,getInput:DT,handleAwaitingPromise:tu,hideLoading:wh,rejectPromise:xT,resetValidationMessage:UT,showValidationMessage:LT,update:HT});const EO=(i,e,t)=>{i.toast?TO(i,e,t):(SO(e),xO(e),RO(i,e,t))},TO=(i,e,t)=>{e.popup.onclick=()=>{i&&(AO(i)||i.timer||i.input)||t(rl.close)}},AO=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton);let _h=!1;const SO=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(e){i.container.onmouseup=()=>{},e.target===i.container&&(_h=!0)}}},xO=i=>{i.container.onmousedown=e=>{e.target===i.container&&e.preventDefault(),i.popup.onmouseup=function(t){i.popup.onmouseup=()=>{},(t.target===i.popup||t.target instanceof HTMLElement&&i.popup.contains(t.target))&&(_h=!0)}}},RO=(i,e,t)=>{e.container.onclick=s=>{if(_h){_h=!1;return}s.target===e.container&&$h(i.allowOutsideClick)&&t(rl.backdrop)}},IO=i=>typeof i=="object"&&i.jquery,bb=i=>i instanceof Element||IO(i),CO=i=>{const e={};return typeof i[0]=="object"&&!bb(i[0])?Object.assign(e,i[0]):["title","html","icon"].forEach((t,s)=>{const o=i[s];typeof o=="string"||bb(o)?e[t]=o:o!==void 0&&xa(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function DO(...i){return new this(...i)}function NO(i){class e extends this{_main(s,o){return super._main(s,Object.assign({},i,o))}}return e}const kO=()=>be.timeout&&be.timeout.getTimerLeft(),QT=()=>{if(be.timeout)return BN(),be.timeout.stop()},$T=()=>{if(be.timeout){const i=be.timeout.start();return cy(i),i}},OO=()=>{const i=be.timeout;return i&&(i.running?QT():$T())},MO=i=>{if(be.timeout){const e=be.timeout.increase(i);return cy(e,!0),e}},VO=()=>!!(be.timeout&&be.timeout.isRunning());let Eb=!1;const $m={};function PO(i="data-swal-template"){$m[i]=this,Eb||(document.body.addEventListener("click",LO),Eb=!0)}const LO=i=>{for(let e=i.target;e&&e!==document;e=e.parentNode)for(const t in $m){const s=e.getAttribute(t);if(s){$m[t].fire({template:s});return}}};class UO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const s=this._getHandlersByEventName(e);s.includes(t)||s.push(t)}once(e,t){const s=(...o)=>{this.removeListener(e,s),t.apply(this,o)};this.on(e,s)}emit(e,...t){this._getHandlersByEventName(e).forEach(s=>{try{s.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const s=this._getHandlersByEventName(e),o=s.indexOf(t);o>-1&&s.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}be.eventEmitter=new UO;const jO=(i,e)=>{be.eventEmitter.on(i,e)},zO=(i,e)=>{be.eventEmitter.once(i,e)},BO=(i,e)=>{if(!i){be.eventEmitter.reset();return}e?be.eventEmitter.removeListener(i,e):be.eventEmitter.removeAllListeners(i)};var qO=Object.freeze({__proto__:null,argsToParams:CO,bindClickHandler:PO,clickCancel:Ck,clickConfirm:_T,clickDeny:Ik,enableLoading:Go,fire:DO,getActions:Zc,getCancelButton:nl,getCloseButton:sy,getConfirmButton:Yi,getContainer:Rn,getDenyButton:Ra,getFocusableElements:ay,getFooter:lT,getHtmlContainer:iy,getIcon:tl,getIconContent:MN,getImage:oT,getInputLabel:VN,getLoader:il,getPopup:et,getProgressSteps:ry,getTimerLeft:kO,getTimerProgressBar:Kh,getTitle:aT,getValidationMessage:Yh,increaseTimer:MO,isDeprecatedParameter:BT,isLoading:LN,isTimerRunning:VO,isUpdatableParameter:zT,isValidParameter:jT,isVisible:Rk,mixin:NO,off:BO,on:jO,once:zO,resumeTimer:$T,showLoading:Go,stopTimer:QT,toggleTimer:OO});class HO{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const YT=["swal-title","swal-html","swal-footer"],FO=i=>{const e=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!e)return{};const t=e.content;return ZO(t),Object.assign(GO(t),QO(t),$O(t),YO(t),KO(t),XO(t),WO(t,YT))},GO=i=>{const e={};return Array.from(i.querySelectorAll("swal-param")).forEach(s=>{Ta(s,["name","value"]);const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(typeof ko[o]=="boolean"?e[o]=c!=="false":typeof ko[o]=="object"?e[o]=JSON.parse(c):e[o]=c)}),e},QO=i=>{const e={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(s=>{const o=s.getAttribute("name"),c=s.getAttribute("value");!o||!c||(e[o]=new Function(`return ${c}`)())}),e},$O=i=>{const e={};return Array.from(i.querySelectorAll("swal-button")).forEach(s=>{Ta(s,["type","color","aria-label"]);const o=s.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=s.innerHTML,e[`show${ey(o)}Button`]=!0,s.hasAttribute("color")&&(e[`${o}ButtonColor`]=s.getAttribute("color")),s.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=s.getAttribute("aria-label")))}),e},YO=i=>{const e={},t=i.querySelector("swal-image");return t&&(Ta(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},KO=i=>{const e={},t=i.querySelector("swal-icon");return t&&(Ta(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},XO=i=>{const e={},t=i.querySelector("swal-input");t&&(Ta(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const s=Array.from(i.querySelectorAll("swal-input-option"));return s.length&&(e.inputOptions={},s.forEach(o=>{Ta(o,["value"]);const c=o.getAttribute("value");if(!c)return;const h=o.innerHTML;e.inputOptions[c]=h})),e},WO=(i,e)=>{const t={};for(const s in e){const o=e[s],c=i.querySelector(o);c&&(Ta(c,[]),t[o.replace(/^swal-/,"")]=c.innerHTML.trim())}return t},ZO=i=>{const e=YT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(t=>{const s=t.tagName.toLowerCase();e.includes(s)||xn(`Unrecognized element <${s}>`)})},Ta=(i,e)=>{Array.from(i.attributes).forEach(t=>{e.indexOf(t.name)===-1&&xn([`Unrecognized attribute "${t.name}" on <${i.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},KT=10,JO=i=>{const e=Rn(),t=et();typeof i.willOpen=="function"&&i.willOpen(t),be.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;nM(e,t,i),setTimeout(()=>{eM(e,t)},KT),oy()&&(tM(e,i.scrollbarPadding,o),Lk()),!Xh()&&!be.previousActiveElement&&(be.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(t)),be.eventEmitter.emit("didOpen",t),hi(e,G["no-transition"])},bh=i=>{const e=et();if(i.target!==e)return;const t=Rn();e.removeEventListener("animationend",bh),e.removeEventListener("transitionend",bh),t.style.overflowY="auto"},eM=(i,e)=>{dT(e)?(i.style.overflowY="hidden",e.addEventListener("animationend",bh),e.addEventListener("transitionend",bh)):i.style.overflowY="auto"},tM=(i,e,t)=>{Uk(),e&&t!=="hidden"&&Gk(t),setTimeout(()=>{i.scrollTop=0})},nM=(i,e,t)=>{nt(i,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),en(e,"grid"),setTimeout(()=>{nt(e,t.showClass.popup),e.style.removeProperty("opacity")},KT)):en(e,"grid"),nt([document.documentElement,document.body],G.shown),t.heightAuto&&t.backdrop&&!t.toast&&nt([document.documentElement,document.body],G["height-auto"])};var Tb={email:(i,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(i,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function iM(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=Tb.email),i.input==="url"&&(i.inputValidator=Tb.url))}function rM(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(xn('Target parameter is not valid, defaulting to "body"'),i.target="body")}function sM(i){iM(i),i.showLoaderOnConfirm&&!i.preConfirm&&xn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),rM(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),KN(i)}let zi;var Nd=new WeakMap;class Ot{constructor(...e){if(xN(this,Nd,void 0),typeof window>"u")return;zi=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,RN(Nd,this,this._main(zi.params))}_main(e,t={}){if(qT(Object.assign({},t,e)),be.currentInstance){const c=Fo.swalPromiseResolve.get(be.currentInstance),{isAwaitingPromise:h}=be.currentInstance;be.currentInstance._destroy(),h||c({isDismissed:!0}),oy()&&TT()}be.currentInstance=zi;const s=oM(e,t);sM(s),Object.freeze(s),be.timeout&&(be.timeout.stop(),delete be.timeout),clearTimeout(be.restoreFocusTimeout);const o=lM(zi);return wT(zi,s),mt.innerParams.set(zi,s),aM(zi,o,s)}then(e){return fb(Nd,this).then(e)}finally(e){return fb(Nd,this).finally(e)}}const aM=(i,e,t)=>new Promise((s,o)=>{const c=h=>{i.close({isDismissed:!0,dismiss:h})};Fo.swalPromiseResolve.set(i,s),Fo.swalPromiseReject.set(i,o),e.confirmButton.onclick=()=>{lO(i)},e.denyButton.onclick=()=>{cO(i)},e.cancelButton.onclick=()=>{uO(i,c)},e.closeButton.onclick=()=>{c(rl.close)},EO(t,e,c),Dk(be,t,c),Jk(i,t),JO(t),cM(be,t,c),uM(e,t),setTimeout(()=>{e.container.scrollTop=0})}),oM=(i,e)=>{const t=FO(i),s=Object.assign({},ko,e,t,i);return s.showClass=Object.assign({},ko.showClass,s.showClass),s.hideClass=Object.assign({},ko.hideClass,s.hideClass),s.animation===!1&&(s.showClass={backdrop:"swal2-noanimation"},s.hideClass={}),s},lM=i=>{const e={popup:et(),container:Rn(),actions:Zc(),confirmButton:Yi(),denyButton:Ra(),cancelButton:nl(),loader:il(),closeButton:sy(),validationMessage:Yh(),progressSteps:ry()};return mt.domCache.set(i,e),e},cM=(i,e,t)=>{const s=Kh();vn(s),e.timer&&(i.timeout=new HO(()=>{t("timer"),delete i.timeout},e.timer),e.timerProgressBar&&(en(s),Kn(s,e,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&cy(e.timer)})))},uM=(i,e)=>{if(!e.toast){if(!$h(e.allowEnterKey)){sT("allowEnterKey"),fM();return}dM(i)||hM(i,e)||Qm(-1,1)}},dM=i=>{const e=Array.from(i.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Vn(t))return t.focus(),!0;return!1},hM=(i,e)=>e.focusDeny&&Vn(i.denyButton)?(i.denyButton.focus(),!0):e.focusCancel&&Vn(i.cancelButton)?(i.cancelButton.focus(),!0):e.focusConfirm&&Vn(i.confirmButton)?(i.confirmButton.focus(),!0):!1,fM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ot.prototype.disableButtons=MT;Ot.prototype.enableButtons=OT;Ot.prototype.getInput=DT;Ot.prototype.disableInput=PT;Ot.prototype.enableInput=VT;Ot.prototype.hideLoading=wh;Ot.prototype.disableLoading=wh;Ot.prototype.showValidationMessage=LT;Ot.prototype.resetValidationMessage=UT;Ot.prototype.close=ms;Ot.prototype.closePopup=ms;Ot.prototype.closeModal=ms;Ot.prototype.closeToast=ms;Ot.prototype.rejectPromise=xT;Ot.prototype.update=HT;Ot.prototype._destroy=FT;Object.assign(Ot,qO);Object.keys(bO).forEach(i=>{Ot[i]=function(...e){return zi&&zi[i]?zi[i](...e):null}});Ot.DismissReason=rl;Ot.version="11.22.4";const Qo=Ot;Qo.default=Qo;typeof document<"u"&&(function(i,e){var t=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Hd(i){Qo.fire({icon:"error",title:"Error",text:i||"Error desconocido",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4",customClass:{popup:"swal2-modern",confirmButton:"swal2-btn-modern"}})}const kd={"auth/invalid-email":"El correo electrónico no es válido.","auth/user-disabled":"La cuenta ha sido deshabilitada.","auth/user-not-found":"No existe una cuenta con ese correo.","auth/wrong-password":"La contraseña es incorrecta.","auth/email-already-in-use":"El correo ya está registrado.","auth/weak-password":"La contraseña es demasiado débil.","auth/missing-password":"Debes ingresar una contraseña.","auth/too-many-requests":"Demasiados intentos. Intenta más tarde.","auth/network-request-failed":"Error de red. Verifica tu conexión.","auth/invalid-credential":"Las credenciales ingresadas no son válidas."};function Fd(i){return i?typeof i=="string"&&kd[i]?kd[i]:i.code&&kd[i.code]?kd[i.code]:i.message||"Error desconocido.":"Error desconocido."}const Ym=new Tr;let ym=!1;Ym.setCustomParameters?.({prompt:"select_account"});async function pM(i){try{if(ym)return;ym=!0,await BR(i,Ym)}catch(e){if(e.code==="auth/popup-blocked"||e.code==="auth/cancelled-popup-request"||e.code==="auth/operation-not-supported-in-this-environment"){try{sessionStorage.setItem("wantSplashLogin","1")}catch{}await $R(i,Ym)}else{const t=Fd(e);Hd(t+`
Si el problema persiste, intenta abrir el juego en tu navegador predeterminado (Chrome/Safari).`)}}finally{ym=!1}}function Ab({auth:i,db:e,onReady:t,onStartAuth:s}){const[o,c]=re.useState("login"),[h,p]=re.useState(""),[g,y]=re.useState(""),[_,A]=re.useState(""),[R,j]=re.useState("X"),[Q,ee]=re.useState(""),[K,ne]=re.useState(""),[ue,le]=re.useState(!1),[ke,ge]=re.useState(!1),he=re.useCallback(async(T,Ee)=>{await X1(qo(e,"users",T),{...Ee,createdAt:ma()},{merge:!0})},[e]),M=o==="login"?async()=>{le(!0),ne("");try{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}s?.(),await mR(i,h,g),t?.()}catch(T){Hd(Fd(T))}finally{le(!1)}}:o==="register"?async()=>{le(!0),ne("");try{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}s?.();const T=(_||"").trim();if(!T){await Qo.fire({icon:"warning",title:"Falta tu nombre",text:"Por favor escribe tu primer nombre antes de registrarte.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"});return}const Ee=await pR(i,h,g);await yR(Ee.user,{displayName:T}),await he(Ee.user.uid,{displayName:T,gender:R,city:Q}),t?.()}catch(T){Hd(Fd(T))}finally{le(!1)}}:async()=>{le(!0),ne("");try{await fR(i,h),Qo.fire({icon:"success",title:"Solicitud enviada",text:"Si el correo está registrado, recibirás un enlace para restablecer tu contraseña.",confirmButtonColor:"#1dd1c6",background:"#131a3a",color:"#e8ecf4"})}catch(T){Hd(Fd(T))}finally{le(!1)}},D=x.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:x.jsx("path",{d:"M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 11a4 4 0 110-8 4 4 0 010 8z"})}),k=x.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18","aria-hidden":!0,style:{fill:"#888",stroke:"#888"},children:x.jsx("path",{d:"M2 5l2-2 17 17-2 2-3.1-3.1A11.8 11.8 0 0112 19C5 19 2 12 2 12a20.9 20.9 0 013.7-5.6L2 5zm8.6 3.2L8.7 6.3A4.9 4.9 0 007 10a5 5 0 007 4.7l-1.8-1.8A3 3 0 009 10c0-.6.2-1.2.6-1.8zM12 5c2.2 0 4 .6 5.7 1.7A17.6 17.6 0 0122 12s-3 7-10 7c-.9 0-1.7-.1-2.5-.3l2.3-2.3c.1 0 .1 0 .2.1A5 5 0 0017 10a4.8 4.8 0 00-.4-2l1.6-1.6A13.3 13.3 0 0012 5z"})});return x.jsxs("section",{className:"auth-card",children:[x.jsxs("header",{className:"card-head",children:[x.jsx("h1",{children:o==="login"?"Bienvenido":o==="register"?"Crear cuenta":"Recuperar acceso"}),x.jsx("p",{className:"muted",children:o==="login"?"Inicia sesión para continuar":o==="register"?"Completa tus datos para registrarte":"Te enviaremos un correo para restablecer tu contraseña"})]}),x.jsx("div",{style:{display:"flex",gap:8,marginTop:6},children:["login","register","reset"].map(T=>x.jsx("button",{type:"button",onClick:()=>c(T),style:{padding:"6px 10px",borderRadius:10,border:"1px solid var(--stroke)",background:T===o?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:T===o?"#08211f":"var(--text)",fontWeight:700,cursor:"pointer",boxShadow:T===o?"0 8px 20px rgba(0,0,0,.18)":"none",transition:"background .2s, color .2s"},children:T==="login"?"Login":T==="register"?"Registro":"Reset"},T))}),K&&x.jsx("div",{className:"alert",style:{marginTop:10},children:K}),x.jsxs("form",{className:"form",onSubmit:T=>{T.preventDefault();const Ee=T.currentTarget;if(!Ee.checkValidity()){Ee.reportValidity();return}M()},noValidate:!0,style:{marginTop:12},children:[x.jsxs("div",{className:"field",children:[x.jsx("label",{htmlFor:"email",children:"Correo"}),x.jsx("input",{id:"email",name:"email",type:"email",placeholder:"tucorreo@dominio.com",autoComplete:"email",required:!0,value:h,onChange:T=>p(T.target.value)})]}),o!=="reset"&&x.jsxs("div",{className:"field",children:[x.jsx("label",{htmlFor:"password",children:"Contraseña"}),x.jsxs("div",{className:"pwd",children:[x.jsx("input",{id:"password",name:"password",type:ke?"text":"password",placeholder:"••••••••",autoComplete:o==="login"?"current-password":"new-password",required:!0,value:g,onChange:T=>y(T.target.value)}),x.jsx("button",{type:"button",className:"icon-btn","aria-label":ke?"Ocultar contraseña":"Mostrar contraseña",onClick:()=>ge(T=>!T),style:{background:"transparent"},children:ke?k:D})]})]}),o==="register"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"field",children:[x.jsx("label",{htmlFor:"displayName",children:"Nombre"}),x.jsx("input",{id:"displayName",name:"displayName",placeholder:"Solo tu primer nombre",value:_,onChange:T=>{const Ee=T.target.value.replace(/\s.*/,"");A(Ee)},required:!0,pattern:"^[^\\s]+$",title:"Solo tu primer nombre, sin espacios"})]}),x.jsxs("div",{className:"field",children:[x.jsx("label",{htmlFor:"city",children:"Ciudad"}),x.jsx("input",{id:"city",name:"city",placeholder:"Ciudad (opcional)",value:Q,onChange:T=>ee(T.target.value)})]}),x.jsxs("div",{className:"field",children:[x.jsx("label",{htmlFor:"gender",children:"Género"}),x.jsx("div",{style:{display:"flex",gap:10,rowGap:6,flexWrap:"wrap",background:"rgba(255,255,255,.08)",borderRadius:12,padding:"4px 6px",border:"1px solid var(--stroke)",alignItems:"center",marginTop:2},children:["M","F","X"].map(T=>x.jsx("button",{type:"button",onClick:()=>j(T),style:{background:R===T?"linear-gradient(90deg, var(--brand), var(--brand-2))":"transparent",color:R===T?"#08211f":"var(--text)",border:"none",borderRadius:8,padding:"6px 10px",fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",boxShadow:R===T?"0 4px 12px rgba(0,0,0,.10)":"none",fontSize:14,lineHeight:1.2,whiteSpace:"normal",minWidth:0,flex:"1 1 120px"},children:T==="M"?"Masculino":T==="F"?"Femenino":"Prefiero no decir"},T))})]})]}),x.jsx("button",{className:"btn",disabled:ue,children:ue?"Procesando…":o==="login"?"Ingresar":o==="register"?"Crear cuenta":"Enviar correo"}),o==="login"&&x.jsxs("button",{type:"button",onClick:()=>{try{sessionStorage.setItem("wantSplashLogin","1")}catch{}pM(i)},style:{marginTop:10,width:"100%",height:46,borderRadius:12,border:"1px solid var(--stroke)",background:"#0f152d",color:"#e8ecf4",fontWeight:800,letterSpacing:.3,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},"aria-label":"Continuar con Google",children:[x.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48","aria-hidden":!0,children:[x.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C33.03,6.053,28.715,4,24,4C12.955,4,4,12.955,4,24 s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),x.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.146,18.961,14,24,14c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657 C33.03,6.053,28.715,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),x.jsx("path",{fill:"#4CAF50",d:"M24,44c4.646,0,8.902-1.785,12.102-4.689l-5.586-4.727C28.471,36.977,26.345,38,24,38 c-5.202,0-9.607-3.317-11.264-7.946l-6.493,5.013C9.556,39.556,16.227,44,24,44z"}),x.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.236-2.231,4.166-4.187,5.584l0.003-0.002l5.586,4.727 C35.971,38.495,44,32,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Continuar con Google"]}),o==="login"&&x.jsxs("p",{className:"muted center mt-16",children:["¿No tienes cuenta?"," ",x.jsx("a",{className:"link",href:"#",onClick:T=>{T.preventDefault(),c("register")},children:"Crear cuenta"})," ","·"," ",x.jsx("a",{className:"link",href:"#",onClick:T=>{T.preventDefault(),c("reset")},children:"¿Olvidaste tu contraseña?"})]})]})]})}function mM({open:i,correct:e,explain:t,onClose:s,durationMs:o=1e4,dismissable:c=!0,pointsDelta:h=0}){return re.useEffect(()=>{if(!i)return;const p=setTimeout(()=>s?.(),o);return()=>clearTimeout(p)},[i,s,o]),i?x.jsxs("div",{onClick:c?s:void 0,style:{position:"fixed",inset:0,display:"grid",placeItems:"center",zIndex:60,background:"linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.55))"},children:[e&&x.jsxs("div",{"aria-hidden":!0,className:"confetti-overlay",style:{position:"fixed",inset:0,pointerEvents:"none",overflow:"hidden"},children:[Array.from({length:42}).map((p,g)=>{const y=g/42*Math.PI*2,_=160+g%4*40,A=Math.cos(y)*_,R=Math.sin(y)*_,j=g*33%180-90,Q=g%7*20,ee=["#ff6b6b","#ffd166","#06d6a0","#5ecbff","#b794f4","#8be9e3"],K=ee[g%ee.length],ne=8+g%3*4,ue=10+(g+2)%4*6;return x.jsx("span",{className:"confetti-piece",style:{position:"absolute",left:"50%",top:"40%",width:ne,height:ue,background:K,borderRadius:2,transform:"translate(-50%, -50%)",animation:`confettiFly 900ms ease-out ${Q}ms forwards`,boxShadow:"0 2px 6px rgba(0,0,0,.35)","--dx":`${A}px`,"--dy":`${R}px`,"--rot":`${j}deg`}},g)}),x.jsx("style",{children:`
            @keyframes confettiFly {
              0%   { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1 }
              35%  { transform: translate(calc(-50% + var(--dx)*.4), calc(-50% + var(--dy)*.4)) scale(1.05) rotate(var(--rot)); opacity: 1 }
              100% { transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1) rotate(var(--rot)); opacity: 0 }
            }
          `})]}),x.jsxs("div",{onClick:p=>p.stopPropagation(),style:{background:e?"linear-gradient(135deg, #34d399, #10b981)":"linear-gradient(135deg, #f87171, #ef4444)",color:"#0b0b0b",padding:"18px 20px",borderRadius:16,boxShadow:"0 14px 40px rgba(0,0,0,0.45)",maxWidth:"min(560px, 92vw)",transform:"translateY(0)",animation:e?"af-bounce .5s ease-out":"af-shake .4s ease-out"},children:[x.jsx("style",{children:`
          @keyframes af-bounce { 0% { transform: scale(.9); opacity:.6 } 50% { transform: scale(1.06); opacity:1 } 100% { transform: scale(1); opacity:1 } }
          @keyframes af-shake { 0% { transform: translateX(0) } 25% { transform: translateX(-6px) rotate(-1deg) } 50% { transform: translateX(6px) rotate(1deg) } 75% { transform: translateX(-4px) rotate(-1deg) } 100% { transform: translateX(0) }
          }
        `}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:6},children:[x.jsx("span",{"aria-hidden":!0,style:{fontSize:20},children:e?"✅":"❌"}),x.jsx("div",{style:{fontWeight:900,fontSize:18},children:e?"¡Correcto!":"Incorrecto"})]}),x.jsx("div",{style:{fontSize:14,opacity:.95,marginBottom:4},children:e?`Ganaste +${Math.abs(h)} puntos`:`Perdiste -${Math.abs(h)} puntos`}),!e&&t&&x.jsx("div",{style:{fontSize:14,opacity:.95},children:t}),c&&x.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:x.jsx("button",{onClick:s,style:{border:"1px solid rgba(0,0,0,.2)",background:"#0b0b0b",color:"#f5f5f5",borderRadius:8,padding:"6px 10px"},children:"Cerrar"})})]})]}):null}function gM({title:i="Bienvenidos",sub:e="al juego de la Ruleta de Datos",clickThrough:t=!1}){return x.jsx("div",{className:"splash-overlay",role:"dialog","aria-label":"Bienvenido",style:{pointerEvents:t?"none":"auto"},children:x.jsxs("div",{className:"splash-card",children:[x.jsxs("div",{className:"splash-wheel","aria-hidden":!0,children:[x.jsxs("svg",{viewBox:"0 0 100 100",children:[x.jsx("defs",{children:x.jsxs("radialGradient",{id:"g",cx:"50%",cy:"50%",r:"60%",children:[x.jsx("stop",{offset:"0%",stopColor:"#0b0b0b"}),x.jsx("stop",{offset:"100%",stopColor:"#171717"})]})}),x.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"url(#g)",stroke:"#303030",strokeWidth:"1.5"}),["#60a5fa","#f59e0b","#10b981","#a78bfa","#f472b6","#34d399","#f87171","#22d3ee"].map((s,o)=>{const c=o*45,h=R=>(R-90)*Math.PI/180,p=50+48*Math.cos(h(c)),g=50+48*Math.sin(h(c)),y=50+48*Math.cos(h(c+45)),_=50+48*Math.sin(h(c+45)),A=`M 50 50 L ${p} ${g} A 48 48 0 0 1 ${y} ${_} Z`;return x.jsx("path",{d:A,fill:s,opacity:".9"},o)}),x.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"#0e0e0e",stroke:"#e5e7eb",strokeWidth:"1"})]}),x.jsx("span",{className:"splash-pin"})]}),x.jsx("h1",{className:"splash-title",children:i}),x.jsx("p",{className:"splash-sub",children:e}),x.jsx("div",{className:"splash-loading","aria-label":"Cargando"})]})})}function yM(){const{auth:i,db:e}=nN(),t=eT(900),[s,o]=re.useState(null),[c,h]=re.useState(!1),[p,g]=re.useState(null),[y,_]=re.useState(null),[A,R]=re.useState(!1),[j,Q]=re.useState(null),[ee,K]=re.useState(!1),[ne,ue]=re.useState(null),[le,ke]=re.useState(null),[ge,he]=re.useState(new Set),[O,S]=re.useState(!1),[I,M]=re.useState(!1),[D,k]=re.useState(""),[T,Ee]=re.useState(0),[Me,F]=re.useState(!0),[ie,fe]=re.useState({title:"Bienvenidos",sub:"al juego de la Ruleta de Datos"}),[Pe,N]=re.useState(!1),X=re.useRef(null),se=re.useRef(0),[te,pe]=re.useState(()=>{try{const me=localStorage.getItem("soundOn");return me===null?!0:me==="1"}catch{return!0}}),[Ne,Te]=re.useState(0),[vt,We]=re.useState({open:!1,level:0}),[wn,Ae]=re.useState(!1),we=re.useCallback((me,Le,Ze,In=!1)=>{X.current&&(clearTimeout(X.current),X.current=null);const Pn=se.current=(se.current+1)%Number.MAX_SAFE_INTEGER;(Le||Ze)&&fe({title:Le??ie.title,sub:Ze??ie.sub}),N(!!In),F(!0),X.current=setTimeout(()=>{se.current===Pn&&(F(!1),N(!1)),X.current=null},me)},[ie.title,ie.sub]);re.useEffect(()=>(we(2500),()=>{X.current&&(clearTimeout(X.current),X.current=null)}),[we]),re.useEffect(()=>{try{if(!sessionStorage.getItem("wantSplashLogin"))return;KR(i).then(Le=>{Le&&Le.user&&we(3e3,"Cargando…","Preparando tu juego")}).catch(Le=>{Le&&console.error("Google redirect error:",Le)})}catch{}},[i,we]),re.useEffect(()=>_R(i,async me=>{if(o(me),!me){h(!1),Q(null);return}try{const Le=qo(e,"users",me.uid);(await Q4(Le)).exists()||await X1(Le,{displayName:me.displayName||me.email,gender:"X",city:"N/A",createdAt:ma()},{merge:!0}),h(!0),g(null);try{if(sessionStorage.getItem("wantSplashLogin")){we(3e3,"Cargando…","Preparando tu juego");try{sessionStorage.removeItem("wantSplashLogin")}catch{}}}catch{}try{sessionStorage.getItem("wantSplashLogin")&&(fe({title:"Cargando…",sub:"Preparando tu juego"}),F(!0),setTimeout(()=>{F(!1);try{sessionStorage.removeItem("wantSplashLogin")}catch{}},3e3))}catch{}}catch(Le){console.error("Perfil/Firestore no disponible:",Le),g("⚠️ Error conectando con Firestore. Se podrá girar, pero no se guardarán resultados."),h(!0)}}),[i,e,we]),re.useEffect(()=>{if(!s)return;const me=qo(e,"userstats",s.uid),Le=Zg(me,Ze=>{Q(Ze.exists()?Ze.data():null)},Ze=>console.error("myStats error:",Ze));return()=>Le()},[e,s]);const Ge=re.useCallback(async me=>{_(me);const Le=mN(me.label,ge);Le&&s?(ke(me),ue(Le),K(!0)):s&&!p&&(await iN(e,s.uid,s.displayName||s.email,{label:me.label,points:me.points}),window.dispatchEvent(new Event("reload-top10")))},[e,s,p,ge]),Be=re.useCallback(async me=>{if(!ne||!le||!s){K(!1);return}const Le=typeof me=="object"&&me?.timeout,Ze=typeof me=="object"&&Number.isFinite(me?.secondsLeft)?me.secondsLeft:void 0;typeof Ze=="number"&&ke(wt=>wt&&{...wt,lastSecondsLeft:Ze});let In;ne.type==="tf"?In=typeof me=="object"?!!me.choice:!!me:In=typeof me=="object"?String(me.value??"").toLowerCase():String(me).toLowerCase();const Pn=ne.type==="tf"?!!ne.answer:String(ne.answer).toLowerCase(),tn=!Le&&In===Pn;let Cn=1;tn&&Number.isFinite(Ze)&&(Ze<=5?Cn=.5:Ze<=10&&(Cn=.75));const Xi=tn?Math.max(1,Math.round(le.points*Cn)):-le.points;Ee(Xi);try{await gN(e,s.uid,s.displayName||s.email,{...le,points:Math.abs(Xi)},ne,tn),window.dispatchEvent(new Event("reload-top10")),M(tn),k(tn?"":ne.explain||""),S(!0);try{(tn?dN:hN)(te)}catch{}Te(wt=>{const dn=tn?wt+1:0;if(tn&&(dn===3||dn===7||dn===10||dn>10&&dn%5===0)){const gt=dn>=10?3:dn>=7?2:1;We({open:!0,level:gt});try{fN(te,gt)}catch{}}return dn}),K(!1),ue(null),ke(null),Q(wt=>{const dn=Xi;return wt&&{...wt,totalScore:(wt.totalScore||0)+dn,totalSpins:(wt.totalSpins||0)+1}}),he(wt=>new Set(wt).add(ne.id))}catch(wt){console.error("persistQuizOutcome failed",wt),K(!1),ue(null),ke(null)}},[e,s,ne,le,te]),ft=async()=>{we(2500,"¡Gracias!","por participar en la actividad de Gobierno del Dato");try{await bR(i)}catch(me){console.error(me)}};return re.useEffect(()=>{try{localStorage.setItem("soundOn",te?"1":"0")}catch{}},[te]),x.jsxs("div",{style:{minHeight:"100vh",background:"#0b0b0b",color:"#eaeaea",padding:16,fontFamily:"system-ui, sans-serif"},children:[Me&&x.jsx(gM,{title:ie.title,sub:ie.sub,clickThrough:Pe}),x.jsxs("header",{className:"app-header",children:[x.jsxs("div",{className:"brand-title",children:[x.jsx("span",{className:"app-emoji","aria-hidden":!0,children:"🎡"}),x.jsx("h1",{className:"app-title",children:"Ruleta de Datos"})]}),s?x.jsxs("div",{className:"user-strip",children:[x.jsx("span",{className:"user-label",children:"Conectado como"}),x.jsx("b",{className:"user-email",children:s.email}),t?x.jsx("button",{onClick:()=>Ae(!0),title:"Ajustes","aria-label":"Ajustes",style:{marginLeft:8,padding:6,borderRadius:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--stroke)",color:"var(--text)",cursor:"pointer"},children:x.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"3"}),x.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h0A1.65 1.65 0 0 0 9 4.09V4a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h0a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v0A1.65 1.65 0 0 0 20.91 12H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1Z"})]})}):x.jsxs(x.Fragment,{children:[x.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,marginLeft:12,fontSize:12},children:[x.jsx("input",{type:"checkbox",checked:te,onChange:me=>pe(me.target.checked)})," Sonido"]}),x.jsx("button",{onClick:ft,className:"logout-icon",title:"Salir","aria-label":"Salir",children:x.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]}):x.jsxs("div",{className:"ga-strip",children:[x.jsx("span",{className:"ga-title",children:"ACTIVIDAD GOOGLE ANALYTICS"}),x.jsx("a",{href:"https://campusvirtual.colombia.unir.net/my/",target:"_blank",rel:"noopener noreferrer",className:"ga-badge",children:x.jsx("img",{src:yN,alt:"UNIR"})})]})]}),x.jsxs("main",{style:{maxWidth:1200,margin:"0 auto"},children:[!s&&(t?x.jsxs("div",{style:{display:"grid",gap:12},children:[x.jsx(Ab,{auth:i,db:e,onStartAuth:()=>{we(3e3,"Cargando…","Preparando tu juego")},onReady:()=>{}}),x.jsx("button",{onClick:()=>R(!0),className:"btn",style:{border:"1px solid #3f3f46",background:"#18181b",color:"#fafafa",borderRadius:10,padding:"10px 14px"},children:"Ver Top 10"}),x.jsx(Hm,{open:A,title:"Top 10 jugadores",onClose:()=>R(!1),children:x.jsx(Dd,{db:e})})]}):x.jsxs("div",{className:"auth-shell",children:[x.jsxs("aside",{className:"auth-art",style:{display:"flex",flexDirection:"column",height:"100%"},children:[x.jsx(bN,{}),x.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginTop:24,background:"rgba(30,32,60,0.55)",border:"1px solid var(--stroke)",borderRadius:"16px",boxShadow:"0 4px 24px #0003",padding:"18px 10px",minHeight:0},children:[x.jsx("h2",{style:{color:"#fff",textAlign:"center",fontWeight:800,letterSpacing:.3,margin:"0 0 12px 0",fontSize:22},children:"Top 10 jugadores"}),x.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:x.jsx(Dd,{db:e})})]})]}),x.jsx("main",{className:"auth-main",children:x.jsx(Ab,{auth:i,db:e,onStartAuth:()=>{we(3e3,"Cargando…","Preparando tu juego")},onReady:()=>{}})})]})),s&&c&&(t?x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[x.jsx(_N,{streak:Ne,score:j?.totalScore??0,profileError:p,onOpenTop10:()=>R(!0)}),x.jsx(hb,{onResult:Ge,disabled:ee,onBeforeFirstSpin:async()=>{we(3e3,"¡A jugar!","Que te diviertas 🎉",!0)},soundOn:te}),y&&x.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["Último resultado: ",x.jsx("b",{children:y.label})," · Puntos: ",x.jsx("b",{children:y.points})]})]}),x.jsx(Hm,{open:A,title:"Top 10 jugadores",onClose:()=>R(!1),children:x.jsx(Dd,{db:e,currentUser:s,myStats:j})}),x.jsx(db,{open:ee,onClose:()=>Be({timeout:!0}),question:ne,points:le?.points,category:le?.label,onAnswer:Be})]}):x.jsxs("div",{className:"grid-main",children:[x.jsxs("div",{style:{border:"1px solid #222",borderRadius:12,padding:16},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[x.jsx("b",{children:"Gobierno del dato"}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[x.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Puntaje: ",x.jsx("b",{children:j?.totalScore??0})]}),x.jsxs("span",{style:{fontSize:14,opacity:.9},children:["Racha: ",x.jsx("b",{children:Ne})]})]}),p&&x.jsx("div",{style:{background:"#332b00",border:"1px solid #665500",borderRadius:8,padding:8,marginBottom:8,fontSize:12,marginLeft:8},children:p})]}),x.jsx(hb,{onResult:Ge,disabled:ee,onBeforeFirstSpin:async()=>{we(3e3,"¡A jugar!","Que te diviertas 🎉",!0)},soundOn:te}),y&&x.jsxs("div",{style:{marginTop:12,padding:10,border:"1px dashed #3f3f46",borderRadius:10},children:["Último resultado: ",x.jsx("b",{children:y.label})," · Puntos: ",x.jsx("b",{children:y.points})]})]}),x.jsx(Dd,{db:e,currentUser:s,myStats:j}),x.jsx(db,{open:ee,onClose:()=>Be({timeout:!0}),question:ne,points:le?.points,category:le?.label,onAnswer:Be})]})),x.jsx(mM,{open:O,correct:I,explain:D,onClose:()=>S(!1),durationMs:I?2e3:1e4,dismissable:!I,pointsDelta:T}),x.jsx(wN,{open:vt.open,level:vt.level,streak:Ne,onClose:()=>We({open:!1,level:0})})]}),t&&x.jsx(vN,{open:wn,onClose:()=>Ae(!1),soundOn:te,onToggleSound:()=>pe(me=>!me),onExit:ft})]})}CA.createRoot(document.getElementById("root")).render(x.jsx(re.StrictMode,{children:x.jsx(yM,{})}));
